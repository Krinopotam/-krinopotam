var ne=Object.defineProperty;var ie=(t,e,n)=>e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var h=(t,e,n)=>ie(t,typeof e!="symbol"?e+"":e,n);import{j as v}from"./jsx-runtime-D_zvdyIk.js";import{M as G,a as oe,H as se}from"./headerRender-mRtut42H.js";import{m as ae,b as R,B as re}from"./buttonsRow-DO1r_Bnz.js";import{t as X}from"./getNanoId-CghKzzgc.js";import{r as c}from"./index-iW-139IE.js";import{c as y,z as le,g as ce,m as de,r as ue,u as me}from"./compact-item-Cxv0YLF9.js";import{r as pe}from"./useToken-C9qwXZKU.js";import{K as U}from"./context-u9dygr8g.js";import{R as fe}from"./QuestionCircleOutlined-BUGNUdLn.js";import{A as ge}from"./index-DSj8ZEWj.js";function he(t,e,n){var i=n||{},o=i.noTrailing,r=o===void 0?!1:o,s=i.noLeading,d=s===void 0?!1:s,a=i.debounceMode,u=a===void 0?void 0:a,l,f=!1,p=0;function S(){l&&clearTimeout(l)}function E(b){var $=b||{},g=$.upcomingOnly,I=g===void 0?!1:g;S(),f=!I}function C(){for(var b=arguments.length,$=new Array(b),g=0;g<b;g++)$[g]=arguments[g];var I=this,N=Date.now()-p;if(f)return;function m(){p=Date.now(),e.apply(I,$)}function x(){l=void 0}!d&&u&&!l&&m(),S(),u===void 0&&N>t?d?(p=Date.now(),r||(l=setTimeout(u?x:m,t))):m():r!==!0&&(l=setTimeout(u?x:m,u===void 0?t-N:t))}return C.cancel=E,C}function ye(t,e,n){var i={},o=i.atBegin,r=o===void 0?!1:o;return he(t,e,{debounceMode:r!==!1})}const z=100,W=z/5,V=z/2-W/2,L=V*2*Math.PI,A=50,H=t=>{const{dotClassName:e,style:n,hasCircleCls:i}=t;return c.createElement("circle",{className:y(`${e}-circle`,{[`${e}-circle-bg`]:i}),r:V,cx:A,cy:A,strokeWidth:W,style:n})},Se=t=>{let{percent:e,prefixCls:n}=t;const i=`${n}-dot`,o=`${i}-holder`,r=`${o}-hidden`,[s,d]=c.useState(!1);pe(()=>{e!==0&&d(!0)},[e!==0]);const a=Math.max(Math.min(e,100),0);if(!s)return null;const u={strokeDashoffset:`${L/4}`,strokeDasharray:`${L*a/100} ${L*(100-a)/100}`};return c.createElement("span",{className:y(o,`${i}-progress`,a<=0&&r)},c.createElement("svg",{viewBox:`0 0 ${z} ${z}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":a},c.createElement(H,{dotClassName:i,hasCircleCls:!0}),c.createElement(H,{dotClassName:i,style:u})))};function Ce(t){const{prefixCls:e,percent:n=0}=t,i=`${e}-dot`,o=`${i}-holder`,r=`${o}-hidden`;return c.createElement(c.Fragment,null,c.createElement("span",{className:y(o,n>0&&r)},c.createElement("span",{className:y(i,`${e}-dot-spin`)},[1,2,3,4].map(s=>c.createElement("i",{className:`${e}-dot-item`,key:s})))),c.createElement(Se,{prefixCls:e,percent:n}))}function ve(t){const{prefixCls:e,indicator:n,percent:i}=t,o=`${e}-dot`;return n&&c.isValidElement(n)?le(n,{className:y(n.props.className,o),percent:i}):c.createElement(Ce,{prefixCls:e,percent:i})}const be=new U("antSpinMove",{to:{opacity:1}}),$e=new U("antRotate",{to:{transform:"rotate(405deg)"}}),xe=t=>{const{componentCls:e,calc:n}=t;return{[e]:Object.assign(Object.assign({},ue(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:t.colorWhite},[`${e}-text`]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:`transform ${t.motionDurationSlow} ease, opacity ${t.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:be,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:$e,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(i=>`${i} ${t.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},_e=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},Ie=ce("Spin",t=>{const e=de(t,{spinDotDefault:t.colorTextDescription});return[xe(e)]},_e),we=200,K=[[30,.05],[70,.03],[96,.01]];function Ee(t,e){const[n,i]=c.useState(0),o=c.useRef(null),r=e==="auto";return c.useEffect(()=>(r&&t&&(i(0),o.current=setInterval(()=>{i(s=>{const d=100-s;for(let a=0;a<K.length;a+=1){const[u,l]=K[a];if(s<=u)return s+d*l}return s})},we)),()=>{clearInterval(o.current)}),[r,t]),r?n:e}var Ne=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};let F;function ze(t,e){return!!t&&!!e&&!Number.isNaN(Number(e))}const k=t=>{var e;const{prefixCls:n,spinning:i=!0,delay:o=0,className:r,rootClassName:s,size:d="default",tip:a,wrapperClassName:u,style:l,children:f,fullscreen:p=!1,indicator:S,percent:E}=t,C=Ne(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:b,direction:$,className:g,style:I,indicator:N}=me("spin"),m=b("spin",n),[x,B,M]=Ie(m),[_,q]=c.useState(()=>i&&!ze(i,o)),Q=Ee(_,E);c.useEffect(()=>{if(i){const w=ye(o,()=>{q(!0)});return w(),()=>{var D;(D=w==null?void 0:w.cancel)===null||D===void 0||D.call(w)}}q(!1)},[o,i]);const O=c.useMemo(()=>typeof f<"u"&&!p,[f,p]),Y=y(m,g,{[`${m}-sm`]:d==="small",[`${m}-lg`]:d==="large",[`${m}-spinning`]:_,[`${m}-show-text`]:!!a,[`${m}-rtl`]:$==="rtl"},r,!p&&s,B,M),Z=y(`${m}-container`,{[`${m}-blur`]:_}),ee=(e=S??N)!==null&&e!==void 0?e:F,te=Object.assign(Object.assign({},I),l),T=c.createElement("div",Object.assign({},C,{style:te,className:Y,"aria-live":"polite","aria-busy":_}),c.createElement(ve,{prefixCls:m,indicator:ee,percent:Q}),a&&(O||p)?c.createElement("div",{className:`${m}-text`},a):null);return x(O?c.createElement("div",Object.assign({},C,{className:y(`${m}-nested-loading`,u,B,M)}),_&&c.createElement("div",{key:"loading"},T),c.createElement("div",{className:Z,key:"container"},f)):p?c.createElement("div",{className:y(`${m}-fullscreen`,{[`${m}-fullscreen-show`]:_},s,B,M)},T):T)};k.setDefaultIndicator=t=>{F=t};/**
 * @MessageBox_ContentRender
 * @version 0.0.0.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const P=({paddingLeft:t,paddingRight:e,children:n})=>{const i={paddingLeft:t,paddingRight:e};return v.jsx("div",{className:"antd-modal-confirm-body",style:i,children:n})};try{P.displayName="ContentRender",P.__docgenInfo={description:"",displayName:"ContentRender",props:{paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"number"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"number"}}}}}catch{}class Be{constructor(e,n,i,o,r,s){h(this,"_modal");h(this,"_draggableId");h(this,"_modalConfigGenerator");h(this,"_currentConfig");h(this,"_id");h(this,"_prevFocusedElement");this._modal=i,this._currentConfig=o,this._modalConfigGenerator=r,this._id=e,this._draggableId=n,this._prevFocusedElement=s}get id(){return this._id}destroy(){this._modal.destroy()}update(e){const n=ae(this._currentConfig,e)||{},i=this._modalConfigGenerator(n,this._draggableId);this._modal.update(i),this._currentConfig=n}updateButton(e,n){const i={...this._currentConfig},o=i.buttons||{};if(n.active)for(const r in o){const s=o[r];s&&(s.active=!1)}o[e]?o[e]={...o[e],...n}:o[e]=n,i.buttons=o,this.update(i)}removeButton(e){const n={...this._currentConfig},i=n.buttons||{};delete i[e],n.buttons=i,this.update(n)}getCurrentConfig(){return this._currentConfig}getCurrentButtons(){return this._currentConfig.buttons||{}}}const Me={ok:"OK",cancel:"Cancel",attention:"Attention",processing:"Processing",pleaseWait:"Please wait..."},Te={ok:"ОК",cancel:"Отмена",attention:"Внимание",processing:"Обработка",pleaseWait:"Пожалуйста подождите..."},De={ok:"好",cancel:"取消",attention:"注意",processing:"处理中",pleaseWait:"请稍等..."},j={en_US:Me,ru_RU:Te,zh_CN:De};class J{constructor(){h(this,"_themedModalInstance")}static get Instance(){return this._instance||(this._instance=new this)}destroyAll(){G.destroyAll()}alert({okText:e,onOk:n,...i}){const o=this.getTranslator(i.language,i.translation),r={ok:{position:"right",active:!0,title:e??o("ok"),hotKeys:[{key:"escape"},{key:"enter",ctrl:!0}],onClick:()=>{(n==null?void 0:n(a))!==!1&&a.destroy()}}},s={...i},d=R(r,s.buttons);s.onCrossClose||(s.onCrossClose=()=>this.triggerButtonClick("ok",d.ok));const a=this.modalBase({...s,buttons:d});return a}confirm({okText:e,cancelText:n,onOk:i,onCancel:o,...r}){const s=this.getTranslator(r.language,r.translation),d={ok:{position:"right",active:!0,title:e??s("ok"),hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(l))!==!1&&l.destroy()}},cancel:{position:"right",title:n??s("cancel"),hotKeys:[{key:"escape"}],onClick:()=>{(o==null?void 0:o(l))!==!1&&l.destroy()}}},a={icon:v.jsx(fe,{}),...r},u=R(d,a.buttons);a.onCrossClose||(a.onCrossClose=()=>this.triggerButtonClick("cancel",u.cancel)),typeof a.closable>"u"&&(a.closable=!1),typeof a.maskClosable>"u"&&(a.maskClosable=!1);const l=this.modalBase({...a,buttons:u});return l}confirmWaiter({okText:e,cancelText:n,onOk:i,onCancel:o,waitTitle:r,waitContent:s,...d}){const a=this.getTranslator(d.language,d.translation);r=r??a("processing"),typeof r=="string"&&(s=v.jsxs("div",{style:{height:22},children:[v.jsx(k,{},"waitSpinner")," ",s??a("pleaseWait")]}));const u={ok:{position:"right",active:!0,title:e??a("ok"),hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(p))!==!1&&p.update({title:r,content:s,buttons:{ok:{disabled:!0},cancel:{disabled:!0}}})}},cancel:{position:"right",title:n??a("cancel"),hotKeys:[{key:"escape"}],onClick:()=>{(o==null?void 0:o(p))!==!1&&p.destroy()}}},l={...d},f=R(u,l.buttons);l.onCrossClose||(l.onCrossClose=()=>this.triggerButtonClick("cancel",f.cancel)),typeof l.closable>"u"&&(l.closable=!1),typeof l.maskClosable>"u"&&(l.maskClosable=!1);const p=this.modalBase({...l,buttons:f});return p}modalBase(e){const n=this.getTranslator(e.language,e.translation),i=e.title??n("attention"),o=X(),r={...e,formId:o,title:i},s=document.activeElement;r.onAfterClose=()=>{var l;s==null||s.focus(),(l=e.onAfterClose)==null||l.call(e)};const d="draggable-"+X();let a=G;this._themedModalInstance&&Object.keys(this._themedModalInstance).length>0&&(a=this._themedModalInstance);const u=a.info(this.generateModalConfig(r,d));return new Be(o,d,u,r,this.generateModalConfig,document.activeElement)}triggerButtonClick(e,n){!(n!=null&&n.onClick)||n!=null&&n.disabled||n!=null&&n.hidden||n!=null&&n.loading||n.onClick(e,n,this)}generateModalConfig({title:e,icon:n,content:i,onAfterClose:o,buttons:r,centered:s=!0,closable:d=!0,maskClosable:a=!0,colorType:u,onCrossClose:l},f){return{className:"custom-antd-message-box",icon:null,title:v.jsx(se,{draggableId:f,icon:n,title:e,colorType:u,style:{paddingLeft:24,paddingRight:24,paddingTop:3,paddingBottom:3}}),content:v.jsx(P,{paddingLeft:24,paddingRight:24,children:i}),footer:v.jsx(re,{buttons:r,color:u,arrowsSelection:!0,style:{marginTop:"32px",marginLeft:24,marginRight:24,marginBottom:20}}),centered:!!s,closable:d,keyboard:!1,maskClosable:a,onCancel:()=>l,modalRender:C=>oe(C,f),afterClose:()=>o==null?void 0:o()}}updateThemedModal(e){this._themedModalInstance=e}getTranslator(e,n){return i=>({...j[e??"en_US"]??j.en_US,...n})[i]??j.en_US[i]??i}}h(J,"_instance");const Re=J.Instance;/**
 * @useUpdateMessageBoxTheme
 * @description MessageBox uses an Antd Modal static object, which is launched in its own context.
 * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called
 * @version 0.0.0.67
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const We=()=>{const{modal:t}=ge.useApp();Re.updateThemedModal(t)};export{k as S,Re as m,We as u};
