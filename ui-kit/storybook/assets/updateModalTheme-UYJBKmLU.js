var ee=Object.defineProperty;var te=(t,e,n)=>e in t?ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var h=(t,e,n)=>te(t,typeof e!="symbol"?e+"":e,n);import{j as v}from"./jsx-runtime-CLpGMVip.js";import{M as P,a as ne,H as ie}from"./headerRender-DccPdHnJ.js";import{m as oe,b as T,B as se}from"./buttonsRow-DgoUOL1l.js";import{t as O}from"./getNanoId-CghKzzgc.js";import{r as c}from"./index-C9MQhBv9.js";import{c as y,x as ae,g as re,m as le,r as ce,C as de}from"./compact-item-DA-GXfnI.js";import{q as ue}from"./useToken-C7r1PZCj.js";import{K as H}from"./context-55JlqysY.js";import{R as me}from"./QuestionCircleOutlined-cSUxXC2W.js";import{A as fe}from"./index--n2SL9R3.js";function pe(t,e,n){var i=n||{},o=i.noTrailing,r=o===void 0?!1:o,s=i.noLeading,d=s===void 0?!1:s,a=i.debounceMode,u=a===void 0?void 0:a,l,g=!1,p=0;function S(){l&&clearTimeout(l)}function N($){var x=$||{},f=x.upcomingOnly,m=f===void 0?!1:f;S(),g=!m}function b(){for(var $=arguments.length,x=new Array($),f=0;f<$;f++)x[f]=arguments[f];var m=this,_=Date.now()-p;if(g)return;function C(){p=Date.now(),e.apply(m,x)}function I(){l=void 0}!d&&u&&!l&&C(),S(),u===void 0&&_>t?d?(p=Date.now(),r||(l=setTimeout(u?I:C,t))):C():r!==!0&&(l=setTimeout(u?I:C,u===void 0?t-_:t))}return b.cancel=N,b}function ge(t,e,n){var i={},o=i.atBegin,r=o===void 0?!1:o;return pe(t,e,{debounceMode:r!==!1})}const z=100,K=z/5,U=z/2-K/2,D=U*2*Math.PI,G=50,X=t=>{const{dotClassName:e,style:n,hasCircleCls:i}=t;return c.createElement("circle",{className:y(`${e}-circle`,{[`${e}-circle-bg`]:i}),r:U,cx:G,cy:G,strokeWidth:K,style:n})},he=t=>{let{percent:e,prefixCls:n}=t;const i=`${n}-dot`,o=`${i}-holder`,r=`${o}-hidden`,[s,d]=c.useState(!1);ue(()=>{e!==0&&d(!0)},[e!==0]);const a=Math.max(Math.min(e,100),0);if(!s)return null;const u={strokeDashoffset:`${D/4}`,strokeDasharray:`${D*a/100} ${D*(100-a)/100}`};return c.createElement("span",{className:y(o,`${i}-progress`,a<=0&&r)},c.createElement("svg",{viewBox:`0 0 ${z} ${z}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":a},c.createElement(X,{dotClassName:i,hasCircleCls:!0}),c.createElement(X,{dotClassName:i,style:u})))};function ye(t){const{prefixCls:e,percent:n=0}=t,i=`${e}-dot`,o=`${i}-holder`,r=`${o}-hidden`;return c.createElement(c.Fragment,null,c.createElement("span",{className:y(o,n>0&&r)},c.createElement("span",{className:y(i,`${e}-dot-spin`)},[1,2,3,4].map(s=>c.createElement("i",{className:`${e}-dot-item`,key:s})))),c.createElement(he,{prefixCls:e,percent:n}))}function Ce(t){const{prefixCls:e,indicator:n,percent:i}=t,o=`${e}-dot`;return n&&c.isValidElement(n)?ae(n,{className:y(n.props.className,o),percent:i}):c.createElement(ye,{prefixCls:e,percent:i})}const Se=new H("antSpinMove",{to:{opacity:1}}),be=new H("antRotate",{to:{transform:"rotate(405deg)"}}),ve=t=>{const{componentCls:e,calc:n}=t;return{[e]:Object.assign(Object.assign({},ce(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:t.fontSize,paddingTop:n(n(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:t.colorWhite},[`${e}-text`]:{color:t.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(t.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:n(t.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:n(t.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:n(n(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:n(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:t.dotSize,display:"inline-block",transition:`transform ${t.motionDurationSlow} ease, opacity ${t.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:t.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",inset:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),height:n(t.dotSize).sub(n(t.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Se,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:be,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(i=>`${i} ${t.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:t.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal(),height:n(n(t.dotSizeSM).sub(n(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:t.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:n(n(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},$e=t=>{const{controlHeightLG:e,controlHeight:n}=t;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:n}},xe=re("Spin",t=>{const e=le(t,{spinDotDefault:t.colorTextDescription});return[ve(e)]},$e),_e=200,A=[[30,.05],[70,.03],[96,.01]];function Ie(t,e){const[n,i]=c.useState(0),o=c.useRef(null),r=e==="auto";return c.useEffect(()=>(r&&t&&(i(0),o.current=setInterval(()=>{i(s=>{const d=100-s;for(let a=0;a<A.length;a+=1){const[u,l]=A[a];if(s<=u)return s+d*l}return s})},_e)),()=>{clearInterval(o.current)}),[r,t]),r?n:e}var we=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};let W;function Ee(t,e){return!!t&&!!e&&!Number.isNaN(Number(e))}const V=t=>{var e;const{prefixCls:n,spinning:i=!0,delay:o=0,className:r,rootClassName:s,size:d="default",tip:a,wrapperClassName:u,style:l,children:g,fullscreen:p=!1,indicator:S,percent:N}=t,b=we(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:$,direction:x,spin:f}=c.useContext(de),m=$("spin",n),[_,C,I]=xe(m),[w,j]=c.useState(()=>i&&!Ee(i,o)),k=Ie(w,N);c.useEffect(()=>{if(i){const E=ge(o,()=>{j(!0)});return E(),()=>{var M;(M=E==null?void 0:E.cancel)===null||M===void 0||M.call(E)}}j(!1)},[o,i]);const q=c.useMemo(()=>typeof g<"u"&&!p,[g,p]),J=y(m,f==null?void 0:f.className,{[`${m}-sm`]:d==="small",[`${m}-lg`]:d==="large",[`${m}-spinning`]:w,[`${m}-show-text`]:!!a,[`${m}-rtl`]:x==="rtl"},r,!p&&s,C,I),Q=y(`${m}-container`,{[`${m}-blur`]:w}),Y=(e=S??(f==null?void 0:f.indicator))!==null&&e!==void 0?e:W,Z=Object.assign(Object.assign({},f==null?void 0:f.style),l),B=c.createElement("div",Object.assign({},b,{style:Z,className:J,"aria-live":"polite","aria-busy":w}),c.createElement(Ce,{prefixCls:m,indicator:Y,percent:k}),a&&(q||p)?c.createElement("div",{className:`${m}-text`},a):null);return _(q?c.createElement("div",Object.assign({},b,{className:y(`${m}-nested-loading`,u,C,I)}),w&&c.createElement("div",{key:"loading"},B),c.createElement("div",{className:Q,key:"container"},g)):p?c.createElement("div",{className:y(`${m}-fullscreen`,{[`${m}-fullscreen-show`]:w},s,C,I)},B):B)};V.setDefaultIndicator=t=>{W=t};/**
 * @MessageBox_ContentRender
 * @version 0.0.0.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const L=({paddingLeft:t,paddingRight:e,children:n})=>{const i={paddingLeft:t,paddingRight:e};return v.jsx("div",{className:"antd-modal-confirm-body",style:i,children:n})};try{L.displayName="ContentRender",L.__docgenInfo={description:"",displayName:"ContentRender",props:{paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"number"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"number"}}}}}catch{}class Ne{constructor(e,n,i,o,r,s){h(this,"_modal");h(this,"_draggableId");h(this,"_modalConfigGenerator");h(this,"_currentConfig");h(this,"_id");h(this,"_prevFocusedElement");this._modal=i,this._currentConfig=o,this._modalConfigGenerator=r,this._id=e,this._draggableId=n,this._prevFocusedElement=s}get id(){return this._id}destroy(){this._modal.destroy()}update(e){const n=oe(this._currentConfig,e)||{},i=this._modalConfigGenerator(n,this._draggableId);this._modal.update(i),this._currentConfig=n}updateButton(e,n){const i={...this._currentConfig},o=i.buttons||{};if(n.active)for(const r in o){const s=o[r];s&&(s.active=!1)}o[e]?o[e]={...o[e],...n}:o[e]=n,i.buttons=o,this.update(i)}removeButton(e){const n={...this._currentConfig},i=n.buttons||{};delete i[e],n.buttons=i,this.update(n)}getCurrentConfig(){return this._currentConfig}getCurrentButtons(){return this._currentConfig.buttons||{}}}const ze={ok:"OK",cancel:"Cancel",attention:"Attention",processing:"Processing",pleaseWait:"Please wait..."},Be={ok:"ОК",cancel:"Отмена",attention:"Внимание",processing:"Обработка",pleaseWait:"Пожалуйста подождите..."},Me={ok:"好",cancel:"取消",attention:"注意",processing:"处理中",pleaseWait:"请稍等..."},R={en_US:ze,ru_RU:Be,zh_CN:Me};class F{constructor(){h(this,"_themedModalInstance")}static get Instance(){return this._instance||(this._instance=new this)}destroyAll(){P.destroyAll()}alert({okText:e,onOk:n,...i}){const o=this.getTranslator(i.language,i.translation),r={ok:{position:"right",active:!0,title:e??o("ok"),hotKeys:[{key:"escape"},{key:"enter",ctrl:!0}],onClick:()=>{(n==null?void 0:n(a))!==!1&&a.destroy()}}},s={...i},d=T(r,s.buttons);s.onCrossClose||(s.onCrossClose=()=>this.triggerButtonClick("ok",d.ok));const a=this.modalBase({...s,buttons:d});return a}confirm({okText:e,cancelText:n,onOk:i,onCancel:o,...r}){const s=this.getTranslator(r.language,r.translation),d={ok:{position:"right",active:!0,title:e??s("ok"),hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(l))!==!1&&l.destroy()}},cancel:{position:"right",title:n??s("cancel"),hotKeys:[{key:"escape"}],onClick:()=>{(o==null?void 0:o(l))!==!1&&l.destroy()}}},a={icon:v.jsx(me,{}),...r},u=T(d,a.buttons);a.onCrossClose||(a.onCrossClose=()=>this.triggerButtonClick("cancel",u.cancel)),typeof a.closable>"u"&&(a.closable=!1),typeof a.maskClosable>"u"&&(a.maskClosable=!1);const l=this.modalBase({...a,buttons:u});return l}confirmWaiter({okText:e,cancelText:n,onOk:i,onCancel:o,waitTitle:r,waitContent:s,...d}){const a=this.getTranslator(d.language,d.translation);r=r??a("processing"),typeof r=="string"&&(s=v.jsxs("div",{style:{height:22},children:[v.jsx(V,{},"waitSpinner")," ",s??a("pleaseWait")]}));const u={ok:{position:"right",active:!0,title:e??a("ok"),hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(p))!==!1&&p.update({title:r,content:s,buttons:{ok:{disabled:!0},cancel:{disabled:!0}}})}},cancel:{position:"right",title:n??a("cancel"),hotKeys:[{key:"escape"}],onClick:()=>{(o==null?void 0:o(p))!==!1&&p.destroy()}}},l={...d},g=T(u,l.buttons);l.onCrossClose||(l.onCrossClose=()=>this.triggerButtonClick("cancel",g.cancel)),typeof l.closable>"u"&&(l.closable=!1),typeof l.maskClosable>"u"&&(l.maskClosable=!1);const p=this.modalBase({...l,buttons:g});return p}modalBase(e){const n=this.getTranslator(e.language,e.translation),i=e.title??n("attention"),o=O(),r={...e,formId:o,title:i},s=document.activeElement;r.onAfterClose=()=>{var l;s==null||s.focus(),(l=e.onAfterClose)==null||l.call(e)};const d="draggable-"+O();let a=P;this._themedModalInstance&&Object.keys(this._themedModalInstance).length>0&&(a=this._themedModalInstance);const u=a.info(this.generateModalConfig(r,d));return new Ne(o,d,u,r,this.generateModalConfig,document.activeElement)}triggerButtonClick(e,n){!(n!=null&&n.onClick)||n!=null&&n.disabled||n!=null&&n.hidden||n!=null&&n.loading||n.onClick(e,n,this)}generateModalConfig({title:e,icon:n,content:i,onAfterClose:o,buttons:r,centered:s=!0,closable:d=!0,maskClosable:a=!0,colorType:u,onCrossClose:l},g){return{className:"custom-antd-message-box",icon:null,title:v.jsx(ie,{draggableId:g,icon:n,title:e,colorType:u,style:{paddingLeft:24,paddingRight:24,paddingTop:3,paddingBottom:3}}),content:v.jsx(L,{paddingLeft:24,paddingRight:24,children:i}),footer:v.jsx(se,{buttons:r,color:u,arrowsSelection:!0,style:{marginTop:"32px",marginLeft:24,marginRight:24,marginBottom:20}}),centered:!!s,closable:d,keyboard:!1,maskClosable:a,onCancel:()=>l,modalRender:b=>ne(b,g),afterClose:()=>o==null?void 0:o()}}updateThemedModal(e){this._themedModalInstance=e}getTranslator(e,n){return i=>({...R[e??"en_US"]??R.en_US,...n})[i]??R.en_US[i]??i}}h(F,"_instance");const Te=F.Instance;/**
 * @useUpdateMessageBoxTheme
 * @description MessageBox uses an Antd Modal static object, which is launched in its own context.
 * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called
 * @version 0.0.0.67
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const Ke=()=>{const{modal:t}=fe.useApp();Te.updateThemedModal(t)};export{V as S,Te as m,Ke as u};
