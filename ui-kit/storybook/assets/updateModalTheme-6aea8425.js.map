{"version":3,"file":"updateModalTheme-6aea8425.js","sources":["../../node_modules/throttle-debounce/esm/index.js","../../node_modules/antd/es/spin/style/index.js","../../node_modules/antd/es/spin/index.js","../../src/messageBox/renders/contentRender.tsx","../../src/messageBox/messageBoxApi.ts","../../src/messageBox/messageBox.tsx","../../src/messageBox/hooks/updateModalTheme.tsx"],"sourcesContent":["/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param {number} delay -                  A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher)\n *                                            are most useful.\n * @param {Function} callback -               A function to be executed after delay milliseconds. The `this` context and all arguments are passed through,\n *                                            as-is, to `callback` when the throttled-function is executed.\n * @param {object} [options] -              An object to configure options.\n * @param {boolean} [options.noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds\n *                                            while the throttled-function is being called. If noTrailing is false or unspecified, callback will be executed\n *                                            one final time after the last throttled-function call. (After the throttled-function has not been called for\n *                                            `delay` milliseconds, the internal counter is reset).\n * @param {boolean} [options.noLeading] -   Optional, defaults to false. If noLeading is false, the first throttled-function call will execute callback\n *                                            immediately. If noLeading is true, the first the callback execution will be skipped. It should be noted that\n *                                            callback will never executed if both noLeading = true and noTrailing = true.\n * @param {boolean} [options.debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is\n *                                            false (at end), schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function} A new, throttled, function.\n */\nfunction throttle (delay, callback, options) {\n  var _ref = options || {},\n      _ref$noTrailing = _ref.noTrailing,\n      noTrailing = _ref$noTrailing === void 0 ? false : _ref$noTrailing,\n      _ref$noLeading = _ref.noLeading,\n      noLeading = _ref$noLeading === void 0 ? false : _ref$noLeading,\n      _ref$debounceMode = _ref.debounceMode,\n      debounceMode = _ref$debounceMode === void 0 ? undefined : _ref$debounceMode;\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n\n\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel(options) {\n    var _ref2 = options || {},\n        _ref2$upcomingOnly = _ref2.upcomingOnly,\n        upcomingOnly = _ref2$upcomingOnly === void 0 ? false : _ref2$upcomingOnly;\n\n    clearExistingTimeout();\n    cancelled = !upcomingOnly;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, arguments_);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (!noLeading && debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`\n       * and noLeading != true.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      if (noLeading) {\n        /*\n         * In throttle mode with noLeading, if `delay` time has\n         * been exceeded, update `lastExec` and schedule `callback`\n         * to execute after `delay` ms.\n         */\n        lastExec = Date.now();\n\n        if (!noTrailing) {\n          timeoutID = setTimeout(debounceMode ? clear : exec, delay);\n        }\n      } else {\n        /*\n         * In throttle mode without noLeading, if `delay` time has been exceeded, execute\n         * `callback`.\n         */\n        exec();\n      }\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param {number} delay -               A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param {Function} callback -          A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                        to `callback` when the debounced-function is executed.\n * @param {object} [options] -           An object to configure options.\n * @param {boolean} [options.atBegin] -  Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                        after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                        (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n *\n * @returns {Function} A new, debounced function.\n */\n\nfunction debounce (delay, callback, options) {\n  var _ref = options || {},\n      _ref$atBegin = _ref.atBegin,\n      atBegin = _ref$atBegin === void 0 ? false : _ref$atBegin;\n\n  return throttle(delay, callback, {\n    debounceMode: atBegin !== false\n  });\n}\n\nexport { debounce, throttle };\n//# sourceMappingURL=index.js.map\n","import { Keyframes } from '@ant-design/cssinjs';\nimport { resetComponent } from '../../style';\nimport { genComponentStyleHook, mergeToken } from '../../theme/internal';\nconst antSpinMove = new Keyframes('antSpinMove', {\n  to: {\n    opacity: 1\n  }\n});\nconst antRotate = new Keyframes('antRotate', {\n  to: {\n    transform: 'rotate(405deg)'\n  }\n});\nconst dotPadding = token => (token.dotSize - token.fontSize) / 2 + 2;\nconst genSpinStyle = token => ({\n  [`${token.componentCls}`]: Object.assign(Object.assign({}, resetComponent(token)), {\n    position: 'absolute',\n    display: 'none',\n    color: token.colorPrimary,\n    fontSize: 0,\n    textAlign: 'center',\n    verticalAlign: 'middle',\n    opacity: 0,\n    transition: `transform ${token.motionDurationSlow} ${token.motionEaseInOutCirc}`,\n    '&-spinning': {\n      position: 'static',\n      display: 'inline-block',\n      opacity: 1\n    },\n    [`${token.componentCls}-text`]: {\n      fontSize: token.fontSize,\n      paddingTop: dotPadding(token)\n    },\n    '&-fullscreen': {\n      position: 'fixed',\n      width: '100vw',\n      height: '100vh',\n      backgroundColor: token.colorBgMask,\n      zIndex: token.zIndexPopupBase,\n      inset: 0,\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      pointerEvents: 'none',\n      opacity: 0,\n      visibility: 'hidden',\n      transition: `all ${token.motionDurationMid}`,\n      '&-show': {\n        opacity: 1,\n        visibility: 'visible'\n      },\n      [`${token.componentCls}-dot ${token.componentCls}-dot-item`]: {\n        backgroundColor: token.colorWhite\n      },\n      [`${token.componentCls}-text`]: {\n        color: token.colorTextLightSolid\n      }\n    },\n    '&-nested-loading': {\n      position: 'relative',\n      [`> div > ${token.componentCls}`]: {\n        position: 'absolute',\n        top: 0,\n        insetInlineStart: 0,\n        zIndex: 4,\n        display: 'block',\n        width: '100%',\n        height: '100%',\n        maxHeight: token.contentHeight,\n        [`${token.componentCls}-dot`]: {\n          position: 'absolute',\n          top: '50%',\n          insetInlineStart: '50%',\n          margin: -token.dotSize / 2\n        },\n        [`${token.componentCls}-text`]: {\n          position: 'absolute',\n          top: '50%',\n          width: '100%',\n          textShadow: `0 1px 2px ${token.colorBgContainer}` // FIXME: shadow\n        },\n\n        [`&${token.componentCls}-show-text ${token.componentCls}-dot`]: {\n          marginTop: -(token.dotSize / 2) - 10\n        },\n        '&-sm': {\n          [`${token.componentCls}-dot`]: {\n            margin: -token.dotSizeSM / 2\n          },\n          [`${token.componentCls}-text`]: {\n            paddingTop: (token.dotSizeSM - token.fontSize) / 2 + 2\n          },\n          [`&${token.componentCls}-show-text ${token.componentCls}-dot`]: {\n            marginTop: -(token.dotSizeSM / 2) - 10\n          }\n        },\n        '&-lg': {\n          [`${token.componentCls}-dot`]: {\n            margin: -(token.dotSizeLG / 2)\n          },\n          [`${token.componentCls}-text`]: {\n            paddingTop: (token.dotSizeLG - token.fontSize) / 2 + 2\n          },\n          [`&${token.componentCls}-show-text ${token.componentCls}-dot`]: {\n            marginTop: -(token.dotSizeLG / 2) - 10\n          }\n        }\n      },\n      [`${token.componentCls}-container`]: {\n        position: 'relative',\n        transition: `opacity ${token.motionDurationSlow}`,\n        '&::after': {\n          position: 'absolute',\n          top: 0,\n          insetInlineEnd: 0,\n          bottom: 0,\n          insetInlineStart: 0,\n          zIndex: 10,\n          width: '100%',\n          height: '100%',\n          background: token.colorBgContainer,\n          opacity: 0,\n          transition: `all ${token.motionDurationSlow}`,\n          content: '\"\"',\n          pointerEvents: 'none'\n        }\n      },\n      [`${token.componentCls}-blur`]: {\n        clear: 'both',\n        opacity: 0.5,\n        userSelect: 'none',\n        pointerEvents: 'none',\n        [`&::after`]: {\n          opacity: 0.4,\n          pointerEvents: 'auto'\n        }\n      }\n    },\n    // tip\n    // ------------------------------\n    [`&-tip`]: {\n      color: token.spinDotDefault\n    },\n    // dots\n    // ------------------------------\n    [`${token.componentCls}-dot`]: {\n      position: 'relative',\n      display: 'inline-block',\n      fontSize: token.dotSize,\n      width: '1em',\n      height: '1em',\n      '&-item': {\n        position: 'absolute',\n        display: 'block',\n        width: (token.dotSize - token.marginXXS / 2) / 2,\n        height: (token.dotSize - token.marginXXS / 2) / 2,\n        backgroundColor: token.colorPrimary,\n        borderRadius: '100%',\n        transform: 'scale(0.75)',\n        transformOrigin: '50% 50%',\n        opacity: 0.3,\n        animationName: antSpinMove,\n        animationDuration: '1s',\n        animationIterationCount: 'infinite',\n        animationTimingFunction: 'linear',\n        animationDirection: 'alternate',\n        '&:nth-child(1)': {\n          top: 0,\n          insetInlineStart: 0\n        },\n        '&:nth-child(2)': {\n          top: 0,\n          insetInlineEnd: 0,\n          animationDelay: '0.4s'\n        },\n        '&:nth-child(3)': {\n          insetInlineEnd: 0,\n          bottom: 0,\n          animationDelay: '0.8s'\n        },\n        '&:nth-child(4)': {\n          bottom: 0,\n          insetInlineStart: 0,\n          animationDelay: '1.2s'\n        }\n      },\n      '&-spin': {\n        transform: 'rotate(45deg)',\n        animationName: antRotate,\n        animationDuration: '1.2s',\n        animationIterationCount: 'infinite',\n        animationTimingFunction: 'linear'\n      }\n    },\n    // Sizes\n    // ------------------------------\n    // small\n    [`&-sm ${token.componentCls}-dot`]: {\n      fontSize: token.dotSizeSM,\n      i: {\n        width: (token.dotSizeSM - token.marginXXS / 2) / 2,\n        height: (token.dotSizeSM - token.marginXXS / 2) / 2\n      }\n    },\n    // large\n    [`&-lg ${token.componentCls}-dot`]: {\n      fontSize: token.dotSizeLG,\n      i: {\n        width: (token.dotSizeLG - token.marginXXS) / 2,\n        height: (token.dotSizeLG - token.marginXXS) / 2\n      }\n    },\n    [`&${token.componentCls}-show-text ${token.componentCls}-text`]: {\n      display: 'block'\n    }\n  })\n});\n// ============================== Export ==============================\nexport default genComponentStyleHook('Spin', token => {\n  const spinToken = mergeToken(token, {\n    spinDotDefault: token.colorTextDescription\n  });\n  return [genSpinStyle(spinToken)];\n}, token => ({\n  contentHeight: 400,\n  dotSize: token.controlHeightLG / 2,\n  dotSizeSM: token.controlHeightLG * 0.35,\n  dotSizeLG: token.controlHeight\n}));","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport { debounce } from 'throttle-debounce';\nimport { cloneElement, isValidElement } from '../_util/reactNode';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport useStyle from './style/index';\nconst SpinSizes = ['small', 'default', 'large'];\n// Render indicator\nlet defaultIndicator = null;\nfunction renderIndicator(prefixCls, props) {\n  const {\n    indicator\n  } = props;\n  const dotClassName = `${prefixCls}-dot`;\n  // should not be render default indicator when indicator value is null\n  if (indicator === null) {\n    return null;\n  }\n  if (isValidElement(indicator)) {\n    return cloneElement(indicator, {\n      className: classNames(indicator.props.className, dotClassName)\n    });\n  }\n  if (isValidElement(defaultIndicator)) {\n    return cloneElement(defaultIndicator, {\n      className: classNames(defaultIndicator.props.className, dotClassName)\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, `${prefixCls}-dot-spin`)\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: `${prefixCls}-dot-item`,\n    key: 1\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: `${prefixCls}-dot-item`,\n    key: 2\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: `${prefixCls}-dot-item`,\n    key: 3\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: `${prefixCls}-dot-item`,\n    key: 4\n  }));\n}\nfunction shouldDelay(spinning, delay) {\n  return !!spinning && !!delay && !isNaN(Number(delay));\n}\nconst Spin = props => {\n  const {\n      spinPrefixCls: prefixCls,\n      spinning: customSpinning = true,\n      delay = 0,\n      className,\n      rootClassName,\n      size = 'default',\n      tip,\n      wrapperClassName,\n      style,\n      children,\n      hashId,\n      fullscreen\n    } = props,\n    restProps = __rest(props, [\"spinPrefixCls\", \"spinning\", \"delay\", \"className\", \"rootClassName\", \"size\", \"tip\", \"wrapperClassName\", \"style\", \"children\", \"hashId\", \"fullscreen\"]);\n  const [spinning, setSpinning] = React.useState(() => customSpinning && !shouldDelay(customSpinning, delay));\n  React.useEffect(() => {\n    if (customSpinning) {\n      const showSpinning = debounce(delay, () => {\n        setSpinning(true);\n      });\n      showSpinning();\n      return () => {\n        var _a;\n        (_a = showSpinning === null || showSpinning === void 0 ? void 0 : showSpinning.cancel) === null || _a === void 0 ? void 0 : _a.call(showSpinning);\n      };\n    }\n    setSpinning(false);\n  }, [delay, customSpinning]);\n  const isNestedPattern = React.useMemo(() => typeof children !== 'undefined' && !fullscreen, [children, fullscreen]);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Spin');\n    process.env.NODE_ENV !== \"production\" ? warning(!tip || isNestedPattern, 'usage', '`tip` only work in nest pattern.') : void 0;\n  }\n  const {\n    direction,\n    spin\n  } = React.useContext(ConfigContext);\n  const spinClassName = classNames(prefixCls, spin === null || spin === void 0 ? void 0 : spin.className, {\n    [`${prefixCls}-sm`]: size === 'small',\n    [`${prefixCls}-lg`]: size === 'large',\n    [`${prefixCls}-spinning`]: spinning,\n    [`${prefixCls}-show-text`]: !!tip,\n    [`${prefixCls}-fullscreen`]: fullscreen,\n    [`${prefixCls}-fullscreen-show`]: fullscreen && spinning,\n    [`${prefixCls}-rtl`]: direction === 'rtl'\n  }, className, rootClassName, hashId);\n  const containerClassName = classNames(`${prefixCls}-container`, {\n    [`${prefixCls}-blur`]: spinning\n  });\n  // fix https://fb.me/react-unknown-prop\n  const divProps = omit(restProps, ['indicator', 'prefixCls']);\n  const mergedStyle = Object.assign(Object.assign({}, spin === null || spin === void 0 ? void 0 : spin.style), style);\n  const spinElement = /*#__PURE__*/React.createElement(\"div\", Object.assign({}, divProps, {\n    style: mergedStyle,\n    className: spinClassName,\n    \"aria-live\": \"polite\",\n    \"aria-busy\": spinning\n  }), renderIndicator(prefixCls, props), tip && (isNestedPattern || fullscreen) ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-text`\n  }, tip) : null);\n  if (isNestedPattern) {\n    return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, divProps, {\n      className: classNames(`${prefixCls}-nested-loading`, wrapperClassName, hashId)\n    }), spinning && /*#__PURE__*/React.createElement(\"div\", {\n      key: \"loading\"\n    }, spinElement), /*#__PURE__*/React.createElement(\"div\", {\n      className: containerClassName,\n      key: \"container\"\n    }, children));\n  }\n  return spinElement;\n};\nconst SpinFC = props => {\n  const {\n    prefixCls: customizePrefixCls\n  } = props;\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const spinPrefixCls = getPrefixCls('spin', customizePrefixCls);\n  const [wrapSSR, hashId] = useStyle(spinPrefixCls);\n  const spinClassProps = Object.assign(Object.assign({}, props), {\n    spinPrefixCls,\n    hashId\n  });\n  return wrapSSR( /*#__PURE__*/React.createElement(Spin, Object.assign({}, spinClassProps)));\n};\nSpinFC.setDefaultIndicator = indicator => {\n  defaultIndicator = indicator;\n};\nif (process.env.NODE_ENV !== 'production') {\n  SpinFC.displayName = 'Spin';\n}\nexport default SpinFC;","/**\r\n * @MessageBox_ContentRender\r\n * @version 0.0.0.14\r\n * @link omegatester@gmail.com\r\n * @author Maksim Zaytsev\r\n * @license MIT\r\n */\r\n\r\nimport React from 'react';\r\n\r\nexport const ContentRender = ({\r\n    paddingLeft,\r\n    paddingRight,\r\n    children,\r\n}: {\r\n    paddingLeft?: number;\r\n    paddingRight?: number;\r\n    children?: React.ReactNode;\r\n}): React.JSX.Element => {\r\n    const style: React.CSSProperties = {\r\n        paddingLeft: paddingLeft,\r\n        paddingRight: paddingRight,\r\n        //paddingTop: '3px',\r\n        //paddingBottom: '3px',\r\n    };\r\n\r\n    return (\r\n        <div className=\"antd-modal-confirm-body\" style={style}>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n","import dispatcher, {FormsDispatcher} from '../formsDispatcher';\r\n\r\nimport {IFormButton} from '@src/buttonsRow/buttonsRow';\r\nimport {ModalFuncProps} from 'antd';\r\nimport {MergeObjects} from '@krinopotam/js-helpers';\r\nimport {IAnyModalConfig, IModalBaseConfig} from \"@src/messageBox/types/messageBoxTypes\";\r\n\r\nexport class MessageBoxApi {\r\n    private _modal: {destroy: () => void; update: (configUpdate: ModalFuncProps) => void};\r\n\r\n    private readonly _draggableId;\r\n    private readonly _modalConfigGenerator;\r\n    private _currentConfig: IModalBaseConfig;\r\n    private readonly _formsDispatcher: FormsDispatcher | undefined;\r\n    private readonly _id: string;\r\n    private readonly _prevFocusedElement: Element | null;\r\n\r\n    constructor(\r\n        id: string,\r\n        draggableId: string,\r\n        modal: {destroy: () => void; update: (configUpdate: ModalFuncProps) => void},\r\n        config: IModalBaseConfig,\r\n        modalConfigGenerator: (config: IModalBaseConfig, draggableClass: string) => ModalFuncProps,\r\n        prevFocusedElement: Element | null\r\n    ) {\r\n        this._modal = modal;\r\n        this._currentConfig = config;\r\n        this._formsDispatcher = dispatcher;\r\n        this._modalConfigGenerator = modalConfigGenerator;\r\n        this._id = id;\r\n        this._draggableId = draggableId;\r\n        this._prevFocusedElement = prevFocusedElement;\r\n    }\r\n\r\n    public get id() {\r\n        return this._id;\r\n    }\r\n\r\n    public destroy() {\r\n        if (this._formsDispatcher) this._formsDispatcher.removeFromStack(this._id);\r\n        this._modal.destroy();\r\n    }\r\n\r\n    public update(newConfig: Omit<IAnyModalConfig, 'formId'>) {\r\n        const resultConfig = MergeObjects(this._currentConfig, newConfig) || {};\r\n        const generatedConfig = this._modalConfigGenerator(resultConfig, this._draggableId);\r\n        this._modal.update(generatedConfig);\r\n        this._currentConfig = resultConfig;\r\n    }\r\n\r\n    public updateButton(buttonName: string, buttonConfig: IFormButton) {\r\n        const currentConfig = {...this._currentConfig};\r\n        const currentButtons = currentConfig.buttons || {};\r\n\r\n        if (buttonConfig.active) {\r\n            for (const key in currentButtons) {\r\n                const button = currentButtons[key];\r\n                if (!button) continue;\r\n                button.active = false;\r\n            }\r\n        }\r\n\r\n        if (!currentButtons[buttonName]) currentButtons[buttonName] = buttonConfig;\r\n        else currentButtons[buttonName] = {...currentButtons[buttonName], ...buttonConfig};\r\n\r\n        currentConfig.buttons = currentButtons;\r\n        this.update(currentConfig);\r\n    }\r\n\r\n    public removeButton(buttonName: string) {\r\n        const currentConfig = {...this._currentConfig};\r\n        const currentButtons = currentConfig.buttons || {};\r\n        delete currentButtons[buttonName];\r\n        currentConfig.buttons = currentButtons;\r\n        this.update(currentConfig);\r\n    }\r\n\r\n    public getCurrentConfig() {\r\n        return this._currentConfig;\r\n    }\r\n\r\n    public getCurrentButtons() {\r\n        return this._currentConfig.buttons || {};\r\n    }\r\n}\r\n","/**\r\n * @MessageBox\r\n * @description Static message box instance.\r\n * @version 0.0.1.99\r\n * @link omegatester@gmail.com\r\n * @author Maksim Zaytsev\r\n * @license MIT\r\n */\r\n\r\nimport './css/messageBox.css';\r\n\r\nimport {IFormButton, IFormButtons} from '@src/buttonsRow/buttonsRow';\r\nimport {Modal, ModalFuncProps, Spin} from 'antd';\r\n\r\nimport {ButtonsRender, HeaderRender, ModalRender} from '../modal';\r\nimport {ContentRender} from './renders/contentRender';\r\nimport {MessageBoxApi} from './messageBoxApi';\r\nimport React from 'react';\r\nimport dispatcher from '../formsDispatcher';\r\nimport {GetUuid, MergeObjects} from '@krinopotam/js-helpers';\r\nimport {QuestionCircleOutlined} from '@ant-design/icons';\r\nimport {IModalAlertConfig, IModalBaseConfig, IModalConfig, IModalConfirmConfig, IModalConfirmWaiterConfig, ModalType} from \"@src/messageBox/types/messageBoxTypes\";\r\n\r\nclass MessageBox {\r\n    private static _instance: MessageBox; //singleton instance\r\n\r\n    private _themedModalInstance?: ModalType = undefined;\r\n\r\n    /** singleton implementation  */\r\n    public static get Instance() {\r\n        return this._instance || (this._instance = new this()); // Do you need arguments? Make it a regular static method instead.\r\n    }\r\n\r\n    public alert({okText, onOk, ...props}: IModalAlertConfig): MessageBoxApi {\r\n        const defaultButtons: IFormButtons = {\r\n            ok: {\r\n                position: 'right',\r\n                active: true,\r\n                title: okText ?? 'ОК',\r\n                hotKeys: [{key: 'escape'}, {key: 'enter', ctrl: true}],\r\n                onClick: () => {\r\n                    if (onOk?.(messageBox) === false) return;\r\n                    messageBox.destroy();\r\n                },\r\n            },\r\n        };\r\n\r\n        const config: IModalConfirmConfig = {...props};\r\n        const buttons = MergeObjects(defaultButtons, config.buttons);\r\n\r\n        if (!props.onCrossClose) props.onCrossClose = () => this.triggerButtonClick('ok', buttons.ok);\r\n\r\n        const messageBox = this.modalBase({...config, buttons});\r\n        return messageBox;\r\n    }\r\n\r\n    public confirm({okText, cancelText, onOk, onCancel, ...otherProps}: IModalConfirmConfig): MessageBoxApi {\r\n        const defaultButtons: IFormButtons = {\r\n            ok: {\r\n                position: 'right',\r\n                active: true,\r\n                title: okText ?? 'ОК',\r\n                hotKeys: [{key: 'enter', ctrl: true}],\r\n                onClick: () => {\r\n                    if (onOk?.(messageBox) === false) return;\r\n                    messageBox.destroy();\r\n                },\r\n            },\r\n            cancel: {\r\n                position: 'right',\r\n                title: cancelText ?? 'Отмена',\r\n                hotKeys: [{key: 'escape'}],\r\n                onClick: () => {\r\n                    if (onCancel?.(messageBox) === false) return;\r\n                    messageBox.destroy();\r\n                },\r\n            },\r\n        };\r\n\r\n        const props: IModalConfirmConfig = {\r\n            icon: <QuestionCircleOutlined />,\r\n            ...otherProps,\r\n        };\r\n\r\n        // noinspection DuplicatedCode\r\n        const buttons = MergeObjects(defaultButtons, props.buttons);\r\n\r\n        if (!props.onCrossClose) props.onCrossClose = () => this.triggerButtonClick('cancel', buttons.cancel);\r\n\r\n        if (typeof props.closable === 'undefined') props.closable = false;\r\n        if (typeof props.maskClosable === 'undefined') props.maskClosable = false;\r\n\r\n        const messageBox = this.modalBase({...props, buttons});\r\n        return messageBox;\r\n    }\r\n\r\n    public confirmWaiter({okText, cancelText, onOk, onCancel, waitTitle, waitContent, ...otherProps}: IModalConfirmWaiterConfig): MessageBoxApi {\r\n        waitTitle = waitTitle ?? 'Обработка';\r\n        if (typeof waitTitle === 'string') {\r\n            waitContent = (\r\n                <div style={{height: 22}}>\r\n                    <Spin key={'waitSpinner'} /> {waitContent ?? 'Пожалуйста, подождите...'}\r\n                </div>\r\n            );\r\n        }\r\n        const defaultButtons: IFormButtons = {\r\n            ok: {\r\n                position: 'right',\r\n                active: true,\r\n                title: okText ?? 'ОК',\r\n                hotKeys: [{key: 'enter', ctrl: true}],\r\n                onClick: () => {\r\n                    if (onOk?.(messageBox) === false) return;\r\n                    messageBox.update({title: waitTitle, content: waitContent, buttons: {ok: {disabled: true}, cancel: {disabled: true}}});\r\n                },\r\n            },\r\n            cancel: {\r\n                position: 'right',\r\n                title: cancelText ?? 'Отмена',\r\n                hotKeys: [{key: 'escape'}],\r\n                onClick: () => {\r\n                    if (onCancel?.(messageBox) === false) return;\r\n                    messageBox.destroy();\r\n                },\r\n            },\r\n        };\r\n\r\n        const props: IModalConfirmConfig = {...otherProps};\r\n\r\n        // noinspection DuplicatedCode\r\n        const buttons = MergeObjects(defaultButtons, props.buttons);\r\n\r\n        if (!props.onCrossClose) props.onCrossClose = () => this.triggerButtonClick('cancel', buttons.cancel);\r\n\r\n        if (typeof props.closable === 'undefined') props.closable = false;\r\n        if (typeof props.maskClosable === 'undefined') props.maskClosable = false;\r\n\r\n        const messageBox = this.modalBase({...props, buttons});\r\n        return messageBox;\r\n    }\r\n\r\n    private modalBase({...otherProps}: IModalConfig): MessageBoxApi {\r\n        const props: IModalConfig = {...otherProps};\r\n\r\n        const formId = GetUuid();\r\n        const config: IModalBaseConfig = {...props, formId: formId};\r\n\r\n        const prevFocused = document.activeElement;\r\n        config.onAfterClose = () => {\r\n            (prevFocused as HTMLElement)?.focus();\r\n            props.onAfterClose?.();\r\n        };\r\n\r\n        const draggableId = 'draggable-' + GetUuid();\r\n        let modal: ModalType = Modal;\r\n        if (this._themedModalInstance && Object.keys(this._themedModalInstance).length > 0) modal = this._themedModalInstance;\r\n        const modalInst = modal.info(this.generateModalConfig(config, draggableId));\r\n\r\n        const messageBoxApi = new MessageBoxApi(formId, draggableId, modalInst, config, this.generateModalConfig, document.activeElement);\r\n\r\n        dispatcher.pushToStack(messageBoxApi.id);\r\n        return messageBoxApi;\r\n    }\r\n\r\n    private triggerButtonClick(buttonName: string, button: IFormButton | undefined | null) {\r\n        if (button?.onClick && !button.disabled && !button.hidden) button.onClick(buttonName, button);\r\n    }\r\n\r\n    private generateModalConfig({title, icon, content, onAfterClose, buttons, centered = true, closable = true, maskClosable = true, colorType, onCrossClose}: IModalBaseConfig, draggableId:string): ModalFuncProps {\r\n        const paddingBottom = 20;\r\n        const paddingLeft = 24;\r\n        const paddingRight = 24;\r\n        return {\r\n            className: 'custom-antd-message-box',\r\n\r\n            icon: null,\r\n            title: <HeaderRender draggableId={draggableId} icon={icon} title={title ?? 'Внимание'} colorType={colorType} style={{paddingLeft: 24, paddingRight: paddingRight, paddingTop: 3, paddingBottom: 3}} />,\r\n            content: (\r\n                <ContentRender paddingLeft={paddingLeft} paddingRight={paddingRight}>\r\n                    {content}\r\n                </ContentRender>\r\n            ),\r\n\r\n            footer: (\r\n                <ButtonsRender\r\n                    buttons={buttons}\r\n                    colorType={colorType}\r\n                    arrowsSelection={true}\r\n                    containerStyle={{marginTop: '32px', marginLeft: paddingLeft, marginRight: paddingRight, marginBottom: paddingBottom}}\r\n                />\r\n            ),\r\n\r\n            centered: !!centered,\r\n            closable: closable, //Is it possible to close the form with a close cross\r\n            keyboard: false, //close by keyboard\r\n            maskClosable: maskClosable, //the form will close when you click on the mask layout\r\n            onCancel: () => onCrossClose, // fires when you click on the cross to close the form\r\n            modalRender: (node)=>{return ModalRender(node, draggableId)},\r\n            afterClose: () => onAfterClose?.(),\r\n        };\r\n    }\r\n\r\n    public updateThemedModal(modal: ModalType) {\r\n        this._themedModalInstance = modal;\r\n    }\r\n}\r\n\r\nconst messageBox = MessageBox.Instance;\r\nexport default messageBox;\r\n","/**\r\n * @useUpdateMessageBoxTheme\r\n * @description MessageBox uses an Antd Modal static object, which is launched in its own context.\r\n * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called\r\n * @version 0.0.0.67\r\n * @link omegatester@gmail.com\r\n * @author Maksim Zaytsev\r\n * @license MIT\r\n */\r\n\r\nimport {App} from 'antd';\r\nimport messageBox from '../messageBox';\r\n\r\nexport const useUpdateMessageBoxTheme = () => {\r\n    const {modal} = App.useApp();\r\n    messageBox.updateThemedModal(modal);\r\n};\r\n"],"names":["throttle","delay","callback","options","_ref","_ref$noTrailing","noTrailing","_ref$noLeading","noLeading","_ref$debounceMode","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","cancel","_ref2","_ref2$upcomingOnly","upcomingOnly","wrapper","_len","arguments_","_key","self","elapsed","exec","clear","debounce","_ref$atBegin","atBegin","antSpinMove","Keyframes","antRotate","dotPadding","token","genSpinStyle","resetComponent","useStyle","genComponentStyleHook","spinToken","mergeToken","__rest","this","s","t","p","i","defaultIndicator","renderIndicator","prefixCls","props","indicator","dotClassName","isValidElement","cloneElement","classNames","React.createElement","shouldDelay","spinning","Spin","customSpinning","className","rootClassName","size","tip","wrapperClassName","style","children","hashId","fullscreen","restProps","setSpinning","React.useState","React.useEffect","showSpinning","_a","isNestedPattern","React.useMemo","direction","spin","React.useContext","ConfigContext","spinClassName","containerClassName","divProps","omit","mergedStyle","spinElement","SpinFC","customizePrefixCls","getPrefixCls","spinPrefixCls","wrapSSR","spinClassProps","Spin$1","ContentRender","paddingLeft","paddingRight","jsx","MessageBoxApi","id","draggableId","modal","config","modalConfigGenerator","prevFocusedElement","__publicField","dispatcher","newConfig","resultConfig","MergeObjects","generatedConfig","buttonName","buttonConfig","currentConfig","currentButtons","key","button","MessageBox","okText","onOk","defaultButtons","messageBox","buttons","cancelText","onCancel","otherProps","QuestionCircleOutlined","waitTitle","waitContent","formId","GetUuid","prevFocused","Modal","modalInst","messageBoxApi","title","icon","content","onAfterClose","centered","closable","maskClosable","colorType","onCrossClose","HeaderRender","ButtonsRender","node","ModalRender","useUpdateMessageBoxTheme","App"],"mappings":"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","x_google_ignoreList":[0,1,2]}