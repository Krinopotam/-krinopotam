var H=Object.defineProperty;var K=(t,e,n)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var g=(t,e,n)=>(K(t,typeof e!="symbol"?e+"":e,n),n);import{j as b}from"./useToken-268f632d.js";import{d as R,H as A,B as F,a as V,b as q}from"./draggableRender-4af96ed7.js";import{M as w}from"./DownOutlined-7d62f4d3.js";import{G as j}from"./helpersString-59da762c.js";import{Q}from"./QuestionCircleOutlined-3fb4f056.js";import{r as d}from"./index-5819ae2c.js";import{g as U,m as W,r as J,d as P,c as x,o as Y,i as T,h as L}from"./compact-item-e0eb0d02.js";import{K as G}from"./useZIndex-9f7c196b.js";import{A as Z}from"./index-15561246.js";function k(t,e,n){var i=n||{},o=i.noTrailing,s=o===void 0?!1:o,r=i.noLeading,l=r===void 0?!1:r,u=i.debounceMode,a=u===void 0?void 0:u,c,m=!1,f=0;function $(){c&&clearTimeout(c)}function h(y){var v=y||{},p=v.upcomingOnly,_=p===void 0?!1:p;$(),m=!_}function C(){for(var y=arguments.length,v=new Array(y),p=0;p<y;p++)v[p]=arguments[p];var _=this,B=Date.now()-f;if(m)return;function S(){f=Date.now(),e.apply(_,v)}function I(){c=void 0}!l&&a&&!c&&S(),$(),a===void 0&&B>t?l?(f=Date.now(),s||(c=setTimeout(a?I:S,t))):S():s!==!0&&(c=setTimeout(a?I:S,a===void 0?t-B:t))}return C.cancel=h,C}function tt(t,e,n){var i=n||{},o=i.atBegin,s=o===void 0?!1:o;return k(t,e,{debounceMode:s!==!1})}const et=new G("antSpinMove",{to:{opacity:1}}),nt=new G("antRotate",{to:{transform:"rotate(405deg)"}}),it=t=>(t.dotSize-t.fontSize)/2+2,ot=t=>({[`${t.componentCls}`]:Object.assign(Object.assign({},J(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},[`${t.componentCls}-text`]:{fontSize:t.fontSize,paddingTop:it(t)},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",pointerEvents:"none",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[`${t.componentCls}-dot ${t.componentCls}-dot-item`]:{backgroundColor:t.colorWhite},[`${t.componentCls}-text`]:{color:t.colorTextLightSolid}},"&-nested-loading":{position:"relative",[`> div > ${t.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${t.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-t.dotSize/2},[`${t.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSize/2)-10},"&-sm":{[`${t.componentCls}-dot`]:{margin:-t.dotSizeSM/2},[`${t.componentCls}-text`]:{paddingTop:(t.dotSizeSM-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSizeSM/2)-10}},"&-lg":{[`${t.componentCls}-dot`]:{margin:-(t.dotSizeLG/2)},[`${t.componentCls}-text`]:{paddingTop:(t.dotSizeLG-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.dotSizeLG/2)-10}}},[`${t.componentCls}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${t.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(t.dotSize-t.marginXXS/2)/2,height:(t.dotSize-t.marginXXS/2)/2,backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:et,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:nt,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${t.componentCls}-dot`]:{fontSize:t.dotSizeSM,i:{width:(t.dotSizeSM-t.marginXXS/2)/2,height:(t.dotSizeSM-t.marginXXS/2)/2}},[`&-lg ${t.componentCls}-dot`]:{fontSize:t.dotSizeLG,i:{width:(t.dotSizeLG-t.marginXXS)/2,height:(t.dotSizeLG-t.marginXXS)/2}},[`&${t.componentCls}-show-text ${t.componentCls}-text`]:{display:"block"}})}),st=U("Spin",t=>{const e=W(t,{spinDotDefault:t.colorTextDescription});return[ot(e)]},t=>({contentHeight:400,dotSize:t.controlHeightLG/2,dotSizeSM:t.controlHeightLG*.35,dotSizeLG:t.controlHeight}));var at=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};let E=null;function rt(t,e){const{indicator:n}=e,i=`${t}-dot`;return n===null?null:T(n)?L(n,{className:x(n.props.className,i)}):T(E)?L(E,{className:x(E.props.className,i)}):d.createElement("span",{className:x(i,`${t}-dot-spin`)},d.createElement("i",{className:`${t}-dot-item`,key:1}),d.createElement("i",{className:`${t}-dot-item`,key:2}),d.createElement("i",{className:`${t}-dot-item`,key:3}),d.createElement("i",{className:`${t}-dot-item`,key:4}))}function lt(t,e){return!!t&&!!e&&!isNaN(Number(e))}const ct=t=>{const{spinPrefixCls:e,spinning:n=!0,delay:i=0,className:o,rootClassName:s,size:r="default",tip:l,wrapperClassName:u,style:a,children:c,hashId:m,fullscreen:f}=t,$=at(t,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId","fullscreen"]),[h,C]=d.useState(()=>n&&!lt(n,i));d.useEffect(()=>{if(n){const z=tt(i,()=>{C(!0)});return z(),()=>{var M;(M=z==null?void 0:z.cancel)===null||M===void 0||M.call(z)}}C(!1)},[i,n]);const y=d.useMemo(()=>typeof c<"u"&&!f,[c,f]),{direction:v,spin:p}=d.useContext(P),_=x(e,p==null?void 0:p.className,{[`${e}-sm`]:r==="small",[`${e}-lg`]:r==="large",[`${e}-spinning`]:h,[`${e}-show-text`]:!!l,[`${e}-fullscreen`]:f,[`${e}-fullscreen-show`]:f&&h,[`${e}-rtl`]:v==="rtl"},o,s,m),B=x(`${e}-container`,{[`${e}-blur`]:h}),S=Y($,["indicator","prefixCls"]),I=Object.assign(Object.assign({},p==null?void 0:p.style),a),D=d.createElement("div",Object.assign({},S,{style:I,className:_,"aria-live":"polite","aria-busy":h}),rt(e,t),l&&(y||f)?d.createElement("div",{className:`${e}-text`},l):null);return y?d.createElement("div",Object.assign({},S,{className:x(`${e}-nested-loading`,u,m)}),h&&d.createElement("div",{key:"loading"},D),d.createElement("div",{className:B,key:"container"},c)):D},O=t=>{const{prefixCls:e}=t,{getPrefixCls:n}=d.useContext(P),i=n("spin",e),[o,s]=st(i),r=Object.assign(Object.assign({},t),{spinPrefixCls:i,hashId:s});return o(d.createElement(ct,Object.assign({},r)))};O.setDefaultIndicator=t=>{E=t};const dt=O;/**
 * @MessageBox_ContentRender
 * @version 0.0.0.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const N=({paddingLeft:t,paddingRight:e,children:n})=>{const i={paddingLeft:t,paddingRight:e};return b.jsx("div",{className:"antd-modal-confirm-body",style:i,children:n})};try{N.displayName="ContentRender",N.__docgenInfo={description:"",displayName:"ContentRender",props:{paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"number"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"number"}}}}}catch{}class mt{constructor(e,n,i,o,s,r){g(this,"_modal");g(this,"_draggableId");g(this,"_modalConfigGenerator");g(this,"_currentConfig");g(this,"_formsDispatcher");g(this,"_id");g(this,"_prevFocusedElement");this._modal=i,this._currentConfig=o,this._formsDispatcher=R,this._modalConfigGenerator=s,this._id=e,this._draggableId=n,this._prevFocusedElement=r}get id(){return this._id}destroy(){this._formsDispatcher&&this._formsDispatcher.removeFromStack(this._id),this._modal.destroy()}update(e){const n=w(this._currentConfig,e)||{},i=this._modalConfigGenerator(n,this._draggableId);this._modal.update(i),this._currentConfig=n}updateButton(e,n){const i={...this._currentConfig},o=i.buttons||{};if(n.active)for(const s in o){const r=o[s];r&&(r.active=!1)}o[e]?o[e]={...o[e],...n}:o[e]=n,i.buttons=o,this.update(i)}removeButton(e){const n={...this._currentConfig},i=n.buttons||{};delete i[e],n.buttons=i,this.update(n)}getCurrentConfig(){return this._currentConfig}getCurrentButtons(){return this._currentConfig.buttons||{}}}class X{constructor(){g(this,"_themedModalInstance")}static get Instance(){return this._instance||(this._instance=new this)}alert({okText:e,onOk:n,...i}){const o={ok:{position:"right",active:!0,title:e??"ОК",hotKeys:[{key:"escape"},{key:"enter",ctrl:!0}],onClick:()=>{(n==null?void 0:n(l))!==!1&&l.destroy()}}},s={...i},r=w(o,s.buttons);i.onCrossClose||(i.onCrossClose=()=>this.triggerButtonClick("ok",r.ok));const l=this.modalBase({...s,buttons:r});return l}confirm({okText:e,cancelText:n,onOk:i,onCancel:o,...s}){const r={ok:{position:"right",active:!0,title:e??"ОК",hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(a))!==!1&&a.destroy()}},cancel:{position:"right",title:n??"Отмена",hotKeys:[{key:"escape"}],onClick:()=>{(o==null?void 0:o(a))!==!1&&a.destroy()}}},l={icon:b.jsx(Q,{}),...s},u=w(r,l.buttons);l.onCrossClose||(l.onCrossClose=()=>this.triggerButtonClick("cancel",u.cancel)),typeof l.closable>"u"&&(l.closable=!1),typeof l.maskClosable>"u"&&(l.maskClosable=!1);const a=this.modalBase({...l,buttons:u});return a}confirmWaiter({okText:e,cancelText:n,onOk:i,onCancel:o,waitTitle:s,waitContent:r,...l}){s=s??"Обработка",typeof s=="string"&&(r=b.jsxs("div",{style:{height:22},children:[b.jsx(dt,{},"waitSpinner")," ",r??"Пожалуйста, подождите..."]}));const u={ok:{position:"right",active:!0,title:e??"ОК",hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(m))!==!1&&m.update({title:s,content:r,buttons:{ok:{disabled:!0},cancel:{disabled:!0}}})}},cancel:{position:"right",title:n??"Отмена",hotKeys:[{key:"escape"}],onClick:()=>{(o==null?void 0:o(m))!==!1&&m.destroy()}}},a={...l},c=w(u,a.buttons);a.onCrossClose||(a.onCrossClose=()=>this.triggerButtonClick("cancel",c.cancel)),typeof a.closable>"u"&&(a.closable=!1),typeof a.maskClosable>"u"&&(a.maskClosable=!1);const m=this.modalBase({...a,buttons:c});return m}modalBase({...e}){const n={...e},i=j(),o={...n,formId:i},s=document.activeElement;o.onAfterClose=()=>{var c;s==null||s.focus(),(c=n.onAfterClose)==null||c.call(n)};const r="draggable-"+j();let l=q;this._themedModalInstance&&Object.keys(this._themedModalInstance).length>0&&(l=this._themedModalInstance);const u=l.info(this.generateModalConfig(o,r)),a=new mt(i,r,u,o,this.generateModalConfig,document.activeElement);return R.pushToStack(a.id),a}triggerButtonClick(e,n){n!=null&&n.onClick&&!n.disabled&&!n.hidden&&n.onClick(e,n)}generateModalConfig({title:e,icon:n,content:i,onAfterClose:o,buttons:s,centered:r=!0,closable:l=!0,maskClosable:u=!0,colorType:a,onCrossClose:c},m){return{className:"custom-antd-message-box",icon:null,title:b.jsx(A,{draggableId:m,icon:n,title:e??"Внимание",colorType:a,style:{paddingLeft:24,paddingRight:24,paddingTop:3,paddingBottom:3}}),content:b.jsx(N,{paddingLeft:24,paddingRight:24,children:i}),footer:b.jsx(F,{buttons:s,colorType:a,arrowsSelection:!0,containerStyle:{marginTop:"32px",marginLeft:24,marginRight:24,marginBottom:20}}),centered:!!r,closable:l,keyboard:!1,maskClosable:u,onCancel:()=>c,modalRender:C=>V(C,m),afterClose:()=>o==null?void 0:o()}}updateThemedModal(e){this._themedModalInstance=e}}g(X,"_instance");const pt=X.Instance;/**
 * @useUpdateMessageBoxTheme
 * @description MessageBox uses an Antd Modal static object, which is launched in its own context.
 * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called
 * @version 0.0.0.67
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const $t=()=>{const{modal:t}=Z.useApp();pt.updateThemedModal(t)};export{dt as S,pt as m,$t as u};
//# sourceMappingURL=updateModalTheme-8d29c9ac.js.map
