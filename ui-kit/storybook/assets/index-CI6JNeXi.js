import{r as s,R as q}from"./index-C9MQhBv9.js";import{_ as Te,c as L,o as Se,C as ae,u as Oe,h as pe,D as we,s as ge,g as Me,m as De,w as Ve,v as Ce,I as Ke,x as ve}from"./compact-item-DA-GXfnI.js";import{F as re,u as Ee}from"./context-55JlqysY.js";import{u as Pe,i as Le,a as Ue}from"./index-CNIUd1zL.js";import{o as de,a as Ie,_ as me,c as Xe,p as ye}from"./useToken-C7r1PZCj.js";import{u as qe}from"./index-CEaSTCJ_.js";import{u as He,B as We,t as Ge,r as he,g as Qe,T as Je}from"./index-7UV5TWEd.js";import{C as be}from"./ContextIsolator-QgC1AqAH.js";import{u as Ye,g as xe,a as _e}from"./useVariants-54jhFFnz.js";import{p as Ze}from"./pickAttrs-Br7KB4bY.js";import{R as en}from"./EyeOutlined-ET-AKsvU.js";import{R as nn}from"./SearchOutlined-DFtyfXXT.js";import{B as tn}from"./button-bcPEIH53.js";var sn=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],on=s.forwardRef(function(e,r){var o=e.autoComplete,n=e.onChange,t=e.onFocus,m=e.onBlur,v=e.onPressEnter,g=e.onKeyDown,w=e.onKeyUp,P=e.prefixCls,y=P===void 0?"rc-input":P,C=e.disabled,M=e.htmlSize,D=e.className,S=e.maxLength,I=e.suffix,U=e.showCount,X=e.count,R=e.type,$=R===void 0?"text":R,F=e.classes,k=e.classNames,E=e.styles,N=e.onCompositionStart,i=e.onCompositionEnd,p=Te(e,sn),_=s.useState(!1),A=de(_,2),K=A[0],T=A[1],j=s.useRef(!1),h=s.useRef(!1),b=s.useRef(null),V=s.useRef(null),H=function(f){b.current&&Ge(b.current,f)},Y=qe(e.defaultValue,{value:e.value}),J=de(Y,2),u=J[0],x=J[1],B=u==null?"":String(u),a=s.useState(null),c=de(a,2),d=c[0],W=c[1],l=He(X,U),G=l.max||S,ne=l.strategy(B),le=!!G&&ne>G;s.useImperativeHandle(r,function(){var O;return{focus:H,blur:function(){var z;(z=b.current)===null||z===void 0||z.blur()},setSelectionRange:function(z,oe,ee){var Z;(Z=b.current)===null||Z===void 0||Z.setSelectionRange(z,oe,ee)},select:function(){var z;(z=b.current)===null||z===void 0||z.select()},input:b.current,nativeElement:((O=V.current)===null||O===void 0?void 0:O.nativeElement)||b.current}}),s.useEffect(function(){h.current&&(h.current=!1),T(function(O){return O&&C?!1:O})},[C]);var te=function(f,z,oe){var ee=z;if(!j.current&&l.exceedFormatter&&l.max&&l.strategy(z)>l.max){if(ee=l.exceedFormatter(z,{max:l.max}),z!==ee){var Z,fe;W([((Z=b.current)===null||Z===void 0?void 0:Z.selectionStart)||0,((fe=b.current)===null||fe===void 0?void 0:fe.selectionEnd)||0])}}else if(oe.source==="compositionEnd")return;x(ee),b.current&&he(b.current,f,n,ee)};s.useEffect(function(){if(d){var O;(O=b.current)===null||O===void 0||O.setSelectionRange.apply(O,Ie(d))}},[d]);var Q=function(f){te(f,f.target.value,{source:"change"})},se=function(f){j.current=!1,te(f,f.currentTarget.value,{source:"compositionEnd"}),i==null||i(f)},Re=function(f){v&&f.key==="Enter"&&!h.current&&(h.current=!0,v(f)),g==null||g(f)},$e=function(f){f.key==="Enter"&&(h.current=!1),w==null||w(f)},Ne=function(f){T(!0),t==null||t(f)},ze=function(f){h.current&&(h.current=!1),T(!1),m==null||m(f)},Fe=function(f){x(""),H(),b.current&&he(b.current,f,n)},Ae=le&&"".concat(y,"-out-of-range"),Be=function(){var f=Se(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return q.createElement("input",me({autoComplete:o},f,{onChange:Q,onFocus:Ne,onBlur:ze,onKeyDown:Re,onKeyUp:$e,className:L(y,ye({},"".concat(y,"-disabled"),C),k==null?void 0:k.input),style:E==null?void 0:E.input,ref:b,size:M,type:$,onCompositionStart:function(oe){j.current=!0,N==null||N(oe)},onCompositionEnd:se}))},ke=function(){var f=Number(G)>0;if(I||l.show){var z=l.showFormatter?l.showFormatter({value:B,count:ne,maxLength:G}):"".concat(ne).concat(f?" / ".concat(G):"");return q.createElement(q.Fragment,null,l.show&&q.createElement("span",{className:L("".concat(y,"-show-count-suffix"),ye({},"".concat(y,"-show-count-has-suffix"),!!I),k==null?void 0:k.count),style:Xe({},E==null?void 0:E.count)},z),I)}return null};return q.createElement(We,me({},p,{prefixCls:y,className:L(D,Ae),handleReset:Fe,value:B,focused:K,triggerFocus:H,suffix:ke(),disabled:C,classes:F,classNames:k,styles:E}),Be())});const rn=e=>{const{getPrefixCls:r,direction:o}=s.useContext(ae),{prefixCls:n,className:t}=e,m=r("input-group",n),v=r("input"),[g,w]=Pe(v),P=L(m,{[`${m}-lg`]:e.size==="large",[`${m}-sm`]:e.size==="small",[`${m}-compact`]:e.compact,[`${m}-rtl`]:o==="rtl"},w,t),y=s.useContext(re),C=s.useMemo(()=>Object.assign(Object.assign({},y),{isFormItemInput:!1}),[y]);return g(s.createElement("span",{className:P,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},s.createElement(re.Provider,{value:C},e.children)))};function je(e,r){const o=s.useRef([]),n=()=>{o.current.push(setTimeout(()=>{var t,m,v,g;!((t=e.current)===null||t===void 0)&&t.input&&((m=e.current)===null||m===void 0?void 0:m.input.getAttribute("type"))==="password"&&(!((v=e.current)===null||v===void 0)&&v.input.hasAttribute("value"))&&((g=e.current)===null||g===void 0||g.input.removeAttribute("value"))}))};return s.useEffect(()=>(r&&n(),()=>o.current.forEach(t=>{t&&clearTimeout(t)})),[]),n}function an(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var un=function(e,r){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(o[n[t]]=e[n[t]]);return o};const ce=s.forwardRef((e,r)=>{var o;const{prefixCls:n,bordered:t=!0,status:m,size:v,disabled:g,onBlur:w,onFocus:P,suffix:y,allowClear:C,addonAfter:M,addonBefore:D,className:S,style:I,styles:U,rootClassName:X,onChange:R,classNames:$,variant:F}=e,k=un(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:E,direction:N,input:i}=q.useContext(ae),p=E("input",n),_=s.useRef(null),A=Ee(p),[K,T,j]=Pe(p,A),{compactSize:h,compactItemClassnames:b}=Oe(p,N),V=pe(Q=>{var se;return(se=v??h)!==null&&se!==void 0?se:Q}),H=q.useContext(we),Y=g??H,{status:J,hasFeedback:u,feedbackIcon:x}=s.useContext(re),B=_e(J,m),a=an(e)||!!u;s.useRef(a);const c=je(_,!0),d=Q=>{c(),w==null||w(Q)},W=Q=>{c(),P==null||P(Q)},l=Q=>{c(),R==null||R(Q)},G=(u||y)&&q.createElement(q.Fragment,null,y,u&&x),ne=Qe(C??(i==null?void 0:i.allowClear)),[le,te]=Ye("input",F,t);return K(q.createElement(on,Object.assign({ref:ge(r,_),prefixCls:p,autoComplete:i==null?void 0:i.autoComplete},k,{disabled:Y,onBlur:d,onFocus:W,style:Object.assign(Object.assign({},i==null?void 0:i.style),I),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),U),suffix:G,allowClear:ne,className:L(S,X,j,A,b,i==null?void 0:i.className),onChange:l,addonBefore:D&&q.createElement(be,{form:!0,space:!0},D),addonAfter:M&&q.createElement(be,{form:!0,space:!0},M),classNames:Object.assign(Object.assign(Object.assign({},$),i==null?void 0:i.classNames),{input:L({[`${p}-sm`]:V==="small",[`${p}-lg`]:V==="large",[`${p}-rtl`]:N==="rtl"},$==null?void 0:$.input,(o=i==null?void 0:i.classNames)===null||o===void 0?void 0:o.input,T),variant:L({[`${p}-${le}`]:te},xe(p,B)),affixWrapper:L({[`${p}-affix-wrapper-sm`]:V==="small",[`${p}-affix-wrapper-lg`]:V==="large",[`${p}-affix-wrapper-rtl`]:N==="rtl"},T),wrapper:L({[`${p}-group-rtl`]:N==="rtl"},T),groupWrapper:L({[`${p}-group-wrapper-sm`]:V==="small",[`${p}-group-wrapper-lg`]:V==="large",[`${p}-group-wrapper-rtl`]:N==="rtl",[`${p}-group-wrapper-${le}`]:te},xe(`${p}-group-wrapper`,B,u),T)})})))}),ln=e=>{const{componentCls:r,paddingXS:o}=e;return{[r]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:o,"&-rtl":{direction:"rtl"},[`${r}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${r}-sm ${r}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${r}-lg ${r}-input`]:{paddingInline:e.paddingXS}}}},cn=Me(["Input","OTP"],e=>{const r=De(e,Le(e));return[ln(r)]},Ue);var fn=function(e,r){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(o[n[t]]=e[n[t]]);return o};const dn=s.forwardRef((e,r)=>{const{value:o,onChange:n,onActiveChange:t,index:m,mask:v}=e,g=fn(e,["value","onChange","onActiveChange","index","mask"]),w=o&&typeof v=="string"?v:o,P=S=>{n(m,S.target.value)},y=s.useRef(null);s.useImperativeHandle(r,()=>y.current);const C=()=>{Ve(()=>{var S;const I=(S=y.current)===null||S===void 0?void 0:S.input;document.activeElement===I&&I&&I.select()})},M=S=>{const{key:I,ctrlKey:U,metaKey:X}=S;I==="ArrowLeft"?t(m-1):I==="ArrowRight"?t(m+1):I==="z"&&(U||X)&&S.preventDefault(),C()},D=S=>{S.key==="Backspace"&&!o&&t(m-1),C()};return s.createElement(ce,Object.assign({type:v===!0?"password":"text"},g,{ref:y,value:w,onInput:P,onFocus:C,onKeyDown:M,onKeyUp:D,onMouseDown:C,onMouseUp:C}))});var mn=function(e,r){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(o[n[t]]=e[n[t]]);return o};function ie(e){return(e||"").split("")}const pn=s.forwardRef((e,r)=>{const{prefixCls:o,length:n=6,size:t,defaultValue:m,value:v,onChange:g,formatter:w,variant:P,disabled:y,status:C,autoFocus:M,mask:D,type:S,onInput:I,inputMode:U}=e,X=mn(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:R,direction:$}=s.useContext(ae),F=R("otp",o),k=Ze(X,{aria:!0,data:!0,attr:!0}),E=Ee(F),[N,i,p]=cn(F,E),_=pe(a=>t??a),A=s.useContext(re),K=_e(A.status,C),T=s.useMemo(()=>Object.assign(Object.assign({},A),{status:K,hasFeedback:!1,feedbackIcon:null}),[A,K]),j=s.useRef(null),h=s.useRef({});s.useImperativeHandle(r,()=>({focus:()=>{var a;(a=h.current[0])===null||a===void 0||a.focus()},blur:()=>{var a;for(let c=0;c<n;c+=1)(a=h.current[c])===null||a===void 0||a.blur()},nativeElement:j.current}));const b=a=>w?w(a):a,[V,H]=s.useState(ie(b(m||"")));s.useEffect(()=>{v!==void 0&&H(ie(v))},[v]);const Y=Ce(a=>{H(a),I&&I(a),g&&a.length===n&&a.every(c=>c)&&a.some((c,d)=>V[d]!==c)&&g(a.join(""))}),J=Ce((a,c)=>{let d=Ie(V);for(let l=0;l<a;l+=1)d[l]||(d[l]="");c.length<=1?d[a]=c:d=d.slice(0,a).concat(ie(c)),d=d.slice(0,n);for(let l=d.length-1;l>=0&&!d[l];l-=1)d.pop();const W=b(d.map(l=>l||" ").join(""));return d=ie(W).map((l,G)=>l===" "&&!d[G]?d[G]:l),d}),u=(a,c)=>{var d;const W=J(a,c),l=Math.min(a+c.length,n-1);l!==a&&W[a]!==void 0&&((d=h.current[l])===null||d===void 0||d.focus()),Y(W)},x=a=>{var c;(c=h.current[a])===null||c===void 0||c.focus()},B={variant:P,disabled:y,status:K,mask:D,type:S,inputMode:U};return N(s.createElement("div",Object.assign({},k,{ref:j,className:L(F,{[`${F}-sm`]:_==="small",[`${F}-lg`]:_==="large",[`${F}-rtl`]:$==="rtl"},p,i)}),s.createElement(re.Provider,{value:T},Array.from({length:n}).map((a,c)=>{const d=`otp-${c}`,W=V[c]||"";return s.createElement(dn,Object.assign({ref:l=>{h.current[c]=l},key:d,index:c,size:_,htmlSize:1,className:`${F}-input`,onChange:u,value:W,onActiveChange:x,autoFocus:c===0&&M},B))}))))});var gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Cn=function(r,o){return s.createElement(Ke,me({},r,{ref:o,icon:gn}))},vn=s.forwardRef(Cn),yn=function(e,r){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(o[n[t]]=e[n[t]]);return o};const hn=e=>e?s.createElement(en,null):s.createElement(vn,null),bn={click:"onClick",hover:"onMouseOver"},xn=s.forwardRef((e,r)=>{const{disabled:o,action:n="click",visibilityToggle:t=!0,iconRender:m=hn}=e,v=s.useContext(we),g=o??v,w=typeof t=="object"&&t.visible!==void 0,[P,y]=s.useState(()=>w?t.visible:!1),C=s.useRef(null);s.useEffect(()=>{w&&y(t.visible)},[w,t]);const M=je(C),D=()=>{var _;if(g)return;P&&M();const A=!P;y(A),typeof t=="object"&&((_=t.onVisibleChange)===null||_===void 0||_.call(t,A))},S=_=>{const A=bn[n]||"",K=m(P),T={[A]:D,className:`${_}-icon`,key:"passwordIcon",onMouseDown:j=>{j.preventDefault()},onMouseUp:j=>{j.preventDefault()}};return s.cloneElement(s.isValidElement(K)?K:s.createElement("span",null,K),T)},{className:I,prefixCls:U,inputPrefixCls:X,size:R}=e,$=yn(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:F}=s.useContext(ae),k=F("input",X),E=F("input-password",U),N=t&&S(E),i=L(E,I,{[`${E}-${R}`]:!!R}),p=Object.assign(Object.assign({},Se($,["suffix","iconRender","visibilityToggle"])),{type:P?"text":"password",className:i,prefixCls:k,suffix:N});return R&&(p.size=R),s.createElement(ce,Object.assign({ref:ge(r,C)},p))});var Sn=function(e,r){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,n=Object.getOwnPropertySymbols(e);t<n.length;t++)r.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(o[n[t]]=e[n[t]]);return o};const On=s.forwardRef((e,r)=>{const{prefixCls:o,inputPrefixCls:n,className:t,size:m,suffix:v,enterButton:g=!1,addonAfter:w,loading:P,disabled:y,onSearch:C,onChange:M,onCompositionStart:D,onCompositionEnd:S}=e,I=Sn(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:U,direction:X}=s.useContext(ae),R=s.useRef(!1),$=U("input-search",o),F=U("input",n),{compactSize:k}=Oe($,X),E=pe(u=>{var x;return(x=m??k)!==null&&x!==void 0?x:u}),N=s.useRef(null),i=u=>{u!=null&&u.target&&u.type==="click"&&C&&C(u.target.value,u,{source:"clear"}),M==null||M(u)},p=u=>{var x;document.activeElement===((x=N.current)===null||x===void 0?void 0:x.input)&&u.preventDefault()},_=u=>{var x,B;C&&C((B=(x=N.current)===null||x===void 0?void 0:x.input)===null||B===void 0?void 0:B.value,u,{source:"input"})},A=u=>{R.current||P||_(u)},K=typeof g=="boolean"?s.createElement(nn,null):null,T=`${$}-button`;let j;const h=g||{},b=h.type&&h.type.__ANT_BUTTON===!0;b||h.type==="button"?j=ve(h,Object.assign({onMouseDown:p,onClick:u=>{var x,B;(B=(x=h==null?void 0:h.props)===null||x===void 0?void 0:x.onClick)===null||B===void 0||B.call(x,u),_(u)},key:"enterButton"},b?{className:T,size:E}:{})):j=s.createElement(tn,{className:T,type:g?"primary":void 0,size:E,disabled:y,key:"enterButton",onMouseDown:p,onClick:_,loading:P,icon:K},g),w&&(j=[j,ve(w,{key:"addonAfter"})]);const V=L($,{[`${$}-rtl`]:X==="rtl",[`${$}-${E}`]:!!E,[`${$}-with-button`]:!!g},t),H=Object.assign(Object.assign({},I),{className:V,prefixCls:F,type:"search"}),Y=u=>{R.current=!0,D==null||D(u)},J=u=>{R.current=!1,S==null||S(u)};return s.createElement(ce,Object.assign({ref:ge(N,r),onPressEnter:A},H,{size:E,onCompositionStart:Y,onCompositionEnd:J,addonAfter:j,suffix:v,onChange:i,disabled:y}))}),ue=ce;ue.Group=rn;ue.Search=On;ue.TextArea=Je;ue.Password=xn;ue.OTP=pn;export{ue as I};
