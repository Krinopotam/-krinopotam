import{r as e,g as t,d as n,bk as o,f as r,c as a,b as i,h as l,J as d,ap as c,aq as s,bF as u,aJ as f,e as p,a2 as v,bG as h,w as g,B as y,i as m,t as b,m as k,l as x,q as E,n as K,bu as N,I as w,W as C,p as S,C as D,ao as M,bH as P,bI as $,K as R,o as O,E as L,aM as T,z as I,j as H}from"./index-CUcNIvkO.js";import{R as B}from"./PlusOutlined-CnuL6mjI.js";import{R as A,w as z,x as j}from"./index-Bw4-tvQH.js";var U=e.forwardRef((function(i,l){var d=i.height,c=i.offsetY,s=i.offsetX,u=i.children,f=i.prefixCls,p=i.onInnerResize,v=i.innerProps,h=i.rtl,g=i.extra,y={},m={display:"flex",flexDirection:"column"};return void 0!==c&&(y={height:d,position:"relative",overflow:"hidden"},m=t(t({},m),{},n(n(n(n(n({transform:"translateY(".concat(c,"px)")},h?"marginRight":"marginLeft",-s),"position","absolute"),"left",0),"right",0),"top",0))),e.createElement("div",{style:y},e.createElement(o,{onResize:function(e){e.offsetHeight&&p&&p()}},e.createElement("div",r({style:m,className:a(n({},"".concat(f,"-holder-inner"),f)),ref:l},v),u,g)))}));function _(t){var n=t.children,o=t.setRef,r=e.useCallback((function(e){o(e)}),[]);return e.cloneElement(n,{ref:r})}function q(t,n,o){var r=e.useState(t),a=i(r,2),l=a[0],d=a[1],c=e.useState(null),s=i(c,2),u=s[0],f=s[1];return e.useEffect((function(){var e=function(e,t,n){var o,r,a=e.length,i=t.length;if(0===a&&0===i)return null;a<i?(o=e,r=t):(o=t,r=e);var l={__EMPTY_ITEM__:!0};function d(e){return void 0!==e?n(e):l}for(var c=null,s=1!==Math.abs(a-i),u=0;u<r.length;u+=1){var f=d(o[u]);if(f!==d(r[u])){c=u,s=s||f!==d(r[u+1]);break}}return null===c?null:{index:c,multiple:s}}(l||[],t||[],n);void 0!==(null==e?void 0:e.index)&&f(t[e.index]),d(t)}),[t]),[u]}U.displayName="Filler";var W="object"===("undefined"==typeof navigator?"undefined":l(navigator))&&/Firefox/i.test(navigator.userAgent);const V=function(t,n,o,r){var a=e.useRef(!1),i=e.useRef(null);var l=e.useRef({top:t,bottom:n,left:o,right:r});return l.current.top=t,l.current.bottom=n,l.current.left=o,l.current.right=r,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e?t<0&&l.current.left||t>0&&l.current.right:t<0&&l.current.top||t>0&&l.current.bottom;return n&&o?(clearTimeout(i.current),a.current=!1):o&&!a.current||(clearTimeout(i.current),a.current=!0,i.current=setTimeout((function(){a.current=!1}),50)),!a.current&&o}};function F(t,n,o,r,a,i,l){var c=e.useRef(0),s=e.useRef(null),u=e.useRef(null),f=e.useRef(!1),p=V(n,o,r,a);var v=e.useRef(null),h=e.useRef(null);return[function(e){if(t){d.cancel(h.current),h.current=d((function(){v.current=null}),2);var n=e.deltaX,o=e.deltaY,r=e.shiftKey,a=n,g=o;("sx"===v.current||!v.current&&r&&o&&!n)&&(a=o,g=0,v.current="sx");var y=Math.abs(a),m=Math.abs(g);null===v.current&&(v.current=i&&y>m?"x":"y"),"y"===v.current?function(e,t){if(d.cancel(s.current),!p(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,c.current+=t,u.current=t,W||n.preventDefault(),s.current=d((function(){var e=f.current?10:1;l(c.current*e,!1),c.current=0})))}}(e,g):function(e,t){l(t,!0),W||e.preventDefault()}(e,a)}},function(e){t&&(f.current=e.detail===u.current)}]}var G=function(){function e(){s(this,e),n(this,"maps",void 0),n(this,"id",0),n(this,"diffKeys",new Set),this.maps=Object.create(null)}return c(e,[{key:"set",value:function(e,t){this.maps[e]=t,this.id+=1,this.diffKeys.add(e)}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),e}();function X(e){var t=parseFloat(e);return isNaN(t)?0:t}var Y=14/15;function J(e){return Math.floor(Math.pow(e,.5))}function Q(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var Z=e.forwardRef((function(o,r){var l=o.prefixCls,c=o.rtl,s=o.scrollOffset,u=o.scrollRange,f=o.onStartMove,p=o.onStopMove,v=o.onScroll,h=o.horizontal,g=o.spinSize,y=o.containerSize,m=o.style,b=o.thumbStyle,k=o.showScrollBar,x=e.useState(!1),E=i(x,2),K=E[0],N=E[1],w=e.useState(null),C=i(w,2),S=C[0],D=C[1],M=e.useState(null),P=i(M,2),$=P[0],R=P[1],O=!c,L=e.useRef(),T=e.useRef(),I=e.useState(k),H=i(I,2),B=H[0],A=H[1],z=e.useRef(),j=function(){!0!==k&&!1!==k&&(clearTimeout(z.current),A(!0),z.current=setTimeout((function(){A(!1)}),3e3))},U=u-y||0,_=y-g||0,q=e.useMemo((function(){return 0===s||0===U?0:s/U*_}),[s,U,_]),W=e.useRef({top:q,dragging:K,pageY:S,startTop:$});W.current={top:q,dragging:K,pageY:S,startTop:$};var V=function(e){N(!0),D(Q(e,h)),R(W.current.top),f(),e.stopPropagation(),e.preventDefault()};e.useEffect((function(){var e=function(e){e.preventDefault()},t=L.current,n=T.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",V,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",V)}}),[]);var F=e.useRef();F.current=U;var G=e.useRef();G.current=_,e.useEffect((function(){if(K){var e,t=function(t){var n=W.current,o=n.dragging,r=n.pageY,a=n.startTop;d.cancel(e);var i=L.current.getBoundingClientRect(),l=y/(h?i.width:i.height);if(o){var c=(Q(t,h)-r)*l,s=a;!O&&h?s-=c:s+=c;var u=F.current,f=G.current,p=f?s/f:0,g=Math.ceil(p*u);g=Math.max(g,0),g=Math.min(g,u),e=d((function(){v(g,h)}))}},n=function(){N(!1),p()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),d.cancel(e)}}}),[K]),e.useEffect((function(){return j(),function(){clearTimeout(z.current)}}),[s]),e.useImperativeHandle(r,(function(){return{delayHidden:j}}));var X="".concat(l,"-scrollbar"),Y={position:"absolute",visibility:B?null:"hidden"},J={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return h?(Y.height=8,Y.left=0,Y.right=0,Y.bottom=0,J.height="100%",J.width=g,O?J.left=q:J.right=q):(Y.width=8,Y.top=0,Y.bottom=0,O?Y.right=0:Y.left=0,J.width="100%",J.height=g,J.top=q),e.createElement("div",{ref:L,className:a(X,n(n(n({},"".concat(X,"-horizontal"),h),"".concat(X,"-vertical"),!h),"".concat(X,"-visible"),B)),style:t(t({},Y),m),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:j},e.createElement("div",{ref:T,className:a("".concat(X,"-thumb"),n({},"".concat(X,"-thumb-moving"),K)),style:t(t({},J),b),onMouseDown:V}))}));function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var te=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],ne=[],oe={overflowY:"auto",overflowAnchor:"none"};function re(c,s){var g=c.prefixCls,y=void 0===g?"rc-virtual-list":g,m=c.className,b=c.height,k=c.itemHeight,x=c.fullHeight,E=void 0===x||x,K=c.style,N=c.data,w=c.children,C=c.itemKey,S=c.virtual,D=c.direction,M=c.scrollWidth,P=c.component,$=void 0===P?"div":P,R=c.onScroll,O=c.onVirtualScroll,L=c.onVisibleChange,T=c.innerProps,I=c.extraRender,H=c.styles,B=c.showScrollBar,A=void 0===B?"optional":B,z=p(c,te),j=e.useCallback((function(e){return"function"==typeof C?C(e):null==e?void 0:e[C]}),[C]),W=function(t){var n=e.useState(0),o=i(n,2),r=o[0],a=o[1],l=e.useRef(new Map),d=e.useRef(new G),c=e.useRef(0);function s(){c.current+=1}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s();var t=function(){var e=!1;l.current.forEach((function(t,n){if(t&&t.offsetParent){var o=u(t),r=o.offsetHeight,a=getComputedStyle(o),i=a.marginTop,l=a.marginBottom,c=r+X(i)+X(l);d.current.get(n)!==c&&(d.current.set(n,c),e=!0)}})),e&&a((function(e){return e+1}))};if(e)t();else{c.current+=1;var n=c.current;Promise.resolve().then((function(){n===c.current&&t()}))}}return e.useEffect((function(){return s}),[]),[function(e,n){var o=t(e);l.current.get(o),n?(l.current.set(o,n),f()):l.current.delete(o)},f,d.current,r]}(j),re=i(W,4),ae=re[0],ie=re[1],le=re[2],de=re[3],ce=!(!1===S||!b||!k),se=e.useMemo((function(){return Object.values(le.maps).reduce((function(e,t){return e+t}),0)}),[le.id,le.maps]),ue=ce&&N&&(Math.max(k*N.length,se)>b||!!M),fe="rtl"===D,pe=a(y,n({},"".concat(y,"-rtl"),fe),m),ve=N||ne,he=e.useRef(),ge=e.useRef(),ye=e.useRef(),me=e.useState(0),be=i(me,2),ke=be[0],xe=be[1],Ee=e.useState(0),Ke=i(Ee,2),Ne=Ke[0],we=Ke[1],Ce=e.useState(!1),Se=i(Ce,2),De=Se[0],Me=Se[1],Pe=function(){Me(!0)},$e=function(){Me(!1)},Re={getKey:j};function Oe(e){xe((function(t){var n=function(e){var t=e;Number.isNaN(Qe.current)||(t=Math.min(t,Qe.current));return t=Math.max(t,0),t}("function"==typeof e?e(t):e);return he.current.scrollTop=n,n}))}var Le=e.useRef({start:0,end:ve.length}),Te=e.useRef(),Ie=q(ve,j),He=i(Ie,1)[0];Te.current=He;var Be=e.useMemo((function(){if(!ce)return{scrollHeight:void 0,start:0,end:ve.length-1,offset:void 0};var e;if(!ue)return{scrollHeight:(null===(e=ge.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:ve.length-1,offset:void 0};for(var t,n,o,r=0,a=ve.length,i=0;i<a;i+=1){var l=ve[i],d=j(l),c=le.get(d),s=r+(void 0===c?k:c);s>=ke&&void 0===t&&(t=i,n=r),s>ke+b&&void 0===o&&(o=i),r=s}return void 0===t&&(t=0,n=0,o=Math.ceil(b/k)),void 0===o&&(o=ve.length-1),{scrollHeight:r,start:t,end:o=Math.min(o+1,ve.length-1),offset:n}}),[ue,ce,ke,ve,de,b]),Ae=Be.scrollHeight,ze=Be.start,je=Be.end,Ue=Be.offset;Le.current.start=ze,Le.current.end=je,e.useLayoutEffect((function(){var e=le.getRecord();if(1===e.size){var t=Array.from(e)[0];if(j(ve[ze])===t){var n=le.get(t)-k;Oe((function(e){return e+n}))}}le.resetRecord()}),[Ae]);var _e=e.useState({width:0,height:b}),qe=i(_e,2),We=qe[0],Ve=qe[1],Fe=e.useRef(),Ge=e.useRef(),Xe=e.useMemo((function(){return ee(We.width,M)}),[We.width,M]),Ye=e.useMemo((function(){return ee(We.height,Ae)}),[We.height,Ae]),Je=Ae-b,Qe=e.useRef(Je);Qe.current=Je;var Ze=ke<=0,et=ke>=Je,tt=Ne<=0,nt=Ne>=M,ot=V(Ze,et,tt,nt),rt=function(){return{x:fe?-Ne:Ne,y:ke}},at=e.useRef(rt()),it=v((function(e){if(O){var n=t(t({},rt()),e);at.current.x===n.x&&at.current.y===n.y||(O(n),at.current=n)}}));function lt(e,t){var n=e;t?(h.flushSync((function(){we(n)})),it()):Oe(n)}var dt=function(e){var t=e,n=M?M-We.width:0;return t=Math.max(t,0),t=Math.min(t,n)},ct=v((function(e,t){t?(h.flushSync((function(){we((function(t){return dt(t+(fe?-e:e))}))})),it()):Oe((function(t){return t+e}))})),st=F(ce,Ze,et,tt,nt,!!M,ct),ut=i(st,2),ft=ut[0],pt=ut[1];!function(t,n,o){var r,a=e.useRef(!1),i=e.useRef(0),l=e.useRef(0),d=e.useRef(null),c=e.useRef(null),s=function(e){if(a.current){var t=Math.ceil(e.touches[0].pageX),n=Math.ceil(e.touches[0].pageY),r=i.current-t,d=l.current-n,s=Math.abs(r)>Math.abs(d);s?i.current=t:l.current=n;var u=o(s,s?r:d,!1,e);u&&e.preventDefault(),clearInterval(c.current),u&&(c.current=setInterval((function(){s?r*=Y:d*=Y;var e=Math.floor(s?r:d);(!o(s,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)}),16))}},u=function(){a.current=!1,r()},p=function(e){r(),1!==e.touches.length||a.current||(a.current=!0,i.current=Math.ceil(e.touches[0].pageX),l.current=Math.ceil(e.touches[0].pageY),d.current=e.target,d.current.addEventListener("touchmove",s,{passive:!1}),d.current.addEventListener("touchend",u,{passive:!0}))};r=function(){d.current&&(d.current.removeEventListener("touchmove",s),d.current.removeEventListener("touchend",u))},f((function(){return t&&n.current.addEventListener("touchstart",p,{passive:!0}),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",p),r(),clearInterval(c.current)}}),[t])}(ce,he,(function(e,t,n,o){var r=o;return!ot(e,t,n)&&((!r||!r._virtualHandled)&&(r&&(r._virtualHandled=!0),ft({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))})),function(t,n,o){e.useEffect((function(){var e=n.current;if(t&&e){var r,a,i=!1,l=function(){d.cancel(r)},c=function e(){l(),r=d((function(){o(a),e()}))},s=function(e){var t=e;t._virtualHandled||(t._virtualHandled=!0,i=!0)},u=function(){i=!1,l()},f=function(t){if(i){var n=Q(t,!1),o=e.getBoundingClientRect(),r=o.top,d=o.bottom;n<=r?(a=-J(r-n),c()):n>=d?(a=J(n-d),c()):l()}};return e.addEventListener("mousedown",s),e.ownerDocument.addEventListener("mouseup",u),e.ownerDocument.addEventListener("mousemove",f),function(){e.removeEventListener("mousedown",s),e.ownerDocument.removeEventListener("mouseup",u),e.ownerDocument.removeEventListener("mousemove",f),l()}}}),[t])}(ue,he,(function(e){Oe((function(t){return t+e}))})),f((function(){function e(e){var t=Ze&&e.detail<0,n=et&&e.detail>0;!ce||t||n||e.preventDefault()}var t=he.current;return t.addEventListener("wheel",ft,{passive:!1}),t.addEventListener("DOMMouseScroll",pt,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",ft),t.removeEventListener("DOMMouseScroll",pt),t.removeEventListener("MozMousePixelScroll",e)}}),[ce,Ze,et]),f((function(){if(M){var e=dt(Ne);we(e),it({x:e})}}),[We.width,M]);var vt=function(){var e,t;null===(e=Fe.current)||void 0===e||e.delayHidden(),null===(t=Ge.current)||void 0===t||t.delayHidden()},ht=function(n,o,r,a,c,s,u,p){var v=e.useRef(),h=e.useState(null),g=i(h,2),y=g[0],m=g[1];return f((function(){if(y&&y.times<10){if(!n.current)return void m((function(e){return t({},e)}));s();var e=y.targetAlign,i=y.originAlign,l=y.index,d=y.offset,f=n.current.clientHeight,p=!1,v=e,h=null;if(f){for(var g=e||i,b=0,k=0,x=0,E=Math.min(o.length-1,l),K=0;K<=E;K+=1){var N=c(o[K]);k=b;var w=r.get(N);b=x=k+(void 0===w?a:w)}for(var C="top"===g?d:f-d,S=E;S>=0;S-=1){var D=c(o[S]),M=r.get(D);if(void 0===M){p=!0;break}if((C-=M)<=0)break}switch(g){case"top":h=k-d;break;case"bottom":h=x-f+d;break;default:var P=n.current.scrollTop;k<P?v="top":x>P+f&&(v="bottom")}null!==h&&u(h),h!==y.lastTop&&(p=!0)}p&&m(t(t({},y),{},{times:y.times+1,targetAlign:v,lastTop:h}))}}),[y,n.current]),function(e){if(null!=e){if(d.cancel(v.current),"number"==typeof e)u(e);else if(e&&"object"===l(e)){var t,n=e.align;t="index"in e?e.index:o.findIndex((function(t){return c(t)===e.key}));var r=e.offset;m({times:0,index:t,offset:void 0===r?0:r,originAlign:n})}}else p()}}(he,ve,le,k,j,(function(){return ie(!0)}),Oe,vt);e.useImperativeHandle(s,(function(){return{nativeElement:ye.current,getScrollInfo:rt,scrollTo:function(e){var t;(t=e)&&"object"===l(t)&&("left"in t||"top"in t)?(void 0!==e.left&&we(dt(e.left)),ht(e.top)):ht(e)}}})),f((function(){if(L){var e=ve.slice(ze,je+1);L(e,ve)}}),[ze,je,ve]);var gt=function(t,n,o,r){var a=e.useMemo((function(){return[new Map,[]]}),[t,o.id,r]),l=i(a,2),d=l[0],c=l[1];return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=d.get(e),l=d.get(a);if(void 0===i||void 0===l)for(var s=t.length,u=c.length;u<s;u+=1){var f,p=t[u],v=n(p);d.set(v,u);var h=null!==(f=o.get(v))&&void 0!==f?f:r;if(c[u]=(c[u-1]||0)+h,v===e&&(i=u),v===a&&(l=u),void 0!==i&&void 0!==l)break}return{top:c[i-1]||0,bottom:c[l]}}}(ve,j,le,k),yt=null==I?void 0:I({start:ze,end:je,virtual:ue,offsetX:Ne,offsetY:Ue,rtl:fe,getSize:gt}),mt=function(t,n,o,r,a,i,l,d){var c=d.getKey;return t.slice(n,o+1).map((function(t,o){var d=l(t,n+o,{style:{width:r},offsetX:a}),s=c(t);return e.createElement(_,{key:s,setRef:function(e){return i(t,e)}},d)}))}(ve,ze,je,M,Ne,ae,w,Re),bt=null;b&&(bt=t(n({},E?"height":"maxHeight",b),oe),ce&&(bt.overflowY="hidden",M&&(bt.overflowX="hidden"),De&&(bt.pointerEvents="none")));var kt={};return fe&&(kt.dir="rtl"),e.createElement("div",r({ref:ye,style:t(t({},K),{},{position:"relative"}),className:pe},kt,z),e.createElement(o,{onResize:function(e){Ve({width:e.offsetWidth,height:e.offsetHeight})}},e.createElement($,{className:"".concat(y,"-holder"),style:bt,ref:he,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==ke&&Oe(t),null==R||R(e),it()},onMouseEnter:vt},e.createElement(U,{prefixCls:y,height:Ae,offsetX:Ne,offsetY:Ue,scrollWidth:M,onInnerResize:ie,ref:ge,innerProps:T,rtl:fe,extra:yt},mt))),ue&&Ae>b&&e.createElement(Z,{ref:Fe,prefixCls:y,scrollOffset:ke,scrollRange:Ae,rtl:fe,onScroll:lt,onStartMove:Pe,onStopMove:$e,spinSize:Ye,containerSize:We.height,style:null==H?void 0:H.verticalScrollBar,thumbStyle:null==H?void 0:H.verticalScrollBarThumb,showScrollBar:A}),ue&&M>We.width&&e.createElement(Z,{ref:Ge,prefixCls:y,scrollOffset:Ne,scrollRange:M,rtl:fe,onScroll:lt,onStartMove:Pe,onStopMove:$e,spinSize:Xe,containerSize:We.width,horizontal:!0,style:null==H?void 0:H.horizontalScrollBar,thumbStyle:null==H?void 0:H.horizontalScrollBarThumb,showScrollBar:A}))}var ae=e.forwardRef(re);function ie(e,t){return e[t]}ae.displayName="List";var le=["children"];function de(e,t){return"".concat(e,"-").concat(t)}function ce(e,t){return null!=e?e:t}function se(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function ue(e){return function e(n){return b(n).map((function(n){if(!function(e){return e&&e.type&&e.type.isTreeNode}(n))return g(!n,"Tree/TreeNode can only accept TreeNode as children."),null;var o=n.key,r=n.props,a=r.children,i=p(r,le),l=t({key:o},i),d=e(a);return d.length&&(l.children=d),l})).filter((function(e){return e}))}(e)}function fe(e,t,n){var o=se(n),r=o._title,a=o.key,i=o.children,l=new Set(!0===t?[]:t),d=[];return function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(c,s){for(var u,f=de(o?o.pos:"0",s),p=ce(c[a],f),v=0;v<r.length;v+=1){var h=r[v];if(void 0!==c[h]){u=c[h];break}}var g=Object.assign(y(c,[].concat(m(r),[a,i])),{title:u,key:p,parent:o,pos:f,children:null,data:c,isStart:[].concat(m(o?o.isStart:[]),[0===s]),isEnd:[].concat(m(o?o.isEnd:[]),[s===n.length-1])});return d.push(g),!0===t||l.has(p)?g.children=e(c[i]||[],g):g.children=[],g}))}(e),d}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,o=t.processEntity,r=t.onProcessFinished,a=t.externalGetKey,i=t.childrenPropName,d=t.fieldNames,c=a||(arguments.length>2?arguments[2]:void 0),s={},u={},f={posEntities:s,keyEntities:u};return n&&(f=n(f)||f),function(e,t,n){var o,r=("object"===l(n)?n:{externalGetKey:n})||{},a=r.childrenPropName,i=r.externalGetKey,d=se(r.fieldNames),c=d.key,s=d.children,u=a||s;i?"string"==typeof i?o=function(e){return e[i]}:"function"==typeof i&&(o=function(e){return i(e)}):o=function(e,t){return ce(e[c],t)},function n(r,a,i,l){var d=r?r[u]:e,c=r?de(i.pos,a):"0",s=r?[].concat(m(l),[r]):[];if(r){var f=o(r,c),p={node:r,index:a,pos:c,key:f,parentPos:i.node?i.pos:null,level:i.level+1,nodes:s};t(p)}d&&d.forEach((function(e,t){n(e,t,{node:r,pos:c,level:i?i.level+1:-1},s)}))}(null)}(e,(function(e){var t=e.node,n=e.index,r=e.pos,a=e.key,i=e.parentPos,l=e.level,d={node:t,nodes:e.nodes,index:n,key:a,pos:r,level:l},c=ce(a,r);s[r]=d,u[c]=d,d.parent=s[i],d.parent&&(d.parent.children=d.parent.children||[],d.parent.children.push(d)),o&&o(d,f)}),{externalGetKey:c,childrenPropName:i,fieldNames:d}),r&&r(f),f}function ve(e,t){var n=t.expandedKeys,o=t.selectedKeys,r=t.loadedKeys,a=t.loadingKeys,i=t.checkedKeys,l=t.halfCheckedKeys,d=t.dragOverNodeKey,c=t.dropPosition,s=ie(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==l.indexOf(e),pos:String(s?s.pos:""),dragOver:d===e&&0===c,dragOverGapTop:d===e&&-1===c,dragOverGapBottom:d===e&&1===c}}function he(e){var n=e.data,o=e.expanded,r=e.selected,a=e.checked,i=e.loaded,l=e.loading,d=e.halfChecked,c=e.dragOver,s=e.dragOverGapTop,u=e.dragOverGapBottom,f=e.pos,p=e.active,v=e.eventKey,h=t(t({},n),{},{expanded:o,selected:r,checked:a,loaded:i,loading:l,halfChecked:d,dragOver:c,dragOverGapTop:s,dragOverGapBottom:u,pos:f,active:p,key:v});return"props"in h||Object.defineProperty(h,"props",{get:function(){return g(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),h}function ge(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function ye(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,r=t.checkable;return!(!n&&!o)||!1===r}function me(e,t,n,o){var r,a=[];r=ye;var i,l=new Set(e.filter((function(e){var t=!!ie(n,e);return t||a.push(e),t}))),d=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],o=t.level,r=d.get(o);r||(r=new Set,d.set(o,r)),r.add(t),c=Math.max(c,o)})),g(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),i=!0===t?function(e,t,n,o){for(var r=new Set(e),a=new Set,i=0;i<=n;i+=1)(t.get(i)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,i=void 0===a?[]:a;r.has(t)&&!o(n)&&i.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var l=new Set,d=n;d>=0;d-=1)(t.get(d)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!l.has(e.parent.key))if(o(e.parent.node))l.add(t.key);else{var i=!0,d=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);i&&!n&&(i=!1),d||!n&&!a.has(t)||(d=!0)})),i&&r.add(t.key),d&&a.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(ge(a,r))}}(l,d,c,r):function(e,t,n,o,r){for(var a=new Set(e),i=new Set(t),l=0;l<=o;l+=1)(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,l=void 0===o?[]:o;a.has(t)||i.has(t)||r(n)||l.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var d=new Set,c=o;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!d.has(e.parent.key))if(r(e.parent.node))d.add(t.key);else{var o=!0,l=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);o&&!n&&(o=!1),l||!n&&!i.has(t)||(l=!0)})),o||a.delete(t.key),l&&i.add(t.key),d.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ge(i,a))}}(l,t.halfCheckedKeys,d,c,r),i}const be=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},E(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},E(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},E(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},N(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${K(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${K(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function ke(e,t){const n=k(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[be(n)]}const xe=x("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[ke(n,e)]}));var Ee={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Ke=function(t,n){return e.createElement(w,r({},t,{ref:n,icon:Ee}))},Ne=e.forwardRef(Ke),we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Ce=function(t,n){return e.createElement(w,r({},t,{ref:n,icon:we}))},Se=e.forwardRef(Ce),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Me=function(t,n){return e.createElement(w,r({},t,{ref:n,icon:De}))},Pe=e.forwardRef(Me),$e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"},Re=function(t,n){return e.createElement(w,r({},t,{ref:n,icon:$e}))},Oe=e.forwardRef(Re),Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Te=function(t,n){return e.createElement(w,r({},t,{ref:n,icon:Le}))},Ie=e.forwardRef(Te),He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Be=function(t,n){return e.createElement(w,r({},t,{ref:n,icon:He}))},Ae=e.forwardRef(Be),ze=e.createContext(null),je=e.createContext({}),Ue=function(t){for(var o=t.prefixCls,r=t.level,i=t.isStart,l=t.isEnd,d="".concat(o,"-indent-unit"),c=[],s=0;s<r;s+=1)c.push(e.createElement("span",{key:s,className:a(d,n(n({},"".concat(d,"-start"),i[s]),"".concat(d,"-end"),l[s]))}));return e.createElement("span",{"aria-hidden":"true",className:"".concat(o,"-indent")},c)};const _e=e.memo(Ue);var qe=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],We="open",Ve="close",Fe=function(e){var o,l,d=e.eventKey,c=e.className,s=e.style,u=e.dragOver,f=e.dragOverGapTop,v=e.dragOverGapBottom,h=e.isLeaf,g=e.isStart,y=e.isEnd,m=e.expanded,b=e.selected,k=e.checked,x=e.halfChecked,E=e.loading,K=e.domRef,N=e.active,w=e.data,D=e.onMouseMove,M=e.selectable,P=p(e,qe),$=C.useContext(ze),R=C.useContext(je),O=C.useRef(null),L=C.useState(!1),T=i(L,2),I=T[0],H=T[1],B=C.useMemo((function(){var t;return!!($.disabled||e.disabled||null!==(t=R.nodeDisabled)&&void 0!==t&&t.call(R,w))}),[$.disabled,e.disabled,R.nodeDisabled,w]),A=C.useMemo((function(){return!(!$.checkable||!1===e.checkable)&&$.checkable}),[$.checkable,e.checkable]),z=function(t){B||A&&!e.disableCheckbox&&$.onNodeCheck(t,he(e),!k)},j=C.useMemo((function(){return"boolean"==typeof M?M:$.selectable}),[M,$.selectable]),U=function(t){$.onNodeClick(t,he(e)),j?function(t){B||$.onNodeSelect(t,he(e))}(t):z(t)},_=function(t){$.onNodeDoubleClick(t,he(e))},q=function(t){$.onNodeMouseEnter(t,he(e))},W=function(t){$.onNodeMouseLeave(t,he(e))},V=function(t){$.onNodeContextMenu(t,he(e))},F=C.useMemo((function(){return!(!$.draggable||$.draggable.nodeDraggable&&!$.draggable.nodeDraggable(w))}),[$.draggable,w]),G=function(t){E||$.onNodeExpand(t,he(e))},X=C.useMemo((function(){var e=(ie($.keyEntities,d)||{}).children;return Boolean((e||[]).length)}),[$.keyEntities,d]),Y=C.useMemo((function(){return!1!==h&&(h||!$.loadData&&!X||$.loadData&&e.loaded&&!X)}),[h,$.loadData,X,e.loaded]);C.useEffect((function(){E||"function"!=typeof $.loadData||!m||Y||e.loaded||$.onNodeLoad(he(e))}),[E,$.loadData,$.onNodeLoad,m,Y,e]);var J=C.useMemo((function(){var e;return null!==(e=$.draggable)&&void 0!==e&&e.icon?C.createElement("span",{className:"".concat($.prefixCls,"-draggable-icon")},$.draggable.icon):null}),[$.draggable]),Q=function(n){var o=e.switcherIcon||$.switcherIcon;return"function"==typeof o?o(t(t({},e),{},{isLeaf:n})):o},Z=C.useMemo((function(){if(!A)return null;var t="boolean"!=typeof A?A:null;return C.createElement("span",{className:a("".concat($.prefixCls,"-checkbox"),n(n(n({},"".concat($.prefixCls,"-checkbox-checked"),k),"".concat($.prefixCls,"-checkbox-indeterminate"),!k&&x),"".concat($.prefixCls,"-checkbox-disabled"),B||e.disableCheckbox)),onClick:z,role:"checkbox","aria-checked":x?"mixed":k,"aria-disabled":B||e.disableCheckbox,"aria-label":"Select ".concat("string"==typeof e.title?e.title:"tree node")},t)}),[A,k,x,B,e.disableCheckbox,e.title]),ee=C.useMemo((function(){return Y?null:m?We:Ve}),[Y,m]),te=C.useMemo((function(){return C.createElement("span",{className:a("".concat($.prefixCls,"-iconEle"),"".concat($.prefixCls,"-icon__").concat(ee||"docu"),n({},"".concat($.prefixCls,"-icon_loading"),E))})}),[$.prefixCls,ee,E]),ne=C.useMemo((function(){var t=Boolean($.draggable);return!e.disabled&&t&&$.dragOverNodeKey===d?$.dropIndicatorRender({dropPosition:$.dropPosition,dropLevelOffset:$.dropLevelOffset,indent:$.indent,prefixCls:$.prefixCls,direction:$.direction}):null}),[$.dropPosition,$.dropLevelOffset,$.indent,$.prefixCls,$.direction,$.draggable,$.dragOverNodeKey,$.dropIndicatorRender]),oe=C.useMemo((function(){var t,o,r=e.title,i=void 0===r?"---":r,l="".concat($.prefixCls,"-node-content-wrapper");if($.showIcon){var d=e.icon||$.icon;t=d?C.createElement("span",{className:a("".concat($.prefixCls,"-iconEle"),"".concat($.prefixCls,"-icon__customize"))},"function"==typeof d?d(e):d):te}else $.loadData&&E&&(t=te);return o="function"==typeof i?i(w):$.titleRender?$.titleRender(w):i,C.createElement("span",{ref:O,title:"string"==typeof i?i:"",className:a(l,"".concat(l,"-").concat(ee||"normal"),n({},"".concat($.prefixCls,"-node-selected"),!B&&(b||I))),onMouseEnter:q,onMouseLeave:W,onContextMenu:V,onClick:U,onDoubleClick:_},t,C.createElement("span",{className:"".concat($.prefixCls,"-title")},o),ne)}),[$.prefixCls,$.showIcon,e,$.icon,te,$.titleRender,w,ee,q,W,V,U,_]),re=S(P,{aria:!0,data:!0}),ae=(ie($.keyEntities,d)||{}).level,le=y[y.length-1],de=!B&&F,ce=$.draggingNodeKey===d,se=void 0!==M?{"aria-selected":!!M}:void 0;return C.createElement("div",r({ref:K,role:"treeitem","aria-expanded":h?void 0:m,className:a(c,"".concat($.prefixCls,"-treenode"),(l={},n(n(n(n(n(n(n(n(n(n(l,"".concat($.prefixCls,"-treenode-disabled"),B),"".concat($.prefixCls,"-treenode-switcher-").concat(m?"open":"close"),!h),"".concat($.prefixCls,"-treenode-checkbox-checked"),k),"".concat($.prefixCls,"-treenode-checkbox-indeterminate"),x),"".concat($.prefixCls,"-treenode-selected"),b),"".concat($.prefixCls,"-treenode-loading"),E),"".concat($.prefixCls,"-treenode-active"),N),"".concat($.prefixCls,"-treenode-leaf-last"),le),"".concat($.prefixCls,"-treenode-draggable"),F),"dragging",ce),n(n(n(n(n(n(n(l,"drop-target",$.dropTargetKey===d),"drop-container",$.dropContainerKey===d),"drag-over",!B&&u),"drag-over-gap-top",!B&&f),"drag-over-gap-bottom",!B&&v),"filter-node",null===(o=$.filterTreeNode)||void 0===o?void 0:o.call($,he(e))),"".concat($.prefixCls,"-treenode-leaf"),Y))),style:s,draggable:de,onDragStart:de?function(t){t.stopPropagation(),H(!0),$.onNodeDragStart(t,e);try{t.dataTransfer.setData("text/plain","")}catch(n){}}:void 0,onDragEnter:F?function(t){t.preventDefault(),t.stopPropagation(),$.onNodeDragEnter(t,e)}:void 0,onDragOver:F?function(t){t.preventDefault(),t.stopPropagation(),$.onNodeDragOver(t,e)}:void 0,onDragLeave:F?function(t){t.stopPropagation(),$.onNodeDragLeave(t,e)}:void 0,onDrop:F?function(t){t.preventDefault(),t.stopPropagation(),H(!1),$.onNodeDrop(t,e)}:void 0,onDragEnd:F?function(t){t.stopPropagation(),H(!1),$.onNodeDragEnd(t,e)}:void 0,onMouseMove:D},se,re),C.createElement(_e,{prefixCls:$.prefixCls,level:ae,isStart:g,isEnd:y}),J,function(){if(Y){var e=Q(!0);return!1!==e?C.createElement("span",{className:a("".concat($.prefixCls,"-switcher"),"".concat($.prefixCls,"-switcher-noop"))},e):null}var t=Q(!1);return!1!==t?C.createElement("span",{onClick:G,className:a("".concat($.prefixCls,"-switcher"),"".concat($.prefixCls,"-switcher_").concat(m?We:Ve))},t):null}(),Z,oe)};function Ge(e,t){if(!e)return[];var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function Xe(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function Ye(e){return e.split("-")}function Je(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var o=t.key,r=t.children;n.push(o),e(r)}))}(ie(t,e).children),n}function Qe(e){if(e.parent){var t=Ye(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Ze(e,t,n,o,r,a,i,l,d,c){var s,u=e.clientX,f=e.clientY,p=e.target.getBoundingClientRect(),v=p.top,h=p.height,g=(("rtl"===c?-1:1)*(((null==r?void 0:r.x)||0)-u)-12)/o,y=d.filter((function(e){var t;return null===(t=l[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length})),m=ie(l,n.eventKey);if(f<v+h/2){var b=i.findIndex((function(e){return e.key===m.key})),k=i[b<=0?0:b-1].key;m=ie(l,k)}var x=m.key,E=m,K=m.key,N=0,w=0;if(!y.includes(x))for(var C=0;C<g&&Qe(m);C+=1)m=m.parent,w+=1;var S,D=t.data,M=m.node,P=!0;return S=Ye(m.pos),0===Number(S[S.length-1])&&0===m.level&&f<v+h/2&&a({dragNode:D,dropNode:M,dropPosition:-1})&&m.key===n.eventKey?N=-1:(E.children||[]).length&&y.includes(K)?a({dragNode:D,dropNode:M,dropPosition:0})?N=0:P=!1:0===w?g>-1.5?a({dragNode:D,dropNode:M,dropPosition:1})?N=1:P=!1:a({dragNode:D,dropNode:M,dropPosition:0})?N=0:a({dragNode:D,dropNode:M,dropPosition:1})?N=1:P=!1:a({dragNode:D,dropNode:M,dropPosition:1})?N=1:P=!1,{dropPosition:N,dropLevelOffset:w,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:K,dropContainerKey:0===N?null:(null===(s=m.parent)||void 0===s?void 0:s.key)||null,dropAllowed:P}}function et(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function tt(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==l(e))return g(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function nt(e,t){var n=new Set;function o(e){if(!n.has(e)){var r=ie(t,e);if(r){n.add(e);var a=r.parent;r.node.disabled||a&&o(a.key)}}}return(e||[]).forEach((function(e){o(e)})),m(n)}Fe.isTreeNode=1;function ot(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var rt=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],at=e.forwardRef((function(t,n){var o=t.className,l=t.style,d=t.motion,c=t.motionNodes,s=t.motionType,u=t.onMotionStart,v=t.onMotionEnd,h=t.active,g=t.treeNodeRequiredProps,y=p(t,rt),m=e.useState(!0),b=i(m,2),k=b[0],x=b[1],E=e.useContext(ze).prefixCls,K=c&&"hide"!==s;f((function(){c&&K!==k&&x(K)}),[c]);var N=e.useRef(!1),w=function(){c&&!N.current&&(N.current=!0,v())};!function(t,n){var o=e.useState(!1),r=i(o,2),a=r[0],l=r[1];f((function(){if(a)return t(),function(){n()}}),[a]),f((function(){return l(!0),function(){l(!1)}}),[])}((function(){c&&u()}),w);return c?e.createElement(D,r({ref:n,visible:k},d,{motionAppear:"show"===s,onVisibleChanged:function(e){K===e&&w()}}),(function(t,n){var o=t.className,i=t.style;return e.createElement("div",{ref:n,className:a("".concat(E,"-treenode-motion"),o),style:i},c.map((function(t){var n=Object.assign({},(ot(t.data),t.data)),o=t.title,a=t.key,i=t.isStart,l=t.isEnd;delete n.children;var d=ve(a,g);return e.createElement(Fe,r({},n,d,{title:o,active:h,data:t.data,key:a,isStart:i,isEnd:l}))})))})):e.createElement(Fe,r({domRef:n,className:o,style:l},y,{active:h}))}));function it(e,t,n){var o=e.findIndex((function(e){return e.key===n})),r=e[o+1],a=t.findIndex((function(e){return e.key===n}));if(r){var i=t.findIndex((function(e){return e.key===r.key}));return t.slice(a+1,i)}return t.slice(a+1)}var lt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],dt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ct=function(){},st="RC_TREE_MOTION_".concat(Math.random()),ut={key:st},ft={key:st,level:0,index:0,pos:"0",node:ut,nodes:[ut]},pt={parent:null,children:[],pos:ft.pos,data:ut,title:null,key:st,isStart:[],isEnd:[]};function vt(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function ht(e){return ce(e.key,e.pos)}var gt=e.forwardRef((function(t,n){var o=t.prefixCls,a=t.data;t.selectable,t.checkable;var l=t.expandedKeys,d=t.selectedKeys,c=t.checkedKeys,s=t.loadedKeys,u=t.loadingKeys,v=t.halfCheckedKeys,h=t.keyEntities,g=t.disabled,y=t.dragging,m=t.dragOverNodeKey,b=t.dropPosition,k=t.motion,x=t.height,E=t.itemHeight,K=t.virtual,N=t.scrollWidth,w=t.focusable,C=t.activeItem,S=t.focused,D=t.tabIndex,M=t.onKeyDown,P=t.onFocus,$=t.onBlur,R=t.onActiveChange,O=t.onListChangeStart,L=t.onListChangeEnd,T=p(t,lt),I=e.useRef(null),H=e.useRef(null);e.useImperativeHandle(n,(function(){return{scrollTo:function(e){I.current.scrollTo(e)},getIndentWidth:function(){return H.current.offsetWidth}}}));var B=e.useState(l),A=i(B,2),z=A[0],j=A[1],U=e.useState(a),_=i(U,2),q=_[0],W=_[1],V=e.useState(a),F=i(V,2),G=F[0],X=F[1],Y=e.useState([]),J=i(Y,2),Q=J[0],Z=J[1],ee=e.useState(null),te=i(ee,2),ne=te[0],oe=te[1],re=e.useRef(a);function ie(){var e=re.current;W(e),X(e),Z([]),oe(null),L()}re.current=a,f((function(){j(l);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(z,l);if(null!==e.key)if(e.add){var t=q.findIndex((function(t){return t.key===e.key})),n=vt(it(q,a,e.key),K,x,E),o=q.slice();o.splice(t+1,0,pt),X(o),Z(n),oe("show")}else{var r=a.findIndex((function(t){return t.key===e.key})),i=vt(it(a,q,e.key),K,x,E),d=a.slice();d.splice(r+1,0,pt),X(d),Z(i),oe("hide")}else q!==a&&(W(a),X(a))}),[l,a]),e.useEffect((function(){y||ie()}),[y]);var le=k?G:a,de={expandedKeys:l,selectedKeys:d,loadedKeys:s,loadingKeys:u,checkedKeys:c,halfCheckedKeys:v,dragOverNodeKey:m,dropPosition:b,keyEntities:h};return e.createElement(e.Fragment,null,S&&C&&e.createElement("span",{style:dt,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(C)),e.createElement("div",null,e.createElement("input",{style:dt,disabled:!1===w||g,tabIndex:!1!==w?D:null,onKeyDown:M,onFocus:P,onBlur:$,value:"",onChange:ct,"aria-label":"for screen reader"})),e.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},e.createElement("div",{className:"".concat(o,"-indent")},e.createElement("div",{ref:H,className:"".concat(o,"-indent-unit")}))),e.createElement(ae,r({},T,{data:le,itemKey:ht,height:x,fullHeight:!1,virtual:K,itemHeight:E,scrollWidth:N,prefixCls:"".concat(o,"-list"),ref:I,role:"tree",onVisibleChange:function(e){e.every((function(e){return ht(e)!==st}))&&ie()}}),(function(t){var n=t.pos,o=Object.assign({},(ot(t.data),t.data)),a=t.title,i=t.key,l=t.isStart,d=t.isEnd,c=ce(i,n);delete o.key,delete o.children;var s=ve(c,de);return e.createElement(at,r({},o,s,{title:a,active:!!C&&i===C.key,pos:n,data:t.data,isStart:l,isEnd:d,motion:k,motionNodes:i===st?Q:null,motionType:ne,onMotionStart:O,onMotionEnd:ie,treeNodeRequiredProps:de,onMouseMove:function(){R(null)}}))})))})),yt=function(o){M(d,o);var i=P(d);function d(){var o;s(this,d);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return o=i.call.apply(i,[this].concat(a)),n($(o),"destroyed",!1),n($(o),"delayedDragEnterLogic",void 0),n($(o),"loadingRetryTimes",{}),n($(o),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:se()}),n($(o),"dragStartMousePosition",null),n($(o),"dragNodeProps",null),n($(o),"currentMouseOverDroppableNodeKey",null),n($(o),"listRef",e.createRef()),n($(o),"onNodeDragStart",(function(e,t){var n=o.state,r=n.expandedKeys,a=n.keyEntities,i=o.props.onDragStart,l=t.eventKey;o.dragNodeProps=t,o.dragStartMousePosition={x:e.clientX,y:e.clientY};var d=Ge(r,l);o.setState({draggingNodeKey:l,dragChildrenKeys:Je(l,a),indent:o.listRef.current.getIndentWidth()}),o.setExpandedKeys(d),window.addEventListener("dragend",o.onWindowDragEnd),null==i||i({event:e,node:he(t)})})),n($(o),"onNodeDragEnter",(function(e,t){var n=o.state,r=n.expandedKeys,a=n.keyEntities,i=n.dragChildrenKeys,l=n.flattenNodes,d=n.indent,c=o.props,s=c.onDragEnter,u=c.onExpand,f=c.allowDrop,p=c.direction,v=t.pos,h=t.eventKey;if(o.currentMouseOverDroppableNodeKey!==h&&(o.currentMouseOverDroppableNodeKey=h),o.dragNodeProps){var g=Ze(e,o.dragNodeProps,t,d,o.dragStartMousePosition,f,l,a,r,p),y=g.dropPosition,b=g.dropLevelOffset,k=g.dropTargetKey,x=g.dropContainerKey,E=g.dropTargetPos,K=g.dropAllowed,N=g.dragOverNodeKey;!i.includes(k)&&K?(o.delayedDragEnterLogic||(o.delayedDragEnterLogic={}),Object.keys(o.delayedDragEnterLogic).forEach((function(e){clearTimeout(o.delayedDragEnterLogic[e])})),o.dragNodeProps.eventKey!==t.eventKey&&(e.persist(),o.delayedDragEnterLogic[v]=window.setTimeout((function(){if(null!==o.state.draggingNodeKey){var n=m(r),i=ie(a,t.eventKey);i&&(i.children||[]).length&&(n=Xe(r,t.eventKey)),o.props.hasOwnProperty("expandedKeys")||o.setExpandedKeys(n),null==u||u(n,{node:he(t),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),o.dragNodeProps.eventKey!==k||0!==b?(o.setState({dragOverNodeKey:N,dropPosition:y,dropLevelOffset:b,dropTargetKey:k,dropContainerKey:x,dropTargetPos:E,dropAllowed:K}),null==s||s({event:e,node:he(t),expandedKeys:r})):o.resetDragState()):o.resetDragState()}else o.resetDragState()})),n($(o),"onNodeDragOver",(function(e,t){var n=o.state,r=n.dragChildrenKeys,a=n.flattenNodes,i=n.keyEntities,l=n.expandedKeys,d=n.indent,c=o.props,s=c.onDragOver,u=c.allowDrop,f=c.direction;if(o.dragNodeProps){var p=Ze(e,o.dragNodeProps,t,d,o.dragStartMousePosition,u,a,i,l,f),v=p.dropPosition,h=p.dropLevelOffset,g=p.dropTargetKey,y=p.dropContainerKey,m=p.dropTargetPos,b=p.dropAllowed,k=p.dragOverNodeKey;!r.includes(g)&&b&&(o.dragNodeProps.eventKey===g&&0===h?null===o.state.dropPosition&&null===o.state.dropLevelOffset&&null===o.state.dropTargetKey&&null===o.state.dropContainerKey&&null===o.state.dropTargetPos&&!1===o.state.dropAllowed&&null===o.state.dragOverNodeKey||o.resetDragState():v===o.state.dropPosition&&h===o.state.dropLevelOffset&&g===o.state.dropTargetKey&&y===o.state.dropContainerKey&&m===o.state.dropTargetPos&&b===o.state.dropAllowed&&k===o.state.dragOverNodeKey||o.setState({dropPosition:v,dropLevelOffset:h,dropTargetKey:g,dropContainerKey:y,dropTargetPos:m,dropAllowed:b,dragOverNodeKey:k}),null==s||s({event:e,node:he(t)}))}})),n($(o),"onNodeDragLeave",(function(e,t){o.currentMouseOverDroppableNodeKey!==t.eventKey||e.currentTarget.contains(e.relatedTarget)||(o.resetDragState(),o.currentMouseOverDroppableNodeKey=null);var n=o.props.onDragLeave;null==n||n({event:e,node:he(t)})})),n($(o),"onWindowDragEnd",(function(e){o.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",o.onWindowDragEnd)})),n($(o),"onNodeDragEnd",(function(e,t){var n=o.props.onDragEnd;o.setState({dragOverNodeKey:null}),o.cleanDragState(),null==n||n({event:e,node:he(t)}),o.dragNodeProps=null,window.removeEventListener("dragend",o.onWindowDragEnd)})),n($(o),"onNodeDrop",(function(e,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o.state,l=i.dragChildrenKeys,d=i.dropPosition,c=i.dropTargetKey,s=i.dropTargetPos;if(i.dropAllowed){var u=o.props.onDrop;if(o.setState({dragOverNodeKey:null}),o.cleanDragState(),null!==c){var f=t(t({},ve(c,o.getTreeNodeRequiredProps())),{},{active:(null===(r=o.getActiveItem())||void 0===r?void 0:r.key)===c,data:ie(o.state.keyEntities,c).node}),p=l.includes(c);g(!p,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var v=Ye(s),h={event:e,node:he(f),dragNode:o.dragNodeProps?he(o.dragNodeProps):null,dragNodesKeys:[o.dragNodeProps.eventKey].concat(l),dropToGap:0!==d,dropPosition:d+Number(v[v.length-1])};a||null==u||u(h),o.dragNodeProps=null}}})),n($(o),"cleanDragState",(function(){null!==o.state.draggingNodeKey&&o.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),o.dragStartMousePosition=null,o.currentMouseOverDroppableNodeKey=null})),n($(o),"triggerExpandActionExpand",(function(e,n){var r=o.state,a=r.expandedKeys,i=r.flattenNodes,l=n.expanded,d=n.key;if(!(n.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey)){var c=i.filter((function(e){return e.key===d}))[0],s=he(t(t({},ve(d,o.getTreeNodeRequiredProps())),{},{data:c.data}));o.setExpandedKeys(l?Ge(a,d):Xe(a,d)),o.onNodeExpand(e,s)}})),n($(o),"onNodeClick",(function(e,t){var n=o.props,r=n.onClick;"click"===n.expandAction&&o.triggerExpandActionExpand(e,t),null==r||r(e,t)})),n($(o),"onNodeDoubleClick",(function(e,t){var n=o.props,r=n.onDoubleClick;"doubleClick"===n.expandAction&&o.triggerExpandActionExpand(e,t),null==r||r(e,t)})),n($(o),"onNodeSelect",(function(e,t){var n=o.state.selectedKeys,r=o.state,a=r.keyEntities,i=r.fieldNames,l=o.props,d=l.onSelect,c=l.multiple,s=t.selected,u=t[i.key],f=!s,p=(n=f?c?Xe(n,u):[u]:Ge(n,u)).map((function(e){var t=ie(a,e);return t?t.node:null})).filter(Boolean);o.setUncontrolledState({selectedKeys:n}),null==d||d(n,{event:"select",selected:f,node:t,selectedNodes:p,nativeEvent:e.nativeEvent})})),n($(o),"onNodeCheck",(function(e,t,n){var r,a=o.state,i=a.keyEntities,l=a.checkedKeys,d=a.halfCheckedKeys,c=o.props,s=c.checkStrictly,u=c.onCheck,f=t.key,p={event:"check",node:t,checked:n,nativeEvent:e.nativeEvent};if(s){var v=n?Xe(l,f):Ge(l,f);r={checked:v,halfChecked:Ge(d,f)},p.checkedNodes=v.map((function(e){return ie(i,e)})).filter(Boolean).map((function(e){return e.node})),o.setUncontrolledState({checkedKeys:v})}else{var h=me([].concat(m(l),[f]),!0,i),g=h.checkedKeys,y=h.halfCheckedKeys;if(!n){var b=new Set(g);b.delete(f);var k=me(Array.from(b),{halfCheckedKeys:y},i);g=k.checkedKeys,y=k.halfCheckedKeys}r=g,p.checkedNodes=[],p.checkedNodesPositions=[],p.halfCheckedKeys=y,g.forEach((function(e){var t=ie(i,e);if(t){var n=t.node,o=t.pos;p.checkedNodes.push(n),p.checkedNodesPositions.push({node:n,pos:o})}})),o.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:y})}null==u||u(r,p)})),n($(o),"onNodeLoad",(function(e){var t,n=e.key,r=ie(o.state.keyEntities,n);if(null==r||null===(t=r.children)||void 0===t||!t.length){var a=new Promise((function(t,r){o.setState((function(a){var i=a.loadedKeys,l=void 0===i?[]:i,d=a.loadingKeys,c=void 0===d?[]:d,s=o.props,u=s.loadData,f=s.onLoad;return!u||l.includes(n)||c.includes(n)?null:(u(e).then((function(){var r=Xe(o.state.loadedKeys,n);null==f||f(r,{event:"load",node:e}),o.setUncontrolledState({loadedKeys:r}),o.setState((function(e){return{loadingKeys:Ge(e.loadingKeys,n)}})),t()})).catch((function(e){if(o.setState((function(e){return{loadingKeys:Ge(e.loadingKeys,n)}})),o.loadingRetryTimes[n]=(o.loadingRetryTimes[n]||0)+1,o.loadingRetryTimes[n]>=10){var a=o.state.loadedKeys;g(!1,"Retry for `loadData` many times but still failed. No more retry."),o.setUncontrolledState({loadedKeys:Xe(a,n)}),t()}r(e)})),{loadingKeys:Xe(c,n)})}))}));return a.catch((function(){})),a}})),n($(o),"onNodeMouseEnter",(function(e,t){var n=o.props.onMouseEnter;null==n||n({event:e,node:t})})),n($(o),"onNodeMouseLeave",(function(e,t){var n=o.props.onMouseLeave;null==n||n({event:e,node:t})})),n($(o),"onNodeContextMenu",(function(e,t){var n=o.props.onRightClick;n&&(e.preventDefault(),n({event:e,node:t}))})),n($(o),"onFocus",(function(){var e=o.props.onFocus;o.setState({focused:!0});for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null==e||e.apply(void 0,n)})),n($(o),"onBlur",(function(){var e=o.props.onBlur;o.setState({focused:!1}),o.onActiveChange(null);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null==e||e.apply(void 0,n)})),n($(o),"getTreeNodeRequiredProps",(function(){var e=o.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}})),n($(o),"setExpandedKeys",(function(e){var t=o.state,n=fe(t.treeData,e,t.fieldNames);o.setUncontrolledState({expandedKeys:e,flattenNodes:n},!0)})),n($(o),"onNodeExpand",(function(e,t){var n=o.state.expandedKeys,r=o.state,a=r.listChanging,i=r.fieldNames,l=o.props,d=l.onExpand,c=l.loadData,s=t.expanded,u=t[i.key];if(!a){var f=n.includes(u),p=!s;if(g(s&&f||!s&&!f,"Expand state not sync with index check"),n=p?Xe(n,u):Ge(n,u),o.setExpandedKeys(n),null==d||d(n,{node:t,expanded:p,nativeEvent:e.nativeEvent}),p&&c){var v=o.onNodeLoad(t);v&&v.then((function(){var e=fe(o.state.treeData,n,i);o.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=Ge(o.state.expandedKeys,u);o.setExpandedKeys(e)}))}}})),n($(o),"onListChangeStart",(function(){o.setUncontrolledState({listChanging:!0})})),n($(o),"onListChangeEnd",(function(){setTimeout((function(){o.setUncontrolledState({listChanging:!1})}))})),n($(o),"onActiveChange",(function(e){var t=o.state.activeKey,n=o.props,r=n.onActiveChange,a=n.itemScrollOffset,i=void 0===a?0:a;t!==e&&(o.setState({activeKey:e}),null!==e&&o.scrollTo({key:e,offset:i}),null==r||r(e))})),n($(o),"getActiveItem",(function(){var e=o.state,t=e.activeKey,n=e.flattenNodes;return null===t?null:n.find((function(e){return e.key===t}))||null})),n($(o),"offsetActiveKey",(function(e){var t=o.state,n=t.flattenNodes,r=t.activeKey,a=n.findIndex((function(e){return e.key===r}));-1===a&&e<0&&(a=n.length);var i=n[a=(a+e+n.length)%n.length];if(i){var l=i.key;o.onActiveChange(l)}else o.onActiveChange(null)})),n($(o),"onKeyDown",(function(e){var n=o.state,r=n.activeKey,a=n.expandedKeys,i=n.checkedKeys,l=n.fieldNames,d=o.props,c=d.onKeyDown,s=d.checkable,u=d.selectable;switch(e.which){case R.UP:o.offsetActiveKey(-1),e.preventDefault();break;case R.DOWN:o.offsetActiveKey(1),e.preventDefault()}var f=o.getActiveItem();if(f&&f.data){var p=o.getTreeNodeRequiredProps(),v=!1===f.data.isLeaf||!!(f.data[l.children]||[]).length,h=he(t(t({},ve(r,p)),{},{data:f.data,active:!0}));switch(e.which){case R.LEFT:v&&a.includes(r)?o.onNodeExpand({},h):f.parent&&o.onActiveChange(f.parent.key),e.preventDefault();break;case R.RIGHT:v&&!a.includes(r)?o.onNodeExpand({},h):f.children&&f.children.length&&o.onActiveChange(f.children[0].key),e.preventDefault();break;case R.ENTER:case R.SPACE:!s||h.disabled||!1===h.checkable||h.disableCheckbox?s||!u||h.disabled||!1===h.selectable||o.onNodeSelect({},h):o.onNodeCheck({},h,!i.includes(r))}}null==c||c(e)})),n($(o),"setUncontrolledState",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!o.destroyed){var a=!1,i=!0,l={};Object.keys(e).forEach((function(t){o.props.hasOwnProperty(t)?i=!1:(a=!0,l[t]=e[t])})),!a||n&&!i||o.setState(t(t({},l),r))}})),n($(o),"scrollTo",(function(e){o.listRef.current.scrollTo(e)})),o}return c(d,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,o=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var t,o=this.state,i=o.focused,d=o.flattenNodes,c=o.keyEntities,s=o.draggingNodeKey,u=o.activeKey,f=o.dropLevelOffset,p=o.dropContainerKey,v=o.dropTargetKey,h=o.dropPosition,g=o.dragOverNodeKey,y=o.indent,m=this.props,b=m.prefixCls,k=m.className,x=m.style,E=m.showLine,K=m.focusable,N=m.tabIndex,w=void 0===N?0:N,C=m.selectable,D=m.showIcon,M=m.icon,P=m.switcherIcon,$=m.draggable,R=m.checkable,O=m.checkStrictly,L=m.disabled,T=m.motion,I=m.loadData,H=m.filterTreeNode,B=m.height,A=m.itemHeight,z=m.scrollWidth,j=m.virtual,U=m.titleRender,_=m.dropIndicatorRender,q=m.onContextMenu,W=m.onScroll,V=m.direction,F=m.rootClassName,G=m.rootStyle,X=S(this.props,{aria:!0,data:!0});$&&(t="object"===l($)?$:"function"==typeof $?{nodeDraggable:$}:{});var Y={prefixCls:b,selectable:C,showIcon:D,icon:M,switcherIcon:P,draggable:t,draggingNodeKey:s,checkable:R,checkStrictly:O,disabled:L,keyEntities:c,dropLevelOffset:f,dropContainerKey:p,dropTargetKey:v,dropPosition:h,dragOverNodeKey:g,indent:y,direction:V,dropIndicatorRender:_,loadData:I,filterTreeNode:H,titleRender:U,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return e.createElement(ze.Provider,{value:Y},e.createElement("div",{className:a(b,k,F,n(n(n({},"".concat(b,"-show-line"),E),"".concat(b,"-focused"),i),"".concat(b,"-active-focused"),null!==u)),style:G},e.createElement(gt,r({ref:this.listRef,prefixCls:b,style:x,data:d,disabled:L,selectable:C,checkable:!!R,motion:T,dragging:null!==s,height:B,itemHeight:A,virtual:j,focusable:K,focused:i,tabIndex:w,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:q,onScroll:W,scrollWidth:z},this.getTreeNodeRequiredProps(),X))))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var r,a=o.prevProps,i={prevProps:e};function l(t){return!a&&e.hasOwnProperty(t)||a&&a[t]!==e[t]}var d=o.fieldNames;if(l("fieldNames")&&(d=se(e.fieldNames),i.fieldNames=d),l("treeData")?r=e.treeData:l("children")&&(g(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=ue(e.children)),r){i.treeData=r;var c=pe(r,{fieldNames:d});i.keyEntities=t(n({},st,ft),c.keyEntities)}var s,u=i.keyEntities||o.keyEntities;if(l("expandedKeys")||a&&l("autoExpandParent"))i.expandedKeys=e.autoExpandParent||!a&&e.defaultExpandParent?nt(e.expandedKeys,u):e.expandedKeys;else if(!a&&e.defaultExpandAll){var f=t({},u);delete f[st];var p=[];Object.keys(f).forEach((function(e){var t=f[e];t.children&&t.children.length&&p.push(t.key)})),i.expandedKeys=p}else!a&&e.defaultExpandedKeys&&(i.expandedKeys=e.autoExpandParent||e.defaultExpandParent?nt(e.defaultExpandedKeys,u):e.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,r||i.expandedKeys){var v=fe(r||o.treeData,i.expandedKeys||o.expandedKeys,d);i.flattenNodes=v}if((e.selectable&&(l("selectedKeys")?i.selectedKeys=et(e.selectedKeys,e):!a&&e.defaultSelectedKeys&&(i.selectedKeys=et(e.defaultSelectedKeys,e))),e.checkable)&&(l("checkedKeys")?s=tt(e.checkedKeys)||{}:!a&&e.defaultCheckedKeys?s=tt(e.defaultCheckedKeys)||{}:r&&(s=tt(e.checkedKeys)||{checkedKeys:o.checkedKeys,halfCheckedKeys:o.halfCheckedKeys}),s)){var h=s,y=h.checkedKeys,m=void 0===y?[]:y,b=h.halfCheckedKeys,k=void 0===b?[]:b;if(!e.checkStrictly){var x=me(m,!0,u);m=x.checkedKeys,k=x.halfCheckedKeys}i.checkedKeys=m,i.halfCheckedKeys=k}return l("loadedKeys")&&(i.loadedKeys=e.loadedKeys),i}}]),d}(e.Component);n(yt,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,o=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:r.top=0,r.left=-n*o;break;case 1:r.bottom=0,r.left=-n*o;break;case 0:r.bottom=0,r.left=o}return C.createElement("div",{style:r})},allowDrop:function(){return!0},expandAction:!1}),n(yt,"TreeNode",Fe);const mt=e=>{let{treeCls:t,treeNodeCls:n,directoryNodeSelectedBg:o,directoryNodeSelectedColor:r,motionDurationMid:a,borderRadius:i,controlItemBgHover:l}=e;return{[`${t}${t}-directory ${n}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${a}`,content:'""',borderRadius:i},"&:hover:before":{background:l}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:r},[`${t}-node-content-wrapper`]:{color:r,background:"transparent","&:before, &:hover:before":{background:o}}}}}},bt=new L("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),kt=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),xt=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${K(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Et=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:r,titleHeight:a,indentSize:i,nodeSelectedBg:l,nodeHoverBg:d,colorTextQuaternary:c,controlItemBgActiveDisabled:s}=t;return{[n]:Object.assign(Object.assign({},E(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},N(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:bt,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:r,lineHeight:K(a),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:r},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${o}-disabled${o}-selected ${n}-node-content-wrapper`]:{backgroundColor:s},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:a,textAlign:"center",visibility:"visible",color:c},[`&${o}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:i}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(a).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},kt(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:a,height:a,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(a).div(2).equal()).mul(.8).equal(),height:t.calc(a).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:a,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},xt(e,t)),{"&:hover":{backgroundColor:d},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:l},[`${n}-iconEle`]:{display:"inline-block",width:a,height:a,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${K(t.calc(a).div(2).equal())} !important`}})}},Kt=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,r=t.calc(t.paddingXS).div(2).equal(),a=k(t,{treeCls:n,treeNodeCls:o,treeNodePadding:r});return[Et(e,a),mt(a)]},Nt=e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:o}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}},wt=x("Tree",((e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:ke(`${n}-checkbox`,e)},Kt(n,e),O(e)]}),(e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},Nt(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})})),Ct=t=>{const{prefixCls:n,switcherIcon:o,treeNodeProps:r,showLine:i,switcherLoadingIcon:l}=t,{isLeaf:d,expanded:c,loading:s}=r;if(s)return e.isValidElement(l)?l:e.createElement(T,{className:`${n}-switcher-loading-icon`});let u;if(i&&"object"==typeof i&&(u=i.showLeafIcon),d){if(!i)return null;if("boolean"!=typeof u&&u){const t="function"==typeof u?u(r):u,o=`${n}-switcher-line-custom-icon`;return e.isValidElement(t)?I(t,{className:a(t.props.className||"",o)}):t}return u?e.createElement(Pe,{className:`${n}-switcher-line-icon`}):e.createElement("span",{className:`${n}-switcher-leaf-line`})}const f=`${n}-switcher-icon`,p="function"==typeof o?o(r):o;return e.isValidElement(p)?I(p,{className:a(p.props.className||"",f)}):void 0!==p?p:i?c?e.createElement(Ie,{className:`${n}-switcher-line-icon`}):e.createElement(Ae,{className:`${n}-switcher-line-icon`}):e.createElement(Ne,{className:f})};let St;const Dt=new Uint8Array(16);function Mt(){if(!St&&(St="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!St))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return St(Dt)}const Pt=[];for(let Ut=0;Ut<256;++Ut)Pt.push((Ut+256).toString(16).slice(1));const $t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Rt(e,t,n){if($t.randomUUID&&!e)return $t.randomUUID();const o=(e=e||{}).random||(e.rng||Mt)();return o[6]=15&o[6]|64,o[8]=63&o[8]|128,function(e,t=0){return Pt[e[t+0]]+Pt[e[t+1]]+Pt[e[t+2]]+Pt[e[t+3]]+"-"+Pt[e[t+4]]+Pt[e[t+5]]+"-"+Pt[e[t+6]]+Pt[e[t+7]]+"-"+Pt[e[t+8]]+Pt[e[t+9]]+"-"+Pt[e[t+10]]+Pt[e[t+11]]+Pt[e[t+12]]+Pt[e[t+13]]+Pt[e[t+14]]+Pt[e[t+15]]}(o)}const Ot=()=>Rt(),Lt={weight:1,type:"element",position:"left"},Tt={weight:90,icon:H.jsx(Ae,{}),hotKeys:[{key:"Insert"}]},It={weight:100,icon:H.jsx(A,{}),hotKeys:[{key:"Enter"}]},Ht={weight:110,icon:H.jsx(B,{}),hotKeys:[{key:"Insert"}]},Bt={weight:120,icon:H.jsx(Oe,{})},At={weight:130,icon:H.jsx(z,{}),hotKeys:[{key:"F9"}]},zt={weight:140,icon:H.jsx(j,{}),hotKeys:[{key:"Enter"},{key:"F2"}]},jt={weight:150,icon:H.jsx(Se,{}),color:"danger",hotKeys:[{key:"Delete",ctrl:!0}]};export{ae as L,Pe as R,Ct as S,yt as T,je as U,It as a,Ht as b,At as c,Lt as d,zt as e,jt as f,Tt as g,se as h,pe as i,nt as j,ue as k,Fe as l,me as m,Nt as n,Ot as o,Kt as p,ke as q,Bt as r,xe as s,Se as t,wt as u};
