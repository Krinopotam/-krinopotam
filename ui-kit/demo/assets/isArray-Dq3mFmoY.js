var Ct=Object.defineProperty;var xt=(e,t,n)=>t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>xt(e,typeof t!="symbol"?t+"":t,n);import{z as Ze,G as ve,B as te,r as l,J as et,e as ne,x as vt,q as tt,l as nt,al as wt,am as rt,an as we,ao as Mt,ap as ot,aq as It,ar as Ot,as as Ae,at as Et,au as jt,av as Rt,aw as Nt,g as Dt,E as At,ax as it,A as Pt,ay as Me,m as Ie,N as Pe,p as re,az as Vt,aA as Tt,aB as Lt,k as Bt,L as Ht,aC as zt,aD as Wt,aE as qt,aF as Ut,aG as st,aH as ae,aI as Yt,s as Gt,F as ye,w as Ve,X as Xt,aJ as kt,aK as Te,aL as Kt,aM as at,aN as Qt,ak as Jt,aO as Zt,aP as en,aQ as tn,o as nn,aR as lt,C as ct,aS as rn,a8 as on,aT as sn,aU as an,aV as ln,Y as cn,M as un,aW as dn,aX as mn,aY as fn,j as D,S as hn,W as gn}from"./index-CtAjfk3U.js";import{C as be,R as xe,u as pn,t as yn,c as bn,d as Sn,e as _n,f as $n,b as Fn,B as Cn,a as xn,m as vn,P as wn}from"./buttonsRow-DIWV9y5m.js";import{R as Mn,m as de,S as In}from"./messageBox-BEJz6LZv.js";import{T as Oe}from"./index-CQ36vsgA.js";import{C as On}from"./pageLayout-BYJr8qhp.js";const fe=(e,t,n,r,o)=>({background:e,border:`${te(r.lineWidth)} ${r.lineType} ${t}`,[`${o}-icon`]:{color:n}}),En=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:o,fontSize:i,fontSizeLG:s,lineHeight:a,borderRadiusLG:c,motionEaseInOutCirc:u,withDescriptionIconSize:p,colorText:h,colorTextHeading:C,withDescriptionPadding:x,defaultPadding:S}=e;return{[t]:Object.assign(Object.assign({},ve(e)),{position:"relative",display:"flex",alignItems:"center",padding:S,wordWrap:"break-word",borderRadius:c,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:i,lineHeight:a},"&-message":{color:C},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${u}, opacity ${n} ${u},
        padding-top ${n} ${u}, padding-bottom ${n} ${u},
        margin-bottom ${n} ${u}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:x,[`${t}-icon`]:{marginInlineEnd:o,fontSize:p,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:C,fontSize:s},[`${t}-description`]:{display:"block",color:h}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},jn=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:o,colorWarning:i,colorWarningBorder:s,colorWarningBg:a,colorError:c,colorErrorBorder:u,colorErrorBg:p,colorInfo:h,colorInfoBorder:C,colorInfoBg:x}=e;return{[t]:{"&-success":fe(o,r,n,e,t),"&-info":fe(x,C,h,e,t),"&-warning":fe(a,s,i,e,t),"&-error":Object.assign(Object.assign({},fe(p,u,c,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Rn=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:o,fontSizeIcon:i,colorIcon:s,colorIconHover:a}=e;return{[t]:{"&-action":{marginInlineStart:o},[`${t}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:i,lineHeight:te(i),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:s,transition:`color ${r}`,"&:hover":{color:a}}},"&-close-text":{color:s,transition:`color ${r}`,"&:hover":{color:a}}}}},Nn=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),Dn=Ze("Alert",e=>[En(e),jn(e),Rn(e)],Nn);var Le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const An={success:ot,info:Mt,error:we,warning:rt},Pn=e=>{const{icon:t,prefixCls:n,type:r}=e,o=An[r]||null;return t?wt(t,l.createElement("span",{className:`${n}-icon`},t),()=>({className:ne(`${n}-icon`,t.props.className)})):l.createElement(o,{className:`${n}-icon`})},Vn=e=>{const{isClosable:t,prefixCls:n,closeIcon:r,handleClose:o,ariaProps:i}=e,s=r===!0||r===void 0?l.createElement(It,null):r;return t?l.createElement("button",Object.assign({type:"button",onClick:o,className:`${n}-close-icon`,tabIndex:0},i),s):null},ut=l.forwardRef((e,t)=>{const{description:n,prefixCls:r,message:o,banner:i,className:s,rootClassName:a,style:c,onMouseEnter:u,onMouseLeave:p,onClick:h,afterClose:C,showIcon:x,closable:S,closeText:_,closeIcon:w,action:N,id:P}=e,$=Le(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[E,M]=l.useState(!1),A=l.useRef(null);l.useImperativeHandle(t,()=>({nativeElement:A.current}));const{getPrefixCls:K,direction:q,closable:V,closeIcon:I,className:v,style:Q}=et("alert"),j=K("alert",r),[y,g,m]=Dn(j),d=T=>{var k;M(!0),(k=e.onClose)===null||k===void 0||k.call(e,T)},f=l.useMemo(()=>e.type!==void 0?e.type:i?"warning":"info",[e.type,i]),b=l.useMemo(()=>typeof S=="object"&&S.closeIcon||_?!0:typeof S=="boolean"?S:w!==!1&&w!==null&&w!==void 0?!0:!!V,[_,w,S,V]),F=i&&x===void 0?!0:x,R=ne(j,`${j}-${f}`,{[`${j}-with-description`]:!!n,[`${j}-no-icon`]:!F,[`${j}-banner`]:!!i,[`${j}-rtl`]:q==="rtl"},v,s,a,m,g),B=vt($,{aria:!0,data:!0}),U=l.useMemo(()=>typeof S=="object"&&S.closeIcon?S.closeIcon:_||(w!==void 0?w:typeof V=="object"&&V.closeIcon?V.closeIcon:I),[w,S,_,I]),X=l.useMemo(()=>{const T=S??V;if(typeof T=="object"){const{closeIcon:k}=T;return Le(T,["closeIcon"])}return{}},[S,V]);return y(l.createElement(tt,{visible:!E,motionName:`${j}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:T=>({maxHeight:T.offsetHeight}),onLeaveEnd:C},(T,k)=>{let{className:L,style:G}=T;return l.createElement("div",Object.assign({id:P,ref:nt(A,k),"data-show":!E,className:ne(R,L),style:Object.assign(Object.assign(Object.assign({},Q),c),G),onMouseEnter:u,onMouseLeave:p,onClick:h,role:"alert"},B),F?l.createElement(Pn,{description:n,icon:e.icon,prefixCls:j,type:f}):null,l.createElement("div",{className:`${j}-content`},o?l.createElement("div",{className:`${j}-message`},o):null,n?l.createElement("div",{className:`${j}-description`},n):null),N?l.createElement("div",{className:`${j}-action`},N):null,l.createElement(Vn,{isClosable:b,prefixCls:j,closeIcon:U,handleClose:d,ariaProps:X}))}))});function Tn(e,t,n){return t=Ae(t),Ot(e,Et()?Reflect.construct(t,n||[],Ae(e).constructor):t.apply(e,n))}let Ln=function(e){function t(){var n;return Nt(this,t),n=Tn(this,t,arguments),n.state={error:void 0,info:{componentStack:""}},n}return jt(t,e),Rt(t,[{key:"componentDidCatch",value:function(r,o){this.setState({error:r,info:o})}},{key:"render",value:function(){const{message:r,description:o,id:i,children:s}=this.props,{error:a,info:c}=this.state,u=(c==null?void 0:c.componentStack)||null,p=typeof r>"u"?(a||"").toString():r,h=typeof o>"u"?u:o;return a?l.createElement(ut,{id:i,type:"error",message:p,description:l.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},h)}):s}}])}(l.Component);const dt=ut;dt.ErrorBoundary=Ln;const Be=e=>typeof e=="object"&&e!=null&&e.nodeType===1,He=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",he=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return He(n.overflowY,t)||He(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},ge=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,Bn=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},ze=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:p}=t,h=typeof u=="function"?u:m=>m!==u;if(!Be(e))throw new TypeError("Invalid target");const C=document.scrollingElement||document.documentElement,x=[];let S=e;for(;Be(S)&&h(S);){if(S=Bn(S),S===C){x.push(S);break}S!=null&&S===document.body&&he(S)&&!he(document.documentElement)||S!=null&&he(S,p)&&x.push(S)}const _=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,w=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:N,scrollY:P}=window,{height:$,width:E,top:M,right:A,bottom:K,left:q}=e.getBoundingClientRect(),{top:V,right:I,bottom:v,left:Q}=(m=>{const d=window.getComputedStyle(m);return{top:parseFloat(d.scrollMarginTop)||0,right:parseFloat(d.scrollMarginRight)||0,bottom:parseFloat(d.scrollMarginBottom)||0,left:parseFloat(d.scrollMarginLeft)||0}})(e);let j=a==="start"||a==="nearest"?M-V:a==="end"?K+v:M+$/2-V+v,y=c==="center"?q+E/2-Q+I:c==="end"?A+I:q-Q;const g=[];for(let m=0;m<x.length;m++){const d=x[m],{height:f,width:b,top:F,right:R,bottom:B,left:U}=d.getBoundingClientRect();if(s==="if-needed"&&M>=0&&q>=0&&K<=w&&A<=_&&(d===C&&!he(d)||M>=F&&K<=B&&q>=U&&A<=R))return g;const X=getComputedStyle(d),T=parseInt(X.borderLeftWidth,10),k=parseInt(X.borderTopWidth,10),L=parseInt(X.borderRightWidth,10),G=parseInt(X.borderBottomWidth,10);let H=0,z=0;const W="offsetWidth"in d?d.offsetWidth-d.clientWidth-T-L:0,J="offsetHeight"in d?d.offsetHeight-d.clientHeight-k-G:0,ee="offsetWidth"in d?d.offsetWidth===0?0:b/d.offsetWidth:0,se="offsetHeight"in d?d.offsetHeight===0?0:f/d.offsetHeight:0;if(C===d)H=a==="start"?j:a==="end"?j-w:a==="nearest"?ge(P,P+w,w,k,G,P+j,P+j+$,$):j-w/2,z=c==="start"?y:c==="center"?y-_/2:c==="end"?y-_:ge(N,N+_,_,T,L,N+y,N+y+E,E),H=Math.max(0,H+P),z=Math.max(0,z+N);else{H=a==="start"?j-F-k:a==="end"?j-B+G+J:a==="nearest"?ge(F,B,f,k,G+J,j,j+$,$):j-(F+f/2)+J/2,z=c==="start"?y-U-T:c==="center"?y-(U+b/2)+W/2:c==="end"?y-R+L+W:ge(U,R,b,T,L+W,y,y+E,E);const{scrollLeft:Z,scrollTop:ie}=d;H=se===0?0:Math.max(0,Math.min(ie+H/se,d.scrollHeight-f/se+J)),z=ee===0?0:Math.max(0,Math.min(Z+z/ee,d.scrollWidth-b/ee+W)),j+=ie-H,y+=Z-z}g.push({el:d,top:H,left:z})}return g},Hn=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function zn(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(ze(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of ze(e,Hn(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}var pe={exports:{}},Wn=pe.exports,We;function qn(){return We||(We=1,function(e,t){(function(n,r){e.exports=r()})(Wn,function(){var n=1e3,r=6e4,o=36e5,i="millisecond",s="second",a="minute",c="hour",u="day",p="week",h="month",C="quarter",x="year",S="date",_="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var g=["th","st","nd","rd"],m=y%100;return"["+y+(g[(m-20)%10]||g[m]||g[0])+"]"}},$=function(y,g,m){var d=String(y);return!d||d.length>=g?y:""+Array(g+1-d.length).join(m)+y},E={s:$,z:function(y){var g=-y.utcOffset(),m=Math.abs(g),d=Math.floor(m/60),f=m%60;return(g<=0?"+":"-")+$(d,2,"0")+":"+$(f,2,"0")},m:function y(g,m){if(g.date()<m.date())return-y(m,g);var d=12*(m.year()-g.year())+(m.month()-g.month()),f=g.clone().add(d,h),b=m-f<0,F=g.clone().add(d+(b?-1:1),h);return+(-(d+(m-f)/(b?f-F:F-f))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:h,y:x,w:p,d:u,D:S,h:c,m:a,s,ms:i,Q:C}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},M="en",A={};A[M]=P;var K="$isDayjsObject",q=function(y){return y instanceof Q||!(!y||!y[K])},V=function y(g,m,d){var f;if(!g)return M;if(typeof g=="string"){var b=g.toLowerCase();A[b]&&(f=b),m&&(A[b]=m,f=b);var F=g.split("-");if(!f&&F.length>1)return y(F[0])}else{var R=g.name;A[R]=g,f=R}return!d&&f&&(M=f),f||!d&&M},I=function(y,g){if(q(y))return y.clone();var m=typeof g=="object"?g:{};return m.date=y,m.args=arguments,new Q(m)},v=E;v.l=V,v.i=q,v.w=function(y,g){return I(y,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var Q=function(){function y(m){this.$L=V(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[K]=!0}var g=y.prototype;return g.parse=function(m){this.$d=function(d){var f=d.date,b=d.utc;if(f===null)return new Date(NaN);if(v.u(f))return new Date;if(f instanceof Date)return new Date(f);if(typeof f=="string"&&!/Z$/i.test(f)){var F=f.match(w);if(F){var R=F[2]-1||0,B=(F[7]||"0").substring(0,3);return b?new Date(Date.UTC(F[1],R,F[3]||1,F[4]||0,F[5]||0,F[6]||0,B)):new Date(F[1],R,F[3]||1,F[4]||0,F[5]||0,F[6]||0,B)}}return new Date(f)}(m),this.init()},g.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},g.$utils=function(){return v},g.isValid=function(){return this.$d.toString()!==_},g.isSame=function(m,d){var f=I(m);return this.startOf(d)<=f&&f<=this.endOf(d)},g.isAfter=function(m,d){return I(m)<this.startOf(d)},g.isBefore=function(m,d){return this.endOf(d)<I(m)},g.$g=function(m,d,f){return v.u(m)?this[d]:this.set(f,m)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(m,d){var f=this,b=!!v.u(d)||d,F=v.p(m),R=function(H,z){var W=v.w(f.$u?Date.UTC(f.$y,z,H):new Date(f.$y,z,H),f);return b?W:W.endOf(u)},B=function(H,z){return v.w(f.toDate()[H].apply(f.toDate("s"),(b?[0,0,0,0]:[23,59,59,999]).slice(z)),f)},U=this.$W,X=this.$M,T=this.$D,k="set"+(this.$u?"UTC":"");switch(F){case x:return b?R(1,0):R(31,11);case h:return b?R(1,X):R(0,X+1);case p:var L=this.$locale().weekStart||0,G=(U<L?U+7:U)-L;return R(b?T-G:T+(6-G),X);case u:case S:return B(k+"Hours",0);case c:return B(k+"Minutes",1);case a:return B(k+"Seconds",2);case s:return B(k+"Milliseconds",3);default:return this.clone()}},g.endOf=function(m){return this.startOf(m,!1)},g.$set=function(m,d){var f,b=v.p(m),F="set"+(this.$u?"UTC":""),R=(f={},f[u]=F+"Date",f[S]=F+"Date",f[h]=F+"Month",f[x]=F+"FullYear",f[c]=F+"Hours",f[a]=F+"Minutes",f[s]=F+"Seconds",f[i]=F+"Milliseconds",f)[b],B=b===u?this.$D+(d-this.$W):d;if(b===h||b===x){var U=this.clone().set(S,1);U.$d[R](B),U.init(),this.$d=U.set(S,Math.min(this.$D,U.daysInMonth())).$d}else R&&this.$d[R](B);return this.init(),this},g.set=function(m,d){return this.clone().$set(m,d)},g.get=function(m){return this[v.p(m)]()},g.add=function(m,d){var f,b=this;m=Number(m);var F=v.p(d),R=function(X){var T=I(b);return v.w(T.date(T.date()+Math.round(X*m)),b)};if(F===h)return this.set(h,this.$M+m);if(F===x)return this.set(x,this.$y+m);if(F===u)return R(1);if(F===p)return R(7);var B=(f={},f[a]=r,f[c]=o,f[s]=n,f)[F]||1,U=this.$d.getTime()+m*B;return v.w(U,this)},g.subtract=function(m,d){return this.add(-1*m,d)},g.format=function(m){var d=this,f=this.$locale();if(!this.isValid())return f.invalidDate||_;var b=m||"YYYY-MM-DDTHH:mm:ssZ",F=v.z(this),R=this.$H,B=this.$m,U=this.$M,X=f.weekdays,T=f.months,k=f.meridiem,L=function(z,W,J,ee){return z&&(z[W]||z(d,b))||J[W].slice(0,ee)},G=function(z){return v.s(R%12||12,z,"0")},H=k||function(z,W,J){var ee=z<12?"AM":"PM";return J?ee.toLowerCase():ee};return b.replace(N,function(z,W){return W||function(J){switch(J){case"YY":return String(d.$y).slice(-2);case"YYYY":return v.s(d.$y,4,"0");case"M":return U+1;case"MM":return v.s(U+1,2,"0");case"MMM":return L(f.monthsShort,U,T,3);case"MMMM":return L(T,U);case"D":return d.$D;case"DD":return v.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return L(f.weekdaysMin,d.$W,X,2);case"ddd":return L(f.weekdaysShort,d.$W,X,3);case"dddd":return X[d.$W];case"H":return String(R);case"HH":return v.s(R,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return H(R,B,!0);case"A":return H(R,B,!1);case"m":return String(B);case"mm":return v.s(B,2,"0");case"s":return String(d.$s);case"ss":return v.s(d.$s,2,"0");case"SSS":return v.s(d.$ms,3,"0");case"Z":return F}return null}(z)||F.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(m,d,f){var b,F=this,R=v.p(d),B=I(m),U=(B.utcOffset()-this.utcOffset())*r,X=this-B,T=function(){return v.m(F,B)};switch(R){case x:b=T()/12;break;case h:b=T();break;case C:b=T()/3;break;case p:b=(X-U)/6048e5;break;case u:b=(X-U)/864e5;break;case c:b=X/o;break;case a:b=X/r;break;case s:b=X/n;break;default:b=X}return f?b:v.a(b)},g.daysInMonth=function(){return this.endOf(h).$D},g.$locale=function(){return A[this.$L]},g.locale=function(m,d){if(!m)return this.$L;var f=this.clone(),b=V(m,d,!0);return b&&(f.$L=b),f},g.clone=function(){return v.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},y}(),j=Q.prototype;return I.prototype=j,[["$ms",i],["$s",s],["$m",a],["$H",c],["$W",u],["$M",h],["$y",x],["$D",S]].forEach(function(y){j[y[1]]=function(g){return this.$g(g,y[0],y[1])}}),I.extend=function(y,g){return y.$i||(y(g,Q,I),y.$i=!0),I},I.locale=V,I.isDayjs=q,I.unix=function(y){return I(1e3*y)},I.en=A[M],I.Ls=A,I.p={},I})}(pe)),pe.exports}var Un=qn();const qe=Dt(Un);function Se(e){const[t,n]=l.useState(e);return l.useEffect(()=>{const r=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(r)}},[e]),t}const Yn=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},
                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},
                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},Gn=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${te(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${te(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),Ue=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},Xn=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},ve(e)),Gn(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},Ue(e,e.controlHeightSM)),"&-large":Object.assign({},Ue(e,e.controlHeightLG))})}},kn=e=>{const{formItemCls:t,iconCls:n,componentCls:r,rootPrefixCls:o,antCls:i,labelRequiredMarkColor:s,labelColor:a,labelFontSize:c,labelHeight:u,labelColonMarginInlineStart:p,labelColonMarginInlineEnd:h,itemMarginBottom:C}=e;return{[t]:Object.assign(Object.assign({},ve(e)),{marginBottom:C,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:u,color:a,fontSize:c,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:s,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:p,marginInlineEnd:h},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${o}-col-'"]):not([class*="' ${o}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:it,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},Ye=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},Kn=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},oe=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),mt=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:oe(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},Qn=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:oe(e)}},[`@media (max-width: ${te(e.screenXSMax)})`]:[mt(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:oe(e)}}}],[`@media (max-width: ${te(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:oe(e)}}},[`@media (max-width: ${te(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:oe(e)}}},[`@media (max-width: ${te(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:oe(e)}}}}},Jn=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,
      ${n}-col-24${t}-label,
      ${n}-col-xl-24${t}-label`]:oe(e),[`@media (max-width: ${te(e.screenXSMax)})`]:[mt(e),{[t]:{[`${n}-col-xs-24${t}-label`]:oe(e)}}],[`@media (max-width: ${te(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:oe(e)}},[`@media (max-width: ${te(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:oe(e)}},[`@media (max-width: ${te(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:oe(e)}}}},Zn=e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),ft=(e,t)=>Pt(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),Ee=Ze("Form",(e,t)=>{let{rootPrefixCls:n}=t;const r=ft(e,n);return[Xn(r),kn(r),Yn(r),Ye(r,r.componentCls),Ye(r,r.formItemCls),Kn(r),Qn(r),Jn(r),At(r),it]},Zn,{order:-1e3}),Ge=[];function Ce(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof e=="string"?e:`${t}-${r}`,error:e,errorStatus:n}}const ht=e=>{let{help:t,helpStatus:n,errors:r=Ge,warnings:o=Ge,className:i,fieldId:s,onVisibleChanged:a}=e;const{prefixCls:c}=l.useContext(Me),u=`${c}-item-explain`,p=Ie(c),[h,C,x]=Ee(c,p),S=l.useMemo(()=>Pe(c),[c]),_=Se(r),w=Se(o),N=l.useMemo(()=>t!=null?[Ce(t,"help",n)]:[].concat(re(_.map((E,M)=>Ce(E,"error","error",M))),re(w.map((E,M)=>Ce(E,"warning","warning",M)))),[t,n,_,w]),P=l.useMemo(()=>{const E={};return N.forEach(M=>{let{key:A}=M;E[A]=(E[A]||0)+1}),N.map((M,A)=>Object.assign(Object.assign({},M),{key:E[M.key]>1?`${M.key}-fallback-${A}`:M.key}))},[N]),$={};return s&&($.id=`${s}_help`),h(l.createElement(tt,{motionDeadline:S.motionDeadline,motionName:`${c}-show-help`,visible:!!P.length,onVisibleChanged:a},E=>{const{className:M,style:A}=E;return l.createElement("div",Object.assign({},$,{className:ne(u,M,x,p,i,C),style:A}),l.createElement(Vt,Object.assign({keys:P},Pe(c),{motionName:`${c}-show-help-item`,component:!1}),K=>{const{key:q,error:V,errorStatus:I,className:v,style:Q}=K;return l.createElement("div",{key:q,className:ne(v,{[`${u}-${I}`]:I}),style:Q},V)}))}))},er=["parentNode"],tr="form_item";function ue(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function gt(e,t){if(!e.length)return;const n=e.join("_");return t?`${t}_${n}`:er.includes(n)?`${tr}_${n}`:n}function pt(e,t,n,r,o,i){let s=r;return i!==void 0?s=i:n.validating?s="validating":e.length?s="error":t.length?s="warning":(n.touched||o&&n.validated)&&(s="success"),s}var nr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Xe(e){return ue(e).join("_")}function ke(e,t){const n=t.getFieldInstance(e),r=Lt(n);if(r)return r;const o=gt(ue(e),t.__INTERNAL__.name);if(o)return document.getElementById(o)}function yt(e){const[t]=Tt(),n=l.useRef({}),r=l.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:o=>i=>{const s=Xe(o);i?n.current[s]=i:delete n.current[s]}},scrollToField:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:s}=i,a=nr(i,["focus"]),c=ke(o,r);c&&(zn(c,Object.assign({scrollMode:"if-needed",block:"nearest"},a)),s&&r.focusField(o))},focusField:o=>{var i,s;const a=r.getFieldInstance(o);typeof(a==null?void 0:a.focus)=="function"?a.focus():(s=(i=ke(o,r))===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i)},getFieldInstance:o=>{const i=Xe(o);return n.current[i]}}),[e,t]);return[r]}var rr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const or=(e,t)=>{const n=l.useContext(Bt),{getPrefixCls:r,direction:o,requiredMark:i,colon:s,scrollToFirstError:a,className:c,style:u}=et("form"),{prefixCls:p,className:h,rootClassName:C,size:x,disabled:S=n,form:_,colon:w,labelAlign:N,labelWrap:P,labelCol:$,wrapperCol:E,hideRequiredMark:M,layout:A="horizontal",scrollToFirstError:K,requiredMark:q,onFinishFailed:V,name:I,style:v,feedbackIcons:Q,variant:j}=e,y=rr(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),g=Ht(x),m=l.useContext(zt),d=l.useMemo(()=>q!==void 0?q:M?!1:i!==void 0?i:!0,[M,q,i]),f=w??s,b=r("form",p),F=Ie(b),[R,B,U]=Ee(b,F),X=ne(b,`${b}-${A}`,{[`${b}-hide-required-mark`]:d===!1,[`${b}-rtl`]:o==="rtl",[`${b}-${g}`]:g},U,F,B,c,h,C),[T]=yt(_),{__INTERNAL__:k}=T;k.name=I;const L=l.useMemo(()=>({name:I,labelAlign:N,labelCol:$,labelWrap:P,wrapperCol:E,vertical:A==="vertical",colon:f,requiredMark:d,itemRef:k.itemRef,form:T,feedbackIcons:Q}),[I,N,$,E,A,f,d,T,Q]),G=l.useRef(null);l.useImperativeHandle(t,()=>{var W;return Object.assign(Object.assign({},T),{nativeElement:(W=G.current)===null||W===void 0?void 0:W.nativeElement})});const H=(W,J)=>{if(W){let ee={block:"nearest"};typeof W=="object"&&(ee=Object.assign(Object.assign({},ee),W)),T.scrollToField(J,ee)}},z=W=>{if(V==null||V(W),W.errorFields.length){const J=W.errorFields[0].name;if(K!==void 0){H(K,J);return}a!==void 0&&H(a,J)}};return R(l.createElement(Wt.Provider,{value:j},l.createElement(qt,{disabled:S},l.createElement(Ut.Provider,{value:g},l.createElement(st,{validateMessages:m},l.createElement(ae.Provider,{value:L},l.createElement(Yt,Object.assign({id:I},y,{name:I,onFinishFailed:z,form:T,ref:G,style:Object.assign(Object.assign({},u),v),className:X}))))))))},ir=l.forwardRef(or);function sr(e){if(typeof e=="function")return e;const t=Gt(e);return t.length<=1?t[0]:t}const bt=()=>{const{status:e,errors:t=[],warnings:n=[]}=l.useContext(ye);return{status:e,errors:t,warnings:n}};bt.Context=ye;function ar(e){const[t,n]=l.useState(e),r=l.useRef(null),o=l.useRef([]),i=l.useRef(!1);l.useEffect(()=>(i.current=!1,()=>{i.current=!0,Ve.cancel(r.current),r.current=null}),[]);function s(a){i.current||(r.current===null&&(o.current=[],r.current=Ve(()=>{r.current=null,n(c=>{let u=c;return o.current.forEach(p=>{u=p(u)}),u})})),o.current.push(a))}return[t,s]}function lr(){const{itemRef:e}=l.useContext(ae),t=l.useRef({});function n(r,o){const i=o&&typeof o=="object"&&Xt(o),s=r.join("_");return(t.current.name!==s||t.current.originRef!==i)&&(t.current.name=s,t.current.originRef=i,t.current.ref=nt(e(r),i)),t.current.ref}return n}const cr=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},ur=kt(["Form","item-item"],(e,t)=>{let{rootPrefixCls:n}=t;const r=ft(e,n);return[cr(r)]});var dr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const mr=24,fr=e=>{const{prefixCls:t,status:n,labelCol:r,wrapperCol:o,children:i,errors:s,warnings:a,_internalItemRender:c,extra:u,help:p,fieldId:h,marginBottom:C,onErrorVisibleChanged:x,label:S}=e,_=`${t}-item`,w=l.useContext(ae),N=l.useMemo(()=>{let y=Object.assign({},o||w.wrapperCol||{});return S===null&&!r&&!o&&w.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(m=>{const d=m?[m]:[],f=Te(w.labelCol,d),b=typeof f=="object"?f:{},F=Te(y,d),R=typeof F=="object"?F:{};"span"in b&&!("offset"in R)&&b.span<mr&&(y=Kt(y,[].concat(d,["offset"]),b.span))}),y},[o,w]),P=ne(`${_}-control`,N.className),$=l.useMemo(()=>{const{labelCol:y,wrapperCol:g}=w;return dr(w,["labelCol","wrapperCol"])},[w]),E=l.useRef(null),[M,A]=l.useState(0);at(()=>{u&&E.current?A(E.current.clientHeight):A(0)},[u]);const K=l.createElement("div",{className:`${_}-control-input`},l.createElement("div",{className:`${_}-control-input-content`},i)),q=l.useMemo(()=>({prefixCls:t,status:n}),[t,n]),V=C!==null||s.length||a.length?l.createElement(Me.Provider,{value:q},l.createElement(ht,{fieldId:h,errors:s,warnings:a,help:p,helpStatus:n,className:`${_}-explain-connected`,onVisibleChanged:x})):null,I={};h&&(I.id=`${h}_extra`);const v=u?l.createElement("div",Object.assign({},I,{className:`${_}-extra`,ref:E}),u):null,Q=V||v?l.createElement("div",{className:`${_}-additional`,style:C?{minHeight:C+M}:{}},V,v):null,j=c&&c.mark==="pro_table_render"&&c.render?c.render(e,{input:K,errorList:V,extra:v}):l.createElement(l.Fragment,null,K,Q);return l.createElement(ae.Provider,{value:$},l.createElement(be,Object.assign({},N,{className:P}),j),l.createElement(ur,{prefixCls:t}))};var hr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function gr(e){return e?typeof e=="object"&&!l.isValidElement(e)?e:{title:e}:null}const pr=e=>{let{prefixCls:t,label:n,htmlFor:r,labelCol:o,labelAlign:i,colon:s,required:a,requiredMark:c,tooltip:u,vertical:p}=e;var h;const[C]=Qt("Form"),{labelAlign:x,labelCol:S,labelWrap:_,colon:w}=l.useContext(ae);if(!n)return null;const N=o||S||{},P=i||x,$=`${t}-item-label`,E=ne($,P==="left"&&`${$}-left`,N.className,{[`${$}-wrap`]:!!_});let M=n;const A=s===!0||w!==!1&&s!==!1;A&&!p&&typeof n=="string"&&n.trim()&&(M=n.replace(/[:|：]\s*$/,""));const q=gr(u);if(q){const{icon:Q=l.createElement(Mn,null)}=q,j=hr(q,["icon"]),y=l.createElement(Jt,Object.assign({},j),l.cloneElement(Q,{className:`${t}-item-tooltip`,title:"",onClick:g=>{g.preventDefault()},tabIndex:null}));M=l.createElement(l.Fragment,null,M,y)}const V=c==="optional",I=typeof c=="function";I?M=c(M,{required:!!a}):V&&!a&&(M=l.createElement(l.Fragment,null,M,l.createElement("span",{className:`${t}-item-optional`,title:""},(C==null?void 0:C.optional)||((h=Zt.Form)===null||h===void 0?void 0:h.optional))));const v=ne({[`${t}-item-required`]:a,[`${t}-item-required-mark-optional`]:V||I,[`${t}-item-no-colon`]:!A});return l.createElement(be,Object.assign({},N,{className:E}),l.createElement("label",{htmlFor:r,className:v,title:typeof n=="string"?n:""},M))},yr={success:ot,warning:rt,error:we,validating:en};function St(e){let{children:t,errors:n,warnings:r,hasFeedback:o,validateStatus:i,prefixCls:s,meta:a,noStyle:c}=e;const u=`${s}-item`,{feedbackIcons:p}=l.useContext(ae),h=pt(n,r,a,null,!!o,i),{isFormItemInput:C,status:x,hasFeedback:S,feedbackIcon:_}=l.useContext(ye),w=l.useMemo(()=>{var N;let P;if(o){const E=o!==!0&&o.icons||p,M=h&&((N=E==null?void 0:E({status:h,errors:n,warnings:r}))===null||N===void 0?void 0:N[h]),A=h&&yr[h];P=M!==!1&&A?l.createElement("span",{className:ne(`${u}-feedback-icon`,`${u}-feedback-icon-${h}`)},M||l.createElement(A,null)):null}const $={status:h||"",errors:n,warnings:r,hasFeedback:!!o,feedbackIcon:P,isFormItemInput:!0};return c&&($.status=(h??x)||"",$.isFormItemInput=C,$.hasFeedback=!!(o??S),$.feedbackIcon=o!==void 0?$.feedbackIcon:_),$},[h,o,c,C,x]);return l.createElement(ye.Provider,{value:w},t)}var br=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function Sr(e){const{prefixCls:t,className:n,rootClassName:r,style:o,help:i,errors:s,warnings:a,validateStatus:c,meta:u,hasFeedback:p,hidden:h,children:C,fieldId:x,required:S,isRequired:_,onSubItemMetaChange:w,layout:N}=e,P=br(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),$=`${t}-item`,{requiredMark:E,vertical:M}=l.useContext(ae),A=M||N==="vertical",K=l.useRef(null),q=Se(s),V=Se(a),I=i!=null,v=!!(I||s.length||a.length),Q=!!K.current&&tn(K.current),[j,y]=l.useState(null);at(()=>{if(v&&K.current){const b=getComputedStyle(K.current);y(parseInt(b.marginBottom,10))}},[v,Q]);const g=b=>{b||y(null)},d=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const F=b?q:u.errors,R=b?V:u.warnings;return pt(F,R,u,"",!!p,c)}(),f=ne($,n,r,{[`${$}-with-help`]:I||q.length||V.length,[`${$}-has-feedback`]:d&&p,[`${$}-has-success`]:d==="success",[`${$}-has-warning`]:d==="warning",[`${$}-has-error`]:d==="error",[`${$}-is-validating`]:d==="validating",[`${$}-hidden`]:h,[`${$}-${N}`]:N});return l.createElement("div",{className:f,style:o,ref:K},l.createElement(xe,Object.assign({className:`${$}-row`},nn(P,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),l.createElement(pr,Object.assign({htmlFor:x},e,{requiredMark:E,required:S??_,prefixCls:t,vertical:A})),l.createElement(fr,Object.assign({},e,u,{errors:q,warnings:V,prefixCls:t,status:d,help:i,marginBottom:j,onErrorVisibleChanged:g}),l.createElement(lt.Provider,{value:w},l.createElement(St,{prefixCls:t,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:p,validateStatus:d},C)))),!!j&&l.createElement("div",{className:`${$}-margin-offset`,style:{marginBottom:-j}}))}const _r="__SPLIT__";function $r(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(o=>{const i=e[o],s=t[o];return i===s||typeof i=="function"||typeof s=="function"})}const Fr=l.memo(e=>{let{children:t}=e;return t},(e,t)=>$r(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((n,r)=>n===t.childProps[r]));function Ke(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Cr(e){const{name:t,noStyle:n,className:r,dependencies:o,prefixCls:i,shouldUpdate:s,rules:a,children:c,required:u,label:p,messageVariables:h,trigger:C="onChange",validateTrigger:x,hidden:S,help:_,layout:w}=e,{getPrefixCls:N}=l.useContext(ct),{name:P}=l.useContext(ae),$=sr(c),E=typeof $=="function",M=l.useContext(lt),{validateTrigger:A}=l.useContext(rn),K=x!==void 0?x:A,q=t!=null,V=N("form",i),I=Ie(V),[v,Q,j]=Ee(V,I);on();const y=l.useContext(sn),g=l.useRef(null),[m,d]=ar({}),[f,b]=an(()=>Ke()),F=L=>{const G=y==null?void 0:y.getKey(L.name);if(b(L.destroy?Ke():L,!0),n&&_!==!1&&M){let H=L.name;if(L.destroy)H=g.current||H;else if(G!==void 0){const[z,W]=G;H=[z].concat(re(W)),g.current=H}M(L,H)}},R=(L,G)=>{d(H=>{const z=Object.assign({},H),J=[].concat(re(L.name.slice(0,-1)),re(G)).join(_r);return L.destroy?delete z[J]:z[J]=L,z})},[B,U]=l.useMemo(()=>{const L=re(f.errors),G=re(f.warnings);return Object.values(m).forEach(H=>{L.push.apply(L,re(H.errors||[])),G.push.apply(G,re(H.warnings||[]))}),[L,G]},[m,f.errors,f.warnings]),X=lr();function T(L,G,H){return n&&!S?l.createElement(St,{prefixCls:V,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:f,errors:B,warnings:U,noStyle:!0},L):l.createElement(Sr,Object.assign({key:"row"},e,{className:ne(r,j,I,Q),prefixCls:V,fieldId:G,isRequired:H,errors:B,warnings:U,meta:f,onSubItemMetaChange:R,layout:w}),L)}if(!q&&!E&&!o)return v(T($));let k={};return typeof p=="string"?k.label=p:t&&(k.label=String(t)),h&&(k=Object.assign(Object.assign({},k),h)),v(l.createElement(ln,Object.assign({},e,{messageVariables:k,trigger:C,validateTrigger:K,onMetaChange:F}),(L,G,H)=>{const z=ue(t).length&&G?G.name:[],W=gt(z,P),J=u!==void 0?u:!!(a!=null&&a.some(Z=>{if(Z&&typeof Z=="object"&&Z.required&&!Z.warningOnly)return!0;if(typeof Z=="function"){const ie=Z(H);return(ie==null?void 0:ie.required)&&!(ie!=null&&ie.warningOnly)}return!1})),ee=Object.assign({},L);let se=null;if(Array.isArray($)&&q)se=$;else if(!(E&&(!(s||o)||q))){if(!(o&&!E&&!q))if(l.isValidElement($)){const Z=Object.assign(Object.assign({},$.props),ee);if(Z.id||(Z.id=W),_||B.length>0||U.length>0||e.extra){const ce=[];(_||B.length>0)&&ce.push(`${W}_help`),e.extra&&ce.push(`${W}_extra`),Z["aria-describedby"]=ce.join(" ")}B.length>0&&(Z["aria-invalid"]="true"),J&&(Z["aria-required"]="true"),cn($)&&(Z.ref=X(z,$)),new Set([].concat(re(ue(C)),re(ue(K)))).forEach(ce=>{Z[ce]=function(){for(var je,Re,_e,Ne,$e,De=arguments.length,Fe=new Array(De),me=0;me<De;me++)Fe[me]=arguments[me];(_e=ee[ce])===null||_e===void 0||(je=_e).call.apply(je,[ee].concat(Fe)),($e=(Ne=$.props)[ce])===null||$e===void 0||(Re=$e).call.apply(Re,[Ne].concat(Fe))}});const Ft=[Z["aria-required"],Z["aria-invalid"],Z["aria-describedby"]];se=l.createElement(Fr,{control:ee,update:$,childProps:Ft},un($,Z))}else E&&(s||o)&&!q?se=$(H):se=$}return T(se,W,J)}))}const _t=Cr;_t.useStatus=bt;var xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const vr=e=>{var{prefixCls:t,children:n}=e,r=xr(e,["prefixCls","children"]);const{getPrefixCls:o}=l.useContext(ct),i=o("form",t),s=l.useMemo(()=>({prefixCls:i,status:"error"}),[i]);return l.createElement(dn,Object.assign({},r),(a,c,u)=>l.createElement(Me.Provider,{value:s},n(a.map(p=>Object.assign(Object.assign({},p),{fieldKey:p.key})),c,{errors:u.errors,warnings:u.warnings})))};function wr(){const{form:e}=l.useContext(ae);return e}const le=ir;le.Item=_t;le.List=vr;le.ErrorList=ht;le.useForm=yt;le.useFormInstance=wr;le.useWatch=mn;le.Provider=st;le.create=()=>{};const Mr=e=>!!e&&(e instanceof Promise||e.constructor===Promise||Object.prototype.toString.call(e)==="[object Promise]"||typeof e.then=="function");/**
 * @BaseValidator
 * @version 0.0.28.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class Ir{validate(t,n,r,o){const i={};if(!t||!r)return i;for(const s in r){if(o!=null&&o[s])continue;const a=t[s]?t[s]:null,c=this.validateValue(a,n,r[s]);c&&(i[s]=c)}return i}validateValue(t,n,r){if(!r)return"";for(const o of r)if(o.type==="string"){if(t&&typeof t=="object")return"Неподходящий тип данных";if(!this.validateString(t,o))return o.message}else if(o.type==="file"){if(t&&typeof t=="object")return"Неподходящий тип данных";if(!this.validateFile(t,o))return o.message}else if(o.type==="number"){if(t&&typeof t=="object")return"Неподходящий тип данных";if(!this.validateNumber(t,o))return o.message}else if(o.type==="date"){if(!this.validateDate(t,o))return o.message}else if(o.type==="object"){if(t&&typeof t!="object")return"Неподходящий тип данных";if(!this.validateRowObject(t,o))return o.message}else if(o.type==="custom"&&typeof o.callback=="function")return o.callback(t,n);return""}validateString(t,n){const r=typeof n.parameter=="function"?n.parameter(t):n.parameter;if(t=t||"",t){if(n.rule==="not-empty")return t.length>0;if(n.rule==="max-length")return t.length<=r;if(n.rule==="min-length")return t.length>=r;if(n.rule==="=")return t.length===r;if(n.rule==="!=")return t.length!==r;if(n.rule==="is-uuid"||n.rule==="is-uuid-or-empty")return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t);if(n.rule==="is-email"||n.rule==="is-email-or-empty")return/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(t)}else{if(n.rule==="not-empty")return!1;if(n.rule==="max-length")return!0;if(n.rule==="min-length"||n.rule==="=")return!r;if(n.rule==="!=")return!!r;if(n.rule==="is-uuid")return!1;if(n.rule==="is-uuid-or-empty")return!0;if(n.rule==="is-email")return!1;if(n.rule==="is-email-or-empty")return!0}return!1}validateFile(t,n){const r=typeof n.parameter=="function"?n.parameter(t):n.parameter;if(t){if(n.rule==="not-empty")return t.length>0;if(n.rule==="extension"){const o=t.substring(t.lastIndexOf("."));return r.indexOf(o)>=0}}else if(n.rule==="not-empty"||n.rule==="extension")return!1;return!1}validateNumber(t,n){if(!t&&(t="",n.rule!=="not-empty"))return!0;if(n.rule==="not-empty")return this.isNumeric(t);if(n.rule==="number-or-empty")return!t||this.isNumeric(t);const r=typeof n.parameter=="function"?n.parameter(t):n.parameter,o=+t,i=+r;return isNaN(o)||isNaN(i)?!1:n.rule==="="?!t&&!r||o===i:n.rule==="!="?o!==i:n.rule===">"?o>i:n.rule===">="?o>=i:n.rule==="<"?o<i:n.rule==="<="?o<=i:!1}validateDate(t,n){if(!t&&(t="",n.rule!=="not-empty"))return!0;const r=qe(t,"DD.MM.YYYY"),o=typeof n.parameter=="function"?n.parameter(t):n.parameter,i=qe(o,"DD.MM.YYYY");return n.rule==="date-or-empty"?!t||r.isValid()&&t.length<=10:n.rule==="not-empty"?r.isValid()&&t.length<=10:!r.isValid()||!i.isValid()||t.length>10?!1:n.rule==="="?r===i:n.rule==="!="?r!==i:n.rule===">"?r>i:n.rule===">="?r>=i:n.rule==="<"?r<i:n.rule==="<="?r<=i:!1}validateRowObject(t,n){var o;if(n.rule==="null")return t===null||typeof t>"u";if(!t)return!1;const r=typeof n.parameter=="function"?n.parameter(t):n.parameter;if(n.rule==="not-empty")return t instanceof Array?t.length>0?!!((o=t[0])!=null&&o.id):!1:!!(t!=null&&t.id);if(n.rule==="=")if(t instanceof Array){if(t.length>0)return t[0].id===r}else return t.id===r;if(n.rule==="!=")if(t instanceof Array){if(t.length>0)return t[0].id!==r}else return t.id!==r;return n.rule==="contains"?t instanceof Array?t.filter(function(i){return i.id===r}):t.id===r:n.rule==="not-contains"?t instanceof Array?!t.filter(function(i){return i.id===r}):t.id!==r:!1}isNumeric(t){const n=parseFloat(t);return!isNaN(n)&&isFinite(n)}}class O{constructor(){Y(this,"_preventOriginal",!1)}preventOriginal(){this._preventOriginal=!0}isPrevented(){return this._preventOriginal}}/**
 * @DynamicFormModel
 * @version 0.0.38.17
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class Or{constructor(t){Y(this,"_formApi");Y(this,"_formProps",{});Y(this,"_fieldsMap",{});Y(this,"_rootFields",{});Y(this,"_dataSet");Y(this,"_labels",{});Y(this,"_values",{});Y(this,"_touched",{});Y(this,"_dirty",{});Y(this,"_errors",{});Y(this,"_hidden",{});Y(this,"_readOnly",{});Y(this,"_disabled",{});Y(this,"_ready",{});Y(this,"_fetching",{});Y(this,"_formDisabled",!1);Y(this,"_formReadOnly",!1);Y(this,"_formDirty",!1);Y(this,"_formReadyState");Y(this,"_isFormMounted",!1);Y(this,"_formMode","create");Y(this,"_submitCount",0);Y(this,"_isSubmitting",!1);Y(this,"_isFetching",!1);Y(this,"_isFetchingFailed",!1);Y(this,"_validator");Y(this,"_formRenderListeners",[]);Y(this,"_formRenderSnapshot",{});Y(this,"_readyTimeout");this._validator=new Ir,this._formApi=t}initModel(t){var o,i;if(this._formProps===t)return;this._formProps=t,this._formMode=t.formMode??"create",this._formReadOnly=!!t.readOnly,this._formDisabled=!!t.disabled;const n=this._fieldsMap;[this._fieldsMap,this._rootFields]=this.prepareFieldCollection(t.fieldsProps);const r=this._dataSet;[this._labels,this._values,this._hidden,this._readOnly,this._disabled]=this.initFieldsParameters({fieldsMap:this._fieldsMap,prevFieldsMap:n,curValues:this._values,curDisabled:this._disabled,curReadOnly:this._readOnly,curHidden:this._hidden,dataSet:r!==t.dataSet?t.dataSet:void 0,mode:t.formMode??"create"}),this._dataSet=t.dataSet,t.disableDepended?this._disabled=this.calculateLockedFields():this._hidden=this.calculateLockedFields(),(i=(o=this._formProps).onFormModelInitialized)==null||i.call(o,this._formApi,new O)}prepareFieldCollection(t,n){const r={},o={};if(!t)return[r,o];for(const i in t){const s=t[i];if(r[i]&&console.error(`The form contains duplicate field names  "${i}"!`),!s.component)continue;const a=new s.component(i,s,this,n);r[i]=a,o[i]=a;const[c]=a.initChildrenFields();for(const u in c)r[u]&&console.error(`The form contains duplicate field names  "${u}"!`),r[u]=c[u]}return[r,o]}initFieldsParameters({fieldsMap:t,prevFieldsMap:n,curValues:r,curDisabled:o,curReadOnly:i,curHidden:s,dataSet:a,mode:c}){var S;const u={},p={},h={},C={},x={};for(const _ in t){const w=t[_],N=n[_],P=w.getProps();if(x[_]=P.label,N&&w.constructor.name===N.constructor.name){u[_]=r[_],p[_]=typeof s[_]=="boolean"?s[_]:P.hidden,C[_]=typeof o[_]=="boolean"?o[_]:P.disabled,h[_]=typeof i[_]=="boolean"?i[_]:P.readOnly;continue}if(p[_]=!!P.hidden,C[_]=!!P.disabled,h[_]=!!P.readOnly,!w.canHaveValue())continue;let $;c==="create"?$=P.defaultValue??((S=this._formProps.defaultValues)==null?void 0:S[_]):$=a==null?void 0:a[_],u[_]=$}return[x,u,p,h,C]}calculateLockedFields(){const t={};for(const n in this._fieldsMap)t[n]=this.isFieldMustBeLocked(this._fieldsMap[n]);return t}lockDependedFields(t,n,r){const o=this._formProps.disableDepended,i=t.getName();for(const s in this._fieldsMap){const a=this._fieldsMap[s],c=a.getProps();if(!(c!=null&&c.dependsOn)||c.dependsOn.indexOf(i)<0)continue;const u=this.isFieldMustBeLocked(a);o?a.setDisabled(u,n,r):a.setHidden(u,n,r)}}isFieldMustBeLocked(t){var r;const n=t.getProps();if(!((r=n.dependsOn)!=null&&r.length))return t.isHidden();for(const o of n.dependsOn){const i=this._fieldsMap[o];if(!i)continue;if(i.getProps().hidden||i.isHidden()||i.canHaveValue()&&i.isEmptyValue()||this.isFieldMustBeLocked(i))return!0}return!1}getFieldsMap(){return this._fieldsMap}getRootFields(){return this._rootFields}getField(t){return this._fieldsMap[t]}getFormId(){return this._formApi.getId()}getFormProps(){return this._formProps}getLabels(){return this._labels}getFormDataSet(){const t=this.getValues();return{...this._dataSet,...t}}getValues(){return this._values}setValues(t,n,r){var i,s;const o=n?t:((s=(i=this._formProps).onDataSetChange)==null?void 0:s.call(i,t,this._formApi,new O))??t;this._dataSet=o;for(const a in this._fieldsMap){const c=this._fieldsMap[a];!o||!(a in o)||c.setValue(o[a],n,r)}}getTouchedFields(){return this._touched}getDirtyFields(){return this._dirty}getDisabledFields(){return this._disabled}getReadOnlyFields(){return this._readOnly}getHiddenFields(){return this._hidden}getReadyFields(){return this._ready}getErrors(){return this._errors}getValidator(){return this._validator}getFetchingFields(){return this._fetching}getFormApi(){return this._formApi}isFormDirty(){return this._formDirty}setFormDirty(t,n){var o,i;const r=this.isFormDirty();this._formDirty=t,!n&&r!==t&&((i=(o=this._formProps)==null?void 0:o.onFormDirtyStateChanged)==null||i.call(o,t,this._formApi,new O))}isFormDisabled(){return this._formDisabled}setFormDisabled(t,n,r){var i,s;const o=this.isFormDisabled();this._formDisabled=t,o!==t&&(n||(s=(i=this._formProps)==null?void 0:i.onFormDisabledStateChanged)==null||s.call(i,t,this._formApi,new O),r||this.emitFormRender())}isFormReadOnly(){return this.getFormMode()==="view"||this._formReadOnly}setFormReadOnly(t,n,r){var i,s;const o=this.isFormReadOnly();this._formReadOnly=t,o!==t&&(n||(s=(i=this._formProps)==null?void 0:i.onFormReadOnlyStateChanged)==null||s.call(i,t,this._formApi,new O),r||this.emitFormRender())}onFormInit(){var t,n;(n=(t=this._formProps)==null?void 0:t.onFormInit)==null||n.call(t,this._formApi,new O)}isFormReady(){return!!this._formReadyState}checkFormReadyState(){typeof this._readyTimeout<"u"&&clearTimeout(this._readyTimeout),this._readyTimeout=setTimeout(()=>{var n,r;this._readyTimeout=void 0;let t=!0;if(this.isFormFetching()||this.isFormFetchingFailed())t=!1;else for(const o in this._fieldsMap){const i=this._fieldsMap[o];i.isHidden()||i.isReady()||(t=!1)}t!==this._formReadyState&&(this._formReadyState=t,(r=(n=this._formProps)==null?void 0:n.onFormReadyChanged)==null||r.call(n,t,this._formApi,new O))},100)}validateForm(t,n){var r,o;for(const i in this._fieldsMap)this._fieldsMap[i].validate(t,n);return this.emitFormRender(),(o=(r=this._formProps).onFormValidated)==null||o.call(r,this.getValues(),this.getFormDataSet(),this.getErrors(),this.isFormSubmitting(),this._formApi,new O),this.getErrors()}isFormSubmitting(){return this._isSubmitting}setFormSubmitting(t){const n=this.isFormSubmitting();this._isSubmitting=t,n!==t&&this.emitFormRender()}isFormFetching(){return this._isFetching}setFormFetching(t){const n=this.isFormFetching();this._isFetching=t,n!==t&&this.emitFormRender()}setFormFetchingFailed(t){this._isFetchingFailed=t}isFormFetchingFailed(){return this._isFetchingFailed}isFormHasError(){const t=this.getErrors();for(const n in t)if(t[n])return!0;return!1}isFormMounted(){return this._isFormMounted}setFormMounted(t){this._isFormMounted=t}getFormMode(){return this._formMode}onInitialFetch(){const t=this._formProps,n=this._formMode;if(!(!t.fetchOnCreate&&n!=="update"&&n!=="clone"&&n!=="view")){this.fetchData();for(const r in this._fieldsMap)this._fieldsMap[r].onInitialFetch()}}fetchData(){var n,r;const t=(r=(n=this._formProps).onDataFetch)==null?void 0:r.call(n,this._formApi,new O);t&&(this.setFormFetching(!0),this.setFormFetchingFailed(!1),this.checkFormReadyState(),t.then(o=>{var s,a,c,u;if(!this.isFormMounted())return;this.setFormFetching(!1),this.setFormFetchingFailed(!1),(a=(s=this._formProps).onDataFetchSuccess)==null||a.call(s,o,this._formApi,new O),(u=(c=this._formProps).onDataFetchComplete)==null||u.call(c,this._formApi,new O);const i=o.data;this.setValues(i),this.checkFormReadyState()},o=>{var i,s,a,c;this.isFormMounted()&&(this.setFormFetching(!1),this.setFormFetchingFailed(!0),(s=(i=this._formProps).onDataFetchError)==null||s.call(i,o,this._formApi,new O),(c=(a=this._formProps).onDataFetchComplete)==null||c.call(a,this._formApi,new O),this.checkFormReadyState())}))}submit(t={}){var s,a,c,u,p,h,C,x,S,_,w;if(this.isFormSubmitting())return;this.incrementSubmitCount(),this.setFormSubmitting(!0);const n=this.getValues(),r=this.getFormDataSet();this._formMode==="clone"&&((s=this._formProps.assignExtraValues)!=null&&s.clone)&&(r[this._formProps.assignExtraValues.clone]=r.id),this._formMode==="update"&&((a=this._formProps.assignExtraValues)!=null&&a.update)&&(r[this._formProps.assignExtraValues.update]=!0),(this._formMode==="create"||this._formMode==="clone")&&((c=this._formProps.assignExtraValues)!=null&&c.create&&(r[this._formProps.assignExtraValues.create]=!0),delete r.id);const o=this.validateForm();if((p=(u=this._formProps)==null?void 0:u.onSubmitValidation)==null||p.call(u,n,r,o,this._formApi,new O),this.isFormHasError()){this.setFormSubmitting(!1),(h=t.onValidationFailed)==null||h.call(t,o),(C=t.onSubmitComplete)==null||C.call(t,n,r,o,this._formApi,new O),(S=(x=this._formProps)==null?void 0:x.onSubmitComplete)==null||S.call(x,n,r,o,this._formApi,new O);return}if(!((_=this._formProps)!=null&&_.onSubmit))return this.submitUnhandled(o,t);const i=(w=this._formProps)==null?void 0:w.onSubmit(n,r,this._formApi,new O);Mr(i)?this.submitPromise(i,o,t):typeof i=="object"?this.submitObject(i,o,t):typeof i=="boolean"?this.submitBoolean(i,o,t):typeof i>"u"&&this.submitUndefined(o,t)}submitUnhandled(t,n={}){var i,s,a,c,u,p;const r=this.getValues(),o=this.getFormDataSet();this.setFormSubmitting(!1),(i=n.onSubmitError)==null||i.call(n,r,o,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new O),(s=n.onSubmitComplete)==null||s.call(n,r,o,t,this._formApi,new O),(c=(a=this._formProps)==null?void 0:a.onSubmitError)==null||c.call(a,r,o,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new O),(p=(u=this._formProps)==null?void 0:u.onSubmitComplete)==null||p.call(u,r,o,t,this._formApi,new O)}submitPromise(t,n,r={}){const o=this.getValues(),i=this.getFormDataSet();t.then(s=>{var a,c,u,p,h,C;this.isFormMounted()&&(this.setFormSubmitting(!1),(a=r.onSubmitSuccess)==null||a.call(r,o,i,(s==null?void 0:s.data)||i,this._formApi,new O),(c=r.onSubmitComplete)==null||c.call(r,o,i,n,this._formApi,new O),(p=(u=this._formProps)==null?void 0:u.onSubmitSuccess)==null||p.call(u,o,i,(s==null?void 0:s.data)||i,this._formApi,new O),(C=(h=this._formProps)==null?void 0:h.onSubmitComplete)==null||C.call(h,o,i,n,this._formApi,new O))}).catch(s=>{var a,c,u,p,h,C;this.isFormMounted()&&(this.setFormSubmitting(!1),(a=r.onSubmitError)==null||a.call(r,o,i,s,this._formApi,new O),(c=r.onSubmitComplete)==null||c.call(r,o,i,n,this._formApi,new O),(p=(u=this._formProps)==null?void 0:u.onSubmitError)==null||p.call(u,o,i,s,this._formApi,new O),(C=(h=this._formProps)==null?void 0:h.onSubmitComplete)==null||C.call(h,o,i,n,this._formApi,new O))})}submitObject(t,n,r={}){var s,a,c,u,p,h,C,x,S,_;const o=this.getValues(),i=this.getFormDataSet();this.setFormSubmitting(!1),(s=t.error)!=null&&s.message?((a=r.onSubmitError)==null||a.call(r,o,i,{message:t.error.message||"",error:t.error.error,code:t.error.code||400},this._formApi,new O),(u=(c=this._formProps)==null?void 0:c.onSubmitError)==null||u.call(c,o,i,{message:t.error.message||"",error:t.error.error,code:t.error.code||400},this._formApi,new O)):((p=r.onSubmitSuccess)==null||p.call(r,o,i,t.data??i,this._formApi,new O),(C=(h=this._formProps)==null?void 0:h.onSubmitSuccess)==null||C.call(h,o,i,t.data??i,this._formApi,new O)),(x=r.onSubmitComplete)==null||x.call(r,o,i,n,this._formApi,new O),(_=(S=this._formProps)==null?void 0:S.onSubmitComplete)==null||_.call(S,o,i,n,this._formApi,new O)}submitBoolean(t,n,r={}){var s,a,c,u,p,h,C,x,S;const o=this.getValues(),i=this.getFormDataSet();this.setFormSubmitting(!1),t?((s=r.onSubmitSuccess)==null||s.call(r,o,i,i,this._formApi,new O),(c=(a=this._formProps)==null?void 0:a.onSubmitSuccess)==null||c.call(a,o,i,i,this._formApi,new O)):((u=r.onSubmitError)==null||u.call(r,o,i,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new O),(h=(p=this._formProps)==null?void 0:p.onSubmitError)==null||h.call(p,o,i,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new O)),(C=r.onSubmitComplete)==null||C.call(r,o,i,n,this._formApi,new O),(S=(x=this._formProps)==null?void 0:x.onSubmitComplete)==null||S.call(x,o,i,n,this._formApi,new O)}submitUndefined(t,n={}){var i,s,a,c,u,p;this.setFormSubmitting(!1);const r=this.getValues(),o=this.getFormDataSet();(i=n.onSubmitSuccess)==null||i.call(n,r,o,o,this._formApi,new O),(a=(s=this._formProps)==null?void 0:s.onSubmitSuccess)==null||a.call(s,r,o,o,this._formApi,new O),(c=n.onSubmitComplete)==null||c.call(n,r,o,t,this._formApi,new O),(p=(u=this._formProps)==null?void 0:u.onSubmitComplete)==null||p.call(u,r,o,t,this._formApi,new O)}getSubmitCount(){return this._submitCount}incrementSubmitCount(){this._submitCount++}subscribeRenderForm(t){return this._formRenderListeners=[...this._formRenderListeners,t],()=>{this._formRenderListeners=this._formRenderListeners.filter(n=>n!==t)}}emitFormRender(){if(this._formRenderSnapshot={},!!this._formRenderListeners)for(const t of this._formRenderListeners)t()}getFormRenderSnapshot(){return this._formRenderSnapshot}}const Er=e=>{const[t]=l.useState({});return()=>t},$t=(e,t,n)=>{const r=e??"en_US",[o,i]=jr(r,t,n);return l.useCallback(s=>o[s]??i[s]??s,[o,i])},jr=(e,t,n)=>l.useMemo(()=>{const i={...t[e??"en_US"]??t.en,...n},s={...t.en,...n};return[i,s]},[n,e,t]),Rr={ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",confirm:"Confirm",fixError:"Fix errors",confirmChangesQs:"Confirm changes made?",tryAgainQt:"Try again?",error:"Error"},Nr={ok:"ОК",cancel:"Отмена",yes:"Да",no:"Нет",confirm:"Подтвердить",fixError:"Необходимо исправить ошибки",confirmChangesQs:"Подтвердить сделанные изменения?",tryAgainQt:"Попробовать снова?",error:"Ошибка"},Dr={ok:"确定",cancel:"取消",yes:"是",no:"否",confirm:"确认",fixError:"需要修复错误",confirmChangesQs:"确认所做的更改？",tryAgainQt:"再试一次？",error:"错误"},Ar={en_US:Rr,ru_RU:Nr,zh_CN:Dr},Pr=e=>$t(e.language,Ar,e.translation);/**
 * @useUpdateMessageBoxTheme
 * @description MessageBox uses an Antd Modal static object, which is launched in its own context.
 * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called
 * @version 0.0.0.67
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const Vr=()=>{const{modal:e}=fn.useApp();de.updateThemedModal(e)},Tr=e=>t=>{const n=e.getProps(),r=e.model.validateForm();if(e.getButtonsApi().disabled("ok",Object.keys(r).length>0),Object.keys(r).length===0||!t)return r;const o=D.jsx(hn,{style:{marginLeft:5},direction:"vertical",size:0,children:Object.keys(r).map(i=>{const s=e.model.getField(i),a=(s==null?void 0:s.getLabel())||i;return D.jsxs(Oe.Text,{style:{fontSize:12},type:"secondary",children:[a,": ",r[i]]},i)})});return de.alert({language:n.language,title:e.t("fixError"),content:o,colorType:"danger"}),r},Lr=e=>()=>{const t=e.validateForm(!0);if(Object.keys(t).length>0)return;const n=e.model.getFormProps();if(!n.confirmChanges){e.getButtonsApi().loading("ok",!0),e.model.submit();return}const r=de.confirmWaiter({language:n.language,content:n.submitConfirmMessage??e.t("confirmChangesQs"),okText:e.t("yes"),cancelText:e.t("cancel"),onOk:()=>{e.model.submit({onSubmitComplete:o})}}),o=()=>{r.destroy()}},Br=({props:e,setProps:t})=>{var C,x,S,_,w,N,P,$,E;const[n]=l.useState(e.apiRef||{}),r=pn(e.formId??"dForm-"+yn());(C=e._overriddenApi)!=null&&C.getId||(n.getId=r);const o=bn(e);(x=e._overriddenApi)!=null&&x.getProps||(n.getProps=o);const i=Sn(t);(S=e._overriddenApi)!=null&&S.setProps||(n.setProps=i);const s=_n(e,t);(_=e._overriddenApi)!=null&&_.updateProps||(n.updateProps=s);const a=$n();(w=e._overriddenApi)!=null&&w.getIsMounted||(n.getIsMounted=a);const c=Pr(e);(N=e._overriddenApi)!=null&&N.t||(n.t=c);const u=Er();(P=e._overriddenApi)!=null&&P.getButtonsApi||(n.getButtonsApi=u);const p=Tr(n);($=e._overriddenApi)!=null&&$.validateForm||(n.validateForm=p);const h=Lr(n);return(E=e._overriddenApi)!=null&&E.submitForm||(n.submitForm=h),n},Hr=({fields:e,subscribe:t,getSnapshot:n,containerStyle:r})=>{t||(t=()=>()=>{}),n||(n=()=>0);const o={height:"100%",display:"flex",flexDirection:"column",...r};return l.useSyncExternalStore(t,n),D.jsx("div",{className:"dform-fields-container",style:o,children:Object.keys(e).map(i=>{const s=e[i];return D.jsx(gn.Fragment,{children:s.renderField()},"field_"+i)})})},zr={loadingError:"Data loading error",tryAgain:"Try again",tryReload:"Try reloading the page (press F5)"},Wr={loadingError:"Ошибка загрузки данных",tryAgain:"Повторить попытку",tryReload:"Попробовать перезагрузить страницу (нажмите F5)"},qr={loadingError:"数据加载错误",tryAgain:"再次尝试",tryReload:"尝试重新加载页面 (按F5)"},Ur={en_US:zr,ru_RU:Wr,zh_CN:qr},{Text:Yr}=Oe,Gr=({errorMessage:e,children:t,retryHandler:n,style:r,language:o})=>{const i=$t(o,Ur),s=l.useCallback(()=>{n&&n()},[n]);return e?D.jsx(xe,{justify:"center",align:"middle",style:{height:"100%",...r},children:D.jsx(be,{children:D.jsx(dt,{message:i("loadingError"),showIcon:!0,icon:D.jsx(we,{}),description:D.jsxs(D.Fragment,{children:[e,D.jsx(xe,{justify:"center",align:"middle",style:{marginTop:16},children:D.jsx(be,{style:{marginLeft:-24},children:n?D.jsx(Fn,{color:"danger",variant:"solid",onClick:s,children:i("tryAgain")}):D.jsx(Yr,{children:i("tryReload")})})})]}),type:"error"})})}):D.jsx(D.Fragment,{children:t})},Xr=({isLoading:e,error:t,retryHandler:n,children:r,skeleton:o,notHideContent:i,caption:s,spinStyle:a,errorStyle:c,noFullHeight:u,language:p})=>{const h=s??"Please wait...";return D.jsx(Gr,{errorMessage:t==null?void 0:t.message,retryHandler:n,style:c,language:p,children:D.jsx(In,{spinning:e,delay:0,tip:h,style:a,wrapperClassName:u?"":"wrapper-full-height-grid-spinner",children:e&&!i?D.jsxs(D.Fragment,{children:[o??null,D.jsx("div",{style:{display:"none"},children:r})]}):D.jsx(D.Fragment,{children:r})})})},kr=({formProps:e,formApi:t,formButtons:n})=>{var s,a;const r=t.model;l.useSyncExternalStore(r.subscribeRenderForm.bind(r),r.getFormRenderSnapshot.bind(r));const o={span:e.layout==="horizontal"?8:24,...e.labelCol};o.style={paddingBottom:2,...(s=e.labelCol)==null?void 0:s.style};const i={span:e.layout==="horizontal"?16:24,...e.wrapperCol};return D.jsx("div",{className:e.containerClassName??"",style:e.containerStyle,children:D.jsx(Xr,{isLoading:r.isFormFetching()||r.isFormSubmitting()&&!e.confirmChanges,notHideContent:!0,language:e.language,children:D.jsx(Cn,{children:D.jsxs(le,{colon:!1,className:e.className,name:r.getFormId(),labelCol:o,wrapperCol:i,autoComplete:"off",labelAlign:e.labelAlign,layout:e.layout==="horizontal"?"horizontal":"vertical",requiredMark:e.requiredMark,style:e.formStyle,children:[D.jsx(Kr,{model:r}),D.jsx(Hr,{fields:r.getRootFields()}),!((a=e._overriddenApi)!=null&&a.getButtonsApi)&&D.jsx(xn,{buttons:n,apiRef:t.getButtonsApi(),color:e.colorType,arrowsSelection:e.arrowsButtonsSelection,style:e.buttonsRowStyle,styles:e.buttonsRowStyles,context:t})]})})})})},Kr=({model:e})=>(l.useEffect(()=>{e.onFormInit()},[e]),null),Qr=()=>!0,{Text:Qe}=Oe,Je=({error:e,extraMessage:t})=>D.jsxs(D.Fragment,{children:[D.jsx(Qe,{strong:!0,children:e.message}),t&&D.jsx(Qe,{children:t}),e.stack&&Qr()&&D.jsx(On,{items:[{key:"1",label:"Stack",children:D.jsx("p",{children:e.stack})}]})]}),Jr=e=>l.useMemo(()=>({...e,...{onFormReadyChanged:(n,r,o)=>{var i,s,a,c,u;(i=e==null?void 0:e.onFormReadyChanged)==null||i.call(e,n,r,o),!o.isPrevented()&&(n?(a=(s=r.getButtonsApi()).disabled)==null||a.call(s,"ok",!1):(u=(c=r.getButtonsApi()).disabled)==null||u.call(c,"ok",!0))},onFormHasNoErrors:(n,r,o,i)=>{var s,a,c;(s=e==null?void 0:e.onFormHasNoErrors)==null||s.call(e,n,r,o,i),!i.isPrevented()&&((c=(a=o.getButtonsApi()).disabled)==null||c.call(a,"ok",!1))},onDataFetchError:(n,r,o)=>{var s;if((s=e==null?void 0:e.onDataFetchError)==null||s.call(e,n,r,o),o.isPrevented())return;const i=de.confirm({language:e.language,title:r.t("error"),content:D.jsx(Je,{error:n,extraMessage:r.t("tryAgainQt")}),colorType:"danger",buttons:{ok:{onClick:()=>{i.destroy(),r.model.fetchData()}}}})},onSubmit:(n,r,o,i)=>{var a,c,u,p,h;const s=(a=e==null?void 0:e.onSubmit)==null?void 0:a.call(e,n,r,o,i);return i.isPrevented()||((u=(c=o.getButtonsApi()).disabled)==null||u.call(c,"ok",!0),e.confirmChanges||(h=(p=o.getButtonsApi()).loading)==null||h.call(p,"ok",!0)),s},onSubmitError:(n,r,o,i,s)=>{var a;(a=e==null?void 0:e.onSubmitError)==null||a.call(e,n,r,o,i,s),!s.isPrevented()&&de.alert({language:e.language,title:i.t("error"),content:D.jsx(Je,{error:o}),colorType:"danger"})},onSubmitComplete:(n,r,o,i,s)=>{var a,c,u,p,h;(a=e==null?void 0:e.onSubmitComplete)==null||a.call(e,n,r,o,i,s),!s.isPrevented()&&((u=(c=i.getButtonsApi()).disabled)==null||u.call(c,"ok",!1),(h=(p=i.getButtonsApi()).loading)==null||h.call(p,"ok",!1))}}}),[e]),Zr=(e,t)=>l.useMemo(()=>{if(e.buttons===null)return{};const n={ok:{position:"left",active:!0,title:t.t("confirm"),disabled:!0,hotKeys:[{key:"Enter",ctrl:!0},{key:"S",ctrl:!0},{key:"Ы",ctrl:!0}],onClick:()=>{t.submitForm()}}};return vn(n,e.buttons)},[e.buttons,t]),uo=e=>{Vr();const t=eo(e),[n,r]=wn(t),o=Jr(n),i=Br({props:o,setProps:r});to(i,o);const s=Zr(o,i);return ro(i),no(i),D.jsx(kr,{formProps:o,formApi:i,formButtons:s})},eo=e=>{var n;const t=l.useRef(!0);return t.current?((n=e==null?void 0:e.onFirstRender)==null?void 0:n.call(e,e))??e:(t.current=!1,e)},to=(e,t)=>{const n=l.useRef(null);return l.useMemo(()=>{var r;return n.current||(n.current=new Or(e)),(r=t._overriddenApi)!=null&&r.model||(e.model=n.current),n.current.initModel(t),n.current},[e,t])},no=e=>{l.useEffect(()=>(e.model.setFormMounted(!0),()=>{e.model.setFormMounted(!1)}))},ro=e=>{l.useEffect(()=>{e.model.onInitialFetch()},[e])},mo=e=>Array.isArray(e);export{O as C,uo as D,Je as E,le as F,Qr as I,Xr as L,mo as a,Hr as b,Er as c,qe as d,Rr as e,Vr as f,qn as g,Nr as r,Mr as t,$t as u,Dr as z};
