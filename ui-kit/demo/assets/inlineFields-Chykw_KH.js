import{r as s,d as te,u as ne,e as ae,f as N,h as z,i as oe,k as A,R as q,C as U,F as se,l as re,m as K,T as ce,W as le,o as ue,n as H,j as x,S as ie,a as de}from"./index-DM4KduW8.js";import{B as X,D as he,I as T}from"./dForm-DnIX3jkH.js";import{I as B}from"./inputField-CNhjASo3.js";import{u as J}from"./defaultButtonsProps-CTSmhZ4z.js";import{P as me}from"./passwordField-CTT9QKgY.js";import{N as ve}from"./numberField-Bh8hB3lZ.js";import{T as be}from"./treeSelectField-DbpfiSIL.js";import{S as ge}from"./selectField--bpUJyGi.js";var xe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Ce=s.forwardRef(function(t,e){var c=t.prefixCls,o=c===void 0?"rc-checkbox":c,l=t.className,C=t.style,a=t.checked,n=t.disabled,O=t.defaultChecked,p=O===void 0?!1:O,m=t.type,_=m===void 0?"checkbox":m,M=t.title,i=t.onChange,w=te(t,xe),y=s.useRef(null),v=s.useRef(null),r=ne(p,{value:a}),F=ae(r,2),D=F[0],S=F[1];s.useImperativeHandle(e,function(){return{focus:function(h){var g;(g=y.current)===null||g===void 0||g.focus(h)},blur:function(){var h;(h=y.current)===null||h===void 0||h.blur()},input:y.current,nativeElement:v.current}});var b=N(o,l,z(z({},"".concat(o,"-checked"),D),"".concat(o,"-disabled"),n)),d=function(h){n||("checked"in t||S(h.target.checked),i==null||i({target:A(A({},t),{},{type:_,checked:h.target.checked}),stopPropagation:function(){h.stopPropagation()},preventDefault:function(){h.preventDefault()},nativeEvent:h.nativeEvent}))};return s.createElement("span",{className:b,title:M,style:C,ref:v},s.createElement("input",oe({},w,{className:"".concat(o,"-input"),ref:y,onChange:d,disabled:n,checked:!!D,type:_})),s.createElement("span",{className:"".concat(o,"-inner")}))});const Q=q.createContext(null);var ye=function(t,e){var c={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(c[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(c[o[l]]=t[o[l]]);return c};const ke=(t,e)=>{var c;const{prefixCls:o,className:l,rootClassName:C,children:a,indeterminate:n=!1,style:O,onMouseEnter:p,onMouseLeave:m,skipGroup:_=!1,disabled:M}=t,i=ye(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:w,direction:y,checkbox:v}=s.useContext(U),r=s.useContext(Q),{isFormItemInput:F}=s.useContext(se),D=s.useContext(re),S=(c=(r==null?void 0:r.disabled)||M)!==null&&c!==void 0?c:D,b=s.useRef(i.value);s.useEffect(()=>{r==null||r.registerValue(i.value)},[]),s.useEffect(()=>{if(!_)return i.value!==b.current&&(r==null||r.cancelValue(b.current),r==null||r.registerValue(i.value),b.current=i.value),()=>r==null?void 0:r.cancelValue(i.value)},[i.value]);const d=w("checkbox",o),k=K(d),[h,g,V]=J(d,k),E=Object.assign({},i);r&&!_&&(E.onChange=function(){i.onChange&&i.onChange.apply(i,arguments),r.toggleOption&&r.toggleOption({label:a,value:i.value})},E.name=r.name,E.checked=r.value.includes(i.value));const R=N(`${d}-wrapper`,{[`${d}-rtl`]:y==="rtl",[`${d}-wrapper-checked`]:E.checked,[`${d}-wrapper-disabled`]:S,[`${d}-wrapper-in-form-item`]:F},v==null?void 0:v.className,l,C,V,k,g),I=N({[`${d}-indeterminate`]:n},ce,g),$=n?"mixed":void 0;return h(s.createElement(le,{component:"Checkbox",disabled:S},s.createElement("label",{className:R,style:Object.assign(Object.assign({},v==null?void 0:v.style),O),onMouseEnter:p,onMouseLeave:m},s.createElement(Ce,Object.assign({"aria-checked":$},E,{prefixCls:d,className:I,disabled:S,ref:e})),a!==void 0&&s.createElement("span",null,a))))},Y=s.forwardRef(ke);var pe=function(t,e){var c={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(c[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(c[o[l]]=t[o[l]]);return c};const _e=s.forwardRef((t,e)=>{const{defaultValue:c,children:o,options:l=[],prefixCls:C,className:a,rootClassName:n,style:O,onChange:p}=t,m=pe(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:_,direction:M}=s.useContext(U),[i,w]=s.useState(m.value||c||[]),[y,v]=s.useState([]);s.useEffect(()=>{"value"in m&&w(m.value||[])},[m.value]);const r=s.useMemo(()=>l.map(u=>typeof u=="string"||typeof u=="number"?{label:u,value:u}:u),[l]),F=u=>{v(j=>j.filter(f=>f!==u))},D=u=>{v(j=>[].concat(H(j),[u]))},S=u=>{const j=i.indexOf(u.value),f=H(i);j===-1?f.push(u.value):f.splice(j,1),"value"in m||w(f),p==null||p(f.filter(G=>y.includes(G)).sort((G,Z)=>{const P=r.findIndex(L=>L.value===G),ee=r.findIndex(L=>L.value===Z);return P-ee}))},b=_("checkbox",C),d=`${b}-group`,k=K(b),[h,g,V]=J(b,k),E=ue(m,["value","disabled"]),R=l.length?r.map(u=>s.createElement(Y,{prefixCls:b,key:u.value.toString(),disabled:"disabled"in u?u.disabled:m.disabled,value:u.value,checked:i.includes(u.value),onChange:u.onChange,className:`${d}-item`,style:u.style,title:u.title,id:u.id,required:u.required},u.label)):o,I={toggleOption:S,value:i,disabled:m.disabled,name:m.name,registerValue:D,cancelValue:F},$=N(d,{[`${d}-rtl`]:M==="rtl"},a,n,V,k,g);return h(s.createElement("div",Object.assign({className:$,style:O},E,{ref:e}),s.createElement(Q.Provider,{value:I},R)))}),W=Y;W.Group=_e;W.__ANT_CHECKBOX=!0;const Se=({field:t})=>{s.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const e=t.getName(),c=t.getProps(),o=t.getValue(),l=s.useCallback(n=>{t.isReady()&&(t.setValue(n.target.checked||!1),t.setTouched(!0),t.setDirty(!0))},[t]);s.useEffect(()=>{t.setReady(!0)},[t,e]);const a={...{width:t.getWidth()},...c.style};return x.jsx(W,{checked:o,disabled:t.isDisabled()||t.isReadOnly(),onChange:l,autoFocus:c.autoFocus,indeterminate:c.indeterminate,style:a})};class Ee extends X{noGrowWidth(){return!0}render(){return x.jsx(Se,{field:this})}}const Oe=({field:t})=>{s.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const e=t.getProps(),c=t.getValue(),o=s.useCallback(a=>{var n;t.setTouched(!0),(n=e==null?void 0:e.onClick)==null||n.call(e,a,t)},[t,e]);s.useEffect(()=>{t.setReady(!0)},[t]);const C={...{width:t.getWidth()??"100%"},...e.style};return x.jsx("a",{href:e.href,target:e.target,style:C,onClick:a=>o(a),onContextMenu:a=>{var n;return(n=e==null?void 0:e.onContextMenu)==null?void 0:n.call(e,a,t)},onDoubleClick:a=>{var n;return(n=e==null?void 0:e.onDoubleClick)==null?void 0:n.call(e,a,t)},onDrag:a=>{var n;return(n=e==null?void 0:e.onDrag)==null?void 0:n.call(e,a,t)},onDragEnd:a=>{var n;return(n=e==null?void 0:e.onDragEnd)==null?void 0:n.call(e,a,t)},onDragEnter:a=>{var n;return(n=e==null?void 0:e.onDragEnter)==null?void 0:n.call(e,a,t)},onDragExit:a=>{var n;return(n=e==null?void 0:e.onDragExit)==null?void 0:n.call(e,a,t)},onDragLeave:a=>{var n;return(n=e==null?void 0:e.onDragLeave)==null?void 0:n.call(e,a,t)},onDragOver:a=>{var n;return(n=e==null?void 0:e.onDragOver)==null?void 0:n.call(e,a,t)},onDragStart:a=>{var n;return(n=e==null?void 0:e.onDragStart)==null?void 0:n.call(e,a,t)},onMouseDown:a=>{var n;return(n=e==null?void 0:e.onMouseDown)==null?void 0:n.call(e,a,t)},onMouseEnter:a=>{var n;return(n=e==null?void 0:e.onMouseEnter)==null?void 0:n.call(e,a,t)},onMouseLeave:a=>{var n;return(n=e==null?void 0:e.onMouseLeave)==null?void 0:n.call(e,a,t)},onMouseMove:a=>{var n;return(n=e==null?void 0:e.onMouseMove)==null?void 0:n.call(e,a,t)},onMouseOut:a=>{var n;return(n=e==null?void 0:e.onMouseOut)==null?void 0:n.call(e,a,t)},onMouseOver:a=>{var n;return(n=e==null?void 0:e.onMouseOver)==null?void 0:n.call(e,a,t)},onBlur:a=>{var n;return(n=e==null?void 0:e.onBlur)==null?void 0:n.call(e,a,t)},onFocus:a=>{var n;return(n=e==null?void 0:e.onFocus)==null?void 0:n.call(e,a,t)},onMouseUp:a=>{var n;return(n=e==null?void 0:e.onMouseUp)==null?void 0:n.call(e,a,t)},children:c})};class we extends X{render(){return x.jsx(Oe,{field:this})}}const $e=()=>{const[t,e]=q.useState(!1),c=Fe(t);return x.jsxs("div",{children:[x.jsx("h1",{children:"Form example with inline fields"}),x.jsxs("div",{style:{maxWidth:1e3,border:"1px solid gray",padding:5},children:[x.jsx(ie,{style:{marginBottom:30},children:x.jsx(de,{checkedChildren:"Horizontal",unCheckedChildren:"Vertical",onChange:()=>e(o=>!o)})}),x.jsx(he,{...c})]})]})},Fe=t=>({layout:t?"horizontal":"vertical",fieldsProps:{inline1:{component:T,fieldsProps:{field1_1:{component:B,label:"Field1_1",placeholder:"200px",width:200},field1_2:{component:me,label:"Field1_2",placeholder:"auto (not set)",autoFocus:!0},field1_3:{component:ve,label:"Field1_3",placeholder:"100px",width:100}}},inline2:{component:T,fieldsProps:{field2_1:{component:be,label:"Field2_1",placeholder:"50%",width:"50%"},field2_2:{component:ge,label:"Field2_2",placeholder:"auto (not set)"},field2_3:{component:we,label:"Field2_3",href:"https://test.ru/link",value:"https://test.ru/link",placeholder:"20%",width:"20%"}}},inline3:{component:T,fieldsProps:{field3_1:{component:B,label:"Field3_1",placeholder:"auto (not set)"},field3_2:{component:B,label:"Field3_2",placeholder:"100px",width:"100px"},field3_3:{component:Ee,label:"Field3_3",width:50}}}},buttons:{ok:{position:"right"}}});export{$e as E,Fe as u};
