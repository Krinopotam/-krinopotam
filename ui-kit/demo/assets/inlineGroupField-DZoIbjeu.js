import{r as e,j as t,W as s}from"./index-BOYSlfQV.js";import{B as i}from"./baseField--tLhZDqb.js";import{F as r}from"./isArray-fS4BihRk.js";const l=({field:i})=>{e.useSyncExternalStore(i.subscribe.bind(i),i.getSnapshot.bind(i)),e.useEffect((()=>{i.setReady(!0)}),[i]);const l=i.getModel().getFormProps(),a=i.getProps(),d=i.getRootFields();let h;for(const e in d){const t=d[e];t.isHidden()||(h||(h=t))}let p="";"horizontal"===l.layout&&(p=null==h?void 0:h.getLabel());const u={width:i.getWidth(),margin:0,marginBottom:0};a.autoHeightResize&&(u.height="100%");const c={...u,...a.style},g={display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"24px",alignItems:"top",width:"100%"};a.autoHeightResize&&(g.height="100%");const m=o(d,24);return t.jsx(r.Item,{label:p,style:c,className:a.itemWrapperClassName,children:t.jsx("div",{style:g,className:a.className,children:Object.keys(d).map((e=>{const r=d[e],o={flex:r.getProps().width||r.noGrowWidth()?"0 0 auto":"1 1 auto",width:n(r,m)},a="horizontal"===l.layout&&r===h?null:void 0;return t.jsx(s.Fragment,{children:r.renderField({altLabel:a,extraContainerStyle:o})},`item_${i.getId()}_subitem_${r.getId()}`)}))})})},o=(e,t)=>{const s=Object.keys(e).length;return s>0?(s-1)*t/s:0},n=(e,t)=>{const s=e.getProps();if(s.width)return a(s.width)?s.width+"px":`calc(${s.width} - ${t}px)`},a=e=>"number"==typeof e||e.length>0&&!isNaN(Number(e[e.length-1]));class InlineGroupField extends i{prepareChildrenFieldsCollection(){const e=this.getProps(),t=e.fieldsProps;return e.fieldsProps?([this.fieldsMap,this.rootFields]=this.getModel().prepareFieldCollection(t,this),[this.fieldsMap,this.rootFields]):[{},{}]}render(){return t.jsx(l,{field:this})}noItemWrapper(){return!1!==this.getProps().noItemWrapper}getValue(){}setValue(){}canHaveValue(){return!1}managesChildWidth(){return!0}setDisabled(e,t,s){if(this.isDisabled()!==e){for(const s in this.rootFields){this.rootFields[s].setDisabled(e,t,!0)}super.setDisabled(e,t,s)}}setReadOnly(e,t,s){if(this.isReadOnly()!==e){for(const s in this.rootFields){this.rootFields[s].setReadOnly(e,t,!0)}super.setReadOnly(e,t,s)}}isHidden(){return super.isHidden()||!this.hasVisibleChildren()}}export{InlineGroupField as I};
