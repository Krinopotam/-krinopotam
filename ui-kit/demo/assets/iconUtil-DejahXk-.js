import{r as f,A as z,d as b,ae as Bt,f as ie,c as Q,b as W,g as Le,af as he,ag as at,ah as ot,ai as En,$ as xe,e as Be,aj as Ct,ak as Kt,w as ke,t as Cn,z as Kn,h as Me,m as Ft,k as jt,o as We,al as Wt,l as fe,O as Ve,am as qt,an as Vt,ao as C,p as Xt,C as Nn,K as Ie,L as kn,n as Dn,ad as wn,x as Nt}from"./index-CObHp3AH.js";var Gt=f.forwardRef(function(t,r){var i=t.height,e=t.offsetY,l=t.offsetX,c=t.children,p=t.prefixCls,n=t.onInnerResize,a=t.innerProps,o=t.rtl,s=t.extra,d={},u={display:"flex",flexDirection:"column"};return e!==void 0&&(d={height:i,position:"relative",overflow:"hidden"},u=z(z({},u),{},b(b(b(b(b({transform:"translateY(".concat(e,"px)")},o?"marginRight":"marginLeft",-l),"position","absolute"),"left",0),"right",0),"top",0))),f.createElement("div",{style:d},f.createElement(Bt,{onResize:function(y){var g=y.offsetHeight;g&&n&&n()}},f.createElement("div",ie({style:u,className:Q(b({},"".concat(p,"-holder-inner"),p)),ref:r},a),c,s)))});Gt.displayName="Filler";function $n(t){var r=t.children,i=t.setRef,e=f.useCallback(function(l){i(l)},[]);return f.cloneElement(r,{ref:e})}function Rn(t,r,i,e,l,c,p,n){var a=n.getKey;return t.slice(r,i+1).map(function(o,s){var d=r+s,u=p(o,d,{style:{width:e},offsetX:l}),v=a(o);return f.createElement($n,{key:v,setRef:function(g){return c(o,g)}},u)})}function Mn(t,r,i){var e=t.length,l=r.length,c,p;if(e===0&&l===0)return null;e<l?(c=t,p=r):(c=r,p=t);var n={__EMPTY_ITEM__:!0};function a(y){return y!==void 0?i(y):n}for(var o=null,s=Math.abs(e-l)!==1,d=0;d<p.length;d+=1){var u=a(c[d]),v=a(p[d]);if(u!==v){o=d,s=s||u!==a(p[d+1]);break}}return o===null?null:{index:o,multiple:s}}function On(t,r,i){var e=f.useState(t),l=W(e,2),c=l[0],p=l[1],n=f.useState(null),a=W(n,2),o=a[0],s=a[1];return f.useEffect(function(){var d=Mn(c||[],t||[],r);(d==null?void 0:d.index)!==void 0&&s(t[d.index]),p(t)},[t]),[o]}var kt=(typeof navigator>"u"?"undefined":Le(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Ut=function(t,r,i,e){var l=f.useRef(!1),c=f.useRef(null);function p(){clearTimeout(c.current),l.current=!0,c.current=setTimeout(function(){l.current=!1},50)}var n=f.useRef({top:t,bottom:r,left:i,right:e});return n.current.top=t,n.current.bottom=r,n.current.left=i,n.current.right=e,function(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=a?o<0&&n.current.left||o>0&&n.current.right:o<0&&n.current.top||o>0&&n.current.bottom;return s&&d?(clearTimeout(c.current),l.current=!1):(!d||l.current)&&p(),!l.current&&d}};function Pn(t,r,i,e,l,c,p){var n=f.useRef(0),a=f.useRef(null),o=f.useRef(null),s=f.useRef(!1),d=Ut(r,i,e,l);function u(x,S){he.cancel(a.current),n.current+=S,o.current=S,!d(!1,S)&&(kt||x.preventDefault(),a.current=he(function(){var E=s.current?10:1;p(n.current*E),n.current=0}))}function v(x,S){p(S,!0),kt||x.preventDefault()}var y=f.useRef(null),g=f.useRef(null);function h(x){if(t){he.cancel(g.current),g.current=he(function(){y.current=null},2);var S=x.deltaX,E=x.deltaY,K=x.shiftKey,R=S,N=E;(y.current==="sx"||!y.current&&K&&E&&!S)&&(R=E,N=0,y.current="sx");var k=Math.abs(R),D=Math.abs(N);y.current===null&&(y.current=c&&k>D?"x":"y"),y.current==="y"?u(x,N):v(x,R)}}function m(x){t&&(s.current=x.detail===o.current)}return[h,m]}function Tn(t,r,i,e){var l=f.useMemo(function(){return[new Map,[]]},[t,i.id,e]),c=W(l,2),p=c[0],n=c[1],a=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,u=p.get(s),v=p.get(d);if(u===void 0||v===void 0)for(var y=t.length,g=n.length;g<y;g+=1){var h,m=t[g],x=r(m);p.set(x,g);var S=(h=i.get(x))!==null&&h!==void 0?h:e;if(n[g]=(n[g-1]||0)+S,x===s&&(u=g),x===d&&(v=g),u!==void 0&&v!==void 0)break}return{top:n[u-1]||0,bottom:n[v]}};return a}var In=function(){function t(){ot(this,t),b(this,"maps",void 0),b(this,"id",0),this.maps=Object.create(null)}return at(t,[{key:"set",value:function(i,e){this.maps[i]=e,this.id+=1}},{key:"get",value:function(i){return this.maps[i]}}]),t}();function Ln(t,r,i){var e=f.useState(0),l=W(e,2),c=l[0],p=l[1],n=f.useRef(new Map),a=f.useRef(new In),o=f.useRef();function s(){he.cancel(o.current)}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;s();var y=function(){n.current.forEach(function(h,m){if(h&&h.offsetParent){var x=En(h),S=x.offsetHeight;a.current.get(m)!==S&&a.current.set(m,x.offsetHeight)}}),p(function(h){return h+1})};v?y():o.current=he(y)}function u(v,y){var g=t(v);n.current.get(g),y?(n.current.set(g,y),d()):n.current.delete(g)}return f.useEffect(function(){return s},[]),[u,d,a.current,c]}var Dt=14/15;function _n(t,r,i){var e=f.useRef(!1),l=f.useRef(0),c=f.useRef(0),p=f.useRef(null),n=f.useRef(null),a,o=function(v){if(e.current){var y=Math.ceil(v.touches[0].pageX),g=Math.ceil(v.touches[0].pageY),h=l.current-y,m=c.current-g,x=Math.abs(h)>Math.abs(m);x?l.current=y:c.current=g,i(x,x?h:m)&&v.preventDefault(),clearInterval(n.current),n.current=setInterval(function(){x?h*=Dt:m*=Dt;var S=Math.floor(x?h:m);(!i(x,S,!0)||Math.abs(S)<=.1)&&clearInterval(n.current)},16)}},s=function(){e.current=!1,a()},d=function(v){a(),v.touches.length===1&&!e.current&&(e.current=!0,l.current=Math.ceil(v.touches[0].pageX),c.current=Math.ceil(v.touches[0].pageY),p.current=v.target,p.current.addEventListener("touchmove",o,{passive:!1}),p.current.addEventListener("touchend",s,{passive:!0}))};a=function(){p.current&&(p.current.removeEventListener("touchmove",o),p.current.removeEventListener("touchend",s))},xe(function(){return t&&r.current.addEventListener("touchstart",d,{passive:!0}),function(){var u;(u=r.current)===null||u===void 0||u.removeEventListener("touchstart",d),a(),clearInterval(n.current)}},[t])}var Hn=10;function An(t,r,i,e,l,c,p,n){var a=f.useRef(),o=f.useState(null),s=W(o,2),d=s[0],u=s[1];return xe(function(){if(d&&d.times<Hn){if(!t.current){u(function(X){return z({},X)});return}c();var v=d.targetAlign,y=d.originAlign,g=d.index,h=d.offset,m=t.current.clientHeight,x=!1,S=v,E=null;if(m){for(var K=v||y,R=0,N=0,k=0,D=Math.min(r.length-1,g),$=0;$<=D;$+=1){var P=l(r[$]);N=R;var O=i.get(P);k=N+(O===void 0?e:O),R=k}for(var A=K==="top"?h:m-h,I=D;I>=0;I-=1){var j=l(r[I]),L=i.get(j);if(L===void 0){x=!0;break}if(A-=L,A<=0)break}switch(K){case"top":E=N-h;break;case"bottom":E=k-m+h;break;default:{var H=t.current.scrollTop,q=H+m;N<H?S="top":k>q&&(S="bottom")}}E!==null&&p(E),E!==d.lastTop&&(x=!0)}x&&u(z(z({},d),{},{times:d.times+1,targetAlign:S,lastTop:E}))}},[d,t.current]),function(v){if(v==null){n();return}if(he.cancel(a.current),typeof v=="number")p(v);else if(v&&Le(v)==="object"){var y,g=v.align;"index"in v?y=v.index:y=r.findIndex(function(x){return l(x)===v.key});var h=v.offset,m=h===void 0?0:h;u({times:0,index:y,offset:m,originAlign:g})}}}function wt(t,r){var i="touches"in t?t.touches[0]:t;return i[r?"pageX":"pageY"]}var $t=f.forwardRef(function(t,r){var i=t.prefixCls,e=t.rtl,l=t.scrollOffset,c=t.scrollRange,p=t.onStartMove,n=t.onStopMove,a=t.onScroll,o=t.horizontal,s=t.spinSize,d=t.containerSize,u=t.style,v=t.thumbStyle,y=f.useState(!1),g=W(y,2),h=g[0],m=g[1],x=f.useState(null),S=W(x,2),E=S[0],K=S[1],R=f.useState(null),N=W(R,2),k=N[0],D=N[1],$=!e,P=f.useRef(),O=f.useRef(),A=f.useState(!1),I=W(A,2),j=I[0],L=I[1],H=f.useRef(),q=function(){clearTimeout(H.current),L(!0),H.current=setTimeout(function(){L(!1)},3e3)},X=c-d||0,ce=d-s||0,T=f.useMemo(function(){if(l===0||X===0)return 0;var G=l/X;return G*ce},[l,X,ce]),Y=function(B){B.stopPropagation(),B.preventDefault()},ne=f.useRef({top:T,dragging:h,pageY:E,startTop:k});ne.current={top:T,dragging:h,pageY:E,startTop:k};var se=function(B){m(!0),K(wt(B,o)),D(ne.current.top),p(),B.stopPropagation(),B.preventDefault()};f.useEffect(function(){var G=function(Ee){Ee.preventDefault()},B=P.current,re=O.current;return B.addEventListener("touchstart",G,{passive:!1}),re.addEventListener("touchstart",se,{passive:!1}),function(){B.removeEventListener("touchstart",G),re.removeEventListener("touchstart",se)}},[]);var pe=f.useRef();pe.current=X;var ge=f.useRef();ge.current=ce,f.useEffect(function(){if(h){var G,B=function(Ee){var ye=ne.current,we=ye.dragging,Ce=ye.pageY,Pe=ye.startTop;he.cancel(G);var $e=P.current.getBoundingClientRect(),F=d/(o?$e.width:$e.height);if(we){var ae=(wt(Ee,o)-Ce)*F,le=Pe;!$&&o?le-=ae:le+=ae;var me=pe.current,ve=ge.current,Re=ve?le/ve:0,te=Math.ceil(Re*me);te=Math.max(te,0),te=Math.min(te,me),G=he(function(){a(te,o)})}},re=function(){m(!1),n()};return window.addEventListener("mousemove",B,{passive:!0}),window.addEventListener("touchmove",B,{passive:!0}),window.addEventListener("mouseup",re,{passive:!0}),window.addEventListener("touchend",re,{passive:!0}),function(){window.removeEventListener("mousemove",B),window.removeEventListener("touchmove",B),window.removeEventListener("mouseup",re),window.removeEventListener("touchend",re),he.cancel(G)}}},[h]),f.useEffect(function(){return q(),function(){clearTimeout(H.current)}},[l]),f.useImperativeHandle(r,function(){return{delayHidden:q}});var V="".concat(i,"-scrollbar"),J={position:"absolute",visibility:j?null:"hidden"},ee={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return o?(J.height=8,J.left=0,J.right=0,J.bottom=0,ee.height="100%",ee.width=s,$?ee.left=T:ee.right=T):(J.width=8,J.top=0,J.bottom=0,$?J.right=0:J.left=0,ee.width="100%",ee.height=s,ee.top=T),f.createElement("div",{ref:P,className:Q(V,b(b(b({},"".concat(V,"-horizontal"),o),"".concat(V,"-vertical"),!o),"".concat(V,"-visible"),j)),style:z(z({},J),u),onMouseDown:Y,onMouseMove:q},f.createElement("div",{ref:O,className:Q("".concat(V,"-thumb"),b({},"".concat(V,"-thumb-moving"),h)),style:z(z({},ee),v),onMouseDown:se}))}),zn=20;function Rt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=t/r*t;return isNaN(i)&&(i=0),i=Math.max(i,zn),Math.floor(i)}var Bn=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Fn=[],jn={overflowY:"auto",overflowAnchor:"none"};function Wn(t,r){var i=t.prefixCls,e=i===void 0?"rc-virtual-list":i,l=t.className,c=t.height,p=t.itemHeight,n=t.fullHeight,a=n===void 0?!0:n,o=t.style,s=t.data,d=t.children,u=t.itemKey,v=t.virtual,y=t.direction,g=t.scrollWidth,h=t.component,m=h===void 0?"div":h,x=t.onScroll,S=t.onVirtualScroll,E=t.onVisibleChange,K=t.innerProps,R=t.extraRender,N=t.styles,k=Be(t,Bn),D=f.useCallback(function(M){return typeof u=="function"?u(M):M==null?void 0:M[u]},[u]),$=Ln(D),P=W($,4),O=P[0],A=P[1],I=P[2],j=P[3],L=!!(v!==!1&&c&&p),H=f.useMemo(function(){return Object.values(I.maps).reduce(function(M,w){return M+w},0)},[I.id,I.maps]),q=L&&s&&(Math.max(p*s.length,H)>c||!!g),X=y==="rtl",ce=Q(e,b({},"".concat(e,"-rtl"),X),l),T=s||Fn,Y=f.useRef(),ne=f.useRef(),se=f.useRef(),pe=f.useState(0),ge=W(pe,2),V=ge[0],J=ge[1],ee=f.useState(0),G=W(ee,2),B=G[0],re=G[1],De=f.useState(!1),Ee=W(De,2),ye=Ee[0],we=Ee[1],Ce=function(){we(!0)},Pe=function(){we(!1)},$e={getKey:D};function F(M){J(function(w){var _;typeof M=="function"?_=M(w):_=M;var Z=un(_);return Y.current.scrollTop=Z,Z})}var ae=f.useRef({start:0,end:T.length}),le=f.useRef(),me=On(T,D),ve=W(me,1),Re=ve[0];le.current=Re;var te=f.useMemo(function(){if(!L)return{scrollHeight:void 0,start:0,end:T.length-1,offset:void 0};if(!q){var M;return{scrollHeight:((M=ne.current)===null||M===void 0?void 0:M.offsetHeight)||0,start:0,end:T.length-1,offset:void 0}}for(var w=0,_,Z,Ke,bn=T.length,He=0;He<bn;He+=1){var Sn=T[He],xn=D(Sn),Et=I.get(xn),Qe=w+(Et===void 0?p:Et);Qe>=V&&_===void 0&&(_=He,Z=w),Qe>V+c&&Ke===void 0&&(Ke=He),w=Qe}return _===void 0&&(_=0,Z=0,Ke=Math.ceil(c/p)),Ke===void 0&&(Ke=T.length-1),Ke=Math.min(Ke+1,T.length-1),{scrollHeight:w,start:_,end:Ke,offset:Z}},[q,L,V,T,j,c]),de=te.scrollHeight,ue=te.start,Te=te.end,st=te.offset;ae.current.start=ue,ae.current.end=Te;var on=f.useState({width:0,height:c}),dt=W(on,2),be=dt[0],ln=dt[1],sn=function(w){ln({width:w.offsetWidth,height:w.offsetHeight})},ct=f.useRef(),ut=f.useRef(),dn=f.useMemo(function(){return Rt(be.width,g)},[be.width,g]),cn=f.useMemo(function(){return Rt(be.height,de)},[be.height,de]),Xe=de-c,Ge=f.useRef(Xe);Ge.current=Xe;function un(M){var w=M;return Number.isNaN(Ge.current)||(w=Math.min(w,Ge.current)),w=Math.max(w,0),w}var ft=V<=0,vt=V>=Xe,ht=B<=0,pt=B>=g,fn=Ut(ft,vt,ht,pt),Ue=function(){return{x:X?-B:B,y:V}},Ye=f.useRef(Ue()),je=Ct(function(M){if(S){var w=z(z({},Ue()),M);(Ye.current.x!==w.x||Ye.current.y!==w.y)&&(S(w),Ye.current=w)}});function gt(M,w){var _=M;w?(Kt.flushSync(function(){re(_)}),je()):F(_)}function vn(M){var w=M.currentTarget.scrollTop;w!==V&&F(w),x==null||x(M),je()}var Ze=function(w){var _=w,Z=g?g-be.width:0;return _=Math.max(_,0),_=Math.min(_,Z),_},hn=Ct(function(M,w){w?(Kt.flushSync(function(){re(function(_){var Z=_+(X?-M:M);return Ze(Z)})}),je()):F(function(_){var Z=_+M;return Z})}),pn=Pn(L,ft,vt,ht,pt,!!g,hn),yt=W(pn,2),Je=yt[0],mt=yt[1];_n(L,Y,function(M,w,_){return fn(M,w,_)?!1:(Je({preventDefault:function(){},deltaX:M?w:0,deltaY:M?0:w}),!0)}),xe(function(){function M(_){L&&_.preventDefault()}var w=Y.current;return w.addEventListener("wheel",Je,{passive:!1}),w.addEventListener("DOMMouseScroll",mt,{passive:!0}),w.addEventListener("MozMousePixelScroll",M,{passive:!1}),function(){w.removeEventListener("wheel",Je),w.removeEventListener("DOMMouseScroll",mt),w.removeEventListener("MozMousePixelScroll",M)}},[L]),xe(function(){if(g){var M=Ze(B);re(M),je({x:M})}},[be.width,g]);var bt=function(){var w,_;(w=ct.current)===null||w===void 0||w.delayHidden(),(_=ut.current)===null||_===void 0||_.delayHidden()},St=An(Y,T,I,p,D,function(){return A(!0)},F,bt);f.useImperativeHandle(r,function(){return{nativeElement:se.current,getScrollInfo:Ue,scrollTo:function(w){function _(Z){return Z&&Le(Z)==="object"&&("left"in Z||"top"in Z)}_(w)?(w.left!==void 0&&re(Ze(w.left)),St(w.top)):St(w)}}}),xe(function(){if(E){var M=T.slice(ue,Te+1);E(M,T)}},[ue,Te,T]);var gn=Tn(T,D,I,p),yn=R==null?void 0:R({start:ue,end:Te,virtual:q,offsetX:B,offsetY:st,rtl:X,getSize:gn}),mn=Rn(T,ue,Te,g,B,O,d,$e),_e=null;c&&(_e=z(b({},a?"height":"maxHeight",c),jn),L&&(_e.overflowY="hidden",g&&(_e.overflowX="hidden"),ye&&(_e.pointerEvents="none")));var xt={};return X&&(xt.dir="rtl"),f.createElement("div",ie({ref:se,style:z(z({},o),{},{position:"relative"}),className:ce},xt,k),f.createElement(Bt,{onResize:sn},f.createElement(m,{className:"".concat(e,"-holder"),style:_e,ref:Y,onScroll:vn,onMouseEnter:bt},f.createElement(Gt,{prefixCls:e,height:de,offsetX:B,offsetY:st,scrollWidth:g,onInnerResize:A,ref:ne,innerProps:K,rtl:X,extra:yn},mn))),q&&de>c&&f.createElement($t,{ref:ct,prefixCls:e,scrollOffset:V,scrollRange:de,rtl:X,onScroll:gt,onStartMove:Ce,onStopMove:Pe,spinSize:cn,containerSize:be.height,style:N==null?void 0:N.verticalScrollBar,thumbStyle:N==null?void 0:N.verticalScrollBarThumb}),q&&g>be.width&&f.createElement($t,{ref:ut,prefixCls:e,scrollOffset:B,scrollRange:g,rtl:X,onScroll:gt,onStartMove:Ce,onStopMove:Pe,spinSize:dn,containerSize:be.width,horizontal:!0,style:N==null?void 0:N.horizontalScrollBar,thumbStyle:N==null?void 0:N.horizontalScrollBarThumb}))}var Yt=f.forwardRef(Wn);Yt.displayName="List";function oe(t,r){return t[r]}var qn=["children"];function Zt(t,r){return"".concat(t,"-").concat(r)}function Vn(t){return t&&t.type&&t.type.isTreeNode}function Fe(t,r){return t??r}function qe(t){var r=t||{},i=r.title,e=r._title,l=r.key,c=r.children,p=i||"title";return{title:p,_title:e||[p],key:l||"key",children:c||"children"}}function Xn(t){function r(i){var e=Cn(i);return e.map(function(l){if(!Vn(l))return ke(!l,"Tree/TreeNode can only accept TreeNode as children."),null;var c=l.key,p=l.props,n=p.children,a=Be(p,qn),o=z({key:c},a),s=r(n);return s.length&&(o.children=s),o}).filter(function(l){return l})}return r(t)}function et(t,r,i){var e=qe(i),l=e._title,c=e.key,p=e.children,n=new Set(r===!0?[]:r),a=[];function o(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.map(function(u,v){for(var y=Zt(d?d.pos:"0",v),g=Fe(u[c],y),h,m=0;m<l.length;m+=1){var x=l[m];if(u[x]!==void 0){h=u[x];break}}var S=Object.assign(Kn(u,[].concat(Me(l),[c,p])),{title:h,key:g,parent:d,pos:y,children:null,data:u,isStart:[].concat(Me(d?d.isStart:[]),[v===0]),isEnd:[].concat(Me(d?d.isEnd:[]),[v===s.length-1])});return a.push(S),r===!0||n.has(g)?S.children=o(u[p]||[],S):S.children=[],S})}return o(t),a}function Gn(t,r,i){var e={};Le(i)==="object"?e=i:e={externalGetKey:i},e=e||{};var l=e,c=l.childrenPropName,p=l.externalGetKey,n=l.fieldNames,a=qe(n),o=a.key,s=a.children,d=c||s,u;p?typeof p=="string"?u=function(g){return g[p]}:typeof p=="function"&&(u=function(g){return p(g)}):u=function(g,h){return Fe(g[o],h)};function v(y,g,h,m){var x=y?y[d]:t,S=y?Zt(h.pos,g):"0",E=y?[].concat(Me(m),[y]):[];if(y){var K=u(y,S),R={node:y,index:g,pos:S,key:K,parentPos:h.node?h.pos:null,level:h.level+1,nodes:E};r(R)}x&&x.forEach(function(N,k){v(N,k,{node:y,pos:S,level:h?h.level+1:-1},E)})}v(null)}function Un(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.initWrapper,e=r.processEntity,l=r.onProcessFinished,c=r.externalGetKey,p=r.childrenPropName,n=r.fieldNames,a=arguments.length>2?arguments[2]:void 0,o=c||a,s={},d={},u={posEntities:s,keyEntities:d};return i&&(u=i(u)||u),Gn(t,function(v){var y=v.node,g=v.index,h=v.pos,m=v.key,x=v.parentPos,S=v.level,E=v.nodes,K={node:y,nodes:E,index:g,key:m,pos:h,level:S},R=Fe(m,h);s[h]=K,d[R]=K,K.parent=s[x],K.parent&&(K.parent.children=K.parent.children||[],K.parent.children.push(K)),e&&e(K,u)},{externalGetKey:o,childrenPropName:p,fieldNames:n}),l&&l(u),u}function Ae(t,r){var i=r.expandedKeys,e=r.selectedKeys,l=r.loadedKeys,c=r.loadingKeys,p=r.checkedKeys,n=r.halfCheckedKeys,a=r.dragOverNodeKey,o=r.dropPosition,s=r.keyEntities,d=oe(s,t),u={eventKey:t,expanded:i.indexOf(t)!==-1,selected:e.indexOf(t)!==-1,loaded:l.indexOf(t)!==-1,loading:c.indexOf(t)!==-1,checked:p.indexOf(t)!==-1,halfChecked:n.indexOf(t)!==-1,pos:String(d?d.pos:""),dragOver:a===t&&o===0,dragOverGapTop:a===t&&o===-1,dragOverGapBottom:a===t&&o===1};return u}function U(t){var r=t.data,i=t.expanded,e=t.selected,l=t.checked,c=t.loaded,p=t.loading,n=t.halfChecked,a=t.dragOver,o=t.dragOverGapTop,s=t.dragOverGapBottom,d=t.pos,u=t.active,v=t.eventKey,y=z(z({},r),{},{expanded:i,selected:e,checked:l,loaded:c,loading:p,halfChecked:n,dragOver:a,dragOverGapTop:o,dragOverGapBottom:s,pos:d,active:u,key:v});return"props"in y||Object.defineProperty(y,"props",{get:function(){return ke(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),y}function Jt(t,r){var i=new Set;return t.forEach(function(e){r.has(e)||i.add(e)}),i}function Yn(t){var r=t||{},i=r.disabled,e=r.disableCheckbox,l=r.checkable;return!!(i||e)||l===!1}function Zn(t,r,i,e){for(var l=new Set(t),c=new Set,p=0;p<=i;p+=1){var n=r.get(p)||new Set;n.forEach(function(d){var u=d.key,v=d.node,y=d.children,g=y===void 0?[]:y;l.has(u)&&!e(v)&&g.filter(function(h){return!e(h.node)}).forEach(function(h){l.add(h.key)})})}for(var a=new Set,o=i;o>=0;o-=1){var s=r.get(o)||new Set;s.forEach(function(d){var u=d.parent,v=d.node;if(!(e(v)||!d.parent||a.has(d.parent.key))){if(e(d.parent.node)){a.add(u.key);return}var y=!0,g=!1;(u.children||[]).filter(function(h){return!e(h.node)}).forEach(function(h){var m=h.key,x=l.has(m);y&&!x&&(y=!1),!g&&(x||c.has(m))&&(g=!0)}),y&&l.add(u.key),g&&c.add(u.key),a.add(u.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(Jt(c,l))}}function Jn(t,r,i,e,l){for(var c=new Set(t),p=new Set(r),n=0;n<=e;n+=1){var a=i.get(n)||new Set;a.forEach(function(u){var v=u.key,y=u.node,g=u.children,h=g===void 0?[]:g;!c.has(v)&&!p.has(v)&&!l(y)&&h.filter(function(m){return!l(m.node)}).forEach(function(m){c.delete(m.key)})})}p=new Set;for(var o=new Set,s=e;s>=0;s-=1){var d=i.get(s)||new Set;d.forEach(function(u){var v=u.parent,y=u.node;if(!(l(y)||!u.parent||o.has(u.parent.key))){if(l(u.parent.node)){o.add(v.key);return}var g=!0,h=!1;(v.children||[]).filter(function(m){return!l(m.node)}).forEach(function(m){var x=m.key,S=c.has(x);g&&!S&&(g=!1),!h&&(S||p.has(x))&&(h=!0)}),g||c.delete(v.key),h&&p.add(v.key),o.add(v.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(Jt(p,c))}}function tt(t,r,i,e){var l=[],c;c=Yn;var p=new Set(t.filter(function(s){var d=!!oe(i,s);return d||l.push(s),d})),n=new Map,a=0;Object.keys(i).forEach(function(s){var d=i[s],u=d.level,v=n.get(u);v||(v=new Set,n.set(u,v)),v.add(d),a=Math.max(a,u)}),ke(!l.length,"Tree missing follow keys: ".concat(l.slice(0,100).map(function(s){return"'".concat(s,"'")}).join(", ")));var o;return r===!0?o=Zn(p,n,a,c):o=Jn(p,r.halfCheckedKeys,n,a,c),o}const Qn=t=>{const{checkboxCls:r}=t,i=`${r}-wrapper`;return[{[`${r}-group`]:Object.assign(Object.assign({},We(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[i]:Object.assign(Object.assign({},We(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${i}`]:{marginInlineStart:0},[`&${i}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[r]:Object.assign(Object.assign({},We(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${r}-inner`]:Object.assign({},Wt(t))},[`${r}-inner`]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${fe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:`${fe(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[`
        ${i}:not(${i}-disabled),
        ${r}:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{borderColor:t.colorPrimary}},[`${i}:not(${i}-disabled)`]:{[`&:hover ${r}-checked:not(${r}-disabled) ${r}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${r}-checked:not(${r}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${r}-checked`]:{[`${r}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}}},[`
        ${i}-checked:not(${i}-disabled),
        ${r}-checked:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[r]:{"&-indeterminate":{[`${r}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${r}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorPrimary} !important`}}}},{[`${i}-disabled`]:{cursor:"not-allowed"},[`${r}-disabled`]:{[`&, ${r}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${r}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${r}-indeterminate ${r}-inner::after`]:{background:t.colorTextDisabled}}}]};function Qt(t,r){const i=Ft(r,{checkboxCls:`.${t}`,checkboxSize:r.controlInteractiveSize});return[Qn(i)]}jt("Checkbox",(t,r)=>{let{prefixCls:i}=r;return[Qt(i,t)]});var er={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},tr=function(r,i){return f.createElement(Ve,ie({},r,{ref:i,icon:er}))},nr=f.forwardRef(tr),rr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},ar=function(r,i){return f.createElement(Ve,ie({},r,{ref:i,icon:rr}))},or=f.forwardRef(ar),ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},lr=function(r,i){return f.createElement(Ve,ie({},r,{ref:i,icon:ir}))},sr=f.forwardRef(lr),dr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},cr=function(r,i){return f.createElement(Ve,ie({},r,{ref:i,icon:dr}))},ur=f.forwardRef(cr),it=f.createContext(null),fr=function(r){for(var i=r.prefixCls,e=r.level,l=r.isStart,c=r.isEnd,p="".concat(i,"-indent-unit"),n=[],a=0;a<e;a+=1)n.push(f.createElement("span",{key:a,className:Q(p,b(b({},"".concat(p,"-start"),l[a]),"".concat(p,"-end"),c[a]))}));return f.createElement("span",{"aria-hidden":"true",className:"".concat(i,"-indent")},n)};const vr=f.memo(fr);var hr=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Mt="open",Ot="close",pr="---",gr=function(t){qt(i,t);var r=Vt(i);function i(){var e;ot(this,i);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return e=r.call.apply(r,[this].concat(c)),b(C(e),"state",{dragNodeHighlight:!1}),b(C(e),"selectHandle",void 0),b(C(e),"cacheIndent",void 0),b(C(e),"onSelectorClick",function(n){var a=e.props.context.onNodeClick;a(n,U(e.props)),e.isSelectable()?e.onSelect(n):e.onCheck(n)}),b(C(e),"onSelectorDoubleClick",function(n){var a=e.props.context.onNodeDoubleClick;a(n,U(e.props))}),b(C(e),"onSelect",function(n){if(!e.isDisabled()){var a=e.props.context.onNodeSelect;a(n,U(e.props))}}),b(C(e),"onCheck",function(n){if(!e.isDisabled()){var a=e.props,o=a.disableCheckbox,s=a.checked,d=e.props.context.onNodeCheck;if(!(!e.isCheckable()||o)){var u=!s;d(n,U(e.props),u)}}}),b(C(e),"onMouseEnter",function(n){var a=e.props.context.onNodeMouseEnter;a(n,U(e.props))}),b(C(e),"onMouseLeave",function(n){var a=e.props.context.onNodeMouseLeave;a(n,U(e.props))}),b(C(e),"onContextMenu",function(n){var a=e.props.context.onNodeContextMenu;a(n,U(e.props))}),b(C(e),"onDragStart",function(n){var a=e.props.context.onNodeDragStart;n.stopPropagation(),e.setState({dragNodeHighlight:!0}),a(n,C(e));try{n.dataTransfer.setData("text/plain","")}catch{}}),b(C(e),"onDragEnter",function(n){var a=e.props.context.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),a(n,C(e))}),b(C(e),"onDragOver",function(n){var a=e.props.context.onNodeDragOver;n.preventDefault(),n.stopPropagation(),a(n,C(e))}),b(C(e),"onDragLeave",function(n){var a=e.props.context.onNodeDragLeave;n.stopPropagation(),a(n,C(e))}),b(C(e),"onDragEnd",function(n){var a=e.props.context.onNodeDragEnd;n.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(n,C(e))}),b(C(e),"onDrop",function(n){var a=e.props.context.onNodeDrop;n.preventDefault(),n.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(n,C(e))}),b(C(e),"onExpand",function(n){var a=e.props,o=a.loading,s=a.context.onNodeExpand;o||s(n,U(e.props))}),b(C(e),"setSelectHandle",function(n){e.selectHandle=n}),b(C(e),"getNodeState",function(){var n=e.props.expanded;return e.isLeaf()?null:n?Mt:Ot}),b(C(e),"hasChildren",function(){var n=e.props.eventKey,a=e.props.context.keyEntities,o=oe(a,n)||{},s=o.children;return!!(s||[]).length}),b(C(e),"isLeaf",function(){var n=e.props,a=n.isLeaf,o=n.loaded,s=e.props.context.loadData,d=e.hasChildren();return a===!1?!1:a||!s&&!d||s&&o&&!d}),b(C(e),"isDisabled",function(){var n=e.props.disabled,a=e.props.context.disabled;return!!(a||n)}),b(C(e),"isCheckable",function(){var n=e.props.checkable,a=e.props.context.checkable;return!a||n===!1?!1:a}),b(C(e),"syncLoadData",function(n){var a=n.expanded,o=n.loading,s=n.loaded,d=e.props.context,u=d.loadData,v=d.onNodeLoad;o||u&&a&&!e.isLeaf()&&!s&&v(U(e.props))}),b(C(e),"isDraggable",function(){var n=e.props,a=n.data,o=n.context.draggable;return!!(o&&(!o.nodeDraggable||o.nodeDraggable(a)))}),b(C(e),"renderDragHandler",function(){var n=e.props.context,a=n.draggable,o=n.prefixCls;return a!=null&&a.icon?f.createElement("span",{className:"".concat(o,"-draggable-icon")},a.icon):null}),b(C(e),"renderSwitcherIconDom",function(n){var a=e.props.switcherIcon,o=e.props.context.switcherIcon,s=a||o;return typeof s=="function"?s(z(z({},e.props),{},{isLeaf:n})):s}),b(C(e),"renderSwitcher",function(){var n=e.props.expanded,a=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return o!==!1?f.createElement("span",{className:Q("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},o):null}var s=Q("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(n?Mt:Ot)),d=e.renderSwitcherIconDom(!1);return d!==!1?f.createElement("span",{onClick:e.onExpand,className:s},d):null}),b(C(e),"renderCheckbox",function(){var n=e.props,a=n.checked,o=n.halfChecked,s=n.disableCheckbox,d=e.props.context.prefixCls,u=e.isDisabled(),v=e.isCheckable();if(!v)return null;var y=typeof v!="boolean"?v:null;return f.createElement("span",{className:Q("".concat(d,"-checkbox"),a&&"".concat(d,"-checkbox-checked"),!a&&o&&"".concat(d,"-checkbox-indeterminate"),(u||s)&&"".concat(d,"-checkbox-disabled")),onClick:e.onCheck},y)}),b(C(e),"renderIcon",function(){var n=e.props.loading,a=e.props.context.prefixCls;return f.createElement("span",{className:Q("".concat(a,"-iconEle"),"".concat(a,"-icon__").concat(e.getNodeState()||"docu"),n&&"".concat(a,"-icon_loading"))})}),b(C(e),"renderSelector",function(){var n=e.state.dragNodeHighlight,a=e.props,o=a.title,s=o===void 0?pr:o,d=a.selected,u=a.icon,v=a.loading,y=a.data,g=e.props.context,h=g.prefixCls,m=g.showIcon,x=g.icon,S=g.loadData,E=g.titleRender,K=e.isDisabled(),R="".concat(h,"-node-content-wrapper"),N;if(m){var k=u||x;N=k?f.createElement("span",{className:Q("".concat(h,"-iconEle"),"".concat(h,"-icon__customize"))},typeof k=="function"?k(e.props):k):e.renderIcon()}else S&&v&&(N=e.renderIcon());var D;typeof s=="function"?D=s(y):E?D=E(y):D=s;var $=f.createElement("span",{className:"".concat(h,"-title")},D);return f.createElement("span",{ref:e.setSelectHandle,title:typeof s=="string"?s:"",className:Q("".concat(R),"".concat(R,"-").concat(e.getNodeState()||"normal"),!K&&(d||n)&&"".concat(h,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},N,$,e.renderDropIndicator())}),b(C(e),"renderDropIndicator",function(){var n=e.props,a=n.disabled,o=n.eventKey,s=e.props.context,d=s.draggable,u=s.dropLevelOffset,v=s.dropPosition,y=s.prefixCls,g=s.indent,h=s.dropIndicatorRender,m=s.dragOverNodeKey,x=s.direction,S=!!d,E=!a&&S&&m===o,K=g??e.cacheIndent;return e.cacheIndent=g,E?h({dropPosition:v,dropLevelOffset:u,indent:K,prefixCls:y,direction:x}):null}),e}return at(i,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var l=this.props.selectable,c=this.props.context.selectable;return typeof l=="boolean"?l:c}},{key:"render",value:function(){var l,c=this.props,p=c.eventKey,n=c.className,a=c.style,o=c.dragOver,s=c.dragOverGapTop,d=c.dragOverGapBottom,u=c.isLeaf,v=c.isStart,y=c.isEnd,g=c.expanded,h=c.selected,m=c.checked,x=c.halfChecked,S=c.loading,E=c.domRef,K=c.active;c.data;var R=c.onMouseMove,N=c.selectable,k=Be(c,hr),D=this.props.context,$=D.prefixCls,P=D.filterTreeNode,O=D.keyEntities,A=D.dropContainerKey,I=D.dropTargetKey,j=D.draggingNodeKey,L=this.isDisabled(),H=Xt(k,{aria:!0,data:!0}),q=oe(O,p)||{},X=q.level,ce=y[y.length-1],T=this.isDraggable(),Y=!L&&T,ne=j===p,se=N!==void 0?{"aria-selected":!!N}:void 0;return f.createElement("div",ie({ref:E,className:Q(n,"".concat($,"-treenode"),(l={},b(b(b(b(b(b(b(b(b(b(l,"".concat($,"-treenode-disabled"),L),"".concat($,"-treenode-switcher-").concat(g?"open":"close"),!u),"".concat($,"-treenode-checkbox-checked"),m),"".concat($,"-treenode-checkbox-indeterminate"),x),"".concat($,"-treenode-selected"),h),"".concat($,"-treenode-loading"),S),"".concat($,"-treenode-active"),K),"".concat($,"-treenode-leaf-last"),ce),"".concat($,"-treenode-draggable"),T),"dragging",ne),b(b(b(b(b(b(l,"drop-target",I===p),"drop-container",A===p),"drag-over",!L&&o),"drag-over-gap-top",!L&&s),"drag-over-gap-bottom",!L&&d),"filter-node",P&&P(U(this.props))))),style:a,draggable:Y,"aria-grabbed":ne,onDragStart:Y?this.onDragStart:void 0,onDragEnter:T?this.onDragEnter:void 0,onDragOver:T?this.onDragOver:void 0,onDragLeave:T?this.onDragLeave:void 0,onDrop:T?this.onDrop:void 0,onDragEnd:T?this.onDragEnd:void 0,onMouseMove:R},se,H),f.createElement(vr,{prefixCls:$,level:X,isStart:v,isEnd:y}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),i}(f.Component),ze=function(r){return f.createElement(it.Consumer,null,function(i){return f.createElement(gr,ie({},r,{context:i}))})};ze.displayName="TreeNode";ze.isTreeNode=1;function Se(t,r){if(!t)return[];var i=t.slice(),e=i.indexOf(r);return e>=0&&i.splice(e,1),i}function Ne(t,r){var i=(t||[]).slice();return i.indexOf(r)===-1&&i.push(r),i}function lt(t){return t.split("-")}function yr(t,r){var i=[],e=oe(r,t);function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(p){var n=p.key,a=p.children;i.push(n),l(a)})}return l(e.children),i}function mr(t){if(t.parent){var r=lt(t.pos);return Number(r[r.length-1])===t.parent.children.length-1}return!1}function br(t){var r=lt(t.pos);return Number(r[r.length-1])===0}function Pt(t,r,i,e,l,c,p,n,a,o){var s,d=t.clientX,u=t.clientY,v=t.target.getBoundingClientRect(),y=v.top,g=v.height,h=(o==="rtl"?-1:1)*(((l==null?void 0:l.x)||0)-d),m=(h-12)/e,x=a.filter(function(L){var H;return(H=n[L])===null||H===void 0||(H=H.children)===null||H===void 0?void 0:H.length}),S=oe(n,i.props.eventKey);if(u<y+g/2){var E=p.findIndex(function(L){return L.key===S.key}),K=E<=0?0:E-1,R=p[K].key;S=oe(n,R)}var N=S.key,k=S,D=S.key,$=0,P=0;if(!x.includes(N))for(var O=0;O<m&&mr(S);O+=1)S=S.parent,P+=1;var A=r.props.data,I=S.node,j=!0;return br(S)&&S.level===0&&u<y+g/2&&c({dragNode:A,dropNode:I,dropPosition:-1})&&S.key===i.props.eventKey?$=-1:(k.children||[]).length&&x.includes(D)?c({dragNode:A,dropNode:I,dropPosition:0})?$=0:j=!1:P===0?m>-1.5?c({dragNode:A,dropNode:I,dropPosition:1})?$=1:j=!1:c({dragNode:A,dropNode:I,dropPosition:0})?$=0:c({dragNode:A,dropNode:I,dropPosition:1})?$=1:j=!1:c({dragNode:A,dropNode:I,dropPosition:1})?$=1:j=!1,{dropPosition:$,dropLevelOffset:P,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:D,dropContainerKey:$===0?null:((s=S.parent)===null||s===void 0?void 0:s.key)||null,dropAllowed:j}}function Tt(t,r){if(t){var i=r.multiple;return i?t.slice():t.length?[t[0]]:t}}function nt(t){if(!t)return null;var r;if(Array.isArray(t))r={checkedKeys:t,halfCheckedKeys:void 0};else if(Le(t)==="object")r={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return ke(!1,"`checkedKeys` is not an array or an object"),null;return r}function It(t,r){var i=new Set;function e(l){if(!i.has(l)){var c=oe(r,l);if(c){i.add(l);var p=c.parent,n=c.node;n.disabled||p&&e(p.key)}}}return(t||[]).forEach(function(l){e(l)}),Me(i)}function Sr(t){var r=t.dropPosition,i=t.dropLevelOffset,e=t.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:l.top=0,l.left=-i*e;break;case 1:l.bottom=0,l.left=-i*e;break;case 0:l.bottom=0,l.left=e;break}return f.createElement("div",{style:l})}function en(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function xr(t,r){var i=f.useState(!1),e=W(i,2),l=e[0],c=e[1];xe(function(){if(l)return t(),function(){r()}},[l]),xe(function(){return c(!0),function(){c(!1)}},[])}var Er=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],tn=function(r,i){var e=r.className,l=r.style,c=r.motion,p=r.motionNodes,n=r.motionType,a=r.onMotionStart,o=r.onMotionEnd,s=r.active,d=r.treeNodeRequiredProps,u=Be(r,Er),v=f.useState(!0),y=W(v,2),g=y[0],h=y[1],m=f.useContext(it),x=m.prefixCls,S=p&&n!=="hide";xe(function(){p&&S!==g&&h(S)},[p]);var E=function(){p&&a()},K=f.useRef(!1),R=function(){p&&!K.current&&(K.current=!0,o())};xr(E,R);var N=function(D){S===D&&R()};return p?f.createElement(Nn,ie({ref:i,visible:g},c,{motionAppear:n==="show",onVisibleChanged:N}),function(k,D){var $=k.className,P=k.style;return f.createElement("div",{ref:D,className:Q("".concat(x,"-treenode-motion"),$),style:P},p.map(function(O){var A=Object.assign({},(en(O.data),O.data)),I=O.title,j=O.key,L=O.isStart,H=O.isEnd;delete A.children;var q=Ae(j,d);return f.createElement(ze,ie({},A,q,{title:I,active:s,data:O.data,key:j,isStart:L,isEnd:H}))}))}):f.createElement(ze,ie({domRef:i,className:e,style:l},u,{active:s}))};tn.displayName="MotionTreeNode";var Cr=f.forwardRef(tn);function Kr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=t.length,e=r.length;if(Math.abs(i-e)!==1)return{add:!1,key:null};function l(c,p){var n=new Map;c.forEach(function(o){n.set(o,!0)});var a=p.filter(function(o){return!n.has(o)});return a.length===1?a[0]:null}return i<e?{add:!0,key:l(t,r)}:{add:!1,key:l(r,t)}}function Lt(t,r,i){var e=t.findIndex(function(n){return n.key===i}),l=t[e+1],c=r.findIndex(function(n){return n.key===i});if(l){var p=r.findIndex(function(n){return n.key===l.key});return r.slice(c+1,p)}return r.slice(c+1)}var Nr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],_t={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},kr=function(){},Oe="RC_TREE_MOTION_".concat(Math.random()),rt={key:Oe},nn={key:Oe,level:0,index:0,pos:"0",node:rt,nodes:[rt]},Ht={parent:null,children:[],pos:nn.pos,data:rt,title:null,key:Oe,isStart:[],isEnd:[]};function At(t,r,i,e){return r===!1||!i?t:t.slice(0,Math.ceil(i/e)+1)}function zt(t){var r=t.key,i=t.pos;return Fe(r,i)}function Dr(t){for(var r=String(t.data.key),i=t;i.parent;)i=i.parent,r="".concat(i.data.key," > ").concat(r);return r}var rn=f.forwardRef(function(t,r){var i=t.prefixCls,e=t.data;t.selectable,t.checkable;var l=t.expandedKeys,c=t.selectedKeys,p=t.checkedKeys,n=t.loadedKeys,a=t.loadingKeys,o=t.halfCheckedKeys,s=t.keyEntities,d=t.disabled,u=t.dragging,v=t.dragOverNodeKey,y=t.dropPosition,g=t.motion,h=t.height,m=t.itemHeight,x=t.virtual,S=t.focusable,E=t.activeItem,K=t.focused,R=t.tabIndex,N=t.onKeyDown,k=t.onFocus,D=t.onBlur,$=t.onActiveChange,P=t.onListChangeStart,O=t.onListChangeEnd,A=Be(t,Nr),I=f.useRef(null),j=f.useRef(null);f.useImperativeHandle(r,function(){return{scrollTo:function(ae){I.current.scrollTo(ae)},getIndentWidth:function(){return j.current.offsetWidth}}});var L=f.useState(l),H=W(L,2),q=H[0],X=H[1],ce=f.useState(e),T=W(ce,2),Y=T[0],ne=T[1],se=f.useState(e),pe=W(se,2),ge=pe[0],V=pe[1],J=f.useState([]),ee=W(J,2),G=ee[0],B=ee[1],re=f.useState(null),De=W(re,2),Ee=De[0],ye=De[1],we=f.useRef(e);we.current=e;function Ce(){var F=we.current;ne(F),V(F),B([]),ye(null),O()}xe(function(){X(l);var F=Kr(q,l);if(F.key!==null)if(F.add){var ae=Y.findIndex(function(de){var ue=de.key;return ue===F.key}),le=At(Lt(Y,e,F.key),x,h,m),me=Y.slice();me.splice(ae+1,0,Ht),V(me),B(le),ye("show")}else{var ve=e.findIndex(function(de){var ue=de.key;return ue===F.key}),Re=At(Lt(e,Y,F.key),x,h,m),te=e.slice();te.splice(ve+1,0,Ht),V(te),B(Re),ye("hide")}else Y!==e&&(ne(e),V(e))},[l,e]),f.useEffect(function(){u||Ce()},[u]);var Pe=g?ge:e,$e={expandedKeys:l,selectedKeys:c,loadedKeys:n,loadingKeys:a,checkedKeys:p,halfCheckedKeys:o,dragOverNodeKey:v,dropPosition:y,keyEntities:s};return f.createElement(f.Fragment,null,K&&E&&f.createElement("span",{style:_t,"aria-live":"assertive"},Dr(E)),f.createElement("div",null,f.createElement("input",{style:_t,disabled:S===!1||d,tabIndex:S!==!1?R:null,onKeyDown:N,onFocus:k,onBlur:D,value:"",onChange:kr,"aria-label":"for screen reader"})),f.createElement("div",{className:"".concat(i,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},f.createElement("div",{className:"".concat(i,"-indent")},f.createElement("div",{ref:j,className:"".concat(i,"-indent-unit")}))),f.createElement(Yt,ie({},A,{data:Pe,itemKey:zt,height:h,fullHeight:!1,virtual:x,itemHeight:m,prefixCls:"".concat(i,"-list"),ref:I,onVisibleChange:function(ae){ae.every(function(le){return zt(le)!==Oe})&&Ce()}}),function(F){var ae=F.pos,le=Object.assign({},(en(F.data),F.data)),me=F.title,ve=F.key,Re=F.isStart,te=F.isEnd,de=Fe(ve,ae);delete le.key,delete le.children;var ue=Ae(de,$e);return f.createElement(Cr,ie({},le,ue,{title:me,active:!!E&&ve===E.key,pos:ae,data:F.data,isStart:Re,isEnd:te,motion:g,motionNodes:ve===Oe?G:null,motionType:Ee,onMotionStart:P,onMotionEnd:Ce,treeNodeRequiredProps:$e,onMouseMove:function(){$(null)}}))}))});rn.displayName="NodeList";var wr=10,an=function(t){qt(i,t);var r=Vt(i);function i(){var e;ot(this,i);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return e=r.call.apply(r,[this].concat(c)),b(C(e),"destroyed",!1),b(C(e),"delayedDragEnterLogic",void 0),b(C(e),"loadingRetryTimes",{}),b(C(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:qe()}),b(C(e),"dragStartMousePosition",null),b(C(e),"dragNode",void 0),b(C(e),"currentMouseOverDroppableNodeKey",null),b(C(e),"listRef",f.createRef()),b(C(e),"onNodeDragStart",function(n,a){var o=e.state,s=o.expandedKeys,d=o.keyEntities,u=e.props.onDragStart,v=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var y=Se(s,v);e.setState({draggingNodeKey:v,dragChildrenKeys:yr(v,d),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(y),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:n,node:U(a.props)})}),b(C(e),"onNodeDragEnter",function(n,a){var o=e.state,s=o.expandedKeys,d=o.keyEntities,u=o.dragChildrenKeys,v=o.flattenNodes,y=o.indent,g=e.props,h=g.onDragEnter,m=g.onExpand,x=g.allowDrop,S=g.direction,E=a.props,K=E.pos,R=E.eventKey,N=C(e),k=N.dragNode;if(e.currentMouseOverDroppableNodeKey!==R&&(e.currentMouseOverDroppableNodeKey=R),!k){e.resetDragState();return}var D=Pt(n,k,a,y,e.dragStartMousePosition,x,v,d,s,S),$=D.dropPosition,P=D.dropLevelOffset,O=D.dropTargetKey,A=D.dropContainerKey,I=D.dropTargetPos,j=D.dropAllowed,L=D.dragOverNodeKey;if(u.indexOf(O)!==-1||!j){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(H){clearTimeout(e.delayedDragEnterLogic[H])}),k.props.eventKey!==a.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[K]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var H=Me(s),q=oe(d,a.props.eventKey);q&&(q.children||[]).length&&(H=Ne(s,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(H),m==null||m(H,{node:U(a.props),expanded:!0,nativeEvent:n.nativeEvent})}},800)),k.props.eventKey===O&&P===0){e.resetDragState();return}e.setState({dragOverNodeKey:L,dropPosition:$,dropLevelOffset:P,dropTargetKey:O,dropContainerKey:A,dropTargetPos:I,dropAllowed:j}),h==null||h({event:n,node:U(a.props),expandedKeys:s})}),b(C(e),"onNodeDragOver",function(n,a){var o=e.state,s=o.dragChildrenKeys,d=o.flattenNodes,u=o.keyEntities,v=o.expandedKeys,y=o.indent,g=e.props,h=g.onDragOver,m=g.allowDrop,x=g.direction,S=C(e),E=S.dragNode;if(E){var K=Pt(n,E,a,y,e.dragStartMousePosition,m,d,u,v,x),R=K.dropPosition,N=K.dropLevelOffset,k=K.dropTargetKey,D=K.dropContainerKey,$=K.dropAllowed,P=K.dropTargetPos,O=K.dragOverNodeKey;s.indexOf(k)!==-1||!$||(E.props.eventKey===k&&N===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():R===e.state.dropPosition&&N===e.state.dropLevelOffset&&k===e.state.dropTargetKey&&D===e.state.dropContainerKey&&P===e.state.dropTargetPos&&$===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:R,dropLevelOffset:N,dropTargetKey:k,dropContainerKey:D,dropTargetPos:P,dropAllowed:$,dragOverNodeKey:O}),h==null||h({event:n,node:U(a.props)}))}}),b(C(e),"onNodeDragLeave",function(n,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;o==null||o({event:n,node:U(a.props)})}),b(C(e),"onWindowDragEnd",function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),b(C(e),"onNodeDragEnd",function(n,a){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),o==null||o({event:n,node:U(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),b(C(e),"onNodeDrop",function(n,a){var o,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=e.state,u=d.dragChildrenKeys,v=d.dropPosition,y=d.dropTargetKey,g=d.dropTargetPos,h=d.dropAllowed;if(h){var m=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),y!==null){var x=z(z({},Ae(y,e.getTreeNodeRequiredProps())),{},{active:((o=e.getActiveItem())===null||o===void 0?void 0:o.key)===y,data:oe(e.state.keyEntities,y).node}),S=u.indexOf(y)!==-1;ke(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var E=lt(g),K={event:n,node:U(x),dragNode:e.dragNode?U(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(u),dropToGap:v!==0,dropPosition:v+Number(E[E.length-1])};s||m==null||m(K),e.dragNode=null}}}),b(C(e),"cleanDragState",function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),b(C(e),"triggerExpandActionExpand",function(n,a){var o=e.state,s=o.expandedKeys,d=o.flattenNodes,u=a.expanded,v=a.key,y=a.isLeaf;if(!(y||n.shiftKey||n.metaKey||n.ctrlKey)){var g=d.filter(function(m){return m.key===v})[0],h=U(z(z({},Ae(v,e.getTreeNodeRequiredProps())),{},{data:g.data}));e.setExpandedKeys(u?Se(s,v):Ne(s,v)),e.onNodeExpand(n,h)}}),b(C(e),"onNodeClick",function(n,a){var o=e.props,s=o.onClick,d=o.expandAction;d==="click"&&e.triggerExpandActionExpand(n,a),s==null||s(n,a)}),b(C(e),"onNodeDoubleClick",function(n,a){var o=e.props,s=o.onDoubleClick,d=o.expandAction;d==="doubleClick"&&e.triggerExpandActionExpand(n,a),s==null||s(n,a)}),b(C(e),"onNodeSelect",function(n,a){var o=e.state.selectedKeys,s=e.state,d=s.keyEntities,u=s.fieldNames,v=e.props,y=v.onSelect,g=v.multiple,h=a.selected,m=a[u.key],x=!h;x?g?o=Ne(o,m):o=[m]:o=Se(o,m);var S=o.map(function(E){var K=oe(d,E);return K?K.node:null}).filter(function(E){return E});e.setUncontrolledState({selectedKeys:o}),y==null||y(o,{event:"select",selected:x,node:a,selectedNodes:S,nativeEvent:n.nativeEvent})}),b(C(e),"onNodeCheck",function(n,a,o){var s=e.state,d=s.keyEntities,u=s.checkedKeys,v=s.halfCheckedKeys,y=e.props,g=y.checkStrictly,h=y.onCheck,m=a.key,x,S={event:"check",node:a,checked:o,nativeEvent:n.nativeEvent};if(g){var E=o?Ne(u,m):Se(u,m),K=Se(v,m);x={checked:E,halfChecked:K},S.checkedNodes=E.map(function(P){return oe(d,P)}).filter(function(P){return P}).map(function(P){return P.node}),e.setUncontrolledState({checkedKeys:E})}else{var R=tt([].concat(Me(u),[m]),!0,d),N=R.checkedKeys,k=R.halfCheckedKeys;if(!o){var D=new Set(N);D.delete(m);var $=tt(Array.from(D),{checked:!1,halfCheckedKeys:k},d);N=$.checkedKeys,k=$.halfCheckedKeys}x=N,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=k,N.forEach(function(P){var O=oe(d,P);if(O){var A=O.node,I=O.pos;S.checkedNodes.push(A),S.checkedNodesPositions.push({node:A,pos:I})}}),e.setUncontrolledState({checkedKeys:N},!1,{halfCheckedKeys:k})}h==null||h(x,S)}),b(C(e),"onNodeLoad",function(n){var a,o=n.key,s=e.state.keyEntities,d=oe(s,o);if(!(d!=null&&(a=d.children)!==null&&a!==void 0&&a.length)){var u=new Promise(function(v,y){e.setState(function(g){var h=g.loadedKeys,m=h===void 0?[]:h,x=g.loadingKeys,S=x===void 0?[]:x,E=e.props,K=E.loadData,R=E.onLoad;if(!K||m.indexOf(o)!==-1||S.indexOf(o)!==-1)return null;var N=K(n);return N.then(function(){var k=e.state.loadedKeys,D=Ne(k,o);R==null||R(D,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:D}),e.setState(function($){return{loadingKeys:Se($.loadingKeys,o)}}),v()}).catch(function(k){if(e.setState(function($){return{loadingKeys:Se($.loadingKeys,o)}}),e.loadingRetryTimes[o]=(e.loadingRetryTimes[o]||0)+1,e.loadingRetryTimes[o]>=wr){var D=e.state.loadedKeys;ke(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Ne(D,o)}),v()}y(k)}),{loadingKeys:Ne(S,o)}})});return u.catch(function(){}),u}}),b(C(e),"onNodeMouseEnter",function(n,a){var o=e.props.onMouseEnter;o==null||o({event:n,node:a})}),b(C(e),"onNodeMouseLeave",function(n,a){var o=e.props.onMouseLeave;o==null||o({event:n,node:a})}),b(C(e),"onNodeContextMenu",function(n,a){var o=e.props.onRightClick;o&&(n.preventDefault(),o({event:n,node:a}))}),b(C(e),"onFocus",function(){var n=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];n==null||n.apply(void 0,o)}),b(C(e),"onBlur",function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];n==null||n.apply(void 0,o)}),b(C(e),"getTreeNodeRequiredProps",function(){var n=e.state,a=n.expandedKeys,o=n.selectedKeys,s=n.loadedKeys,d=n.loadingKeys,u=n.checkedKeys,v=n.halfCheckedKeys,y=n.dragOverNodeKey,g=n.dropPosition,h=n.keyEntities;return{expandedKeys:a||[],selectedKeys:o||[],loadedKeys:s||[],loadingKeys:d||[],checkedKeys:u||[],halfCheckedKeys:v||[],dragOverNodeKey:y,dropPosition:g,keyEntities:h}}),b(C(e),"setExpandedKeys",function(n){var a=e.state,o=a.treeData,s=a.fieldNames,d=et(o,n,s);e.setUncontrolledState({expandedKeys:n,flattenNodes:d},!0)}),b(C(e),"onNodeExpand",function(n,a){var o=e.state.expandedKeys,s=e.state,d=s.listChanging,u=s.fieldNames,v=e.props,y=v.onExpand,g=v.loadData,h=a.expanded,m=a[u.key];if(!d){var x=o.indexOf(m),S=!h;if(ke(h&&x!==-1||!h&&x===-1,"Expand state not sync with index check"),S?o=Ne(o,m):o=Se(o,m),e.setExpandedKeys(o),y==null||y(o,{node:a,expanded:S,nativeEvent:n.nativeEvent}),S&&g){var E=e.onNodeLoad(a);E&&E.then(function(){var K=et(e.state.treeData,o,u);e.setUncontrolledState({flattenNodes:K})}).catch(function(){var K=e.state.expandedKeys,R=Se(K,m);e.setExpandedKeys(R)})}}}),b(C(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),b(C(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),b(C(e),"onActiveChange",function(n){var a=e.state.activeKey,o=e.props,s=o.onActiveChange,d=o.itemScrollOffset,u=d===void 0?0:d;a!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:u}),s==null||s(n))}),b(C(e),"getActiveItem",function(){var n=e.state,a=n.activeKey,o=n.flattenNodes;return a===null?null:o.find(function(s){var d=s.key;return d===a})||null}),b(C(e),"offsetActiveKey",function(n){var a=e.state,o=a.flattenNodes,s=a.activeKey,d=o.findIndex(function(y){var g=y.key;return g===s});d===-1&&n<0&&(d=o.length),d=(d+n+o.length)%o.length;var u=o[d];if(u){var v=u.key;e.onActiveChange(v)}else e.onActiveChange(null)}),b(C(e),"onKeyDown",function(n){var a=e.state,o=a.activeKey,s=a.expandedKeys,d=a.checkedKeys,u=a.fieldNames,v=e.props,y=v.onKeyDown,g=v.checkable,h=v.selectable;switch(n.which){case Ie.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case Ie.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var m=e.getActiveItem();if(m&&m.data){var x=e.getTreeNodeRequiredProps(),S=m.data.isLeaf===!1||!!(m.data[u.children]||[]).length,E=U(z(z({},Ae(o,x)),{},{data:m.data,active:!0}));switch(n.which){case Ie.LEFT:{S&&s.includes(o)?e.onNodeExpand({},E):m.parent&&e.onActiveChange(m.parent.key),n.preventDefault();break}case Ie.RIGHT:{S&&!s.includes(o)?e.onNodeExpand({},E):m.children&&m.children.length&&e.onActiveChange(m.children[0].key),n.preventDefault();break}case Ie.ENTER:case Ie.SPACE:{g&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?e.onNodeCheck({},E,!d.includes(o)):!g&&h&&!E.disabled&&E.selectable!==!1&&e.onNodeSelect({},E);break}}}y==null||y(n)}),b(C(e),"setUncontrolledState",function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var s=!1,d=!0,u={};Object.keys(n).forEach(function(v){if(v in e.props){d=!1;return}s=!0,u[v]=n[v]}),s&&(!a||d)&&e.setState(z(z({},u),o))}}),b(C(e),"scrollTo",function(n){e.listRef.current.scrollTo(n)}),e}return at(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var l=this.props,c=l.activeKey,p=l.itemScrollOffset,n=p===void 0?0:p;c!==void 0&&c!==this.state.activeKey&&(this.setState({activeKey:c}),c!==null&&this.scrollTo({key:c,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var l=this.state,c=l.focused,p=l.flattenNodes,n=l.keyEntities,a=l.draggingNodeKey,o=l.activeKey,s=l.dropLevelOffset,d=l.dropContainerKey,u=l.dropTargetKey,v=l.dropPosition,y=l.dragOverNodeKey,g=l.indent,h=this.props,m=h.prefixCls,x=h.className,S=h.style,E=h.showLine,K=h.focusable,R=h.tabIndex,N=R===void 0?0:R,k=h.selectable,D=h.showIcon,$=h.icon,P=h.switcherIcon,O=h.draggable,A=h.checkable,I=h.checkStrictly,j=h.disabled,L=h.motion,H=h.loadData,q=h.filterTreeNode,X=h.height,ce=h.itemHeight,T=h.virtual,Y=h.titleRender,ne=h.dropIndicatorRender,se=h.onContextMenu,pe=h.onScroll,ge=h.direction,V=h.rootClassName,J=h.rootStyle,ee=Xt(this.props,{aria:!0,data:!0}),G;return O&&(Le(O)==="object"?G=O:typeof O=="function"?G={nodeDraggable:O}:G={}),f.createElement(it.Provider,{value:{prefixCls:m,selectable:k,showIcon:D,icon:$,switcherIcon:P,draggable:G,draggingNodeKey:a,checkable:A,checkStrictly:I,disabled:j,keyEntities:n,dropLevelOffset:s,dropContainerKey:d,dropTargetKey:u,dropPosition:v,dragOverNodeKey:y,indent:g,direction:ge,dropIndicatorRender:ne,loadData:H,filterTreeNode:q,titleRender:Y,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},f.createElement("div",{role:"tree",className:Q(m,x,V,b(b(b({},"".concat(m,"-show-line"),E),"".concat(m,"-focused"),c),"".concat(m,"-active-focused"),o!==null)),style:J},f.createElement(rn,ie({ref:this.listRef,prefixCls:m,style:S,data:p,disabled:j,selectable:k,checkable:!!A,motion:L,dragging:a!==null,height:X,itemHeight:ce,virtual:T,focusable:K,focused:c,tabIndex:N,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:se,onScroll:pe},this.getTreeNodeRequiredProps(),ee))))}}],[{key:"getDerivedStateFromProps",value:function(l,c){var p=c.prevProps,n={prevProps:l};function a(N){return!p&&N in l||p&&p[N]!==l[N]}var o,s=c.fieldNames;if(a("fieldNames")&&(s=qe(l.fieldNames),n.fieldNames=s),a("treeData")?o=l.treeData:a("children")&&(ke(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),o=Xn(l.children)),o){n.treeData=o;var d=Un(o,{fieldNames:s});n.keyEntities=z(b({},Oe,nn),d.keyEntities)}var u=n.keyEntities||c.keyEntities;if(a("expandedKeys")||p&&a("autoExpandParent"))n.expandedKeys=l.autoExpandParent||!p&&l.defaultExpandParent?It(l.expandedKeys,u):l.expandedKeys;else if(!p&&l.defaultExpandAll){var v=z({},u);delete v[Oe];var y=[];Object.keys(v).forEach(function(N){var k=v[N];k.children&&k.children.length&&y.push(k.key)}),n.expandedKeys=y}else!p&&l.defaultExpandedKeys&&(n.expandedKeys=l.autoExpandParent||l.defaultExpandParent?It(l.defaultExpandedKeys,u):l.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,o||n.expandedKeys){var g=et(o||c.treeData,n.expandedKeys||c.expandedKeys,s);n.flattenNodes=g}if(l.selectable&&(a("selectedKeys")?n.selectedKeys=Tt(l.selectedKeys,l):!p&&l.defaultSelectedKeys&&(n.selectedKeys=Tt(l.defaultSelectedKeys,l))),l.checkable){var h;if(a("checkedKeys")?h=nt(l.checkedKeys)||{}:!p&&l.defaultCheckedKeys?h=nt(l.defaultCheckedKeys)||{}:o&&(h=nt(l.checkedKeys)||{checkedKeys:c.checkedKeys,halfCheckedKeys:c.halfCheckedKeys}),h){var m=h,x=m.checkedKeys,S=x===void 0?[]:x,E=m.halfCheckedKeys,K=E===void 0?[]:E;if(!l.checkStrictly){var R=tt(S,!0,u);S=R.checkedKeys,K=R.halfCheckedKeys}n.checkedKeys=S,n.halfCheckedKeys=K}}return a("loadedKeys")&&(n.loadedKeys=l.loadedKeys),n}}]),i}(f.Component);b(an,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Sr,allowDrop:function(){return!0},expandAction:!1});b(an,"TreeNode",ze);const $r=new kn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Rr=(t,r)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${r.motionDurationSlow}`}}}),Mr=(t,r)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:r.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${fe(r.lineWidthBold)} solid ${r.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Or=(t,r)=>{const{treeCls:i,treeNodeCls:e,treeNodePadding:l,titleHeight:c,nodeSelectedBg:p,nodeHoverBg:n}=r,a=r.paddingXS;return{[i]:Object.assign(Object.assign({},We(r)),{background:r.colorBgContainer,borderRadius:r.borderRadius,transition:`background-color ${r.motionDurationSlow}`,[`&${i}-rtl`]:{[`${i}-switcher`]:{"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${i}-active-focused)`]:Object.assign({},Wt(r)),[`${i}-list-holder-inner`]:{alignItems:"flex-start"},[`&${i}-block-node`]:{[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${r.colorPrimary}`,opacity:0,animationName:$r,animationDuration:r.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[e]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${fe(l)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${i}-node-content-wrapper`]:{color:r.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${i}-node-content-wrapper`]:{background:r.controlItemBgHover},[`&:not(${e}-disabled).filter-node ${i}-title`]:{color:r.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${i}-draggable-icon`]:{flexShrink:0,width:c,lineHeight:fe(c),textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${r.motionDurationSlow}`,[`${e}:hover &`]:{opacity:.45}},[`&${e}-disabled`]:{[`${i}-draggable-icon`]:{visibility:"hidden"}}}},[`${i}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:c}},[`${i}-draggable-icon`]:{visibility:"hidden"},[`${i}-switcher`]:Object.assign(Object.assign({},Rr(t,r)),{position:"relative",flex:"none",alignSelf:"stretch",width:c,margin:0,lineHeight:fe(c),textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${r.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:c,height:c,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:r.borderRadius,transition:`all ${r.motionDurationSlow}`},[`&:not(${i}-switcher-noop):hover:before`]:{backgroundColor:r.colorBgTextHover},"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:r.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r.calc(c).div(2).equal(),bottom:r.calc(l).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${r.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:r.calc(r.calc(c).div(2).equal()).mul(.8).equal(),height:r.calc(c).div(2).equal(),borderBottom:`1px solid ${r.colorBorder}`,content:'""'}}}),[`${i}-checkbox`]:{top:"initial",marginInlineEnd:a,alignSelf:"flex-start",marginTop:r.marginXXS},[`${i}-node-content-wrapper, ${i}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:c,margin:0,padding:`0 ${fe(r.calc(r.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:fe(c),background:"transparent",borderRadius:r.borderRadius,cursor:"pointer",transition:`all ${r.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:n},[`&${i}-node-selected`]:{backgroundColor:p},[`${i}-iconEle`]:{display:"inline-block",width:c,height:c,lineHeight:fe(c),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${i}-unselectable ${i}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}-node-content-wrapper`]:Object.assign({lineHeight:fe(c),userSelect:"none"},Mr(t,r)),[`${e}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${r.colorPrimary}`}},"&-show-line":{[`${i}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r.calc(c).div(2).equal(),bottom:r.calc(l).mul(-1).equal(),borderInlineEnd:`1px solid ${r.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${i}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last`]:{[`${i}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${fe(r.calc(c).div(2).equal())} !important`}}}}})}},Pr=t=>{const{treeCls:r,treeNodeCls:i,treeNodePadding:e,directoryNodeSelectedBg:l,directoryNodeSelectedColor:c}=t;return{[`${r}${r}-directory`]:{[i]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:e,insetInlineStart:0,transition:`background-color ${t.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:t.controlItemBgHover}},"> *":{zIndex:1},[`${r}-switcher`]:{transition:`color ${t.motionDurationMid}`},[`${r}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${r}-node-selected`]:{color:c,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:l},[`${r}-switcher`]:{color:c},[`${r}-node-content-wrapper`]:{color:c,background:"transparent"}}}}}},Tr=(t,r)=>{const i=`.${t}`,e=`${i}-treenode`,l=r.calc(r.paddingXS).div(2).equal(),c=Ft(r,{treeCls:i,treeNodeCls:e,treeNodePadding:l});return[Or(t,c),Pr(c)]},Ir=t=>{const{controlHeightSM:r}=t;return{titleHeight:r,nodeHoverBg:t.controlItemBgHover,nodeSelectedBg:t.controlItemBgActive}},Lr=t=>{const{colorTextLightSolid:r,colorPrimary:i}=t;return Object.assign(Object.assign({},Ir(t)),{directoryNodeSelectedColor:r,directoryNodeSelectedBg:i})},Hr=jt("Tree",(t,r)=>{let{prefixCls:i}=r;return[{[t.componentCls]:Qt(`${i}-checkbox`,t)},Tr(i,t),Dn(t)]},Lr),Ar=t=>{const{prefixCls:r,switcherIcon:i,treeNodeProps:e,showLine:l,switcherLoadingIcon:c}=t,{isLeaf:p,expanded:n,loading:a}=e;if(a)return f.isValidElement(c)?c:f.createElement(wn,{className:`${r}-switcher-loading-icon`});let o;if(l&&typeof l=="object"&&(o=l.showLeafIcon),p){if(!l)return null;if(typeof o!="boolean"&&o){const u=typeof o=="function"?o(e):o,v=`${r}-switcher-line-custom-icon`;return f.isValidElement(u)?Nt(u,{className:Q(u.props.className||"",v)}):u}return o?f.createElement(or,{className:`${r}-switcher-line-icon`}):f.createElement("span",{className:`${r}-switcher-leaf-line`})}const s=`${r}-switcher-icon`,d=typeof i=="function"?i(e):i;return f.isValidElement(d)?Nt(d,{className:Q(d.props.className||"",s)}):d!==void 0?d:l?n?f.createElement(sr,{className:`${r}-switcher-line-icon`}):f.createElement(ur,{className:`${r}-switcher-line-icon`}):f.createElement(nr,{className:s})};export{ze as C,Yt as L,ur as R,Ar as S,an as T,Un as a,Qt as b,tt as c,or as d,It as e,qe as f,Tr as g,Xn as h,Ir as i,Hr as u};
