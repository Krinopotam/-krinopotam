var gh=Object.defineProperty;var mh=(n,e,t)=>e in n?gh(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var re=(n,e,t)=>mh(n,typeof e!="symbol"?e+"":e,t);import{Z as bh,$ as Oe,a0 as ti,a1 as $e,a2 as Me,a3 as vh,a4 as Ds,a5 as In,a6 as ri,a7 as yh,a8 as Ul,a9 as wh,aa as Ch,ab as Kl,ac as Ei,ad as Eh,ae as xh,af as Ui,ag as wa,ah as Ca,ai as It,aj as Sh,r as N,ak as Xl,k as Mr,o as ot,I as ki,_ as Qe,al as Yl,R as Ee,Q as Un,K as Ct,M as Go,am as Uo,i as Kn,f as Be,a as me,an as _h,h as st,g as Mi,m as fn,d as Li,ao as Rh,ap as Th,aq as Oh,ar as kh,as as Mh,at as Lr,u as he,au as Ar,av as Lh,aw as Ah,ax as Dh,ay as Jl,G as pn,y as Ko,U as Zl,az as Ph,aA as Fh,A as Xo,aB as Nh,aC as Ih,aD as $h,x as zh,T as ir,aE as Pe,B as Et,aF as Bh,l as Yo,aG as Hh,aH as jh,n as gt,P as Ps,aI as Vh,C as Ql,aJ as Wh,aK as qh,t as eu,aL as Jo,aM as Gh,v as Zo,aN as tu,e as qr,aO as Uh,H as Kh,aP as gn,aQ as to,q as Xh,aR as iu,aS as Qo,z as Ea,aT as Yh,aU as Jh,aV as Zh,J as Qh,aW as ed,V as td,aX as id,aY as nd,aZ as nu,a_ as Ut,a$ as rd,L as Dr,b0 as sd,Y as od,W as Sr,b1 as ad,b2 as ld,b3 as ud,F as cd,X as hd,b4 as dd,O as ru,b5 as su,b6 as fd,b7 as pd,b8 as gd,b9 as md,ba as bd,bb as vd,bc as yd,bd as wd,be as Cd,bf as Ed,bg as xd,bh as Sd,bi as _d,bj as nr,bk as Rd,bl as Td,bm as Od,bn as kd,bo as xa,bp as Md,bq as Ld,br as Ad,j as se,bs as Gr,D as Dd,bt as Pd,bu as ea,bv as Fd,bw as Nd,bx as Id,by as $d}from"./index-Bl-1kopd.js";import{T as ou,C as zd}from"./docco-DI1KRtYq.js";function au(n,e,t){switch(bh(n,e)){case 5103:return Me+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+n+n;case 4789:return In+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+n+In+n+$e+n+n;case 5936:switch(ti(n,e+11)){case 114:return Me+n+$e+Oe(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Me+n+$e+Oe(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Me+n+$e+Oe(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Me+n+$e+n+n;case 6165:return Me+n+$e+"flex-"+n+n;case 5187:return Me+n+Oe(n,/(\w+).+(:[^]+)/,Me+"box-$1$2"+$e+"flex-$1$2")+n;case 5443:return Me+n+$e+"flex-item-"+Oe(n,/flex-|-self/g,"")+(ri(n,/flex-|baseline/)?"":$e+"grid-row-"+Oe(n,/flex-|-self/g,""))+n;case 4675:return Me+n+$e+"flex-line-pack"+Oe(n,/align-content|flex-|-self/g,"")+n;case 5548:return Me+n+$e+Oe(n,"shrink","negative")+n;case 5292:return Me+n+$e+Oe(n,"basis","preferred-size")+n;case 6060:return Me+"box-"+Oe(n,"-grow","")+Me+n+$e+Oe(n,"grow","positive")+n;case 4554:return Me+Oe(n,/([^-])(transform)/g,"$1"+Me+"$2")+n;case 6187:return Oe(Oe(Oe(n,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),n,"")+n;case 5495:case 3959:return Oe(n,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return Oe(Oe(n,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+$e+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+n+n;case 4200:if(!ri(n,/flex-|baseline/))return $e+"grid-column-align"+yh(n,e)+n;break;case 2592:case 3360:return $e+Oe(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,r){return e=r,ri(i.props,/grid-\w+-end/)})?~Ds(n+(t=t[e].value),"span",0)?n:$e+Oe(n,"-start","")+n+$e+"grid-row-span:"+(~Ds(t,"span",0)?ri(t,/\d+/):+ri(t,/\d+/)-+ri(n,/\d+/))+";":$e+Oe(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return ri(i.props,/grid-\w+-start/)})?n:$e+Oe(Oe(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Oe(n,/(.+)-inline(.+)/,Me+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vh(n)-1-e>6)switch(ti(n,e+1)){case 109:if(ti(n,e+4)!==45)break;case 102:return Oe(n,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+In+(ti(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ds(n,"stretch",0)?au(Oe(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Oe(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,r,s,o,a,l,u){return $e+r+":"+s+u+(o?$e+r+"-span:"+(a?l:+l-+s)+u:"")+n});case 4949:if(ti(n,e+6)===121)return Oe(n,":",":"+Me)+n;break;case 6444:switch(ti(n,ti(n,14)===45?18:11)){case 120:return Oe(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Me+(ti(n,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+$e+"$2box$3")+n;case 100:return Oe(n,":",":"+$e)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Oe(n,"scroll-","scroll-snap-")+n}return n}function Bd(n){var e=xh(n);return function(t,i,r,s){for(var o="",a=0;a<e;a++)o+=n[a](t,i,r,s)||"";return o}}function Hd(n){return function(e){e.root||(e=e.return)&&n(e)}}function jd(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case Eh:n.return=au(n.value,n.length,t);return;case Ch:return Kl([Ei(n,{value:Oe(n.value,"@","@"+Me)})],i);case Ul:if(n.length)return wh(t=n.props,function(r){switch(ri(r,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ui(Ei(n,{props:[Oe(r,/:(read-\w+)/,":"+In+"$1")]})),Ui(Ei(n,{props:[r]})),wa(n,{props:Ca(t,i)});break;case"::placeholder":Ui(Ei(n,{props:[Oe(r,/:(plac\w+)/,":"+Me+"input-$1")]})),Ui(Ei(n,{props:[Oe(r,/:(plac\w+)/,":"+In+"$1")]})),Ui(Ei(n,{props:[Oe(r,/:(plac\w+)/,$e+"input-$1")]})),Ui(Ei(n,{props:[r]})),wa(n,{props:Ca(t,i)});break}return""})}}const Sa=n=>typeof n=="object"&&n!=null&&n.nodeType===1,_a=(n,e)=>(!e||n!=="hidden")&&n!=="visible"&&n!=="clip",Fs=(n,e)=>{if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){const t=getComputedStyle(n,null);return _a(t.overflowY,e)||_a(t.overflowX,e)||(i=>{const r=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!r&&(r.clientHeight<i.scrollHeight||r.clientWidth<i.scrollWidth)})(n)}return!1},pr=(n,e,t,i,r,s,o,a)=>s<n&&o>e||s>n&&o<e?0:s<=n&&a<=t||o>=e&&a>=t?s-n-i:o>e&&a<t||s<n&&a>t?o-e+r:0,Vd=n=>{const e=n.parentElement;return e??(n.getRootNode().host||null)},Ra=(n,e)=>{var t,i,r,s;if(typeof document>"u")return[];const{scrollMode:o,block:a,inline:l,boundary:u,skipOverflowHiddenElements:h}=e,d=typeof u=="function"?u:z=>z!==u;if(!Sa(n))throw new TypeError("Invalid target");const c=document.scrollingElement||document.documentElement,f=[];let v=n;for(;Sa(v)&&d(v);){if(v=Vd(v),v===c){f.push(v);break}v!=null&&v===document.body&&Fs(v)&&!Fs(document.documentElement)||v!=null&&Fs(v,h)&&f.push(v)}const y=(i=(t=window.visualViewport)==null?void 0:t.width)!=null?i:innerWidth,b=(s=(r=window.visualViewport)==null?void 0:r.height)!=null?s:innerHeight,{scrollX:p,scrollY:m}=window,{height:w,width:g,top:S,right:R,bottom:T,left:E}=n.getBoundingClientRect(),{top:O,right:C,bottom:x,left:_}=(z=>{const $=window.getComputedStyle(z);return{top:parseFloat($.scrollMarginTop)||0,right:parseFloat($.scrollMarginRight)||0,bottom:parseFloat($.scrollMarginBottom)||0,left:parseFloat($.scrollMarginLeft)||0}})(n);let L=a==="start"||a==="nearest"?S-O:a==="end"?T+x:S+w/2-O+x,M=l==="center"?E+g/2-_+C:l==="end"?R+C:E-_;const P=[];for(let z=0;z<f.length;z++){const $=f[z],{height:Y,width:V,top:I,right:D,bottom:H,left:B}=$.getBoundingClientRect();if(o==="if-needed"&&S>=0&&E>=0&&T<=b&&R<=y&&S>=I&&T<=H&&E>=B&&R<=D)return P;const J=getComputedStyle($),X=parseInt(J.borderLeftWidth,10),j=parseInt(J.borderTopWidth,10),U=parseInt(J.borderRightWidth,10),W=parseInt(J.borderBottomWidth,10);let k=0,F=0;const G="offsetWidth"in $?$.offsetWidth-$.clientWidth-X-U:0,Q="offsetHeight"in $?$.offsetHeight-$.clientHeight-j-W:0,ee="offsetWidth"in $?$.offsetWidth===0?0:V/$.offsetWidth:0,ne="offsetHeight"in $?$.offsetHeight===0?0:Y/$.offsetHeight:0;if(c===$)k=a==="start"?L:a==="end"?L-b:a==="nearest"?pr(m,m+b,b,j,W,m+L,m+L+w,w):L-b/2,F=l==="start"?M:l==="center"?M-y/2:l==="end"?M-y:pr(p,p+y,y,X,U,p+M,p+M+g,g),k=Math.max(0,k+m),F=Math.max(0,F+p);else{k=a==="start"?L-I-j:a==="end"?L-H+W+Q:a==="nearest"?pr(I,H,Y,j,W+Q,L,L+w,w):L-(I+Y/2)+Q/2,F=l==="start"?M-B-X:l==="center"?M-(B+V/2)+G/2:l==="end"?M-D+U+G:pr(B,D,V,X,U+G,M,M+g,g);const{scrollLeft:le,scrollTop:pe}=$;k=ne===0?0:Math.max(0,Math.min(pe+k/ne,$.scrollHeight-Y/ne+Q)),F=ee===0?0:Math.max(0,Math.min(le+F/ee,$.scrollWidth-V/ee+G)),L+=pe-k,M+=le-F}P.push({el:$,top:k,left:F})}return P},Wd=n=>n===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(n)?n:{block:"start",inline:"nearest"};function qd(n,e){if(!n.isConnected||!(r=>{let s=r;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(n))return;const t=(r=>{const s=window.getComputedStyle(r);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(n);if((r=>typeof r=="object"&&typeof r.behavior=="function")(e))return e.behavior(Ra(n,e));const i=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:r,top:s,left:o}of Ra(n,Wd(e))){const a=s-t.top+t.bottom,l=o-t.left+t.right;r.scroll({top:a,left:l,behavior:i})}}const Gd=new It("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Ud=new It("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Kd=new It("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Xd=new It("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Yd=new It("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Jd=new It("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Zd=new It("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Qd=new It("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),ef={"move-up":{inKeyframes:Zd,outKeyframes:Qd},"move-down":{inKeyframes:Gd,outKeyframes:Ud},"move-left":{inKeyframes:Kd,outKeyframes:Xd},"move-right":{inKeyframes:Yd,outKeyframes:Jd}},Ta=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:s}=ef[e];return[Sh(i,r,s,n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]};function lu(n){return e=>N.createElement(Xl,{theme:{token:{motion:!1,zIndexPopupBase:0}}},N.createElement(n,Object.assign({},e)))}const tf=(n,e,t,i)=>lu(s=>{const{prefixCls:o,style:a}=s,l=N.useRef(null),[u,h]=N.useState(0),[d,c]=N.useState(0),[f,v]=Mr(!1,{value:s.open}),{getPrefixCls:y}=N.useContext(ot),b=y(e||"select",o);N.useEffect(()=>{if(v(!0),typeof ResizeObserver<"u"){const w=new ResizeObserver(S=>{const R=S[0].target;h(R.offsetHeight+8),c(R.offsetWidth)}),g=setInterval(()=>{var S;const R=t?`.${t(b)}`:`.${b}-dropdown`,T=(S=l.current)===null||S===void 0?void 0:S.querySelector(R);T&&(clearInterval(g),w.observe(T))},10);return()=>{clearInterval(g),w.disconnect()}}},[]);let p=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},a),{margin:0}),open:f,visible:f,getPopupContainer:()=>l.current});i&&(p=i(p));const m={paddingBottom:u,position:"relative",minWidth:d};return N.createElement("div",{ref:l,style:m},N.createElement(n,Object.assign({},p)))});var nf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},rf=function(e,t){return N.createElement(ki,Qe({},e,{ref:t,icon:nf}))},uu=N.forwardRef(rf);const Xn=["xxl","xl","lg","md","sm","xs"],sf=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),of=n=>{const e=n,t=[].concat(Xn).reverse();return t.forEach((i,r)=>{const s=i.toUpperCase(),o=`screen${s}Min`,a=`screen${s}`;if(!(e[o]<=e[a]))throw new Error(`${o}<=${a} fails : !(${e[o]}<=${e[a]})`);if(r<t.length-1){const l=`screen${s}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const h=`screen${t[r+1].toUpperCase()}Min`;if(!(e[l]<=e[h]))throw new Error(`${l}<=${h} fails : !(${e[l]}<=${e[h]})`)}}),n};function af(){const[,n]=Yl(),e=sf(of(n));return Ee.useMemo(()=>{const t=new Map;let i=-1,r={};return{matchHandlers:{},dispatch(s){return r=s,t.forEach(o=>o(r)),t.size>=1},subscribe(s){return t.size||this.register(),i+=1,t.set(i,s),s(r),i},unsubscribe(s){t.delete(s),t.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{const o=e[s],a=this.matchHandlers[o];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),t.clear()},register(){Object.keys(e).forEach(s=>{const o=e[s],a=u=>{let{matches:h}=u;this.dispatch(Object.assign(Object.assign({},r),{[s]:h}))},l=window.matchMedia(o);l.addListener(a),this.matchHandlers[o]={mql:l,listener:a},a(l)})},responsiveMap:e}},[n])}var lf=Ct.ESC,uf=Ct.TAB;function cf(n){var e=n.visible,t=n.triggerRef,i=n.onVisibleChange,r=n.autoFocus,s=n.overlayRef,o=N.useRef(!1),a=function(){if(e){var d,c;(d=t.current)===null||d===void 0||(c=d.focus)===null||c===void 0||c.call(d),i==null||i(!1)}},l=function(){var d;return(d=s.current)!==null&&d!==void 0&&d.focus?(s.current.focus(),o.current=!0,!0):!1},u=function(d){switch(d.keyCode){case lf:a();break;case uf:{var c=!1;o.current||(c=l()),c?d.preventDefault():a();break}}};N.useEffect(function(){return e?(window.addEventListener("keydown",u),r&&Un(l,3),function(){window.removeEventListener("keydown",u),o.current=!1}):function(){o.current=!1}},[e])}var hf=N.forwardRef(function(n,e){var t=n.overlay,i=n.arrow,r=n.prefixCls,s=N.useMemo(function(){var a;return typeof t=="function"?a=t():a=t,a},[t]),o=Go(e,s==null?void 0:s.ref);return Ee.createElement(Ee.Fragment,null,i&&Ee.createElement("div",{className:"".concat(r,"-arrow")}),Ee.cloneElement(s,{ref:Uo(s)?o:void 0}))}),Ki={adjustX:1,adjustY:1},Xi=[0,0],df={topLeft:{points:["bl","tl"],overflow:Ki,offset:[0,-4],targetOffset:Xi},top:{points:["bc","tc"],overflow:Ki,offset:[0,-4],targetOffset:Xi},topRight:{points:["br","tr"],overflow:Ki,offset:[0,-4],targetOffset:Xi},bottomLeft:{points:["tl","bl"],overflow:Ki,offset:[0,4],targetOffset:Xi},bottom:{points:["tc","bc"],overflow:Ki,offset:[0,4],targetOffset:Xi},bottomRight:{points:["tr","br"],overflow:Ki,offset:[0,4],targetOffset:Xi}},ff=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function pf(n,e){var t,i=n.arrow,r=i===void 0?!1:i,s=n.prefixCls,o=s===void 0?"rc-dropdown":s,a=n.transitionName,l=n.animation,u=n.align,h=n.placement,d=h===void 0?"bottomLeft":h,c=n.placements,f=c===void 0?df:c,v=n.getPopupContainer,y=n.showAction,b=n.hideAction,p=n.overlayClassName,m=n.overlayStyle,w=n.visible,g=n.trigger,S=g===void 0?["hover"]:g,R=n.autoFocus,T=n.overlay,E=n.children,O=n.onVisibleChange,C=Kn(n,ff),x=Ee.useState(),_=Be(x,2),L=_[0],M=_[1],P="visible"in n?w:L,z=Ee.useRef(null),$=Ee.useRef(null),Y=Ee.useRef(null);Ee.useImperativeHandle(e,function(){return z.current});var V=function(W){M(W),O==null||O(W)};cf({visible:P,triggerRef:Y,onVisibleChange:V,autoFocus:R,overlayRef:$});var I=function(W){var k=n.onOverlayClick;M(!1),k&&k(W)},D=function(){return Ee.createElement(hf,{ref:$,overlay:T,prefixCls:o,arrow:r})},H=function(){return typeof T=="function"?D:D()},B=function(){var W=n.minOverlayWidthMatchTrigger,k=n.alignPoint;return"minOverlayWidthMatchTrigger"in n?W:!k},J=function(){var W=n.openClassName;return W!==void 0?W:"".concat(o,"-open")},X=Ee.cloneElement(E,{className:me((t=E.props)===null||t===void 0?void 0:t.className,P&&J()),ref:Uo(E)?Go(Y,E.ref):void 0}),j=b;return!j&&S.indexOf("contextMenu")!==-1&&(j=["click"]),Ee.createElement(_h,Qe({builtinPlacements:f},C,{prefixCls:o,ref:z,popupClassName:me(p,st({},"".concat(o,"-show-arrow"),r)),popupStyle:m,action:S,showAction:y,hideAction:j,popupPlacement:d,popupAlign:u,popupTransitionName:a,popupAnimation:l,popupVisible:P,stretch:B()?"minWidth":"",popup:H(),onPopupVisibleChange:V,onPopupClick:I,getPopupContainer:v}),X)}const cu=Ee.forwardRef(pf),gf=n=>{const{componentCls:e,menuCls:t,colorError:i,colorTextLightSolid:r}=n,s=`${t}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${t} ${s}`]:{[`&${s}-danger:not(${s}-disabled)`]:{color:i,"&:hover":{color:r,backgroundColor:i}}}}}},mf=n=>{const{componentCls:e,menuCls:t,zIndexPopup:i,dropdownArrowDistance:r,sizePopupArrow:s,antCls:o,iconCls:a,motionDurationMid:l,paddingBlock:u,fontSize:h,dropdownEdgeChildPadding:d,colorTextDisabled:c,fontSizeIcon:f,controlPaddingHorizontal:v,colorBgElevated:y}=n;return[{[e]:Object.assign(Object.assign({},Li(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:n.calc(s).div(2).sub(r).equal(),zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${o}-btn`]:{[`& > ${a}-down, & > ${o}-btn-icon > ${a}-down`]:{fontSize:f}},[`${e}-wrap`]:{position:"relative",[`${o}-btn > ${a}-down`]:{fontSize:f},[`${a}-down::before`]:{transition:`transform ${l}`}},[`${e}-wrap-open`]:{[`${a}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${o}-slide-down-enter${o}-slide-down-enter-active${e}-placement-bottomLeft,
          &${o}-slide-down-appear${o}-slide-down-appear-active${e}-placement-bottomLeft,
          &${o}-slide-down-enter${o}-slide-down-enter-active${e}-placement-bottom,
          &${o}-slide-down-appear${o}-slide-down-appear-active${e}-placement-bottom,
          &${o}-slide-down-enter${o}-slide-down-enter-active${e}-placement-bottomRight,
          &${o}-slide-down-appear${o}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:Rh},[`&${o}-slide-up-enter${o}-slide-up-enter-active${e}-placement-topLeft,
          &${o}-slide-up-appear${o}-slide-up-appear-active${e}-placement-topLeft,
          &${o}-slide-up-enter${o}-slide-up-enter-active${e}-placement-top,
          &${o}-slide-up-appear${o}-slide-up-appear-active${e}-placement-top,
          &${o}-slide-up-enter${o}-slide-up-enter-active${e}-placement-topRight,
          &${o}-slide-up-appear${o}-slide-up-appear-active${e}-placement-topRight`]:{animationName:Th},[`&${o}-slide-down-leave${o}-slide-down-leave-active${e}-placement-bottomLeft,
          &${o}-slide-down-leave${o}-slide-down-leave-active${e}-placement-bottom,
          &${o}-slide-down-leave${o}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:Oh},[`&${o}-slide-up-leave${o}-slide-up-leave-active${e}-placement-topLeft,
          &${o}-slide-up-leave${o}-slide-up-leave-active${e}-placement-top,
          &${o}-slide-up-leave${o}-slide-up-leave-active${e}-placement-topRight`]:{animationName:kh}})},Mh(n,y,{arrowPlacement:{top:!0,bottom:!0}}),{[`${e} ${t}`]:{position:"relative",margin:0},[`${t}-submenu-popup`]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${e}, ${e}-menu-submenu`]:{[t]:Object.assign(Object.assign({padding:d,listStyleType:"none",backgroundColor:y,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary},Lr(n)),{"&:empty":{padding:0,boxShadow:"none"},[`${t}-item-group-title`]:{padding:`${he(u)} ${he(v)}`,color:n.colorTextDescription,transition:`all ${l}`},[`${t}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${t}-item-icon`]:{minWidth:h,marginInlineEnd:n.marginXS,fontSize:n.fontSizeSM},[`${t}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${t}-item, ${t}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${he(u)} ${he(v)}`,color:n.colorText,fontWeight:"normal",fontSize:h,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:n.borderRadiusSM,"&:hover, &-active":{backgroundColor:n.controlItemBgHover}},Lr(n)),{"&-selected":{color:n.colorPrimary,backgroundColor:n.controlItemBgActive,"&:hover, &-active":{backgroundColor:n.controlItemBgActiveHover}},"&-disabled":{color:c,cursor:"not-allowed","&:hover":{color:c,backgroundColor:y,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${he(n.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:n.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:n.colorTextDescription,fontSize:f,fontStyle:"normal"}}}),[`${t}-item-group-list`]:{margin:`0 ${he(n.marginXS)}`,padding:0,listStyle:"none"},[`${t}-submenu-title`]:{paddingInlineEnd:n.calc(v).add(n.fontSizeSM).equal()},[`${t}-submenu-vertical`]:{position:"relative"},[`${t}-submenu${t}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:c,backgroundColor:y,cursor:"not-allowed"}},[`${t}-submenu-selected ${e}-menu-submenu-title`]:{color:n.colorPrimary}})}},[Ar(n,"slide-up"),Ar(n,"slide-down"),Ta(n,"move-up"),Ta(n,"move-down"),Lh(n,"zoom-big")]]},bf=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+50,paddingBlock:(n.controlHeight-n.fontSize*n.lineHeight)/2},Ah({contentRadius:n.borderRadiusLG,limitVerticalRadius:!0})),Dh(n)),vf=Mi("Dropdown",n=>{const{marginXXS:e,sizePopupArrow:t,paddingXXS:i,componentCls:r}=n,s=fn(n,{menuCls:`${r}-menu`,dropdownArrowDistance:n.calc(t).div(2).add(e).equal(),dropdownEdgeChildPadding:i});return[mf(s),gf(s)]},bf,{resetStyle:!1}),Ur=n=>{const{menu:e,arrow:t,prefixCls:i,children:r,trigger:s,disabled:o,dropdownRender:a,getPopupContainer:l,overlayClassName:u,rootClassName:h,overlayStyle:d,open:c,onOpenChange:f,visible:v,onVisibleChange:y,mouseEnterDelay:b=.15,mouseLeaveDelay:p=.1,autoAdjustOverflow:m=!0,placement:w="",overlay:g,transitionName:S}=n,{getPopupContainer:R,getPrefixCls:T,direction:E,dropdown:O}=N.useContext(ot);Jl();const C=N.useMemo(()=>{const Q=T();return S!==void 0?S:w.includes("top")?`${Q}-slide-down`:`${Q}-slide-up`},[T,w,S]),x=N.useMemo(()=>w?w.includes("Center")?w.slice(0,w.indexOf("Center")):w:E==="rtl"?"bottomRight":"bottomLeft",[w,E]),_=T("dropdown",i),L=pn(_),[M,P,z]=vf(_,L),[,$]=Yl(),Y=N.Children.only(r),V=Ko(Y,{className:me(`${_}-trigger`,{[`${_}-rtl`]:E==="rtl"},Y.props.className),disabled:o}),I=o?[]:s;let D;I&&I.includes("contextMenu")&&(D=!0);const[H,B]=Mr(!1,{value:c??v}),J=Zl(Q=>{f==null||f(Q,{source:"trigger"}),y==null||y(Q),B(Q)}),X=me(u,h,P,z,L,O==null?void 0:O.className,{[`${_}-rtl`]:E==="rtl"}),j=Ph({arrowPointAtCenter:typeof t=="object"&&t.pointAtCenter,autoAdjustOverflow:m,offset:$.marginXXS,arrowWidth:t?$.sizePopupArrow:0,borderRadius:$.borderRadius}),U=N.useCallback(()=>{e!=null&&e.selectable&&(e!=null&&e.multiple)||(f==null||f(!1,{source:"menu"}),B(!1))},[e==null?void 0:e.selectable,e==null?void 0:e.multiple]),W=()=>{let Q;return e!=null&&e.items?Q=N.createElement(Ih,Object.assign({},e)):typeof g=="function"?Q=g():Q=g,a&&(Q=a(Q)),Q=N.Children.only(typeof Q=="string"?N.createElement("span",null,Q):Q),N.createElement($h,{prefixCls:`${_}-menu`,rootClassName:me(z,L),expandIcon:N.createElement("span",{className:`${_}-menu-submenu-arrow`},N.createElement(zh,{className:`${_}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:U,validator:ee=>{}},Q)},[k,F]=Fh("Dropdown",d==null?void 0:d.zIndex);let G=N.createElement(cu,Object.assign({alignPoint:D},Xo(n,["rootClassName"]),{mouseEnterDelay:b,mouseLeaveDelay:p,visible:H,builtinPlacements:j,arrow:!!t,overlayClassName:X,prefixCls:_,getPopupContainer:l||R,transitionName:C,trigger:I,overlay:W,placement:x,onVisibleChange:J,overlayStyle:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.style),d),{zIndex:k})}),V);return k&&(G=N.createElement(Nh.Provider,{value:F},G)),M(G)};function yf(n){return Object.assign(Object.assign({},n),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const wf=tf(Ur,"dropdown",n=>n,yf),Cf=n=>N.createElement(wf,Object.assign({},n),N.createElement("span",null));Ur._InternalPanelDoNotUseOrYouWillBeFired=Cf;var hu={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(Pe,function(){var t=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",h="week",d="month",c="quarter",f="year",v="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var P=["th","st","nd","rd"],z=M%100;return"["+M+(P[(z-20)%10]||P[z]||P[0])+"]"}},w=function(M,P,z){var $=String(M);return!$||$.length>=P?M:""+Array(P+1-$.length).join(z)+M},g={s:w,z:function(M){var P=-M.utcOffset(),z=Math.abs(P),$=Math.floor(z/60),Y=z%60;return(P<=0?"+":"-")+w($,2,"0")+":"+w(Y,2,"0")},m:function M(P,z){if(P.date()<z.date())return-M(z,P);var $=12*(z.year()-P.year())+(z.month()-P.month()),Y=P.clone().add($,d),V=z-Y<0,I=P.clone().add($+(V?-1:1),d);return+(-($+(z-Y)/(V?Y-I:I-Y))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:d,y:f,w:h,d:u,D:v,h:l,m:a,s:o,ms:s,Q:c}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},S="en",R={};R[S]=m;var T="$isDayjsObject",E=function(M){return M instanceof _||!(!M||!M[T])},O=function M(P,z,$){var Y;if(!P)return S;if(typeof P=="string"){var V=P.toLowerCase();R[V]&&(Y=V),z&&(R[V]=z,Y=V);var I=P.split("-");if(!Y&&I.length>1)return M(I[0])}else{var D=P.name;R[D]=P,Y=D}return!$&&Y&&(S=Y),Y||!$&&S},C=function(M,P){if(E(M))return M.clone();var z=typeof P=="object"?P:{};return z.date=M,z.args=arguments,new _(z)},x=g;x.l=O,x.i=E,x.w=function(M,P){return C(M,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var _=function(){function M(z){this.$L=O(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[T]=!0}var P=M.prototype;return P.parse=function(z){this.$d=function($){var Y=$.date,V=$.utc;if(Y===null)return new Date(NaN);if(x.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var I=Y.match(b);if(I){var D=I[2]-1||0,H=(I[7]||"0").substring(0,3);return V?new Date(Date.UTC(I[1],D,I[3]||1,I[4]||0,I[5]||0,I[6]||0,H)):new Date(I[1],D,I[3]||1,I[4]||0,I[5]||0,I[6]||0,H)}}return new Date(Y)}(z),this.init()},P.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},P.$utils=function(){return x},P.isValid=function(){return this.$d.toString()!==y},P.isSame=function(z,$){var Y=C(z);return this.startOf($)<=Y&&Y<=this.endOf($)},P.isAfter=function(z,$){return C(z)<this.startOf($)},P.isBefore=function(z,$){return this.endOf($)<C(z)},P.$g=function(z,$,Y){return x.u(z)?this[$]:this.set(Y,z)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(z,$){var Y=this,V=!!x.u($)||$,I=x.p(z),D=function(k,F){var G=x.w(Y.$u?Date.UTC(Y.$y,F,k):new Date(Y.$y,F,k),Y);return V?G:G.endOf(u)},H=function(k,F){return x.w(Y.toDate()[k].apply(Y.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(F)),Y)},B=this.$W,J=this.$M,X=this.$D,j="set"+(this.$u?"UTC":"");switch(I){case f:return V?D(1,0):D(31,11);case d:return V?D(1,J):D(0,J+1);case h:var U=this.$locale().weekStart||0,W=(B<U?B+7:B)-U;return D(V?X-W:X+(6-W),J);case u:case v:return H(j+"Hours",0);case l:return H(j+"Minutes",1);case a:return H(j+"Seconds",2);case o:return H(j+"Milliseconds",3);default:return this.clone()}},P.endOf=function(z){return this.startOf(z,!1)},P.$set=function(z,$){var Y,V=x.p(z),I="set"+(this.$u?"UTC":""),D=(Y={},Y[u]=I+"Date",Y[v]=I+"Date",Y[d]=I+"Month",Y[f]=I+"FullYear",Y[l]=I+"Hours",Y[a]=I+"Minutes",Y[o]=I+"Seconds",Y[s]=I+"Milliseconds",Y)[V],H=V===u?this.$D+($-this.$W):$;if(V===d||V===f){var B=this.clone().set(v,1);B.$d[D](H),B.init(),this.$d=B.set(v,Math.min(this.$D,B.daysInMonth())).$d}else D&&this.$d[D](H);return this.init(),this},P.set=function(z,$){return this.clone().$set(z,$)},P.get=function(z){return this[x.p(z)]()},P.add=function(z,$){var Y,V=this;z=Number(z);var I=x.p($),D=function(J){var X=C(V);return x.w(X.date(X.date()+Math.round(J*z)),V)};if(I===d)return this.set(d,this.$M+z);if(I===f)return this.set(f,this.$y+z);if(I===u)return D(1);if(I===h)return D(7);var H=(Y={},Y[a]=i,Y[l]=r,Y[o]=t,Y)[I]||1,B=this.$d.getTime()+z*H;return x.w(B,this)},P.subtract=function(z,$){return this.add(-1*z,$)},P.format=function(z){var $=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||y;var V=z||"YYYY-MM-DDTHH:mm:ssZ",I=x.z(this),D=this.$H,H=this.$m,B=this.$M,J=Y.weekdays,X=Y.months,j=Y.meridiem,U=function(F,G,Q,ee){return F&&(F[G]||F($,V))||Q[G].slice(0,ee)},W=function(F){return x.s(D%12||12,F,"0")},k=j||function(F,G,Q){var ee=F<12?"AM":"PM";return Q?ee.toLowerCase():ee};return V.replace(p,function(F,G){return G||function(Q){switch(Q){case"YY":return String($.$y).slice(-2);case"YYYY":return x.s($.$y,4,"0");case"M":return B+1;case"MM":return x.s(B+1,2,"0");case"MMM":return U(Y.monthsShort,B,X,3);case"MMMM":return U(X,B);case"D":return $.$D;case"DD":return x.s($.$D,2,"0");case"d":return String($.$W);case"dd":return U(Y.weekdaysMin,$.$W,J,2);case"ddd":return U(Y.weekdaysShort,$.$W,J,3);case"dddd":return J[$.$W];case"H":return String(D);case"HH":return x.s(D,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return k(D,H,!0);case"A":return k(D,H,!1);case"m":return String(H);case"mm":return x.s(H,2,"0");case"s":return String($.$s);case"ss":return x.s($.$s,2,"0");case"SSS":return x.s($.$ms,3,"0");case"Z":return I}return null}(F)||I.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(z,$,Y){var V,I=this,D=x.p($),H=C(z),B=(H.utcOffset()-this.utcOffset())*i,J=this-H,X=function(){return x.m(I,H)};switch(D){case f:V=X()/12;break;case d:V=X();break;case c:V=X()/3;break;case h:V=(J-B)/6048e5;break;case u:V=(J-B)/864e5;break;case l:V=J/r;break;case a:V=J/i;break;case o:V=J/t;break;default:V=J}return Y?V:x.a(V)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return R[this.$L]},P.locale=function(z,$){if(!z)return this.$L;var Y=this.clone(),V=O(z,$,!0);return V&&(Y.$L=V),Y},P.clone=function(){return x.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},M}(),L=_.prototype;return C.prototype=L,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",v]].forEach(function(M){L[M[1]]=function(P){return this.$g(P,M[0],M[1])}}),C.extend=function(M,P){return M.$i||(M(P,_,C),M.$i=!0),C},C.locale=O,C.isDayjs=E,C.unix=function(M){return C(1e3*M)},C.en=R[S],C.Ls=R,C.p={},C})})(hu);var Ef=hu.exports;const Oa=ir(Ef);var xf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Sf=function(e,t){return N.createElement(ki,Qe({},e,{ref:t,icon:xf}))},_f=N.forwardRef(Sf);const Kr=N.createContext(null);var Rf=function(e){var t=e.activeTabOffset,i=e.horizontal,r=e.rtl,s=e.indicator,o=s===void 0?{}:s,a=o.size,l=o.align,u=l===void 0?"center":l,h=N.useState(),d=Be(h,2),c=d[0],f=d[1],v=N.useRef(),y=Ee.useCallback(function(p){return typeof a=="function"?a(p):typeof a=="number"?a:p},[a]);function b(){Un.cancel(v.current)}return N.useEffect(function(){var p={};if(t)if(i){p.width=y(t.width);var m=r?"right":"left";u==="start"&&(p[m]=t[m]),u==="center"&&(p[m]=t[m]+t.width/2,p.transform=r?"translateX(50%)":"translateX(-50%)"),u==="end"&&(p[m]=t[m]+t.width,p.transform="translateX(-100%)")}else p.height=y(t.height),u==="start"&&(p.top=t.top),u==="center"&&(p.top=t.top+t.height/2,p.transform="translateY(-50%)"),u==="end"&&(p.top=t.top+t.height,p.transform="translateY(-100%)");return b(),v.current=Un(function(){f(p)}),b},[t,i,r,u,y]),{style:c}},ka={width:0,height:0,left:0,top:0};function Tf(n,e,t){return N.useMemo(function(){for(var i,r=new Map,s=e.get((i=n[0])===null||i===void 0?void 0:i.key)||ka,o=s.left+s.width,a=0;a<n.length;a+=1){var l=n[a].key,u=e.get(l);if(!u){var h;u=e.get((h=n[a-1])===null||h===void 0?void 0:h.key)||ka}var d=r.get(l)||Et({},u);d.right=o-d.left-d.width,r.set(l,d)}return r},[n.map(function(i){return i.key}).join("_"),e,t])}function Ma(n,e){var t=N.useRef(n),i=N.useState({}),r=Be(i,2),s=r[1];function o(a){var l=typeof a=="function"?a(t.current):a;l!==t.current&&e(l,t.current),t.current=l,s({})}return[t.current,o]}var Of=.1,La=.01,_r=20,Aa=Math.pow(.995,_r);function kf(n,e){var t=N.useState(),i=Be(t,2),r=i[0],s=i[1],o=N.useState(0),a=Be(o,2),l=a[0],u=a[1],h=N.useState(0),d=Be(h,2),c=d[0],f=d[1],v=N.useState(),y=Be(v,2),b=y[0],p=y[1],m=N.useRef();function w(O){var C=O.touches[0],x=C.screenX,_=C.screenY;s({x,y:_}),window.clearInterval(m.current)}function g(O){if(r){O.preventDefault();var C=O.touches[0],x=C.screenX,_=C.screenY;s({x,y:_});var L=x-r.x,M=_-r.y;e(L,M);var P=Date.now();u(P),f(P-l),p({x:L,y:M})}}function S(){if(r&&(s(null),p(null),b)){var O=b.x/c,C=b.y/c,x=Math.abs(O),_=Math.abs(C);if(Math.max(x,_)<Of)return;var L=O,M=C;m.current=window.setInterval(function(){if(Math.abs(L)<La&&Math.abs(M)<La){window.clearInterval(m.current);return}L*=Aa,M*=Aa,e(L*_r,M*_r)},_r)}}var R=N.useRef();function T(O){var C=O.deltaX,x=O.deltaY,_=0,L=Math.abs(C),M=Math.abs(x);L===M?_=R.current==="x"?C:x:L>M?(_=C,R.current="x"):(_=x,R.current="y"),e(-_,-_)&&O.preventDefault()}var E=N.useRef(null);E.current={onTouchStart:w,onTouchMove:g,onTouchEnd:S,onWheel:T},N.useEffect(function(){function O(L){E.current.onTouchStart(L)}function C(L){E.current.onTouchMove(L)}function x(L){E.current.onTouchEnd(L)}function _(L){E.current.onWheel(L)}return document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",x,{passive:!0}),n.current.addEventListener("touchstart",O,{passive:!0}),n.current.addEventListener("wheel",_,{passive:!1}),function(){document.removeEventListener("touchmove",C),document.removeEventListener("touchend",x)}},[])}function du(n){var e=N.useState(0),t=Be(e,2),i=t[0],r=t[1],s=N.useRef(0),o=N.useRef();return o.current=n,Bh(function(){var a;(a=o.current)===null||a===void 0||a.call(o)},[i]),function(){s.current===i&&(s.current+=1,r(s.current))}}function Mf(n){var e=N.useRef([]),t=N.useState({}),i=Be(t,2),r=i[1],s=N.useRef(typeof n=="function"?n():n),o=du(function(){var l=s.current;e.current.forEach(function(u){l=u(l)}),e.current=[],s.current=l,r({})});function a(l){e.current.push(l),o()}return[s.current,a]}var Da={width:0,height:0,left:0,top:0,right:0};function Lf(n,e,t,i,r,s,o){var a=o.tabs,l=o.tabPosition,u=o.rtl,h,d,c;return["top","bottom"].includes(l)?(h="width",d=u?"right":"left",c=Math.abs(t)):(h="height",d="top",c=-t),N.useMemo(function(){if(!a.length)return[0,0];for(var f=a.length,v=f,y=0;y<f;y+=1){var b=n.get(a[y].key)||Da;if(b[d]+b[h]>c+e){v=y-1;break}}for(var p=0,m=f-1;m>=0;m-=1){var w=n.get(a[m].key)||Da;if(w[d]<c){p=m+1;break}}return p>=v?[0,0]:[p,v]},[n,e,i,r,s,c,l,a.map(function(f){return f.key}).join("_"),u])}function Pa(n){var e;return n instanceof Map?(e={},n.forEach(function(t,i){e[i]=t})):e=n,JSON.stringify(e)}var Af="TABS_DQ";function fu(n){return String(n).replace(/"/g,Af)}function pu(n,e,t,i){return!(!t||i||n===!1||n===void 0&&(e===!1||e===null))}var gu=N.forwardRef(function(n,e){var t=n.prefixCls,i=n.editable,r=n.locale,s=n.style;return!i||i.showAdd===!1?null:N.createElement("button",{ref:e,type:"button",className:"".concat(t,"-nav-add"),style:s,"aria-label":(r==null?void 0:r.addAriaLabel)||"Add tab",onClick:function(a){i.onEdit("add",{event:a})}},i.addIcon||"+")}),Fa=N.forwardRef(function(n,e){var t=n.position,i=n.prefixCls,r=n.extra;if(!r)return null;var s,o={};return Yo(r)==="object"&&!N.isValidElement(r)?o=r:o.right=r,t==="right"&&(s=o.right),t==="left"&&(s=o.left),s?N.createElement("div",{className:"".concat(i,"-extra-content"),ref:e},s):null}),Df=N.forwardRef(function(n,e){var t=n.prefixCls,i=n.id,r=n.tabs,s=n.locale,o=n.mobile,a=n.more,l=a===void 0?{}:a,u=n.style,h=n.className,d=n.editable,c=n.tabBarGutter,f=n.rtl,v=n.removeAriaLabel,y=n.onTabClick,b=n.getPopupContainer,p=n.popupClassName,m=N.useState(!1),w=Be(m,2),g=w[0],S=w[1],R=N.useState(null),T=Be(R,2),E=T[0],O=T[1],C=l.icon,x=C===void 0?"More":C,_="".concat(i,"-more-popup"),L="".concat(t,"-dropdown"),M=E!==null?"".concat(_,"-").concat(E):null,P=s==null?void 0:s.dropdownAriaLabel;function z(B,J){B.preventDefault(),B.stopPropagation(),d.onEdit("remove",{key:J,event:B})}var $=N.createElement(Hh,{onClick:function(J){var X=J.key,j=J.domEvent;y(X,j),S(!1)},prefixCls:"".concat(L,"-menu"),id:_,tabIndex:-1,role:"listbox","aria-activedescendant":M,selectedKeys:[E],"aria-label":P!==void 0?P:"expanded dropdown"},r.map(function(B){var J=B.closable,X=B.disabled,j=B.closeIcon,U=B.key,W=B.label,k=pu(J,j,d,X);return N.createElement(jh,{key:U,id:"".concat(_,"-").concat(U),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(U),disabled:X},N.createElement("span",null,W),k&&N.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(L,"-menu-item-remove"),onClick:function(G){G.stopPropagation(),z(G,U)}},j||d.removeIcon||"×"))}));function Y(B){for(var J=r.filter(function(k){return!k.disabled}),X=J.findIndex(function(k){return k.key===E})||0,j=J.length,U=0;U<j;U+=1){X=(X+B+j)%j;var W=J[X];if(!W.disabled){O(W.key);return}}}function V(B){var J=B.which;if(!g){[Ct.DOWN,Ct.SPACE,Ct.ENTER].includes(J)&&(S(!0),B.preventDefault());return}switch(J){case Ct.UP:Y(-1),B.preventDefault();break;case Ct.DOWN:Y(1),B.preventDefault();break;case Ct.ESC:S(!1);break;case Ct.SPACE:case Ct.ENTER:E!==null&&y(E,B);break}}N.useEffect(function(){var B=document.getElementById(M);B&&B.scrollIntoView&&B.scrollIntoView(!1)},[E]),N.useEffect(function(){g||O(null)},[g]);var I=st({},f?"marginRight":"marginLeft",c);r.length||(I.visibility="hidden",I.order=1);var D=me(st({},"".concat(L,"-rtl"),f)),H=o?null:N.createElement(cu,Qe({prefixCls:L,overlay:$,visible:r.length?g:!1,onVisibleChange:S,overlayClassName:me(D,p),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:b},l),N.createElement("button",{type:"button",className:"".concat(t,"-nav-more"),style:I,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":_,id:"".concat(i,"-more"),"aria-expanded":g,onKeyDown:V},x));return N.createElement("div",{className:me("".concat(t,"-nav-operations"),h),style:u,ref:e},H,N.createElement(gu,{prefixCls:t,locale:s,editable:d}))});const Pf=N.memo(Df,function(n,e){return e.tabMoving});var Ff=function(e){var t=e.prefixCls,i=e.id,r=e.active,s=e.tab,o=s.key,a=s.label,l=s.disabled,u=s.closeIcon,h=s.icon,d=e.closable,c=e.renderWrapper,f=e.removeAriaLabel,v=e.editable,y=e.onClick,b=e.onFocus,p=e.style,m="".concat(t,"-tab"),w=pu(d,u,v,l);function g(E){l||y(E)}function S(E){E.preventDefault(),E.stopPropagation(),v.onEdit("remove",{key:o,event:E})}var R=N.useMemo(function(){return h&&typeof a=="string"?N.createElement("span",null,a):a},[a,h]),T=N.createElement("div",{key:o,"data-node-key":fu(o),className:me(m,st(st(st({},"".concat(m,"-with-remove"),w),"".concat(m,"-active"),r),"".concat(m,"-disabled"),l)),style:p,onClick:g},N.createElement("div",{role:"tab","aria-selected":r,id:i&&"".concat(i,"-tab-").concat(o),className:"".concat(m,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(o),"aria-disabled":l,tabIndex:l?null:0,onClick:function(O){O.stopPropagation(),g(O)},onKeyDown:function(O){[Ct.SPACE,Ct.ENTER].includes(O.which)&&(O.preventDefault(),g(O))},onFocus:b},h&&N.createElement("span",{className:"".concat(m,"-icon")},h),a&&R),w&&N.createElement("button",{type:"button","aria-label":f||"remove",tabIndex:0,className:"".concat(m,"-remove"),onClick:function(O){O.stopPropagation(),S(O)}},u||v.removeIcon||"×"));return c?c(T):T},Nf=function(e,t){var i=e.offsetWidth,r=e.offsetHeight,s=e.offsetTop,o=e.offsetLeft,a=e.getBoundingClientRect(),l=a.width,u=a.height,h=a.x,d=a.y;return Math.abs(l-i)<1?[l,u,h-t.x,d-t.y]:[i,r,o,s]},Yi=function(e){var t=e.current||{},i=t.offsetWidth,r=i===void 0?0:i,s=t.offsetHeight,o=s===void 0?0:s;if(e.current){var a=e.current.getBoundingClientRect(),l=a.width,u=a.height;if(Math.abs(l-r)<1)return[l,u]}return[r,o]},gr=function(e,t){return e[t?0:1]},Na=N.forwardRef(function(n,e){var t=n.className,i=n.style,r=n.id,s=n.animated,o=n.activeKey,a=n.rtl,l=n.extra,u=n.editable,h=n.locale,d=n.tabPosition,c=n.tabBarGutter,f=n.children,v=n.onTabClick,y=n.onTabScroll,b=n.indicator,p=N.useContext(Kr),m=p.prefixCls,w=p.tabs,g=N.useRef(null),S=N.useRef(null),R=N.useRef(null),T=N.useRef(null),E=N.useRef(null),O=N.useRef(null),C=N.useRef(null),x=d==="top"||d==="bottom",_=Ma(0,function(De,Te){x&&y&&y({direction:De>Te?"left":"right"})}),L=Be(_,2),M=L[0],P=L[1],z=Ma(0,function(De,Te){!x&&y&&y({direction:De>Te?"top":"bottom"})}),$=Be(z,2),Y=$[0],V=$[1],I=N.useState([0,0]),D=Be(I,2),H=D[0],B=D[1],J=N.useState([0,0]),X=Be(J,2),j=X[0],U=X[1],W=N.useState([0,0]),k=Be(W,2),F=k[0],G=k[1],Q=N.useState([0,0]),ee=Be(Q,2),ne=ee[0],le=ee[1],pe=Mf(new Map),ve=Be(pe,2),te=ve[0],ie=ve[1],ae=Tf(w,te,j[0]),ue=gr(H,x),oe=gr(j,x),fe=gr(F,x),ge=gr(ne,x),ye=ue<oe+fe,ke=ye?ue-ge:ue-fe,We="".concat(m,"-nav-operations-hidden"),_e=0,tt=0;x&&a?(_e=0,tt=Math.max(0,oe-ke)):(_e=Math.min(0,ke-oe),tt=0);function Re(De){return De<_e?_e:De>tt?tt:De}var qe=N.useRef(null),di=N.useState(),Di=Be(di,2),Bt=Di[0],it=Di[1];function xt(){it(Date.now())}function Xt(){qe.current&&clearTimeout(qe.current)}kf(T,function(De,Te){function Le(Fe,St){Fe(function(vt){var Jt=Re(vt+St);return Jt})}return ye?(x?Le(P,De):Le(V,Te),Xt(),xt(),!0):!1}),N.useEffect(function(){return Xt(),Bt&&(qe.current=setTimeout(function(){it(0)},100)),Xt},[Bt]);var Pi=Lf(ae,ke,x?M:Y,oe,fe,ge,Et(Et({},n),{},{tabs:w})),bt=Be(Pi,2),fi=bt[0],Ht=bt[1],Fi=Zl(function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o,Te=ae.get(De)||{width:0,height:0,left:0,right:0,top:0};if(x){var Le=M;a?Te.right<M?Le=Te.right:Te.right+Te.width>M+ke&&(Le=Te.right+Te.width-ke):Te.left<-M?Le=-Te.left:Te.left+Te.width>-M+ke&&(Le=-(Te.left+Te.width-ke)),V(0),P(Re(Le))}else{var Fe=Y;Te.top<-Y?Fe=-Te.top:Te.top+Te.height>-Y+ke&&(Fe=-(Te.top+Te.height-ke)),P(0),V(Re(Fe))}}),Ue={};d==="top"||d==="bottom"?Ue[a?"marginRight":"marginLeft"]=c:Ue.marginTop=c;var At=w.map(function(De,Te){var Le=De.key;return N.createElement(Ff,{id:r,prefixCls:m,key:Le,tab:De,style:Te===0?void 0:Ue,closable:De.closable,editable:u,active:Le===o,renderWrapper:f,removeAriaLabel:h==null?void 0:h.removeAriaLabel,onClick:function(St){v(Le,St)},onFocus:function(){Fi(Le),xt(),T.current&&(a||(T.current.scrollLeft=0),T.current.scrollTop=0)}})}),Yt=function(){return ie(function(){var Te,Le=new Map,Fe=(Te=E.current)===null||Te===void 0?void 0:Te.getBoundingClientRect();return w.forEach(function(St){var vt,Jt=St.key,Bi=(vt=E.current)===null||vt===void 0?void 0:vt.querySelector('[data-node-key="'.concat(fu(Jt),'"]'));if(Bi){var Sn=Nf(Bi,Fe),Ke=Be(Sn,4),_n=Ke[0],Zt=Ke[1],gi=Ke[2],Rn=Ke[3];Le.set(Jt,{width:_n,height:Zt,left:gi,top:Rn})}}),Le})};N.useEffect(function(){Yt()},[w.map(function(De){return De.key}).join("_")]);var Dt=du(function(){var De=Yi(g),Te=Yi(S),Le=Yi(R);B([De[0]-Te[0]-Le[0],De[1]-Te[1]-Le[1]]);var Fe=Yi(C);G(Fe);var St=Yi(O);le(St);var vt=Yi(E);U([vt[0]-Fe[0],vt[1]-Fe[1]]),Yt()}),pi=w.slice(0,fi),jt=w.slice(Ht+1),at=[].concat(gt(pi),gt(jt)),Ni=ae.get(o),En=Rf({activeTabOffset:Ni,horizontal:x,indicator:b,rtl:a}),xn=En.style;N.useEffect(function(){Fi()},[o,_e,tt,Pa(Ni),Pa(ae),x]),N.useEffect(function(){Dt()},[a]);var Ii=!!at.length,Pt="".concat(m,"-nav-wrap"),lt,ht,$i,zi;return x?a?(ht=M>0,lt=M!==tt):(lt=M<0,ht=M!==_e):($i=Y<0,zi=Y!==_e),N.createElement(Ps,{onResize:Dt},N.createElement("div",{ref:Vh(e,g),role:"tablist",className:me("".concat(m,"-nav"),t),style:i,onKeyDown:function(){xt()}},N.createElement(Fa,{ref:S,position:"left",extra:l,prefixCls:m}),N.createElement(Ps,{onResize:Dt},N.createElement("div",{className:me(Pt,st(st(st(st({},"".concat(Pt,"-ping-left"),lt),"".concat(Pt,"-ping-right"),ht),"".concat(Pt,"-ping-top"),$i),"".concat(Pt,"-ping-bottom"),zi)),ref:T},N.createElement(Ps,{onResize:Dt},N.createElement("div",{ref:E,className:"".concat(m,"-nav-list"),style:{transform:"translate(".concat(M,"px, ").concat(Y,"px)"),transition:Bt?"none":void 0}},At,N.createElement(gu,{ref:C,prefixCls:m,locale:h,editable:u,style:Et(Et({},At.length===0?void 0:Ue),{},{visibility:Ii?"hidden":null})}),N.createElement("div",{className:me("".concat(m,"-ink-bar"),st({},"".concat(m,"-ink-bar-animated"),s.inkBar)),style:xn}))))),N.createElement(Pf,Qe({},n,{removeAriaLabel:h==null?void 0:h.removeAriaLabel,ref:O,prefixCls:m,tabs:at,className:!Ii&&We,tabMoving:!!Bt})),N.createElement(Fa,{ref:R,position:"right",extra:l,prefixCls:m})))}),mu=N.forwardRef(function(n,e){var t=n.prefixCls,i=n.className,r=n.style,s=n.id,o=n.active,a=n.tabKey,l=n.children;return N.createElement("div",{id:s&&"".concat(s,"-panel-").concat(a),role:"tabpanel",tabIndex:o?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(a),"aria-hidden":!o,style:r,className:me(t,o&&"".concat(t,"-active"),i),ref:e},l)}),If=["renderTabBar"],$f=["label","key"],zf=function(e){var t=e.renderTabBar,i=Kn(e,If),r=N.useContext(Kr),s=r.tabs;if(t){var o=Et(Et({},i),{},{panes:s.map(function(a){var l=a.label,u=a.key,h=Kn(a,$f);return N.createElement(mu,Qe({tab:l,key:u,tabKey:u},h))})});return t(o,Na)}return N.createElement(Na,i)},Bf=["key","forceRender","style","className","destroyInactiveTabPane"],Hf=function(e){var t=e.id,i=e.activeKey,r=e.animated,s=e.tabPosition,o=e.destroyInactiveTabPane,a=N.useContext(Kr),l=a.prefixCls,u=a.tabs,h=r.tabPane,d="".concat(l,"-tabpane");return N.createElement("div",{className:me("".concat(l,"-content-holder"))},N.createElement("div",{className:me("".concat(l,"-content"),"".concat(l,"-content-").concat(s),st({},"".concat(l,"-content-animated"),h))},u.map(function(c){var f=c.key,v=c.forceRender,y=c.style,b=c.className,p=c.destroyInactiveTabPane,m=Kn(c,Bf),w=f===i;return N.createElement(Ql,Qe({key:f,visible:w,forceRender:v,removeOnLeave:!!(o||p),leavedClassName:"".concat(d,"-hidden")},r.tabPaneMotion),function(g,S){var R=g.style,T=g.className;return N.createElement(mu,Qe({},m,{prefixCls:d,id:t,tabKey:f,animated:h,active:w,style:Et(Et({},y),R),className:me(b,T),ref:S}))})})))};function jf(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},e;return n===!1?e={inkBar:!1,tabPane:!1}:n===!0?e={inkBar:!0,tabPane:!1}:e=Et({inkBar:!0},Yo(n)==="object"?n:{}),e.tabPaneMotion&&e.tabPane===void 0&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}var Vf=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],Ia=0,Wf=N.forwardRef(function(n,e){var t=n.id,i=n.prefixCls,r=i===void 0?"rc-tabs":i,s=n.className,o=n.items,a=n.direction,l=n.activeKey,u=n.defaultActiveKey,h=n.editable,d=n.animated,c=n.tabPosition,f=c===void 0?"top":c,v=n.tabBarGutter,y=n.tabBarStyle,b=n.tabBarExtraContent,p=n.locale,m=n.more,w=n.destroyInactiveTabPane,g=n.renderTabBar,S=n.onChange,R=n.onTabClick,T=n.onTabScroll,E=n.getPopupContainer,O=n.popupClassName,C=n.indicator,x=Kn(n,Vf),_=N.useMemo(function(){return(o||[]).filter(function(ne){return ne&&Yo(ne)==="object"&&"key"in ne})},[o]),L=a==="rtl",M=jf(d),P=N.useState(!1),z=Be(P,2),$=z[0],Y=z[1];N.useEffect(function(){Y(Wh())},[]);var V=Mr(function(){var ne;return(ne=_[0])===null||ne===void 0?void 0:ne.key},{value:l,defaultValue:u}),I=Be(V,2),D=I[0],H=I[1],B=N.useState(function(){return _.findIndex(function(ne){return ne.key===D})}),J=Be(B,2),X=J[0],j=J[1];N.useEffect(function(){var ne=_.findIndex(function(pe){return pe.key===D});if(ne===-1){var le;ne=Math.max(0,Math.min(X,_.length-1)),H((le=_[ne])===null||le===void 0?void 0:le.key)}j(ne)},[_.map(function(ne){return ne.key}).join("_"),D,X]);var U=Mr(null,{value:t}),W=Be(U,2),k=W[0],F=W[1];N.useEffect(function(){t||(F("rc-tabs-".concat(Ia)),Ia+=1)},[]);function G(ne,le){R==null||R(ne,le);var pe=ne!==D;H(ne),pe&&(S==null||S(ne))}var Q={id:k,activeKey:D,animated:M,tabPosition:f,rtl:L,mobile:$},ee=Et(Et({},Q),{},{editable:h,locale:p,more:m,tabBarGutter:v,onTabClick:G,onTabScroll:T,extra:b,style:y,panes:null,getPopupContainer:E,popupClassName:O,indicator:C});return N.createElement(Kr.Provider,{value:{tabs:_,prefixCls:r}},N.createElement("div",Qe({ref:e,id:t,className:me(r,"".concat(r,"-").concat(f),st(st(st({},"".concat(r,"-mobile"),$),"".concat(r,"-editable"),h),"".concat(r,"-rtl"),L),s)},x),N.createElement(zf,Qe({},ee,{renderTabBar:g})),N.createElement(Hf,Qe({destroyInactiveTabPane:w},Q,{animated:M}))))});const qf={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Gf(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!0}:t=Object.assign({inkBar:!0},typeof e=="object"?e:{}),t.tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},qf),{motionName:qh(n,"switch")})),t}var Uf=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Kf(n){return n.filter(e=>e)}function Xf(n,e){if(n)return n;const t=eu(e).map(i=>{if(N.isValidElement(i)){const{key:r,props:s}=i,o=s||{},{tab:a}=o,l=Uf(o,["tab"]);return Object.assign(Object.assign({key:String(r)},l),{label:a})}return null});return Kf(t)}const Yf=n=>{const{componentCls:e,motionDurationSlow:t}=n;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${t}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${t}`}}}}},[Ar(n,"slide-up"),Ar(n,"slide-down")]]},Jf=n=>{const{componentCls:e,tabsCardPadding:t,cardBg:i,cardGutter:r,colorBorderSecondary:s,itemSelectedColor:o}=n;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:t,background:i,border:`${he(n.lineWidth)} ${n.lineType} ${s}`,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`${e}-tab-active`]:{color:o,background:n.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:he(r)}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)} 0 0`},[`${e}-tab-active`]:{borderBottomColor:n.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)}`},[`${e}-tab-active`]:{borderTopColor:n.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:he(r)}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${he(n.borderRadiusLG)} 0 0 ${he(n.borderRadiusLG)}`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:n.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)} 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:n.colorBgContainer}}}}}}},Zf=n=>{const{componentCls:e,itemHoverColor:t,dropdownEdgeChildVerticalPadding:i}=n;return{[`${e}-dropdown`]:Object.assign(Object.assign({},Li(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:n.tabsDropdownHeight,margin:0,padding:`${he(i)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:n.colorBgContainer,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Jo),{display:"flex",alignItems:"center",minWidth:n.tabsDropdownWidth,margin:0,padding:`${he(n.paddingXXS)} ${he(n.paddingSM)}`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:n.marginSM},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:t}},"&:hover":{background:n.controlItemBgHover},"&-disabled":{"&, &:hover":{color:n.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Qf=n=>{const{componentCls:e,margin:t,colorBorderSecondary:i,horizontalMargin:r,verticalItemPadding:s,verticalItemMargin:o,calc:a}=n;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:r,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${he(n.lineWidth)} ${n.lineType} ${i}`,content:"''"},[`${e}-ink-bar`]:{height:n.lineWidthBold,"&-animated":{transition:`width ${n.motionDurationSlow}, left ${n.motionDurationSlow},
            right ${n.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:n.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:t,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:a(n.controlHeight).mul(1.25).equal(),[`${e}-tab`]:{padding:s,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:o},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:n.controlHeight},"&::before":{top:0,boxShadow:n.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:n.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:n.lineWidthBold,"&-animated":{transition:`height ${n.motionDurationSlow}, top ${n.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:he(a(n.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${he(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:n.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:a(n.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${he(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:n.paddingLG}}}}}},ep=n=>{const{componentCls:e,cardPaddingSM:t,cardPaddingLG:i,horizontalItemPaddingSM:r,horizontalItemPaddingLG:s}=n;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:r,fontSize:n.titleFontSizeSM}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:s,fontSize:n.titleFontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:t}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${he(n.borderRadius)} ${he(n.borderRadius)}`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${he(n.borderRadius)} ${he(n.borderRadius)} 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${he(n.borderRadius)} ${he(n.borderRadius)} 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${he(n.borderRadius)} 0 0 ${he(n.borderRadius)}`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:i}}}}}},tp=n=>{const{componentCls:e,itemActiveColor:t,itemHoverColor:i,iconCls:r,tabsHorizontalItemMargin:s,horizontalItemPadding:o,itemSelectedColor:a,itemColor:l}=n,u=`${e}-tab`;return{[u]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:o,fontSize:n.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:t}},Lr(n)),"&-btn":{outline:"none",transition:`all ${n.motionDurationSlow}`,[`${u}-icon:not(:last-child)`]:{marginInlineEnd:n.marginSM}},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:n.calc(n.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:n.marginXS},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextHeading}},"&:hover":{color:i},[`&${u}-active ${u}-btn`]:{color:a,textShadow:n.tabsActiveTextShadow},[`&${u}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${u}-disabled ${u}-btn, &${u}-disabled ${e}-remove`]:{"&:focus, &:active":{color:n.colorTextDisabled}},[`& ${u}-remove ${r}`]:{margin:0},[`${r}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:n.marginSM}}},[`${u} + ${u}`]:{margin:{_skip_check_:!0,value:s}}}},ip=n=>{const{componentCls:e,tabsHorizontalItemMarginRTL:t,iconCls:i,cardGutter:r,calc:s}=n;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:t},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[i]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:he(n.marginSM)}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:he(n.marginXS)},marginLeft:{_skip_check_:!0,value:he(s(n.marginXXS).mul(-1).equal())},[i]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:r},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},np=n=>{const{componentCls:e,tabsCardPadding:t,cardHeight:i,cardGutter:r,itemHoverColor:s,itemActiveColor:o,colorBorderSecondary:a}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Li(n)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${n.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${n.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:t,background:"transparent",border:0,color:n.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:n.calc(n.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:Object.assign({minWidth:i,minHeight:i,marginLeft:{_skip_check_:!0,value:r},padding:`0 ${he(n.paddingXS)}`,background:"transparent",border:`${he(n.lineWidth)} ${n.lineType} ${a}`,borderRadius:`${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:n.colorText,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`,"&:hover":{color:s},"&:active, &:focus:not(:focus-visible)":{color:o}},Lr(n))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:n.inkBarColor,pointerEvents:"none"}}),tp(n)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},rp=n=>{const e=n.controlHeightLG;return{zIndexPopup:n.zIndexPopupBase+50,cardBg:n.colorFillAlter,cardHeight:e,cardPadding:`${(e-Math.round(n.fontSize*n.lineHeight))/2-n.lineWidth}px ${n.padding}px`,cardPaddingSM:`${n.paddingXXS*1.5}px ${n.padding}px`,cardPaddingLG:`${n.paddingXS}px ${n.padding}px ${n.paddingXXS*1.5}px`,titleFontSize:n.fontSize,titleFontSizeLG:n.fontSizeLG,titleFontSizeSM:n.fontSize,inkBarColor:n.colorPrimary,horizontalMargin:`0 0 ${n.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${n.paddingSM}px 0`,horizontalItemPaddingSM:`${n.paddingXS}px 0`,horizontalItemPaddingLG:`${n.padding}px 0`,verticalItemPadding:`${n.paddingXS}px ${n.paddingLG}px`,verticalItemMargin:`${n.margin}px 0 0 0`,itemColor:n.colorText,itemSelectedColor:n.colorPrimary,itemHoverColor:n.colorPrimaryHover,itemActiveColor:n.colorPrimaryActive,cardGutter:n.marginXXS/2}},sp=Mi("Tabs",n=>{const e=fn(n,{tabsCardPadding:n.cardPadding,dropdownEdgeChildVerticalPadding:n.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${he(n.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${he(n.horizontalItemGutter)}`});return[ep(e),ip(e),Qf(e),Zf(e),Jf(e),np(e),Yf(e)]},rp),op=()=>null;var ap=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const bu=n=>{var e,t,i,r,s,o,a,l,u,h,d;const{type:c,className:f,rootClassName:v,size:y,onEdit:b,hideAdd:p,centered:m,addIcon:w,removeIcon:g,moreIcon:S,more:R,popupClassName:T,children:E,items:O,animated:C,style:x,indicatorSize:_,indicator:L}=n,M=ap(n,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:P}=M,{direction:z,tabs:$,getPrefixCls:Y,getPopupContainer:V}=N.useContext(ot),I=Y("tabs",P),D=pn(I),[H,B,J]=sp(I,D);let X;c==="editable-card"&&(X={onEdit:(Q,ee)=>{let{key:ne,event:le}=ee;b==null||b(Q==="add"?le:ne,Q)},removeIcon:(e=g??($==null?void 0:$.removeIcon))!==null&&e!==void 0?e:N.createElement(Gh,null),addIcon:(w??($==null?void 0:$.addIcon))||N.createElement(_f,null),showAdd:p!==!0});const j=Y(),U=Zo(y),W=Xf(O,E),k=Gf(I,C),F=Object.assign(Object.assign({},$==null?void 0:$.style),x),G={align:(t=L==null?void 0:L.align)!==null&&t!==void 0?t:(i=$==null?void 0:$.indicator)===null||i===void 0?void 0:i.align,size:(a=(s=(r=L==null?void 0:L.size)!==null&&r!==void 0?r:_)!==null&&s!==void 0?s:(o=$==null?void 0:$.indicator)===null||o===void 0?void 0:o.size)!==null&&a!==void 0?a:$==null?void 0:$.indicatorSize};return H(N.createElement(Wf,Object.assign({direction:z,getPopupContainer:V},M,{items:W,className:me({[`${I}-${U}`]:U,[`${I}-card`]:["card","editable-card"].includes(c),[`${I}-editable-card`]:c==="editable-card",[`${I}-centered`]:m},$==null?void 0:$.className,f,v,B,J,D),popupClassName:me(T,B,J,D),style:F,editable:X,more:Object.assign({icon:(d=(h=(u=(l=$==null?void 0:$.more)===null||l===void 0?void 0:l.icon)!==null&&u!==void 0?u:$==null?void 0:$.moreIcon)!==null&&h!==void 0?h:S)!==null&&d!==void 0?d:N.createElement(tu,null),transitionName:`${j}-slide-up`},R),prefixCls:I,animated:k,indicator:G})))};bu.TabPane=op;var lp=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const vu=n=>{var{prefixCls:e,className:t,hoverable:i=!0}=n,r=lp(n,["prefixCls","className","hoverable"]);const{getPrefixCls:s}=N.useContext(ot),o=s("card",e),a=me(`${o}-grid`,t,{[`${o}-grid-hoverable`]:i});return N.createElement("div",Object.assign({},r,{className:a}))},up=n=>{const{antCls:e,componentCls:t,headerHeight:i,cardPaddingBase:r,tabsMarginBottom:s}=n;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:i,marginBottom:-1,padding:`0 ${he(r)}`,color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.headerFontSize,background:n.headerBg,borderBottom:`${he(n.lineWidth)} ${n.lineType} ${n.colorBorderSecondary}`,borderRadius:`${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)} 0 0`},qr()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Jo),{[`
          > ${t}-typography,
          > ${t}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:s,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,"&-bar":{borderBottom:`${he(n.lineWidth)} ${n.lineType} ${n.colorBorderSecondary}`}}})},cp=n=>{const{cardPaddingBase:e,colorBorderSecondary:t,cardShadow:i,lineWidth:r}=n;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${he(r)} 0 0 0 ${t},
      0 ${he(r)} 0 0 ${t},
      ${he(r)} ${he(r)} 0 0 ${t},
      ${he(r)} 0 0 0 ${t} inset,
      0 ${he(r)} 0 0 ${t} inset;
    `,transition:`all ${n.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:i}}},hp=n=>{const{componentCls:e,iconCls:t,actionsLiMargin:i,cardActionsIconSize:r,colorBorderSecondary:s,actionsBg:o}=n;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:o,borderTop:`${he(n.lineWidth)} ${n.lineType} ${s}`,display:"flex",borderRadius:`0 0 ${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)}`},qr()),{"& > li":{margin:i,color:n.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:n.calc(n.cardActionsIconSize).mul(2).equal(),fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer","&:hover":{color:n.colorPrimary,transition:`color ${n.motionDurationMid}`},[`a:not(${e}-btn), > ${t}`]:{display:"inline-block",width:"100%",color:n.colorTextDescription,lineHeight:he(n.fontHeight),transition:`color ${n.motionDurationMid}`,"&:hover":{color:n.colorPrimary}},[`> ${t}`]:{fontSize:r,lineHeight:he(n.calc(r).mul(n.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${he(n.lineWidth)} ${n.lineType} ${s}`}}})},dp=n=>Object.assign(Object.assign({margin:`${he(n.calc(n.marginXXS).mul(-1).equal())} 0`,display:"flex"},qr()),{"&-avatar":{paddingInlineEnd:n.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:n.marginXS}},"&-title":Object.assign({color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG},Jo),"&-description":{color:n.colorTextDescription}}),fp=n=>{const{componentCls:e,cardPaddingBase:t,colorFillAlter:i}=n;return{[`${e}-head`]:{padding:`0 ${he(t)}`,background:i,"&-title":{fontSize:n.fontSize}},[`${e}-body`]:{padding:`${he(n.padding)} ${he(t)}`}}},pp=n=>{const{componentCls:e}=n;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},gp=n=>{const{antCls:e,componentCls:t,cardShadow:i,cardHeadPadding:r,colorBorderSecondary:s,boxShadowTertiary:o,cardPaddingBase:a,extraColor:l}=n;return{[t]:Object.assign(Object.assign({},Li(n)),{position:"relative",background:n.colorBgContainer,borderRadius:n.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:o},[`${t}-head`]:up(n),[`${t}-extra`]:{marginInlineStart:"auto",color:l,fontWeight:"normal",fontSize:n.fontSize},[`${t}-body`]:Object.assign({padding:a,borderRadius:`0 0 ${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)}`},qr()),[`${t}-grid`]:cp(n),[`${t}-cover`]:{"> *":{display:"block",width:"100%"},[`img, img + ${e}-image-mask`]:{borderRadius:`${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)} 0 0`}},[`${t}-actions`]:hp(n),[`${t}-meta`]:dp(n)}),[`${t}-bordered`]:{border:`${he(n.lineWidth)} ${n.lineType} ${s}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${n.motionDurationMid}, border-color ${n.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:i}},[`${t}-contain-grid`]:{borderRadius:`${he(n.borderRadiusLG)} ${he(n.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:n.calc(n.lineWidth).mul(-1).equal(),marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:fp(n),[`${t}-loading`]:pp(n),[`${t}-rtl`]:{direction:"rtl"}}},mp=n=>{const{componentCls:e,cardPaddingSM:t,headerHeightSM:i,headerFontSizeSM:r}=n;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:i,padding:`0 ${he(t)}`,fontSize:r,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:n.fontSize}}},[`> ${e}-body`]:{padding:t}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},bp=n=>({headerBg:"transparent",headerFontSize:n.fontSizeLG,headerFontSizeSM:n.fontSize,headerHeight:n.fontSizeLG*n.lineHeightLG+n.padding*2,headerHeightSM:n.fontSize*n.lineHeight+n.paddingXS*2,actionsBg:n.colorBgContainer,actionsLiMargin:`${n.paddingSM}px 0`,tabsMarginBottom:-n.padding-n.lineWidth,extraColor:n.colorText}),vp=Mi("Card",n=>{const e=fn(n,{cardShadow:n.boxShadowCard,cardHeadPadding:n.padding,cardPaddingBase:n.paddingLG,cardActionsIconSize:n.fontSize,cardPaddingSM:12});return[gp(e),mp(e)]},bp);var $a=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const yp=n=>{const{actionClasses:e,actions:t=[],actionStyle:i}=n;return N.createElement("ul",{className:e,style:i},t.map((r,s)=>{const o=`action-${s}`;return N.createElement("li",{style:{width:`${100/t.length}%`},key:o},N.createElement("span",null,r))}))},wp=N.forwardRef((n,e)=>{const{prefixCls:t,className:i,rootClassName:r,style:s,extra:o,headStyle:a={},bodyStyle:l={},title:u,loading:h,bordered:d=!0,size:c,type:f,cover:v,actions:y,tabList:b,children:p,activeTabKey:m,defaultActiveTabKey:w,tabBarExtraContent:g,hoverable:S,tabProps:R={},classNames:T,styles:E}=n,O=$a(n,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:C,direction:x,card:_}=N.useContext(ot),L=te=>{var ie;(ie=n.onTabChange)===null||ie===void 0||ie.call(n,te)},M=te=>{var ie;return me((ie=_==null?void 0:_.classNames)===null||ie===void 0?void 0:ie[te],T==null?void 0:T[te])},P=te=>{var ie;return Object.assign(Object.assign({},(ie=_==null?void 0:_.styles)===null||ie===void 0?void 0:ie[te]),E==null?void 0:E[te])},z=N.useMemo(()=>{let te=!1;return N.Children.forEach(p,ie=>{ie&&ie.type&&ie.type===vu&&(te=!0)}),te},[p]),$=C("card",t),[Y,V,I]=vp($),D=N.createElement(Uh,{loading:!0,active:!0,paragraph:{rows:4},title:!1},p),H=m!==void 0,B=Object.assign(Object.assign({},R),{[H?"activeKey":"defaultActiveKey"]:H?m:w,tabBarExtraContent:g});let J;const X=Zo(c),j=!X||X==="default"?"large":X,U=b?N.createElement(bu,Object.assign({size:j},B,{className:`${$}-head-tabs`,onChange:L,items:b.map(te=>{var{tab:ie}=te,ae=$a(te,["tab"]);return Object.assign({label:ie},ae)})})):null;if(u||o||U){const te=me(`${$}-head`,M("header")),ie=me(`${$}-head-title`,M("title")),ae=me(`${$}-extra`,M("extra")),ue=Object.assign(Object.assign({},a),P("header"));J=N.createElement("div",{className:te,style:ue},N.createElement("div",{className:`${$}-head-wrapper`},u&&N.createElement("div",{className:ie,style:P("title")},u),o&&N.createElement("div",{className:ae,style:P("extra")},o)),U)}const W=me(`${$}-cover`,M("cover")),k=v?N.createElement("div",{className:W,style:P("cover")},v):null,F=me(`${$}-body`,M("body")),G=Object.assign(Object.assign({},l),P("body")),Q=N.createElement("div",{className:F,style:G},h?D:p),ee=me(`${$}-actions`,M("actions")),ne=y&&y.length?N.createElement(yp,{actionClasses:ee,actionStyle:P("actions"),actions:y}):null,le=Xo(O,["onTabChange"]),pe=me($,_==null?void 0:_.className,{[`${$}-loading`]:h,[`${$}-bordered`]:d,[`${$}-hoverable`]:S,[`${$}-contain-grid`]:z,[`${$}-contain-tabs`]:b&&b.length,[`${$}-${X}`]:X,[`${$}-type-${f}`]:!!f,[`${$}-rtl`]:x==="rtl"},i,r,V,I),ve=Object.assign(Object.assign({},_==null?void 0:_.style),s);return Y(N.createElement("div",Object.assign({ref:e},le,{className:pe,style:ve}),J,k,Q,ne))});var Cp=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Ep=n=>{const{prefixCls:e,className:t,avatar:i,title:r,description:s}=n,o=Cp(n,["prefixCls","className","avatar","title","description"]),{getPrefixCls:a}=N.useContext(ot),l=a("card",e),u=me(`${l}-meta`,t),h=i?N.createElement("div",{className:`${l}-meta-avatar`},i):null,d=r?N.createElement("div",{className:`${l}-meta-title`},r):null,c=s?N.createElement("div",{className:`${l}-meta-description`},s):null,f=d||c?N.createElement("div",{className:`${l}-meta-detail`},d,c):null;return N.createElement("div",Object.assign({},o,{className:u}),h,f)},ta=wp;ta.Grid=vu;ta.Meta=Ep;function xp(n,e,t){var i=t||{},r=i.noTrailing,s=r===void 0?!1:r,o=i.noLeading,a=o===void 0?!1:o,l=i.debounceMode,u=l===void 0?void 0:l,h,d=!1,c=0;function f(){h&&clearTimeout(h)}function v(b){var p=b||{},m=p.upcomingOnly,w=m===void 0?!1:m;f(),d=!w}function y(){for(var b=arguments.length,p=new Array(b),m=0;m<b;m++)p[m]=arguments[m];var w=this,g=Date.now()-c;if(d)return;function S(){c=Date.now(),e.apply(w,p)}function R(){h=void 0}!a&&u&&!h&&S(),f(),u===void 0&&g>n?a?(c=Date.now(),s||(h=setTimeout(u?R:S,n))):S():s!==!0&&(h=setTimeout(u?R:S,u===void 0?n-g:n))}return y.cancel=v,y}function Sp(n,e,t){var i={},r=i.atBegin,s=r===void 0?!1:r;return xp(n,e,{debounceMode:s!==!1})}const yu=N.createContext({}),_p=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Rp=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Tp=(n,e)=>{const{prefixCls:t,componentCls:i,gridColumns:r}=n,s={};for(let o=r;o>=0;o--)o===0?(s[`${i}${e}-${o}`]={display:"none"},s[`${i}-push-${o}`]={insetInlineStart:"auto"},s[`${i}-pull-${o}`]={insetInlineEnd:"auto"},s[`${i}${e}-push-${o}`]={insetInlineStart:"auto"},s[`${i}${e}-pull-${o}`]={insetInlineEnd:"auto"},s[`${i}${e}-offset-${o}`]={marginInlineStart:0},s[`${i}${e}-order-${o}`]={order:0}):(s[`${i}${e}-${o}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${o/r*100}%`,maxWidth:`${o/r*100}%`}],s[`${i}${e}-push-${o}`]={insetInlineStart:`${o/r*100}%`},s[`${i}${e}-pull-${o}`]={insetInlineEnd:`${o/r*100}%`},s[`${i}${e}-offset-${o}`]={marginInlineStart:`${o/r*100}%`},s[`${i}${e}-order-${o}`]={order:o});return s[`${i}${e}-flex`]={flex:`var(--${t}${e}-flex)`},s},io=(n,e)=>Tp(n,e),Op=(n,e,t)=>({[`@media (min-width: ${he(e)})`]:Object.assign({},io(n,t))}),kp=()=>({}),Mp=()=>({}),Lp=Mi("Grid",_p,kp),Ap=Mi("Grid",n=>{const e=fn(n,{gridColumns:24}),t={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[Rp(e),io(e,""),io(e,"-xs"),Object.keys(t).map(i=>Op(e,t[i],i)).reduce((i,r)=>Object.assign(Object.assign({},i),r),{})]},Mp);var Dp=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function za(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const Pp=["xs","sm","md","lg","xl","xxl"],ci=N.forwardRef((n,e)=>{const{getPrefixCls:t,direction:i}=N.useContext(ot),{gutter:r,wrap:s}=N.useContext(yu),{prefixCls:o,span:a,order:l,offset:u,push:h,pull:d,className:c,children:f,flex:v,style:y}=n,b=Dp(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),p=t("col",o),[m,w,g]=Ap(p),S={};let R={};Pp.forEach(O=>{let C={};const x=n[O];typeof x=="number"?C.span=x:typeof x=="object"&&(C=x||{}),delete b[O],R=Object.assign(Object.assign({},R),{[`${p}-${O}-${C.span}`]:C.span!==void 0,[`${p}-${O}-order-${C.order}`]:C.order||C.order===0,[`${p}-${O}-offset-${C.offset}`]:C.offset||C.offset===0,[`${p}-${O}-push-${C.push}`]:C.push||C.push===0,[`${p}-${O}-pull-${C.pull}`]:C.pull||C.pull===0,[`${p}-rtl`]:i==="rtl"}),C.flex&&(R[`${p}-${O}-flex`]=!0,S[`--${p}-${O}-flex`]=za(C.flex))});const T=me(p,{[`${p}-${a}`]:a!==void 0,[`${p}-order-${l}`]:l,[`${p}-offset-${u}`]:u,[`${p}-push-${h}`]:h,[`${p}-pull-${d}`]:d},c,R,w,g),E={};if(r&&r[0]>0){const O=r[0]/2;E.paddingLeft=O,E.paddingRight=O}return v&&(E.flex=za(v),s===!1&&!E.minWidth&&(E.minWidth=0)),m(N.createElement("div",Object.assign({},b,{style:Object.assign(Object.assign(Object.assign({},E),y),S),className:T,ref:e}),f))});var Fp=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Ba(n,e){const[t,i]=N.useState(typeof n=="string"?n:""),r=()=>{if(typeof n=="string"&&i(n),typeof n=="object")for(let s=0;s<Xn.length;s++){const o=Xn[s];if(!e[o])continue;const a=n[o];if(a!==void 0){i(a);return}}};return N.useEffect(()=>{r()},[JSON.stringify(n),e]),t}const $n=N.forwardRef((n,e)=>{const{prefixCls:t,justify:i,align:r,className:s,style:o,children:a,gutter:l=0,wrap:u}=n,h=Fp(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:c}=N.useContext(ot),[f,v]=N.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[y,b]=N.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),p=Ba(r,y),m=Ba(i,y),w=N.useRef(l),g=af();N.useEffect(()=>{const $=g.subscribe(Y=>{b(Y);const V=w.current||0;(!Array.isArray(V)&&typeof V=="object"||Array.isArray(V)&&(typeof V[0]=="object"||typeof V[1]=="object"))&&v(Y)});return()=>g.unsubscribe($)},[]);const S=()=>{const $=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((V,I)=>{if(typeof V=="object")for(let D=0;D<Xn.length;D++){const H=Xn[D];if(f[H]&&V[H]!==void 0){$[I]=V[H];break}}else $[I]=V}),$},R=d("row",t),[T,E,O]=Lp(R),C=S(),x=me(R,{[`${R}-no-wrap`]:u===!1,[`${R}-${m}`]:m,[`${R}-${p}`]:p,[`${R}-rtl`]:c==="rtl"},s,E,O),_={},L=C[0]!=null&&C[0]>0?C[0]/-2:void 0;L&&(_.marginLeft=L,_.marginRight=L);const[M,P]=C;_.rowGap=P;const z=N.useMemo(()=>({gutter:[M,P],wrap:u}),[M,P,u]);return T(N.createElement(yu.Provider,{value:z},N.createElement("div",Object.assign({},h,{className:x,style:Object.assign(Object.assign({},_),o),ref:e}),a)))});var Np=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const wu=n=>{const{getPopupContainer:e,getPrefixCls:t,direction:i}=N.useContext(ot),{prefixCls:r,type:s="default",danger:o,disabled:a,loading:l,onClick:u,htmlType:h,children:d,className:c,menu:f,arrow:v,autoFocus:y,overlay:b,trigger:p,align:m,open:w,onOpenChange:g,placement:S,getPopupContainer:R,href:T,icon:E=N.createElement(tu,null),title:O,buttonsRender:C=W=>W,mouseEnterDelay:x,mouseLeaveDelay:_,overlayClassName:L,overlayStyle:M,destroyPopupOnHide:P,dropdownRender:z}=n,$=Np(n,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),Y=t("dropdown",r),V=`${Y}-button`,I={menu:f,arrow:v,autoFocus:y,align:m,disabled:a,trigger:a?[]:p,onOpenChange:g,getPopupContainer:R||e,mouseEnterDelay:x,mouseLeaveDelay:_,overlayClassName:L,overlayStyle:M,destroyPopupOnHide:P,dropdownRender:z},{compactSize:D,compactItemClassnames:H}=Kh(Y,i),B=me(V,H,c);"overlay"in n&&(I.overlay=b),"open"in n&&(I.open=w),"placement"in n?I.placement=S:I.placement=i==="rtl"?"bottomLeft":"bottomRight";const J=N.createElement(to,{type:s,danger:o,disabled:a,loading:l,onClick:u,htmlType:h,href:T,title:O},d),X=N.createElement(to,{type:s,danger:o,icon:E}),[j,U]=C([J,X]);return N.createElement(gn.Compact,Object.assign({className:B,size:D,block:!0},$),j,N.createElement(Ur,Object.assign({},I),U))};wu.__ANT_BUTTON=!0;const Xr=Ur;Xr.Button=wu;function Pr(n){const[e,t]=N.useState(n);return N.useEffect(()=>{const i=setTimeout(()=>{t(n)},n.length?0:10);return()=>{clearTimeout(i)}},[n]),e}const Ip=n=>{const{componentCls:e}=n,t=`${e}-show-help`,i=`${e}-show-help-item`;return{[t]:{transition:`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[i]:{overflow:"hidden",transition:`height ${n.motionDurationSlow} ${n.motionEaseInOut},
                     opacity ${n.motionDurationSlow} ${n.motionEaseInOut},
                     transform ${n.motionDurationSlow} ${n.motionEaseInOut} !important`,[`&${i}-appear, &${i}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${i}-leave-active`]:{transform:"translateY(-5px)"}}}}},$p=n=>({legend:{display:"block",width:"100%",marginBottom:n.marginLG,padding:0,color:n.colorTextDescription,fontSize:n.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${he(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${he(n.controlOutlineWidth)} ${n.controlOutline}`},output:{display:"block",paddingTop:15,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight}}),Ha=(n,e)=>{const{formItemCls:t}=n;return{[t]:{[`${t}-label > label`]:{height:e},[`${t}-control-input`]:{minHeight:e}}}},zp=n=>{const{componentCls:e}=n;return{[n.componentCls]:Object.assign(Object.assign(Object.assign({},Li(n)),$p(n)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:n.paddingSM},"&-small":Object.assign({},Ha(n,n.controlHeightSM)),"&-large":Object.assign({},Ha(n,n.controlHeightLG))})}},Bp=n=>{const{formItemCls:e,iconCls:t,componentCls:i,rootPrefixCls:r,antCls:s,labelRequiredMarkColor:o,labelColor:a,labelFontSize:l,labelHeight:u,labelColonMarginInlineStart:h,labelColonMarginInlineEnd:d,itemMarginBottom:c}=n;return{[e]:Object.assign(Object.assign({},Li(n)),{marginBottom:c,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${s}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:n.colorError}},"&-has-error":{[`${e}-split`]:{color:n.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:n.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:u,color:a,fontSize:l,[`> ${t}`]:{fontSize:n.fontSize,verticalAlign:"top"},[`&${e}-required:not(${e}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:n.marginXXS,color:o,fontSize:n.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${i}-hide-required-mark &`]:{display:"none"}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:n.marginXXS,color:n.colorTextDescription,[`${i}-hide-required-mark &`]:{display:"none"}},[`${e}-tooltip`]:{color:n.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:n.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:h,marginInlineEnd:d},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:n.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[e]:{"&-explain, &-extra":{clear:"both",color:n.colorTextDescription,fontSize:n.fontSize,lineHeight:n.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:n.controlHeightSM,transition:`color ${n.motionDurationMid} ${n.motionEaseOut}`},"&-explain":{"&-error":{color:n.colorError},"&-warning":{color:n.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:n.fontSize,textAlign:"center",visibility:"visible",animationName:iu,animationDuration:n.motionDurationMid,animationTimingFunction:n.motionEaseOutBack,pointerEvents:"none","&-success":{color:n.colorSuccess},"&-error":{color:n.colorError},"&-warning":{color:n.colorWarning},"&-validating":{color:n.colorPrimary}}})}},ja=(n,e)=>{const{formItemCls:t}=n;return{[`${e}-horizontal`]:{[`${t}-label`]:{flexGrow:0},[`${t}-control`]:{flex:"1 1 0",minWidth:0},[`${t}-label[class$='-24'], ${t}-label[class*='-24 ']`]:{[`& + ${t}-control`]:{minWidth:"unset"}}}}},Hp=n=>{const{componentCls:e,formItemCls:t,inlineItemMarginBottom:i}=n;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[t]:{flex:"none",marginInlineEnd:n.margin,marginBottom:i,"&-row":{flexWrap:"nowrap"},[`> ${t}-label,
        > ${t}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${t}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${t}-has-feedback`]:{display:"inline-block"}}}}},kt=n=>({padding:n.verticalLabelPadding,margin:n.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),Cu=n=>{const{componentCls:e,formItemCls:t,rootPrefixCls:i}=n;return{[`${t} ${t}-label`]:kt(n),[`${e}:not(${e}-inline)`]:{[t]:{flexWrap:"wrap",[`${t}-label, ${t}-control`]:{[`&:not([class*=" ${i}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},jp=n=>{const{componentCls:e,formItemCls:t,antCls:i}=n;return{[`${e}-vertical`]:{[`${t}:not(${t}-horizontal)`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"},[`${t}-label,
        ${i}-col-24${t}-label,
        ${i}-col-xl-24${t}-label`]:kt(n)}},[`@media (max-width: ${he(n.screenXSMax)})`]:[Cu(n),{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-xs-24${t}-label`]:kt(n)}}}],[`@media (max-width: ${he(n.screenSMMax)})`]:{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-sm-24${t}-label`]:kt(n)}}},[`@media (max-width: ${he(n.screenMDMax)})`]:{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-md-24${t}-label`]:kt(n)}}},[`@media (max-width: ${he(n.screenLGMax)})`]:{[e]:{[`${t}:not(${t}-horizontal)`]:{[`${i}-col-lg-24${t}-label`]:kt(n)}}}}},Vp=n=>{const{formItemCls:e,antCls:t}=n;return{[`${e}-vertical`]:{[`${e}-row`]:{flexDirection:"column"},[`${e}-label > label`]:{height:"auto"},[`${e}-control`]:{width:"100%"}},[`${e}-vertical ${e}-label,
      ${t}-col-24${e}-label,
      ${t}-col-xl-24${e}-label`]:kt(n),[`@media (max-width: ${he(n.screenXSMax)})`]:[Cu(n),{[e]:{[`${t}-col-xs-24${e}-label`]:kt(n)}}],[`@media (max-width: ${he(n.screenSMMax)})`]:{[e]:{[`${t}-col-sm-24${e}-label`]:kt(n)}},[`@media (max-width: ${he(n.screenMDMax)})`]:{[e]:{[`${t}-col-md-24${e}-label`]:kt(n)}},[`@media (max-width: ${he(n.screenLGMax)})`]:{[e]:{[`${t}-col-lg-24${e}-label`]:kt(n)}}}},Wp=n=>({labelRequiredMarkColor:n.colorError,labelColor:n.colorTextHeading,labelFontSize:n.fontSize,labelHeight:n.controlHeight,labelColonMarginInlineStart:n.marginXXS/2,labelColonMarginInlineEnd:n.marginXS,itemMarginBottom:n.marginLG,verticalLabelPadding:`0 0 ${n.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Eu=(n,e)=>fn(n,{formItemCls:`${n.componentCls}-item`,rootPrefixCls:e}),ia=Mi("Form",(n,e)=>{let{rootPrefixCls:t}=e;const i=Eu(n,t);return[zp(i),Bp(i),Ip(i),ja(i,i.componentCls),ja(i,i.formItemCls),Hp(i),jp(i),Vp(i),Xh(i),iu]},Wp,{order:-1e3}),Va=[];function Ns(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof n=="string"?n:`${e}-${i}`,error:n,errorStatus:t}}const xu=n=>{let{help:e,helpStatus:t,errors:i=Va,warnings:r=Va,className:s,fieldId:o,onVisibleChanged:a}=n;const{prefixCls:l}=N.useContext(Qo),u=`${l}-item-explain`,h=pn(l),[d,c,f]=ia(l,h),v=N.useMemo(()=>Ea(l),[l]),y=Pr(i),b=Pr(r),p=N.useMemo(()=>e!=null?[Ns(e,"help",t)]:[].concat(gt(y.map((w,g)=>Ns(w,"error","error",g))),gt(b.map((w,g)=>Ns(w,"warning","warning",g)))),[e,t,y,b]),m={};return o&&(m.id=`${o}_help`),d(N.createElement(Ql,{motionDeadline:v.motionDeadline,motionName:`${l}-show-help`,visible:!!p.length,onVisibleChanged:a},w=>{const{className:g,style:S}=w;return N.createElement("div",Object.assign({},m,{className:me(u,g,f,h,s,c),style:S,role:"alert"}),N.createElement(Yh,Object.assign({keys:p},Ea(l),{motionName:`${l}-show-help-item`,component:!1}),R=>{const{key:T,error:E,errorStatus:O,className:C,style:x}=R;return N.createElement("div",{key:T,className:me(C,{[`${u}-${O}`]:O}),style:x},E)}))}))},qp=["parentNode"],Gp="form_item";function zn(n){return n===void 0||n===!1?[]:Array.isArray(n)?n:[n]}function Su(n,e){if(!n.length)return;const t=n.join("_");return e?`${e}_${t}`:qp.includes(t)?`${Gp}_${t}`:t}function _u(n,e,t,i,r,s){let o=i;return s!==void 0?o=s:t.validating?o="validating":n.length?o="error":e.length?o="warning":(t.touched||r&&t.validated)&&(o="success"),o}function Wa(n){return zn(n).join("_")}function Up(n,e){const t=e.getFieldInstance(n),i=Zh(t);if(i)return i;const r=Su(zn(n),e.__INTERNAL__.name);if(r)return document.getElementById(r)}function Ru(n){const[e]=Jh(),t=N.useRef({}),i=N.useMemo(()=>n??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:r=>s=>{const o=Wa(r);s?t.current[o]=s:delete t.current[o]}},scrollToField:function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=Up(r,i);o&&qd(o,Object.assign({scrollMode:"if-needed",block:"nearest"},s))},getFieldInstance:r=>{const s=Wa(r);return t.current[s]}}),[n,e]);return[i]}var Kp=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Xp=(n,e)=>{const t=N.useContext(Qh),{getPrefixCls:i,direction:r,form:s}=N.useContext(ot),{prefixCls:o,className:a,rootClassName:l,size:u,disabled:h=t,form:d,colon:c,labelAlign:f,labelWrap:v,labelCol:y,wrapperCol:b,hideRequiredMark:p,layout:m="horizontal",scrollToFirstError:w,requiredMark:g,onFinishFailed:S,name:R,style:T,feedbackIcons:E,variant:O}=n,C=Kp(n,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),x=Zo(u),_=N.useContext(ed),L=N.useMemo(()=>g!==void 0?g:p?!1:s&&s.requiredMark!==void 0?s.requiredMark:!0,[p,g,s]),M=c??(s==null?void 0:s.colon),P=i("form",o),z=pn(P),[$,Y,V]=ia(P,z),I=me(P,`${P}-${m}`,{[`${P}-hide-required-mark`]:L===!1,[`${P}-rtl`]:r==="rtl",[`${P}-${x}`]:x},V,z,Y,s==null?void 0:s.className,a,l),[D]=Ru(d),{__INTERNAL__:H}=D;H.name=R;const B=N.useMemo(()=>({name:R,labelAlign:f,labelCol:y,labelWrap:v,wrapperCol:b,vertical:m==="vertical",colon:M,requiredMark:L,itemRef:H.itemRef,form:D,feedbackIcons:E}),[R,f,y,b,m,M,L,D,E]),J=N.useRef(null);N.useImperativeHandle(e,()=>{var U;return Object.assign(Object.assign({},D),{nativeElement:(U=J.current)===null||U===void 0?void 0:U.nativeElement})});const X=(U,W)=>{if(U){let k={block:"nearest"};typeof U=="object"&&(k=U),D.scrollToField(W,k)}},j=U=>{if(S==null||S(U),U.errorFields.length){const W=U.errorFields[0].name;if(w!==void 0){X(w,W);return}s&&s.scrollToFirstError!==void 0&&X(s.scrollToFirstError,W)}};return $(N.createElement(td.Provider,{value:O},N.createElement(id,{disabled:h},N.createElement(nd.Provider,{value:x},N.createElement(nu,{validateMessages:_},N.createElement(Ut.Provider,{value:B},N.createElement(rd,Object.assign({id:R},C,{name:R,onFinishFailed:j,form:D,ref:J,style:Object.assign(Object.assign({},s==null?void 0:s.style),T),className:I}))))))))},Yp=N.forwardRef(Xp);function Jp(n){if(typeof n=="function")return n;const e=eu(n);return e.length<=1?e[0]:e}const Tu=()=>{const{status:n,errors:e=[],warnings:t=[]}=N.useContext(Dr);return{status:n,errors:e,warnings:t}};Tu.Context=Dr;function Zp(n){const[e,t]=N.useState(n),i=N.useRef(null),r=N.useRef([]),s=N.useRef(!1);N.useEffect(()=>(s.current=!1,()=>{s.current=!0,Un.cancel(i.current),i.current=null}),[]);function o(a){s.current||(i.current===null&&(r.current=[],i.current=Un(()=>{i.current=null,t(l=>{let u=l;return r.current.forEach(h=>{u=h(u)}),u})})),r.current.push(a))}return[e,o]}function Qp(){const{itemRef:n}=N.useContext(Ut),e=N.useRef({});function t(i,r){const s=r&&typeof r=="object"&&r.ref,o=i.join("_");return(e.current.name!==o||e.current.originRef!==s)&&(e.current.name=o,e.current.originRef=s,e.current.ref=Go(n(i),s)),e.current.ref}return t}const eg=n=>{const{formItemCls:e}=n;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},tg=sd(["Form","item-item"],(n,e)=>{let{rootPrefixCls:t}=e;const i=Eu(n,t);return[eg(i)]}),ig=n=>{const{prefixCls:e,status:t,wrapperCol:i,children:r,errors:s,warnings:o,_internalItemRender:a,extra:l,help:u,fieldId:h,marginBottom:d,onErrorVisibleChanged:c}=n,f=`${e}-item`,v=N.useContext(Ut),y=i||v.wrapperCol||{},b=me(`${f}-control`,y.className),p=N.useMemo(()=>Object.assign({},v),[v]);delete p.labelCol,delete p.wrapperCol;const m=N.createElement("div",{className:`${f}-control-input`},N.createElement("div",{className:`${f}-control-input-content`},r)),w=N.useMemo(()=>({prefixCls:e,status:t}),[e,t]),g=d!==null||s.length||o.length?N.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},N.createElement(Qo.Provider,{value:w},N.createElement(xu,{fieldId:h,errors:s,warnings:o,help:u,helpStatus:t,className:`${f}-explain-connected`,onVisibleChanged:c})),!!d&&N.createElement("div",{style:{width:0,height:d}})):null,S={};h&&(S.id=`${h}_extra`);const R=l?N.createElement("div",Object.assign({},S,{className:`${f}-extra`}),l):null,T=a&&a.mark==="pro_table_render"&&a.render?a.render(n,{input:m,errorList:g,extra:R}):N.createElement(N.Fragment,null,m,g,R);return N.createElement(Ut.Provider,{value:p},N.createElement(ci,Object.assign({},y,{className:b}),T),N.createElement(tg,{prefixCls:e}))};var ng={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},rg=function(e,t){return N.createElement(ki,Qe({},e,{ref:t,icon:ng}))},Ou=N.forwardRef(rg),sg=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function og(n){return n?typeof n=="object"&&!N.isValidElement(n)?n:{title:n}:null}const ag=n=>{let{prefixCls:e,label:t,htmlFor:i,labelCol:r,labelAlign:s,colon:o,required:a,requiredMark:l,tooltip:u,vertical:h}=n;var d;const[c]=od("Form"),{labelAlign:f,labelCol:v,labelWrap:y,colon:b}=N.useContext(Ut);if(!t)return null;const p=r||v||{},m=s||f,w=`${e}-item-label`,g=me(w,m==="left"&&`${w}-left`,p.className,{[`${w}-wrap`]:!!y});let S=t;const R=o===!0||b!==!1&&o!==!1;R&&!h&&typeof t=="string"&&t.trim()!==""&&(S=t.replace(/[:|：]\s*$/,""));const E=og(u);if(E){const{icon:_=N.createElement(Ou,null)}=E,L=sg(E,["icon"]),M=N.createElement(Sr,Object.assign({},L),N.cloneElement(_,{className:`${e}-item-tooltip`,title:"",onClick:P=>{P.preventDefault()},tabIndex:null}));S=N.createElement(N.Fragment,null,S,M)}const O=l==="optional",C=typeof l=="function";C?S=l(S,{required:!!a}):O&&!a&&(S=N.createElement(N.Fragment,null,S,N.createElement("span",{className:`${e}-item-optional`,title:""},(c==null?void 0:c.optional)||((d=ad.Form)===null||d===void 0?void 0:d.optional))));const x=me({[`${e}-item-required`]:a,[`${e}-item-required-mark-optional`]:O||C,[`${e}-item-no-colon`]:!R});return N.createElement(ci,Object.assign({},p,{className:g}),N.createElement("label",{htmlFor:i,className:x,title:typeof t=="string"?t:""},S))},lg={success:ld,warning:ud,error:cd,validating:hd};function ku(n){let{children:e,errors:t,warnings:i,hasFeedback:r,validateStatus:s,prefixCls:o,meta:a,noStyle:l}=n;const u=`${o}-item`,{feedbackIcons:h}=N.useContext(Ut),d=_u(t,i,a,null,!!r,s),{isFormItemInput:c,status:f,hasFeedback:v,feedbackIcon:y}=N.useContext(Dr),b=N.useMemo(()=>{var p;let m;if(r){const g=r!==!0&&r.icons||h,S=d&&((p=g==null?void 0:g({status:d,errors:t,warnings:i}))===null||p===void 0?void 0:p[d]),R=d&&lg[d];m=S!==!1&&R?N.createElement("span",{className:me(`${u}-feedback-icon`,`${u}-feedback-icon-${d}`)},S||N.createElement(R,null)):null}const w={status:d||"",errors:t,warnings:i,hasFeedback:!!r,feedbackIcon:m,isFormItemInput:!0};return l&&(w.status=(d??f)||"",w.isFormItemInput=c,w.hasFeedback=!!(r??v),w.feedbackIcon=r!==void 0?w.feedbackIcon:y),w},[d,r,l,c,f]);return N.createElement(Dr.Provider,{value:b},e)}var ug=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function cg(n){const{prefixCls:e,className:t,rootClassName:i,style:r,help:s,errors:o,warnings:a,validateStatus:l,meta:u,hasFeedback:h,hidden:d,children:c,fieldId:f,required:v,isRequired:y,onSubItemMetaChange:b,layout:p}=n,m=ug(n,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),w=`${e}-item`,{requiredMark:g,vertical:S}=N.useContext(Ut),R=S||p==="vertical",T=N.useRef(null),E=Pr(o),O=Pr(a),C=s!=null,x=!!(C||o.length||a.length),_=!!T.current&&dd(T.current),[L,M]=N.useState(null);ru(()=>{if(x&&T.current){const V=getComputedStyle(T.current);M(parseInt(V.marginBottom,10))}},[x,_]);const P=V=>{V||M(null)},$=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const I=V?E:u.errors,D=V?O:u.warnings;return _u(I,D,u,"",!!h,l)}(),Y=me(w,t,i,{[`${w}-with-help`]:C||E.length||O.length,[`${w}-has-feedback`]:$&&h,[`${w}-has-success`]:$==="success",[`${w}-has-warning`]:$==="warning",[`${w}-has-error`]:$==="error",[`${w}-is-validating`]:$==="validating",[`${w}-hidden`]:d,[`${w}-${p}`]:p});return N.createElement("div",{className:Y,style:r,ref:T},N.createElement($n,Object.assign({className:`${w}-row`},Xo(m,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),N.createElement(ag,Object.assign({htmlFor:f},n,{requiredMark:g,required:v??y,prefixCls:e,vertical:R})),N.createElement(ig,Object.assign({},n,u,{errors:E,warnings:O,prefixCls:e,status:$,help:s,marginBottom:L,onErrorVisibleChanged:P}),N.createElement(su.Provider,{value:b},N.createElement(ku,{prefixCls:e,meta:u,errors:u.errors,warnings:u.warnings,hasFeedback:h,validateStatus:$},c)))),!!L&&N.createElement("div",{className:`${w}-margin-offset`,style:{marginBottom:-L}}))}const hg="__SPLIT__";function dg(n,e){const t=Object.keys(n),i=Object.keys(e);return t.length===i.length&&t.every(r=>{const s=n[r],o=e[r];return s===o||typeof s=="function"||typeof o=="function"})}const fg=N.memo(n=>{let{children:e}=n;return e},(n,e)=>dg(n.control,e.control)&&n.update===e.update&&n.childProps.length===e.childProps.length&&n.childProps.every((t,i)=>t===e.childProps[i]));function qa(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function pg(n){const{name:e,noStyle:t,className:i,dependencies:r,prefixCls:s,shouldUpdate:o,rules:a,children:l,required:u,label:h,messageVariables:d,trigger:c="onChange",validateTrigger:f,hidden:v,help:y,layout:b}=n,{getPrefixCls:p}=N.useContext(ot),{name:m}=N.useContext(Ut),w=Jp(l),g=typeof w=="function",S=N.useContext(su),{validateTrigger:R}=N.useContext(fd),T=f!==void 0?f:R,E=e!=null,O=p("form",s),C=pn(O),[x,_,L]=ia(O,C);Jl();const M=N.useContext(pd),P=N.useRef(),[z,$]=Zp({}),[Y,V]=gd(()=>qa()),I=U=>{const W=M==null?void 0:M.getKey(U.name);if(V(U.destroy?qa():U,!0),t&&y!==!1&&S){let k=U.name;if(U.destroy)k=P.current||k;else if(W!==void 0){const[F,G]=W;k=[F].concat(gt(G)),P.current=k}S(U,k)}},D=(U,W)=>{$(k=>{const F=Object.assign({},k),Q=[].concat(gt(U.name.slice(0,-1)),gt(W)).join(hg);return U.destroy?delete F[Q]:F[Q]=U,F})},[H,B]=N.useMemo(()=>{const U=gt(Y.errors),W=gt(Y.warnings);return Object.values(z).forEach(k=>{U.push.apply(U,gt(k.errors||[])),W.push.apply(W,gt(k.warnings||[]))}),[U,W]},[z,Y.errors,Y.warnings]),J=Qp();function X(U,W,k){return t&&!v?N.createElement(ku,{prefixCls:O,hasFeedback:n.hasFeedback,validateStatus:n.validateStatus,meta:Y,errors:H,warnings:B,noStyle:!0},U):N.createElement(cg,Object.assign({key:"row"},n,{className:me(i,L,C,_),prefixCls:O,fieldId:W,isRequired:k,errors:H,warnings:B,meta:Y,onSubItemMetaChange:D,layout:b}),U)}if(!E&&!g&&!r)return x(X(w));let j={};return typeof h=="string"?j.label=h:e&&(j.label=String(e)),d&&(j=Object.assign(Object.assign({},j),d)),x(N.createElement(md,Object.assign({},n,{messageVariables:j,trigger:c,validateTrigger:T,onMetaChange:I}),(U,W,k)=>{const F=zn(e).length&&W?W.name:[],G=Su(F,m),Q=u!==void 0?u:!!(a&&a.some(le=>{if(le&&typeof le=="object"&&le.required&&!le.warningOnly)return!0;if(typeof le=="function"){const pe=le(k);return pe&&pe.required&&!pe.warningOnly}return!1})),ee=Object.assign({},U);let ne=null;if(Array.isArray(w)&&E)ne=w;else if(!(g&&(!(o||r)||E))){if(!(r&&!g&&!E))if(N.isValidElement(w)){const le=Object.assign(Object.assign({},w.props),ee);if(le.id||(le.id=G),y||H.length>0||B.length>0||n.extra){const te=[];(y||H.length>0)&&te.push(`${G}_help`),n.extra&&te.push(`${G}_extra`),le["aria-describedby"]=te.join(" ")}H.length>0&&(le["aria-invalid"]="true"),Q&&(le["aria-required"]="true"),Uo(w)&&(le.ref=J(F,w)),new Set([].concat(gt(zn(c)),gt(zn(T)))).forEach(te=>{le[te]=function(){for(var ie,ae,ue,oe,fe,ge=arguments.length,ye=new Array(ge),ke=0;ke<ge;ke++)ye[ke]=arguments[ke];(ue=ee[te])===null||ue===void 0||(ie=ue).call.apply(ie,[ee].concat(ye)),(fe=(oe=w.props)[te])===null||fe===void 0||(ae=fe).call.apply(ae,[oe].concat(ye))}});const ve=[le["aria-required"],le["aria-invalid"],le["aria-describedby"]];ne=N.createElement(fg,{control:ee,update:w,childProps:ve},Ko(w,le))}else g&&(o||r)&&!E?ne=w(k):ne=w}return X(ne,G,Q)}))}const Mu=pg;Mu.useStatus=Tu;var gg=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const mg=n=>{var{prefixCls:e,children:t}=n,i=gg(n,["prefixCls","children"]);const{getPrefixCls:r}=N.useContext(ot),s=r("form",e),o=N.useMemo(()=>({prefixCls:s,status:"error"}),[s]);return N.createElement(bd,Object.assign({},i),(a,l,u)=>N.createElement(Qo.Provider,{value:o},t(a.map(h=>Object.assign(Object.assign({},h),{fieldKey:h.key})),l,{errors:u.errors,warnings:u.warnings})))};function bg(){const{form:n}=N.useContext(Ut);return n}const Mt=Yp;Mt.Item=Mu;Mt.List=mg;Mt.ErrorList=xu;Mt.useForm=Ru;Mt.useFormInstance=bg;Mt.useWatch=vd;Mt.Provider=nu;Mt.create=()=>{};function vg(n){let{percent:e,prefixCls:t}=n;const i=`${t}-dot`,r=`${i}-holder`,s=`${r}-hidden`,[o,a]=N.useState(!1);ru(()=>{e!==0&&a(!0)},[e!==0]);const l=Math.max(Math.min(e,100),0),u=100,h=u/5,d=u/2-h/2,c=d*2*Math.PI,f=(v,y)=>N.createElement("circle",{className:me(v,`${i}-circle`),r:d,cx:"50",cy:"50",strokeWidth:h,style:y});return o?N.createElement("span",{className:me(r,`${i}-progress`,l<=0&&s)},N.createElement("svg",{viewBox:`0 0 ${u} ${u}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},f(`${i}-circle-bg`),f("",{strokeDasharray:`${c*l/100} ${c*(100-l)/100}`,strokeDashoffset:`${c/4}`}))):null}function yg(n){const{prefixCls:e,percent:t=0}=n,i=`${e}-dot`,r=`${i}-holder`,s=`${r}-hidden`;return N.createElement(N.Fragment,null,N.createElement("span",{className:me(r,t>0&&s)},N.createElement("span",{className:me(i,`${e}-dot-spin`)},[1,2,3,4].map(o=>N.createElement("i",{className:`${e}-dot-item`,key:o})))),N.createElement(vg,{prefixCls:e,percent:t}))}function wg(n){const{prefixCls:e,indicator:t,percent:i}=n,r=`${e}-dot`;return t&&N.isValidElement(t)?Ko(t,{className:me(t.props.className,r),percent:i}):N.createElement(yg,{prefixCls:e,percent:i})}const Cg=new It("antSpinMove",{to:{opacity:1}}),Eg=new It("antRotate",{to:{transform:"rotate(405deg)"}}),xg=n=>{const{componentCls:e,calc:t}=n;return{[`${e}`]:Object.assign(Object.assign({},Li(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",top:0,insetInlineStart:0},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:Cg,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:Eg,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(i=>`${i} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{fontSize:n.dotSizeSM},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{fontSize:n.dotSizeLG},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},Sg=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},_g=Mi("Spin",n=>{const e=fn(n,{spinDotDefault:n.colorTextDescription});return[xg(e)]},Sg),Rg=200,Ga=[[30,.05],[70,.03],[96,.01]];function Tg(n,e){const[t,i]=N.useState(0),r=N.useRef(),s=e==="auto";return N.useEffect(()=>(s&&n&&(i(0),r.current=setInterval(()=>{i(o=>{const a=100-o;for(let l=0;l<Ga.length;l+=1){const[u,h]=Ga[l];if(o<=u)return o+a*h}return o})},Rg)),()=>{clearInterval(r.current)}),[s,n]),s?t:e}var Og=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let Lu;function kg(n,e){return!!n&&!!e&&!isNaN(Number(e))}const na=n=>{const{prefixCls:e,spinning:t=!0,delay:i=0,className:r,rootClassName:s,size:o="default",tip:a,wrapperClassName:l,style:u,children:h,fullscreen:d=!1,indicator:c,percent:f}=n,v=Og(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:y}=N.useContext(ot),b=y("spin",e),[p,m,w]=_g(b),[g,S]=N.useState(()=>t&&!kg(t,i)),R=Tg(g,f);N.useEffect(()=>{if(t){const M=Sp(i,()=>{S(!0)});return M(),()=>{var P;(P=M==null?void 0:M.cancel)===null||P===void 0||P.call(M)}}S(!1)},[i,t]);const T=N.useMemo(()=>typeof h<"u"&&!d,[h,d]),{direction:E,spin:O}=N.useContext(ot),C=me(b,O==null?void 0:O.className,{[`${b}-sm`]:o==="small",[`${b}-lg`]:o==="large",[`${b}-spinning`]:g,[`${b}-show-text`]:!!a,[`${b}-rtl`]:E==="rtl"},r,!d&&s,m,w),x=me(`${b}-container`,{[`${b}-blur`]:g}),_=Object.assign(Object.assign({},O==null?void 0:O.style),u),L=N.createElement("div",Object.assign({},v,{style:_,className:C,"aria-live":"polite","aria-busy":g}),N.createElement(wg,{prefixCls:b,indicator:c??Lu,percent:R}),a&&(T||d)?N.createElement("div",{className:`${b}-text`},a):null);return p(T?N.createElement("div",Object.assign({},v,{className:me(`${b}-nested-loading`,l,m,w)}),g&&N.createElement("div",{key:"loading"},L),N.createElement("div",{className:x,key:"container"},h)):d?N.createElement("div",{className:me(`${b}-fullscreen`,{[`${b}-fullscreen-show`]:g},s,m,w)},L):L)};na.setDefaultIndicator=n=>{Lu=n};var Mg=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Lg=n=>{const{prefixCls:e,className:t,closeIcon:i,closable:r,type:s,title:o,children:a,footer:l}=n,u=Mg(n,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:h}=N.useContext(ot),d=h(),c=e||h("modal"),f=pn(d),[v,y,b]=yd(c,f),p=`${c}-confirm`;let m={};return s?m={closable:r??!1,title:"",footer:"",children:N.createElement(wd,Object.assign({},n,{prefixCls:c,confirmPrefixCls:p,rootPrefixCls:d,content:a}))}:m={closable:r??!0,title:o,footer:l!==null&&N.createElement(Cd,Object.assign({},n)),children:a},v(N.createElement(Ed,Object.assign({prefixCls:c,className:me(y,`${c}-pure-panel`,s&&p,s&&`${p}-${s}`,t,b,f)},u,{closeIcon:xd(c,i),closable:r},m)))},Ag=lu(Lg);function Au(n){return nr(Ld(n))}const Lt=Sd;Lt.useModal=_d;Lt.info=function(e){return nr(Rd(e))};Lt.success=function(e){return nr(Td(e))};Lt.error=function(e){return nr(Od(e))};Lt.warning=Au;Lt.warn=Au;Lt.confirm=function(e){return nr(kd(e))};Lt.destroyAll=function(){for(;xa.length;){const e=xa.pop();e&&e()}};Lt.config=Md;Lt._InternalPanelDoNotUseOrYouWillBeFired=Ag;var Dg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},Pg=function(e,t){return N.createElement(ki,Qe({},e,{ref:t,icon:Dg}))},Fg=N.forwardRef(Pg),Ng={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},Ig=function(e,t){return N.createElement(ki,Qe({},e,{ref:t,icon:Ng}))},$g=N.forwardRef(Ig),zg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Bg=function(e,t){return N.createElement(ki,Qe({},e,{ref:t,icon:zg}))},Hg=N.forwardRef(Bg),jg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},Vg=function(e,t){return N.createElement(ki,Qe({},e,{ref:t,icon:jg}))},Wg=N.forwardRef(Vg);const Du=(n,e,t)=>{if(!n||!e)return!1;if(t&&n===e)return!0;let i=e.parentNode;for(;i!=null;){if(i==n)return!0;i=i.parentNode}return!1};function mr(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qg={exports:{}};(function(n,e){(function(t){n.exports=t()})(function(){return function t(i,r,s){function o(u,h){if(!r[u]){if(!i[u]){var d=typeof mr=="function"&&mr;if(!h&&d)return d(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}h=r[u]={exports:{}},i[u][0].call(h.exports,function(c){var f=i[u][1][c];return o(f||c)},h,h.exports,t,i,r,s)}return r[u].exports}for(var a=typeof mr=="function"&&mr,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){var v=t("crypto");function y(R,T){T=m(R,T);var E;return(E=T.algorithm!=="passthrough"?v.createHash(T.algorithm):new S).write===void 0&&(E.write=E.update,E.end=E.update),g(T,E).dispatch(R),E.update||E.end(""),E.digest?E.digest(T.encoding==="buffer"?void 0:T.encoding):(R=E.read(),T.encoding!=="buffer"?R.toString(T.encoding):R)}(r=i.exports=y).sha1=function(R){return y(R)},r.keys=function(R){return y(R,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(R){return y(R,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(R){return y(R,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var b=v.getHashes?v.getHashes().slice():["sha1","md5"],p=(b.push("passthrough"),["buffer","hex","binary","base64"]);function m(R,T){var E={};if(E.algorithm=(T=T||{}).algorithm||"sha1",E.encoding=T.encoding||"hex",E.excludeValues=!!T.excludeValues,E.algorithm=E.algorithm.toLowerCase(),E.encoding=E.encoding.toLowerCase(),E.ignoreUnknown=T.ignoreUnknown===!0,E.respectType=T.respectType!==!1,E.respectFunctionNames=T.respectFunctionNames!==!1,E.respectFunctionProperties=T.respectFunctionProperties!==!1,E.unorderedArrays=T.unorderedArrays===!0,E.unorderedSets=T.unorderedSets!==!1,E.unorderedObjects=T.unorderedObjects!==!1,E.replacer=T.replacer||void 0,E.excludeKeys=T.excludeKeys||void 0,R===void 0)throw new Error("Object argument required.");for(var O=0;O<b.length;++O)b[O].toLowerCase()===E.algorithm.toLowerCase()&&(E.algorithm=b[O]);if(b.indexOf(E.algorithm)===-1)throw new Error('Algorithm "'+E.algorithm+'"  not supported. supported values: '+b.join(", "));if(p.indexOf(E.encoding)===-1&&E.algorithm!=="passthrough")throw new Error('Encoding "'+E.encoding+'"  not supported. supported values: '+p.join(", "));return E}function w(R){if(typeof R=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(R))!=null}function g(R,T,E){E=E||[];function O(C){return T.update?T.update(C,"utf8"):T.write(C,"utf8")}return{dispatch:function(C){return this["_"+((C=R.replacer?R.replacer(C):C)===null?"null":typeof C)](C)},_object:function(C){var x,_=Object.prototype.toString.call(C),L=/\[object (.*)\]/i.exec(_);if(L=(L=L?L[1]:"unknown:["+_+"]").toLowerCase(),0<=(_=E.indexOf(C)))return this.dispatch("[CIRCULAR:"+_+"]");if(E.push(C),a!==void 0&&a.isBuffer&&a.isBuffer(C))return O("buffer:"),O(C);if(L==="object"||L==="function"||L==="asyncfunction")return _=Object.keys(C),R.unorderedObjects&&(_=_.sort()),R.respectType===!1||w(C)||_.splice(0,0,"prototype","__proto__","constructor"),R.excludeKeys&&(_=_.filter(function(M){return!R.excludeKeys(M)})),O("object:"+_.length+":"),x=this,_.forEach(function(M){x.dispatch(M),O(":"),R.excludeValues||x.dispatch(C[M]),O(",")});if(!this["_"+L]){if(R.ignoreUnknown)return O("["+L+"]");throw new Error('Unknown object type "'+L+'"')}this["_"+L](C)},_array:function(C,M){M=M!==void 0?M:R.unorderedArrays!==!1;var _=this;if(O("array:"+C.length+":"),!M||C.length<=1)return C.forEach(function(P){return _.dispatch(P)});var L=[],M=C.map(function(P){var z=new S,$=E.slice();return g(R,z,$).dispatch(P),L=L.concat($.slice(E.length)),z.read().toString()});return E=E.concat(L),M.sort(),this._array(M,!1)},_date:function(C){return O("date:"+C.toJSON())},_symbol:function(C){return O("symbol:"+C.toString())},_error:function(C){return O("error:"+C.toString())},_boolean:function(C){return O("bool:"+C.toString())},_string:function(C){O("string:"+C.length+":"),O(C.toString())},_function:function(C){O("fn:"),w(C)?this.dispatch("[native]"):this.dispatch(C.toString()),R.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(C.name)),R.respectFunctionProperties&&this._object(C)},_number:function(C){return O("number:"+C.toString())},_xml:function(C){return O("xml:"+C.toString())},_null:function(){return O("Null")},_undefined:function(){return O("Undefined")},_regexp:function(C){return O("regex:"+C.toString())},_uint8array:function(C){return O("uint8array:"),this.dispatch(Array.prototype.slice.call(C))},_uint8clampedarray:function(C){return O("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(C))},_int8array:function(C){return O("int8array:"),this.dispatch(Array.prototype.slice.call(C))},_uint16array:function(C){return O("uint16array:"),this.dispatch(Array.prototype.slice.call(C))},_int16array:function(C){return O("int16array:"),this.dispatch(Array.prototype.slice.call(C))},_uint32array:function(C){return O("uint32array:"),this.dispatch(Array.prototype.slice.call(C))},_int32array:function(C){return O("int32array:"),this.dispatch(Array.prototype.slice.call(C))},_float32array:function(C){return O("float32array:"),this.dispatch(Array.prototype.slice.call(C))},_float64array:function(C){return O("float64array:"),this.dispatch(Array.prototype.slice.call(C))},_arraybuffer:function(C){return O("arraybuffer:"),this.dispatch(new Uint8Array(C))},_url:function(C){return O("url:"+C.toString())},_map:function(C){return O("map:"),C=Array.from(C),this._array(C,R.unorderedSets!==!1)},_set:function(C){return O("set:"),C=Array.from(C),this._array(C,R.unorderedSets!==!1)},_file:function(C){return O("file:"),this.dispatch([C.name,C.size,C.type,C.lastModfied])},_blob:function(){if(R.ignoreUnknown)return O("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return O("domwindow")},_bigint:function(C){return O("bigint:"+C.toString())},_process:function(){return O("process")},_timer:function(){return O("timer")},_pipe:function(){return O("pipe")},_tcp:function(){return O("tcp")},_udp:function(){return O("udp")},_tty:function(){return O("tty")},_statwatcher:function(){return O("statwatcher")},_securecontext:function(){return O("securecontext")},_connection:function(){return O("connection")},_zlib:function(){return O("zlib")},_context:function(){return O("context")},_nodescript:function(){return O("nodescript")},_httpparser:function(){return O("httpparser")},_dataview:function(){return O("dataview")},_signal:function(){return O("signal")},_fsevent:function(){return O("fsevent")},_tlswrap:function(){return O("tlswrap")}}}function S(){return{buf:"",write:function(R){this.buf+=R},end:function(R){this.buf+=R},read:function(){return this.buf}}}r.writeToStream=function(R,T,E){return E===void 0&&(E=T,T={}),g(T=m(R,T),E).dispatch(R)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){(function(v){var y=typeof Uint8Array<"u"?Uint8Array:Array,b=43,p=47,m=48,w=97,g=65,S=45,R=95;function T(E){return E=E.charCodeAt(0),E===b||E===S?62:E===p||E===R?63:E<m?-1:E<m+10?E-m+26+26:E<g+26?E-g:E<w+26?E-w+26:void 0}v.toByteArray=function(E){var O,C;if(0<E.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var x=E.length,x=E.charAt(x-2)==="="?2:E.charAt(x-1)==="="?1:0,_=new y(3*E.length/4-x),L=0<x?E.length-4:E.length,M=0;function P(z){_[M++]=z}for(O=0;O<L;O+=4,0)P((16711680&(C=T(E.charAt(O))<<18|T(E.charAt(O+1))<<12|T(E.charAt(O+2))<<6|T(E.charAt(O+3))))>>16),P((65280&C)>>8),P(255&C);return x==2?P(255&(C=T(E.charAt(O))<<2|T(E.charAt(O+1))>>4)):x==1&&(P((C=T(E.charAt(O))<<10|T(E.charAt(O+1))<<4|T(E.charAt(O+2))>>2)>>8&255),P(255&C)),_},v.fromByteArray=function(E){var O,C,x,_,L=E.length%3,M="";function P(z){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(z)}for(O=0,x=E.length-L;O<x;O+=3)C=(E[O]<<16)+(E[O+1]<<8)+E[O+2],M+=P((_=C)>>18&63)+P(_>>12&63)+P(_>>6&63)+P(63&_);switch(L){case 1:M=(M+=P((C=E[E.length-1])>>2))+P(C<<4&63)+"==";break;case 2:M=(M=(M+=P((C=(E[E.length-2]<<8)+E[E.length-1])>>10))+P(C>>4&63))+P(C<<2&63)+"="}return M}})(r===void 0?this.base64js={}:r)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,i,r){(function(s,o,b,l,u,h,d,c,f){var v=t("base64-js"),y=t("ieee754");function b(k,F,G){if(!(this instanceof b))return new b(k,F,G);var Q,ee,ne,le,pe=typeof k;if(F==="base64"&&pe=="string")for(k=(le=k).trim?le.trim():le.replace(/^\s+|\s+$/g,"");k.length%4!=0;)k+="=";if(pe=="number")Q=Y(k);else if(pe=="string")Q=b.byteLength(k,F);else{if(pe!="object")throw new Error("First argument needs to be a number, array or string.");Q=Y(k.length)}if(b._useTypedArrays?ee=b._augment(new Uint8Array(Q)):((ee=this).length=Q,ee._isBuffer=!0),b._useTypedArrays&&typeof k.byteLength=="number")ee._set(k);else if(V(le=k)||b.isBuffer(le)||le&&typeof le=="object"&&typeof le.length=="number")for(ne=0;ne<Q;ne++)b.isBuffer(k)?ee[ne]=k.readUInt8(ne):ee[ne]=k[ne];else if(pe=="string")ee.write(k,0,F);else if(pe=="number"&&!b._useTypedArrays&&!G)for(ne=0;ne<Q;ne++)ee[ne]=0;return ee}function p(k,F,G,Q){return b._charsWritten=B(function(ee){for(var ne=[],le=0;le<ee.length;le++)ne.push(255&ee.charCodeAt(le));return ne}(F),k,G,Q)}function m(k,F,G,Q){return b._charsWritten=B(function(ee){for(var ne,le,pe=[],ve=0;ve<ee.length;ve++)le=ee.charCodeAt(ve),ne=le>>8,le=le%256,pe.push(le),pe.push(ne);return pe}(F),k,G,Q)}function w(k,F,G){var Q="";G=Math.min(k.length,G);for(var ee=F;ee<G;ee++)Q+=String.fromCharCode(k[ee]);return Q}function g(k,F,G,ne){ne||(W(typeof G=="boolean","missing or invalid endian"),W(F!=null,"missing offset"),W(F+1<k.length,"Trying to read beyond buffer length"));var ee,ne=k.length;if(!(ne<=F))return G?(ee=k[F],F+1<ne&&(ee|=k[F+1]<<8)):(ee=k[F]<<8,F+1<ne&&(ee|=k[F+1])),ee}function S(k,F,G,ne){ne||(W(typeof G=="boolean","missing or invalid endian"),W(F!=null,"missing offset"),W(F+3<k.length,"Trying to read beyond buffer length"));var ee,ne=k.length;if(!(ne<=F))return G?(F+2<ne&&(ee=k[F+2]<<16),F+1<ne&&(ee|=k[F+1]<<8),ee|=k[F],F+3<ne&&(ee+=k[F+3]<<24>>>0)):(F+1<ne&&(ee=k[F+1]<<16),F+2<ne&&(ee|=k[F+2]<<8),F+3<ne&&(ee|=k[F+3]),ee+=k[F]<<24>>>0),ee}function R(k,F,G,Q){if(Q||(W(typeof G=="boolean","missing or invalid endian"),W(F!=null,"missing offset"),W(F+1<k.length,"Trying to read beyond buffer length")),!(k.length<=F))return Q=g(k,F,G,!0),32768&Q?-1*(65535-Q+1):Q}function T(k,F,G,Q){if(Q||(W(typeof G=="boolean","missing or invalid endian"),W(F!=null,"missing offset"),W(F+3<k.length,"Trying to read beyond buffer length")),!(k.length<=F))return Q=S(k,F,G,!0),2147483648&Q?-1*(4294967295-Q+1):Q}function E(k,F,G,Q){return Q||(W(typeof G=="boolean","missing or invalid endian"),W(F+3<k.length,"Trying to read beyond buffer length")),y.read(k,F,G,23,4)}function O(k,F,G,Q){return Q||(W(typeof G=="boolean","missing or invalid endian"),W(F+7<k.length,"Trying to read beyond buffer length")),y.read(k,F,G,52,8)}function C(k,F,G,Q,ee){if(ee||(W(F!=null,"missing value"),W(typeof Q=="boolean","missing or invalid endian"),W(G!=null,"missing offset"),W(G+1<k.length,"trying to write beyond buffer length"),X(F,65535)),ee=k.length,!(ee<=G))for(var ne=0,le=Math.min(ee-G,2);ne<le;ne++)k[G+ne]=(F&255<<8*(Q?ne:1-ne))>>>8*(Q?ne:1-ne)}function x(k,F,G,Q,ee){if(ee||(W(F!=null,"missing value"),W(typeof Q=="boolean","missing or invalid endian"),W(G!=null,"missing offset"),W(G+3<k.length,"trying to write beyond buffer length"),X(F,4294967295)),ee=k.length,!(ee<=G))for(var ne=0,le=Math.min(ee-G,4);ne<le;ne++)k[G+ne]=F>>>8*(Q?ne:3-ne)&255}function _(k,F,G,Q,ee){ee||(W(F!=null,"missing value"),W(typeof Q=="boolean","missing or invalid endian"),W(G!=null,"missing offset"),W(G+1<k.length,"Trying to write beyond buffer length"),j(F,32767,-32768)),k.length<=G||C(k,0<=F?F:65535+F+1,G,Q,ee)}function L(k,F,G,Q,ee){ee||(W(F!=null,"missing value"),W(typeof Q=="boolean","missing or invalid endian"),W(G!=null,"missing offset"),W(G+3<k.length,"Trying to write beyond buffer length"),j(F,2147483647,-2147483648)),k.length<=G||x(k,0<=F?F:4294967295+F+1,G,Q,ee)}function M(k,F,G,Q,ee){ee||(W(F!=null,"missing value"),W(typeof Q=="boolean","missing or invalid endian"),W(G!=null,"missing offset"),W(G+3<k.length,"Trying to write beyond buffer length"),U(F,34028234663852886e22,-34028234663852886e22)),k.length<=G||y.write(k,F,G,Q,23,4)}function P(k,F,G,Q,ee){ee||(W(F!=null,"missing value"),W(typeof Q=="boolean","missing or invalid endian"),W(G!=null,"missing offset"),W(G+7<k.length,"Trying to write beyond buffer length"),U(F,17976931348623157e292,-17976931348623157e292)),k.length<=G||y.write(k,F,G,Q,52,8)}r.Buffer=b,r.SlowBuffer=b,r.INSPECT_MAX_BYTES=50,b.poolSize=8192,b._useTypedArrays=function(){try{var k=new ArrayBuffer(0),F=new Uint8Array(k);return F.foo=function(){return 42},F.foo()===42&&typeof F.subarray=="function"}catch{return!1}}(),b.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.isBuffer=function(k){return!(k==null||!k._isBuffer)},b.byteLength=function(k,F){var G;switch(k+="",F||"utf8"){case"hex":G=k.length/2;break;case"utf8":case"utf-8":G=D(k).length;break;case"ascii":case"binary":case"raw":G=k.length;break;case"base64":G=H(k).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":G=2*k.length;break;default:throw new Error("Unknown encoding")}return G},b.concat=function(k,F){if(W(V(k),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),k.length===0)return new b(0);if(k.length===1)return k[0];if(typeof F!="number")for(ee=F=0;ee<k.length;ee++)F+=k[ee].length;for(var G=new b(F),Q=0,ee=0;ee<k.length;ee++){var ne=k[ee];ne.copy(G,Q),Q+=ne.length}return G},b.prototype.write=function(k,F,G,Q){isFinite(F)?isFinite(G)||(Q=G,G=void 0):(ve=Q,Q=F,F=G,G=ve),F=Number(F)||0;var ee,ne,le,pe,ve=this.length-F;switch((!G||ve<(G=Number(G)))&&(G=ve),Q=String(Q||"utf8").toLowerCase()){case"hex":ee=function(te,ie,ae,ue){ae=Number(ae)||0;var oe=te.length-ae;(!ue||oe<(ue=Number(ue)))&&(ue=oe),W((oe=ie.length)%2==0,"Invalid hex string"),oe/2<ue&&(ue=oe/2);for(var fe=0;fe<ue;fe++){var ge=parseInt(ie.substr(2*fe,2),16);W(!isNaN(ge),"Invalid hex string"),te[ae+fe]=ge}return b._charsWritten=2*fe,fe}(this,k,F,G);break;case"utf8":case"utf-8":ne=this,le=F,pe=G,ee=b._charsWritten=B(D(k),ne,le,pe);break;case"ascii":case"binary":ee=p(this,k,F,G);break;case"base64":ne=this,le=F,pe=G,ee=b._charsWritten=B(H(k),ne,le,pe);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ee=m(this,k,F,G);break;default:throw new Error("Unknown encoding")}return ee},b.prototype.toString=function(k,F,G){var Q,ee,ne,le,pe=this;if(k=String(k||"utf8").toLowerCase(),F=Number(F)||0,(G=G!==void 0?Number(G):pe.length)===F)return"";switch(k){case"hex":Q=function(ve,te,ie){var ae=ve.length;(!te||te<0)&&(te=0),(!ie||ie<0||ae<ie)&&(ie=ae);for(var ue="",oe=te;oe<ie;oe++)ue+=I(ve[oe]);return ue}(pe,F,G);break;case"utf8":case"utf-8":Q=function(ve,te,ie){var ae="",ue="";ie=Math.min(ve.length,ie);for(var oe=te;oe<ie;oe++)ve[oe]<=127?(ae+=J(ue)+String.fromCharCode(ve[oe]),ue=""):ue+="%"+ve[oe].toString(16);return ae+J(ue)}(pe,F,G);break;case"ascii":case"binary":Q=w(pe,F,G);break;case"base64":ee=pe,le=G,Q=(ne=F)===0&&le===ee.length?v.fromByteArray(ee):v.fromByteArray(ee.slice(ne,le));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Q=function(ve,te,ie){for(var ae=ve.slice(te,ie),ue="",oe=0;oe<ae.length;oe+=2)ue+=String.fromCharCode(ae[oe]+256*ae[oe+1]);return ue}(pe,F,G);break;default:throw new Error("Unknown encoding")}return Q},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},b.prototype.copy=function(k,F,G,Q){if(F=F||0,(Q=Q||Q===0?Q:this.length)!==(G=G||0)&&k.length!==0&&this.length!==0){W(G<=Q,"sourceEnd < sourceStart"),W(0<=F&&F<k.length,"targetStart out of bounds"),W(0<=G&&G<this.length,"sourceStart out of bounds"),W(0<=Q&&Q<=this.length,"sourceEnd out of bounds"),Q>this.length&&(Q=this.length);var ee=(Q=k.length-F<Q-G?k.length-F+G:Q)-G;if(ee<100||!b._useTypedArrays)for(var ne=0;ne<ee;ne++)k[ne+F]=this[ne+G];else k._set(this.subarray(G,G+ee),F)}},b.prototype.slice=function(k,F){var G=this.length;if(k=$(k,G,0),F=$(F,G,G),b._useTypedArrays)return b._augment(this.subarray(k,F));for(var Q=F-k,ee=new b(Q,void 0,!0),ne=0;ne<Q;ne++)ee[ne]=this[ne+k];return ee},b.prototype.get=function(k){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(k)},b.prototype.set=function(k,F){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(k,F)},b.prototype.readUInt8=function(k,F){if(F||(W(k!=null,"missing offset"),W(k<this.length,"Trying to read beyond buffer length")),!(k>=this.length))return this[k]},b.prototype.readUInt16LE=function(k,F){return g(this,k,!0,F)},b.prototype.readUInt16BE=function(k,F){return g(this,k,!1,F)},b.prototype.readUInt32LE=function(k,F){return S(this,k,!0,F)},b.prototype.readUInt32BE=function(k,F){return S(this,k,!1,F)},b.prototype.readInt8=function(k,F){if(F||(W(k!=null,"missing offset"),W(k<this.length,"Trying to read beyond buffer length")),!(k>=this.length))return 128&this[k]?-1*(255-this[k]+1):this[k]},b.prototype.readInt16LE=function(k,F){return R(this,k,!0,F)},b.prototype.readInt16BE=function(k,F){return R(this,k,!1,F)},b.prototype.readInt32LE=function(k,F){return T(this,k,!0,F)},b.prototype.readInt32BE=function(k,F){return T(this,k,!1,F)},b.prototype.readFloatLE=function(k,F){return E(this,k,!0,F)},b.prototype.readFloatBE=function(k,F){return E(this,k,!1,F)},b.prototype.readDoubleLE=function(k,F){return O(this,k,!0,F)},b.prototype.readDoubleBE=function(k,F){return O(this,k,!1,F)},b.prototype.writeUInt8=function(k,F,G){G||(W(k!=null,"missing value"),W(F!=null,"missing offset"),W(F<this.length,"trying to write beyond buffer length"),X(k,255)),F>=this.length||(this[F]=k)},b.prototype.writeUInt16LE=function(k,F,G){C(this,k,F,!0,G)},b.prototype.writeUInt16BE=function(k,F,G){C(this,k,F,!1,G)},b.prototype.writeUInt32LE=function(k,F,G){x(this,k,F,!0,G)},b.prototype.writeUInt32BE=function(k,F,G){x(this,k,F,!1,G)},b.prototype.writeInt8=function(k,F,G){G||(W(k!=null,"missing value"),W(F!=null,"missing offset"),W(F<this.length,"Trying to write beyond buffer length"),j(k,127,-128)),F>=this.length||(0<=k?this.writeUInt8(k,F,G):this.writeUInt8(255+k+1,F,G))},b.prototype.writeInt16LE=function(k,F,G){_(this,k,F,!0,G)},b.prototype.writeInt16BE=function(k,F,G){_(this,k,F,!1,G)},b.prototype.writeInt32LE=function(k,F,G){L(this,k,F,!0,G)},b.prototype.writeInt32BE=function(k,F,G){L(this,k,F,!1,G)},b.prototype.writeFloatLE=function(k,F,G){M(this,k,F,!0,G)},b.prototype.writeFloatBE=function(k,F,G){M(this,k,F,!1,G)},b.prototype.writeDoubleLE=function(k,F,G){P(this,k,F,!0,G)},b.prototype.writeDoubleBE=function(k,F,G){P(this,k,F,!1,G)},b.prototype.fill=function(k,F,G){if(F=F||0,G=G||this.length,W(typeof(k=typeof(k=k||0)=="string"?k.charCodeAt(0):k)=="number"&&!isNaN(k),"value is not a number"),W(F<=G,"end < start"),G!==F&&this.length!==0){W(0<=F&&F<this.length,"start out of bounds"),W(0<=G&&G<=this.length,"end out of bounds");for(var Q=F;Q<G;Q++)this[Q]=k}},b.prototype.inspect=function(){for(var k=[],F=this.length,G=0;G<F;G++)if(k[G]=I(this[G]),G===r.INSPECT_MAX_BYTES){k[G+1]="...";break}return"<Buffer "+k.join(" ")+">"},b.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(b._useTypedArrays)return new b(this).buffer;for(var k=new Uint8Array(this.length),F=0,G=k.length;F<G;F+=1)k[F]=this[F];return k.buffer};var z=b.prototype;function $(k,F,G){return typeof k!="number"?G:F<=(k=~~k)?F:0<=k||0<=(k+=F)?k:0}function Y(k){return(k=~~Math.ceil(+k))<0?0:k}function V(k){return(Array.isArray||function(F){return Object.prototype.toString.call(F)==="[object Array]"})(k)}function I(k){return k<16?"0"+k.toString(16):k.toString(16)}function D(k){for(var F=[],G=0;G<k.length;G++){var Q=k.charCodeAt(G);if(Q<=127)F.push(k.charCodeAt(G));else for(var ee=G,ne=(55296<=Q&&Q<=57343&&G++,encodeURIComponent(k.slice(ee,G+1)).substr(1).split("%")),le=0;le<ne.length;le++)F.push(parseInt(ne[le],16))}return F}function H(k){return v.toByteArray(k)}function B(k,F,G,Q){for(var ee=0;ee<Q&&!(ee+G>=F.length||ee>=k.length);ee++)F[ee+G]=k[ee];return ee}function J(k){try{return decodeURIComponent(k)}catch{return"�"}}function X(k,F){W(typeof k=="number","cannot write a non-number as a number"),W(0<=k,"specified a negative value for writing an unsigned value"),W(k<=F,"value is larger than maximum value for type"),W(Math.floor(k)===k,"value has a fractional component")}function j(k,F,G){W(typeof k=="number","cannot write a non-number as a number"),W(k<=F,"value larger than maximum allowed value"),W(G<=k,"value smaller than minimum allowed value"),W(Math.floor(k)===k,"value has a fractional component")}function U(k,F,G){W(typeof k=="number","cannot write a non-number as a number"),W(k<=F,"value larger than maximum allowed value"),W(G<=k,"value smaller than minimum allowed value")}function W(k,F){if(!k)throw new Error(F||"Failed assertion")}b._augment=function(k){return k._isBuffer=!0,k._get=k.get,k._set=k.set,k.get=z.get,k.set=z.set,k.write=z.write,k.toString=z.toString,k.toLocaleString=z.toString,k.toJSON=z.toJSON,k.copy=z.copy,k.slice=z.slice,k.readUInt8=z.readUInt8,k.readUInt16LE=z.readUInt16LE,k.readUInt16BE=z.readUInt16BE,k.readUInt32LE=z.readUInt32LE,k.readUInt32BE=z.readUInt32BE,k.readInt8=z.readInt8,k.readInt16LE=z.readInt16LE,k.readInt16BE=z.readInt16BE,k.readInt32LE=z.readInt32LE,k.readInt32BE=z.readInt32BE,k.readFloatLE=z.readFloatLE,k.readFloatBE=z.readFloatBE,k.readDoubleLE=z.readDoubleLE,k.readDoubleBE=z.readDoubleBE,k.writeUInt8=z.writeUInt8,k.writeUInt16LE=z.writeUInt16LE,k.writeUInt16BE=z.writeUInt16BE,k.writeUInt32LE=z.writeUInt32LE,k.writeUInt32BE=z.writeUInt32BE,k.writeInt8=z.writeInt8,k.writeInt16LE=z.writeInt16LE,k.writeInt16BE=z.writeInt16BE,k.writeInt32LE=z.writeInt32LE,k.writeInt32BE=z.writeInt32BE,k.writeFloatLE=z.writeFloatLE,k.writeFloatBE=z.writeFloatBE,k.writeDoubleLE=z.writeDoubleLE,k.writeDoubleBE=z.writeDoubleBE,k.fill=z.fill,k.inspect=z.inspect,k.toArrayBuffer=z.toArrayBuffer,k}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,i,r){(function(s,o,v,l,u,h,d,c,f){var v=t("buffer").Buffer,y=4,b=new v(y);b.fill(0),i.exports={hash:function(p,m,w,g){for(var S=m(function(C,x){C.length%y!=0&&(_=C.length+(y-C.length%y),C=v.concat([C,b],_));for(var _,L=[],M=x?C.readInt32BE:C.readInt32LE,P=0;P<C.length;P+=y)L.push(M.call(C,P));return L}(p=v.isBuffer(p)?p:new v(p),g),8*p.length),m=g,R=new v(w),T=m?R.writeInt32BE:R.writeInt32LE,E=0;E<S.length;E++)T.call(R,S[E],4*E,!0);return R}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,i,r){(function(s,o,v,l,u,h,d,c,f){var v=t("buffer").Buffer,y=t("./sha"),b=t("./sha256"),p=t("./rng"),m={sha1:y,sha256:b,md5:t("./md5")},w=64,g=new v(w);function S(C,x){var _=m[C=C||"sha1"],L=[];return _||R("algorithm:",C,"is not yet supported"),{update:function(M){return v.isBuffer(M)||(M=new v(M)),L.push(M),M.length,this},digest:function(M){var P=v.concat(L),P=x?function(z,$,Y){v.isBuffer($)||($=new v($)),v.isBuffer(Y)||(Y=new v(Y)),$.length>w?$=z($):$.length<w&&($=v.concat([$,g],w));for(var V=new v(w),I=new v(w),D=0;D<w;D++)V[D]=54^$[D],I[D]=92^$[D];return Y=z(v.concat([V,Y])),z(v.concat([I,Y]))}(_,x,P):_(P);return L=null,M?P.toString(M):P}}}function R(){var C=[].slice.call(arguments).join(" ");throw new Error([C,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}g.fill(0),r.createHash=function(C){return S(C)},r.createHmac=S,r.randomBytes=function(C,x){if(!x||!x.call)return new v(p(C));try{x.call(this,void 0,new v(p(C)))}catch(_){x(_)}};var T,E=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],O=function(C){r[C]=function(){R("sorry,",C,"is not implemented yet")}};for(T in E)O(E[T])}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){var v=t("./helpers");function y(R,T){R[T>>5]|=128<<T%32,R[14+(T+64>>>9<<4)]=T;for(var E=1732584193,O=-271733879,C=-1732584194,x=271733878,_=0;_<R.length;_+=16){var L=E,M=O,P=C,z=x,E=p(E,O,C,x,R[_+0],7,-680876936),x=p(x,E,O,C,R[_+1],12,-389564586),C=p(C,x,E,O,R[_+2],17,606105819),O=p(O,C,x,E,R[_+3],22,-1044525330);E=p(E,O,C,x,R[_+4],7,-176418897),x=p(x,E,O,C,R[_+5],12,1200080426),C=p(C,x,E,O,R[_+6],17,-1473231341),O=p(O,C,x,E,R[_+7],22,-45705983),E=p(E,O,C,x,R[_+8],7,1770035416),x=p(x,E,O,C,R[_+9],12,-1958414417),C=p(C,x,E,O,R[_+10],17,-42063),O=p(O,C,x,E,R[_+11],22,-1990404162),E=p(E,O,C,x,R[_+12],7,1804603682),x=p(x,E,O,C,R[_+13],12,-40341101),C=p(C,x,E,O,R[_+14],17,-1502002290),E=m(E,O=p(O,C,x,E,R[_+15],22,1236535329),C,x,R[_+1],5,-165796510),x=m(x,E,O,C,R[_+6],9,-1069501632),C=m(C,x,E,O,R[_+11],14,643717713),O=m(O,C,x,E,R[_+0],20,-373897302),E=m(E,O,C,x,R[_+5],5,-701558691),x=m(x,E,O,C,R[_+10],9,38016083),C=m(C,x,E,O,R[_+15],14,-660478335),O=m(O,C,x,E,R[_+4],20,-405537848),E=m(E,O,C,x,R[_+9],5,568446438),x=m(x,E,O,C,R[_+14],9,-1019803690),C=m(C,x,E,O,R[_+3],14,-187363961),O=m(O,C,x,E,R[_+8],20,1163531501),E=m(E,O,C,x,R[_+13],5,-1444681467),x=m(x,E,O,C,R[_+2],9,-51403784),C=m(C,x,E,O,R[_+7],14,1735328473),E=w(E,O=m(O,C,x,E,R[_+12],20,-1926607734),C,x,R[_+5],4,-378558),x=w(x,E,O,C,R[_+8],11,-2022574463),C=w(C,x,E,O,R[_+11],16,1839030562),O=w(O,C,x,E,R[_+14],23,-35309556),E=w(E,O,C,x,R[_+1],4,-1530992060),x=w(x,E,O,C,R[_+4],11,1272893353),C=w(C,x,E,O,R[_+7],16,-155497632),O=w(O,C,x,E,R[_+10],23,-1094730640),E=w(E,O,C,x,R[_+13],4,681279174),x=w(x,E,O,C,R[_+0],11,-358537222),C=w(C,x,E,O,R[_+3],16,-722521979),O=w(O,C,x,E,R[_+6],23,76029189),E=w(E,O,C,x,R[_+9],4,-640364487),x=w(x,E,O,C,R[_+12],11,-421815835),C=w(C,x,E,O,R[_+15],16,530742520),E=g(E,O=w(O,C,x,E,R[_+2],23,-995338651),C,x,R[_+0],6,-198630844),x=g(x,E,O,C,R[_+7],10,1126891415),C=g(C,x,E,O,R[_+14],15,-1416354905),O=g(O,C,x,E,R[_+5],21,-57434055),E=g(E,O,C,x,R[_+12],6,1700485571),x=g(x,E,O,C,R[_+3],10,-1894986606),C=g(C,x,E,O,R[_+10],15,-1051523),O=g(O,C,x,E,R[_+1],21,-2054922799),E=g(E,O,C,x,R[_+8],6,1873313359),x=g(x,E,O,C,R[_+15],10,-30611744),C=g(C,x,E,O,R[_+6],15,-1560198380),O=g(O,C,x,E,R[_+13],21,1309151649),E=g(E,O,C,x,R[_+4],6,-145523070),x=g(x,E,O,C,R[_+11],10,-1120210379),C=g(C,x,E,O,R[_+2],15,718787259),O=g(O,C,x,E,R[_+9],21,-343485551),E=S(E,L),O=S(O,M),C=S(C,P),x=S(x,z)}return Array(E,O,C,x)}function b(R,T,E,O,C,x){return S((T=S(S(T,R),S(O,x)))<<C|T>>>32-C,E)}function p(R,T,E,O,C,x,_){return b(T&E|~T&O,R,T,C,x,_)}function m(R,T,E,O,C,x,_){return b(T&O|E&~O,R,T,C,x,_)}function w(R,T,E,O,C,x,_){return b(T^E^O,R,T,C,x,_)}function g(R,T,E,O,C,x,_){return b(E^(T|~O),R,T,C,x,_)}function S(R,T){var E=(65535&R)+(65535&T);return(R>>16)+(T>>16)+(E>>16)<<16|65535&E}i.exports=function(R){return v.hash(R,y,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){i.exports=function(v){for(var y,b=new Array(v),p=0;p<v;p++)!(3&p)&&(y=4294967296*Math.random()),b[p]=y>>>((3&p)<<3)&255;return b}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){var v=t("./helpers");function y(m,w){m[w>>5]|=128<<24-w%32,m[15+(w+64>>9<<4)]=w;for(var g,S,R,T=Array(80),E=1732584193,O=-271733879,C=-1732584194,x=271733878,_=-1009589776,L=0;L<m.length;L+=16){for(var M=E,P=O,z=C,$=x,Y=_,V=0;V<80;V++){T[V]=V<16?m[L+V]:p(T[V-3]^T[V-8]^T[V-14]^T[V-16],1);var I=b(b(p(E,5),(I=O,S=C,R=x,(g=V)<20?I&S|~I&R:!(g<40)&&g<60?I&S|I&R|S&R:I^S^R)),b(b(_,T[V]),(g=V)<20?1518500249:g<40?1859775393:g<60?-1894007588:-899497514)),_=x,x=C,C=p(O,30),O=E,E=I}E=b(E,M),O=b(O,P),C=b(C,z),x=b(x,$),_=b(_,Y)}return Array(E,O,C,x,_)}function b(m,w){var g=(65535&m)+(65535&w);return(m>>16)+(w>>16)+(g>>16)<<16|65535&g}function p(m,w){return m<<w|m>>>32-w}i.exports=function(m){return v.hash(m,y,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){function v(w,g){var S=(65535&w)+(65535&g);return(w>>16)+(g>>16)+(S>>16)<<16|65535&S}function y(w,g){var S,R=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),T=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),E=new Array(64);w[g>>5]|=128<<24-g%32,w[15+(g+64>>9<<4)]=g;for(var O,C,x=0;x<w.length;x+=16){for(var _=T[0],L=T[1],M=T[2],P=T[3],z=T[4],$=T[5],Y=T[6],V=T[7],I=0;I<64;I++)E[I]=I<16?w[I+x]:v(v(v((C=E[I-2],p(C,17)^p(C,19)^m(C,10)),E[I-7]),(C=E[I-15],p(C,7)^p(C,18)^m(C,3))),E[I-16]),S=v(v(v(v(V,p(C=z,6)^p(C,11)^p(C,25)),z&$^~z&Y),R[I]),E[I]),O=v(p(O=_,2)^p(O,13)^p(O,22),_&L^_&M^L&M),V=Y,Y=$,$=z,z=v(P,S),P=M,M=L,L=_,_=v(S,O);T[0]=v(_,T[0]),T[1]=v(L,T[1]),T[2]=v(M,T[2]),T[3]=v(P,T[3]),T[4]=v(z,T[4]),T[5]=v($,T[5]),T[6]=v(Y,T[6]),T[7]=v(V,T[7])}return T}var b=t("./helpers"),p=function(w,g){return w>>>g|w<<32-g},m=function(w,g){return w>>>g};i.exports=function(w){return b.hash(w,y,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){r.read=function(v,y,b,p,x){var w,g,S=8*x-p-1,R=(1<<S)-1,T=R>>1,E=-7,O=b?x-1:0,C=b?-1:1,x=v[y+O];for(O+=C,w=x&(1<<-E)-1,x>>=-E,E+=S;0<E;w=256*w+v[y+O],O+=C,E-=8);for(g=w&(1<<-E)-1,w>>=-E,E+=p;0<E;g=256*g+v[y+O],O+=C,E-=8);if(w===0)w=1-T;else{if(w===R)return g?NaN:1/0*(x?-1:1);g+=Math.pow(2,p),w-=T}return(x?-1:1)*g*Math.pow(2,w-p)},r.write=function(v,y,b,p,m,_){var g,S,R=8*_-m-1,T=(1<<R)-1,E=T>>1,O=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=p?0:_-1,x=p?1:-1,_=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(S=isNaN(y)?1:0,g=T):(g=Math.floor(Math.log(y)/Math.LN2),y*(p=Math.pow(2,-g))<1&&(g--,p*=2),2<=(y+=1<=g+E?O/p:O*Math.pow(2,1-E))*p&&(g++,p/=2),T<=g+E?(S=0,g=T):1<=g+E?(S=(y*p-1)*Math.pow(2,m),g+=E):(S=y*Math.pow(2,E-1)*Math.pow(2,m),g=0));8<=m;v[b+C]=255&S,C+=x,S/=256,m-=8);for(g=g<<m|S,R+=m;0<R;v[b+C]=255&g,C+=x,g/=256,R-=8);v[b+C-x]|=128*_}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,i,r){(function(s,o,a,l,u,h,d,c,f){var v,y,b;function p(){}(s=i.exports={}).nextTick=(y=typeof window<"u"&&window.setImmediate,b=typeof window<"u"&&window.postMessage&&window.addEventListener,y?function(m){return window.setImmediate(m)}:b?(v=[],window.addEventListener("message",function(m){var w=m.source;w!==window&&w!==null||m.data!=="process-tick"||(m.stopPropagation(),0<v.length&&v.shift()())},!0),function(m){v.push(m),window.postMessage("process-tick","*")}):function(m){setTimeout(m,0)}),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.binding=function(m){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(m){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(qg);var Fr={exports:{}};Fr.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",r=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",c="[object Error]",f="[object Function]",v="[object GeneratorFunction]",y="[object Map]",b="[object Number]",p="[object Null]",m="[object Object]",w="[object Promise]",g="[object Proxy]",S="[object RegExp]",R="[object Set]",T="[object String]",E="[object Symbol]",O="[object Undefined]",C="[object WeakMap]",x="[object ArrayBuffer]",_="[object DataView]",L="[object Float32Array]",M="[object Float64Array]",P="[object Int8Array]",z="[object Int16Array]",$="[object Int32Array]",Y="[object Uint8Array]",V="[object Uint8ClampedArray]",I="[object Uint16Array]",D="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,B=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,X={};X[L]=X[M]=X[P]=X[z]=X[$]=X[Y]=X[V]=X[I]=X[D]=!0,X[a]=X[l]=X[x]=X[h]=X[_]=X[d]=X[c]=X[f]=X[y]=X[b]=X[m]=X[S]=X[R]=X[T]=X[C]=!1;var j=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,U=typeof self=="object"&&self&&self.Object===Object&&self,W=j||U||Function("return this")(),k=e&&!e.nodeType&&e,F=k&&!0&&n&&!n.nodeType&&n,G=F&&F.exports===k,Q=G&&j.process,ee=function(){try{return Q&&Q.binding&&Q.binding("util")}catch{}}(),ne=ee&&ee.isTypedArray;function le(K,A){for(var q=-1,Z=K==null?0:K.length,ce=0,de=[];++q<Z;){var be=K[q];A(be,q,K)&&(de[ce++]=be)}return de}function pe(K,A){for(var q=-1,Z=A.length,ce=K.length;++q<Z;)K[ce+q]=A[q];return K}function ve(K,A){for(var q=-1,Z=K==null?0:K.length;++q<Z;)if(A(K[q],q,K))return!0;return!1}function te(K,A){for(var q=-1,Z=Array(K);++q<K;)Z[q]=A(q);return Z}function ie(K){return function(A){return K(A)}}function ae(K,A){return K.has(A)}function ue(K,A){return K==null?void 0:K[A]}function oe(K){var A=-1,q=Array(K.size);return K.forEach(function(Z,ce){q[++A]=[ce,Z]}),q}function fe(K,A){return function(q){return K(A(q))}}function ge(K){var A=-1,q=Array(K.size);return K.forEach(function(Z){q[++A]=Z}),q}var ye=Array.prototype,ke=Function.prototype,We=Object.prototype,_e=W["__core-js_shared__"],tt=ke.toString,Re=We.hasOwnProperty,qe=function(){var K=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}(),di=We.toString,Di=RegExp("^"+tt.call(Re).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=G?W.Buffer:void 0,it=W.Symbol,xt=W.Uint8Array,Xt=We.propertyIsEnumerable,Pi=ye.splice,bt=it?it.toStringTag:void 0,fi=Object.getOwnPropertySymbols,Ht=Bt?Bt.isBuffer:void 0,Fi=fe(Object.keys,Object),Ue=Qt(W,"DataView"),At=Qt(W,"Map"),Yt=Qt(W,"Promise"),Dt=Qt(W,"Set"),pi=Qt(W,"WeakMap"),jt=Qt(Object,"create"),at=_t(Ue),Ni=_t(At),En=_t(Yt),xn=_t(Dt),Ii=_t(pi),Pt=it?it.prototype:void 0,lt=Pt?Pt.valueOf:void 0;function ht(K){var A=-1,q=K==null?0:K.length;for(this.clear();++A<q;){var Z=K[A];this.set(Z[0],Z[1])}}function $i(){this.__data__=jt?jt(null):{},this.size=0}function zi(K){var A=this.has(K)&&delete this.__data__[K];return this.size-=A?1:0,A}function De(K){var A=this.__data__;if(jt){var q=A[K];return q===i?void 0:q}return Re.call(A,K)?A[K]:void 0}function Te(K){var A=this.__data__;return jt?A[K]!==void 0:Re.call(A,K)}function Le(K,A){var q=this.__data__;return this.size+=this.has(K)?0:1,q[K]=jt&&A===void 0?i:A,this}ht.prototype.clear=$i,ht.prototype.delete=zi,ht.prototype.get=De,ht.prototype.has=Te,ht.prototype.set=Le;function Fe(K){var A=-1,q=K==null?0:K.length;for(this.clear();++A<q;){var Z=K[A];this.set(Z[0],Z[1])}}function St(){this.__data__=[],this.size=0}function vt(K){var A=this.__data__,q=ji(A,K);if(q<0)return!1;var Z=A.length-1;return q==Z?A.pop():Pi.call(A,q,1),--this.size,!0}function Jt(K){var A=this.__data__,q=ji(A,K);return q<0?void 0:A[q][1]}function Bi(K){return ji(this.__data__,K)>-1}function Sn(K,A){var q=this.__data__,Z=ji(q,K);return Z<0?(++this.size,q.push([K,A])):q[Z][1]=A,this}Fe.prototype.clear=St,Fe.prototype.delete=vt,Fe.prototype.get=Jt,Fe.prototype.has=Bi,Fe.prototype.set=Sn;function Ke(K){var A=-1,q=K==null?0:K.length;for(this.clear();++A<q;){var Z=K[A];this.set(Z[0],Z[1])}}function _n(){this.size=0,this.__data__={hash:new ht,map:new(At||Fe),string:new ht}}function Zt(K){var A=vi(this,K).delete(K);return this.size-=A?1:0,A}function gi(K){return vi(this,K).get(K)}function Rn(K){return vi(this,K).has(K)}function Hi(K,A){var q=vi(this,K),Z=q.size;return q.set(K,A),this.size+=q.size==Z?0:1,this}Ke.prototype.clear=_n,Ke.prototype.delete=Zt,Ke.prototype.get=gi,Ke.prototype.has=Rn,Ke.prototype.set=Hi;function mi(K){var A=-1,q=K==null?0:K.length;for(this.__data__=new Ke;++A<q;)this.add(K[A])}function fs(K){return this.__data__.set(K,i),this}function ps(K){return this.__data__.has(K)}mi.prototype.add=mi.prototype.push=fs,mi.prototype.has=ps;function Ft(K){var A=this.__data__=new Fe(K);this.size=A.size}function or(){this.__data__=new Fe,this.size=0}function gs(K){var A=this.__data__,q=A.delete(K);return this.size=A.size,q}function ms(K){return this.__data__.get(K)}function bs(K){return this.__data__.has(K)}function vs(K,A){var q=this.__data__;if(q instanceof Fe){var Z=q.__data__;if(!At||Z.length<t-1)return Z.push([K,A]),this.size=++q.size,this;q=this.__data__=new Ke(Z)}return q.set(K,A),this.size=q.size,this}Ft.prototype.clear=or,Ft.prototype.delete=gs,Ft.prototype.get=ms,Ft.prototype.has=bs,Ft.prototype.set=vs;function ys(K,A){var q=yi(K),Z=!q&&Ms(K),ce=!q&&!Z&&Gi(K),de=!q&&!Z&&!ce&&An(K),be=q||Z||ce||de,xe=be?te(K.length,String):[],we=xe.length;for(var Ce in K)Re.call(K,Ce)&&!(be&&(Ce=="length"||ce&&(Ce=="offset"||Ce=="parent")||de&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||Ts(Ce,we)))&&xe.push(Ce);return xe}function ji(K,A){for(var q=K.length;q--;)if(qi(K[q][0],A))return q;return-1}function ws(K,A,q){var Z=A(K);return yi(K)?Z:pe(Z,q(K))}function bi(K){return K==null?K===void 0?O:p:bt&&bt in Object(K)?_s(K):kn(K)}function ar(K){return wi(K)&&bi(K)==a}function lr(K,A,q,Z,ce){return K===A?!0:K==null||A==null||!wi(K)&&!wi(A)?K!==K&&A!==A:Vi(K,A,q,Z,lr,ce)}function Vi(K,A,q,Z,ce,de){var be=yi(K),xe=yi(A),we=be?l:yt(K),Ce=xe?l:yt(A);we=we==a?m:we,Ce=Ce==a?m:Ce;var Ne=we==m,Ie=Ce==m,je=we==Ce;if(je&&Gi(K)){if(!Gi(A))return!1;be=!0,Ne=!1}if(je&&!Ne)return de||(de=new Ft),be||An(K)?On(K,A,q,Z,ce,de):xs(K,A,we,q,Z,ce,de);if(!(q&r)){var Xe=Ne&&Re.call(K,"__wrapped__"),Ye=Ie&&Re.call(A,"__wrapped__");if(Xe||Ye){var Rt=Xe?K.value():K,Wt=Ye?A.value():A;return de||(de=new Ft),ce(Rt,Wt,q,Z,de)}}return je?(de||(de=new Ft),Ss(K,A,q,Z,ce,de)):!1}function Tn(K){if(!Ln(K)||ks(K))return!1;var A=ei(K)?Di:B;return A.test(_t(K))}function Cs(K){return wi(K)&&cr(K.length)&&!!X[bi(K)]}function Es(K){if(!Wi(K))return Fi(K);var A=[];for(var q in Object(K))Re.call(K,q)&&q!="constructor"&&A.push(q);return A}function On(K,A,q,Z,ce,de){var be=q&r,xe=K.length,we=A.length;if(xe!=we&&!(be&&we>xe))return!1;var Ce=de.get(K);if(Ce&&de.get(A))return Ce==A;var Ne=-1,Ie=!0,je=q&s?new mi:void 0;for(de.set(K,A),de.set(A,K);++Ne<xe;){var Xe=K[Ne],Ye=A[Ne];if(Z)var Rt=be?Z(Ye,Xe,Ne,A,K,de):Z(Xe,Ye,Ne,K,A,de);if(Rt!==void 0){if(Rt)continue;Ie=!1;break}if(je){if(!ve(A,function(Wt,Ci){if(!ae(je,Ci)&&(Xe===Wt||ce(Xe,Wt,q,Z,de)))return je.push(Ci)})){Ie=!1;break}}else if(!(Xe===Ye||ce(Xe,Ye,q,Z,de))){Ie=!1;break}}return de.delete(K),de.delete(A),Ie}function xs(K,A,q,Z,ce,de,be){switch(q){case _:if(K.byteLength!=A.byteLength||K.byteOffset!=A.byteOffset)return!1;K=K.buffer,A=A.buffer;case x:return!(K.byteLength!=A.byteLength||!de(new xt(K),new xt(A)));case h:case d:case b:return qi(+K,+A);case c:return K.name==A.name&&K.message==A.message;case S:case T:return K==A+"";case y:var xe=oe;case R:var we=Z&r;if(xe||(xe=ge),K.size!=A.size&&!we)return!1;var Ce=be.get(K);if(Ce)return Ce==A;Z|=s,be.set(K,A);var Ne=On(xe(K),xe(A),Z,ce,de,be);return be.delete(K),Ne;case E:if(lt)return lt.call(K)==lt.call(A)}return!1}function Ss(K,A,q,Z,ce,de){var be=q&r,xe=ur(K),we=xe.length,Ce=ur(A),Ne=Ce.length;if(we!=Ne&&!be)return!1;for(var Ie=we;Ie--;){var je=xe[Ie];if(!(be?je in A:Re.call(A,je)))return!1}var Xe=de.get(K);if(Xe&&de.get(A))return Xe==A;var Ye=!0;de.set(K,A),de.set(A,K);for(var Rt=be;++Ie<we;){je=xe[Ie];var Wt=K[je],Ci=A[je];if(Z)var ya=be?Z(Ci,Wt,je,A,K,de):Z(Wt,Ci,je,K,A,de);if(!(ya===void 0?Wt===Ci||ce(Wt,Ci,q,Z,de):ya)){Ye=!1;break}Rt||(Rt=je=="constructor")}if(Ye&&!Rt){var dr=K.constructor,fr=A.constructor;dr!=fr&&"constructor"in K&&"constructor"in A&&!(typeof dr=="function"&&dr instanceof dr&&typeof fr=="function"&&fr instanceof fr)&&(Ye=!1)}return de.delete(K),de.delete(A),Ye}function ur(K){return ws(K,Ls,Rs)}function vi(K,A){var q=K.__data__;return Os(A)?q[typeof A=="string"?"string":"hash"]:q.map}function Qt(K,A){var q=ue(K,A);return Tn(q)?q:void 0}function _s(K){var A=Re.call(K,bt),q=K[bt];try{K[bt]=void 0;var Z=!0}catch{}var ce=di.call(K);return Z&&(A?K[bt]=q:delete K[bt]),ce}var Rs=fi?function(K){return K==null?[]:(K=Object(K),le(fi(K),function(A){return Xt.call(K,A)}))}:As,yt=bi;(Ue&&yt(new Ue(new ArrayBuffer(1)))!=_||At&&yt(new At)!=y||Yt&&yt(Yt.resolve())!=w||Dt&&yt(new Dt)!=R||pi&&yt(new pi)!=C)&&(yt=function(K){var A=bi(K),q=A==m?K.constructor:void 0,Z=q?_t(q):"";if(Z)switch(Z){case at:return _;case Ni:return y;case En:return w;case xn:return R;case Ii:return C}return A});function Ts(K,A){return A=A??o,!!A&&(typeof K=="number"||J.test(K))&&K>-1&&K%1==0&&K<A}function Os(K){var A=typeof K;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?K!=="__proto__":K===null}function ks(K){return!!qe&&qe in K}function Wi(K){var A=K&&K.constructor,q=typeof A=="function"&&A.prototype||We;return K===q}function kn(K){return di.call(K)}function _t(K){if(K!=null){try{return tt.call(K)}catch{}try{return K+""}catch{}}return""}function qi(K,A){return K===A||K!==K&&A!==A}var Ms=ar(function(){return arguments}())?ar:function(K){return wi(K)&&Re.call(K,"callee")&&!Xt.call(K,"callee")},yi=Array.isArray;function Mn(K){return K!=null&&cr(K.length)&&!ei(K)}var Gi=Ht||hr;function Vt(K,A){return lr(K,A)}function ei(K){if(!Ln(K))return!1;var A=bi(K);return A==f||A==v||A==u||A==g}function cr(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=o}function Ln(K){var A=typeof K;return K!=null&&(A=="object"||A=="function")}function wi(K){return K!=null&&typeof K=="object"}var An=ne?ie(ne):Cs;function Ls(K){return Mn(K)?ys(K):Es(K)}function As(){return[]}function hr(){return!1}n.exports=Vt})(Fr,Fr.exports);Fr.exports;var Nr={exports:{}};Nr.exports;(function(n,e){var t=200,i="__lodash_hash_undefined__",r=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",c="[object Error]",f="[object Function]",v="[object GeneratorFunction]",y="[object Map]",b="[object Number]",p="[object Null]",m="[object Object]",w="[object Proxy]",g="[object RegExp]",S="[object Set]",R="[object String]",T="[object Undefined]",E="[object WeakMap]",O="[object ArrayBuffer]",C="[object DataView]",x="[object Float32Array]",_="[object Float64Array]",L="[object Int8Array]",M="[object Int16Array]",P="[object Int32Array]",z="[object Uint8Array]",$="[object Uint8ClampedArray]",Y="[object Uint16Array]",V="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,D=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,B={};B[x]=B[_]=B[L]=B[M]=B[P]=B[z]=B[$]=B[Y]=B[V]=!0,B[a]=B[l]=B[O]=B[h]=B[C]=B[d]=B[c]=B[f]=B[y]=B[b]=B[m]=B[g]=B[S]=B[R]=B[E]=!1;var J=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,X=typeof self=="object"&&self&&self.Object===Object&&self,j=J||X||Function("return this")(),U=e&&!e.nodeType&&e,W=U&&!0&&n&&!n.nodeType&&n,k=W&&W.exports===U,F=k&&J.process,G=function(){try{var A=W&&W.require&&W.require("util").types;return A||F&&F.binding&&F.binding("util")}catch{}}(),Q=G&&G.isTypedArray;function ee(A,q,Z){switch(Z.length){case 0:return A.call(q);case 1:return A.call(q,Z[0]);case 2:return A.call(q,Z[0],Z[1]);case 3:return A.call(q,Z[0],Z[1],Z[2])}return A.apply(q,Z)}function ne(A,q){for(var Z=-1,ce=Array(A);++Z<A;)ce[Z]=q(Z);return ce}function le(A){return function(q){return A(q)}}function pe(A,q){return A==null?void 0:A[q]}function ve(A,q){return function(Z){return A(q(Z))}}var te=Array.prototype,ie=Function.prototype,ae=Object.prototype,ue=j["__core-js_shared__"],oe=ie.toString,fe=ae.hasOwnProperty,ge=function(){var A=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),ye=ae.toString,ke=oe.call(Object),We=RegExp("^"+oe.call(fe).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=k?j.Buffer:void 0,tt=j.Symbol,Re=j.Uint8Array;_e&&_e.allocUnsafe;var qe=ve(Object.getPrototypeOf,Object),di=Object.create,Di=ae.propertyIsEnumerable,Bt=te.splice,it=tt?tt.toStringTag:void 0,xt=function(){try{var A=Tn(Object,"defineProperty");return A({},"",{}),A}catch{}}(),Xt=_e?_e.isBuffer:void 0,Pi=Math.max,bt=Date.now,fi=Tn(j,"Map"),Ht=Tn(Object,"create"),Fi=function(){function A(){}return function(q){if(!Vt(q))return{};if(di)return di(q);A.prototype=q;var Z=new A;return A.prototype=void 0,Z}}();function Ue(A){var q=-1,Z=A==null?0:A.length;for(this.clear();++q<Z;){var ce=A[q];this.set(ce[0],ce[1])}}function At(){this.__data__=Ht?Ht(null):{},this.size=0}function Yt(A){var q=this.has(A)&&delete this.__data__[A];return this.size-=q?1:0,q}function Dt(A){var q=this.__data__;if(Ht){var Z=q[A];return Z===i?void 0:Z}return fe.call(q,A)?q[A]:void 0}function pi(A){var q=this.__data__;return Ht?q[A]!==void 0:fe.call(q,A)}function jt(A,q){var Z=this.__data__;return this.size+=this.has(A)?0:1,Z[A]=Ht&&q===void 0?i:q,this}Ue.prototype.clear=At,Ue.prototype.delete=Yt,Ue.prototype.get=Dt,Ue.prototype.has=pi,Ue.prototype.set=jt;function at(A){var q=-1,Z=A==null?0:A.length;for(this.clear();++q<Z;){var ce=A[q];this.set(ce[0],ce[1])}}function Ni(){this.__data__=[],this.size=0}function En(A){var q=this.__data__,Z=Zt(q,A);if(Z<0)return!1;var ce=q.length-1;return Z==ce?q.pop():Bt.call(q,Z,1),--this.size,!0}function xn(A){var q=this.__data__,Z=Zt(q,A);return Z<0?void 0:q[Z][1]}function Ii(A){return Zt(this.__data__,A)>-1}function Pt(A,q){var Z=this.__data__,ce=Zt(Z,A);return ce<0?(++this.size,Z.push([A,q])):Z[ce][1]=q,this}at.prototype.clear=Ni,at.prototype.delete=En,at.prototype.get=xn,at.prototype.has=Ii,at.prototype.set=Pt;function lt(A){var q=-1,Z=A==null?0:A.length;for(this.clear();++q<Z;){var ce=A[q];this.set(ce[0],ce[1])}}function ht(){this.size=0,this.__data__={hash:new Ue,map:new(fi||at),string:new Ue}}function $i(A){var q=Vi(this,A).delete(A);return this.size-=q?1:0,q}function zi(A){return Vi(this,A).get(A)}function De(A){return Vi(this,A).has(A)}function Te(A,q){var Z=Vi(this,A),ce=Z.size;return Z.set(A,q),this.size+=Z.size==ce?0:1,this}lt.prototype.clear=ht,lt.prototype.delete=$i,lt.prototype.get=zi,lt.prototype.has=De,lt.prototype.set=Te;function Le(A){var q=this.__data__=new at(A);this.size=q.size}function Fe(){this.__data__=new at,this.size=0}function St(A){var q=this.__data__,Z=q.delete(A);return this.size=q.size,Z}function vt(A){return this.__data__.get(A)}function Jt(A){return this.__data__.has(A)}function Bi(A,q){var Z=this.__data__;if(Z instanceof at){var ce=Z.__data__;if(!fi||ce.length<t-1)return ce.push([A,q]),this.size=++Z.size,this;Z=this.__data__=new lt(ce)}return Z.set(A,q),this.size=Z.size,this}Le.prototype.clear=Fe,Le.prototype.delete=St,Le.prototype.get=vt,Le.prototype.has=Jt,Le.prototype.set=Bi;function Sn(A,q){var Z=_t(A),ce=!Z&&kn(A),de=!Z&&!ce&&yi(A),be=!Z&&!ce&&!de&&Ln(A),xe=Z||ce||de||be,we=xe?ne(A.length,String):[],Ce=we.length;for(var Ne in A)xe&&(Ne=="length"||de&&(Ne=="offset"||Ne=="parent")||be&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||On(Ne,Ce))||we.push(Ne);return we}function Ke(A,q,Z){(Z!==void 0&&!Wi(A[q],Z)||Z===void 0&&!(q in A))&&gi(A,q,Z)}function _n(A,q,Z){var ce=A[q];(!(fe.call(A,q)&&Wi(ce,Z))||Z===void 0&&!(q in A))&&gi(A,q,Z)}function Zt(A,q){for(var Z=A.length;Z--;)if(Wi(A[Z][0],q))return Z;return-1}function gi(A,q,Z){q=="__proto__"&&xt?xt(A,q,{configurable:!0,enumerable:!0,value:Z,writable:!0}):A[q]=Z}var Rn=lr();function Hi(A){return A==null?A===void 0?T:p:it&&it in Object(A)?Cs(A):_s(A)}function mi(A){return ei(A)&&Hi(A)==a}function fs(A){if(!Vt(A)||ur(A))return!1;var q=Mn(A)?We:D;return q.test(ks(A))}function ps(A){return ei(A)&&Gi(A.length)&&!!B[Hi(A)]}function Ft(A){if(!Vt(A))return Qt(A);var q=vi(A),Z=[];for(var ce in A)ce=="constructor"&&(q||!fe.call(A,ce))||Z.push(ce);return Z}function or(A,q,Z,ce,de){A!==q&&Rn(q,function(be,xe){if(de||(de=new Le),Vt(be))gs(A,q,xe,Z,or,ce,de);else{var we=ce?ce(yt(A,xe),be,xe+"",A,q,de):void 0;we===void 0&&(we=be),Ke(A,xe,we)}},An)}function gs(A,q,Z,ce,de,be,xe){var we=yt(A,Z),Ce=yt(q,Z),Ne=xe.get(Ce);if(Ne){Ke(A,Z,Ne);return}var Ie=be?be(we,Ce,Z+"",A,q,xe):void 0,je=Ie===void 0;if(je){var Xe=_t(Ce),Ye=!Xe&&yi(Ce),Rt=!Xe&&!Ye&&Ln(Ce);Ie=Ce,Xe||Ye||Rt?_t(we)?Ie=we:Ms(we)?Ie=ws(we):Ye?(je=!1,Ie=vs(Ce)):Rt?(je=!1,Ie=ji(Ce)):Ie=[]:cr(Ce)||kn(Ce)?(Ie=we,kn(we)?Ie=wi(we):(!Vt(we)||Mn(we))&&(Ie=Es(Ce))):je=!1}je&&(xe.set(Ce,Ie),de(Ie,Ce,ce,be,xe),xe.delete(Ce)),Ke(A,Z,Ie)}function ms(A,q){return Ts(Rs(A,q,hr),A+"")}var bs=xt?function(A,q){return xt(A,"toString",{configurable:!0,enumerable:!1,value:As(q),writable:!0})}:hr;function vs(A,q){return A.slice()}function ys(A){var q=new A.constructor(A.byteLength);return new Re(q).set(new Re(A)),q}function ji(A,q){var Z=ys(A.buffer);return new A.constructor(Z,A.byteOffset,A.length)}function ws(A,q){var Z=-1,ce=A.length;for(q||(q=Array(ce));++Z<ce;)q[Z]=A[Z];return q}function bi(A,q,Z,ce){var de=!Z;Z||(Z={});for(var be=-1,xe=q.length;++be<xe;){var we=q[be],Ce=void 0;Ce===void 0&&(Ce=A[we]),de?gi(Z,we,Ce):_n(Z,we,Ce)}return Z}function ar(A){return ms(function(q,Z){var ce=-1,de=Z.length,be=de>1?Z[de-1]:void 0,xe=de>2?Z[2]:void 0;for(be=A.length>3&&typeof be=="function"?(de--,be):void 0,xe&&xs(Z[0],Z[1],xe)&&(be=de<3?void 0:be,de=1),q=Object(q);++ce<de;){var we=Z[ce];we&&A(q,we,ce,be)}return q})}function lr(A){return function(q,Z,ce){for(var de=-1,be=Object(q),xe=ce(q),we=xe.length;we--;){var Ce=xe[++de];if(Z(be[Ce],Ce,be)===!1)break}return q}}function Vi(A,q){var Z=A.__data__;return Ss(q)?Z[typeof q=="string"?"string":"hash"]:Z.map}function Tn(A,q){var Z=pe(A,q);return fs(Z)?Z:void 0}function Cs(A){var q=fe.call(A,it),Z=A[it];try{A[it]=void 0;var ce=!0}catch{}var de=ye.call(A);return ce&&(q?A[it]=Z:delete A[it]),de}function Es(A){return typeof A.constructor=="function"&&!vi(A)?Fi(qe(A)):{}}function On(A,q){var Z=typeof A;return q=q??o,!!q&&(Z=="number"||Z!="symbol"&&H.test(A))&&A>-1&&A%1==0&&A<q}function xs(A,q,Z){if(!Vt(Z))return!1;var ce=typeof q;return(ce=="number"?qi(Z)&&On(q,Z.length):ce=="string"&&q in Z)?Wi(Z[q],A):!1}function Ss(A){var q=typeof A;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?A!=="__proto__":A===null}function ur(A){return!!ge&&ge in A}function vi(A){var q=A&&A.constructor,Z=typeof q=="function"&&q.prototype||ae;return A===Z}function Qt(A){var q=[];if(A!=null)for(var Z in Object(A))q.push(Z);return q}function _s(A){return ye.call(A)}function Rs(A,q,Z){return q=Pi(q===void 0?A.length-1:q,0),function(){for(var ce=arguments,de=-1,be=Pi(ce.length-q,0),xe=Array(be);++de<be;)xe[de]=ce[q+de];de=-1;for(var we=Array(q+1);++de<q;)we[de]=ce[de];return we[q]=Z(xe),ee(A,this,we)}}function yt(A,q){if(!(q==="constructor"&&typeof A[q]=="function")&&q!="__proto__")return A[q]}var Ts=Os(bs);function Os(A){var q=0,Z=0;return function(){var ce=bt(),de=s-(ce-Z);if(Z=ce,de>0){if(++q>=r)return arguments[0]}else q=0;return A.apply(void 0,arguments)}}function ks(A){if(A!=null){try{return oe.call(A)}catch{}try{return A+""}catch{}}return""}function Wi(A,q){return A===q||A!==A&&q!==q}var kn=mi(function(){return arguments}())?mi:function(A){return ei(A)&&fe.call(A,"callee")&&!Di.call(A,"callee")},_t=Array.isArray;function qi(A){return A!=null&&Gi(A.length)&&!Mn(A)}function Ms(A){return ei(A)&&qi(A)}var yi=Xt||K;function Mn(A){if(!Vt(A))return!1;var q=Hi(A);return q==f||q==v||q==u||q==w}function Gi(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=o}function Vt(A){var q=typeof A;return A!=null&&(q=="object"||q=="function")}function ei(A){return A!=null&&typeof A=="object"}function cr(A){if(!ei(A)||Hi(A)!=m)return!1;var q=qe(A);if(q===null)return!0;var Z=fe.call(q,"constructor")&&q.constructor;return typeof Z=="function"&&Z instanceof Z&&oe.call(Z)==ke}var Ln=Q?le(Q):ps;function wi(A){return bi(A,An(A))}function An(A){return qi(A)?Sn(A):Ft(A)}var Ls=ar(function(A,q,Z){or(A,q,Z)});function As(A){return function(){return A}}function hr(A){return A}function K(){return!1}n.exports=Ls})(Nr,Nr.exports);var Gg=Nr.exports;const Ug=ir(Gg),Is=n=>n instanceof Array,Kg=n=>!!n&&Object.prototype.toString.call(n)==="[object Promise]",Xg=n=>{if(!(!n||typeof n!="object"))return Object.keys(n)},BR=n=>{const e=Xg(n);return e?e.length:0},ln=(n,e)=>Ug(n,e),HR=(n,e)=>{if(typeof n!="object")return n;const t=(r,s,o)=>{if(!r)return r;const a={};s++;for(const l in r){if(!Object.prototype.hasOwnProperty.call(r,l))continue;const u=r[l];typeof u!="object"||s>=o?a[l]=u:a[l]=Is(u)?i(u,s,o):t(u,s,o)}return a},i=(r,s,o)=>{if(!r)return r;const a=[];s++;for(let l=0;l<r.length;l++){const u=r[l];typeof u!="object"||s>=o?a[l]=u:a[l]=Is(u)?i(u,s,o):t(u,s,o)}return a};return Is(n)?i(n,0,0):t(n,0,0)},jR=(n,e)=>{const t={},i={};for(const r in n)e[r]?t[r]=n[r]:i[r]=n[r];return[t,i]};let br;const Yg=new Uint8Array(16);function Jg(){if(!br&&(br=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!br))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return br(Yg)}const Ge=[];for(let n=0;n<256;++n)Ge.push((n+256).toString(16).slice(1));function Zg(n,e=0){return Ge[n[e+0]]+Ge[n[e+1]]+Ge[n[e+2]]+Ge[n[e+3]]+"-"+Ge[n[e+4]]+Ge[n[e+5]]+"-"+Ge[n[e+6]]+Ge[n[e+7]]+"-"+Ge[n[e+8]]+Ge[n[e+9]]+"-"+Ge[n[e+10]]+Ge[n[e+11]]+Ge[n[e+12]]+Ge[n[e+13]]+Ge[n[e+14]]+Ge[n[e+15]]}const Qg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ua={randomUUID:Qg};function em(n,e,t){if(Ua.randomUUID&&!e&&!n)return Ua.randomUUID();n=n||{};const i=n.random||(n.rng||Jg)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Zg(i)}const Yn=()=>em();/**
 * @BaseValidator
 * @version 0.0.28.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class tm{validate(e,t,i,r){const s={};if(!e||!i)return s;for(const o in i){if(r!=null&&r[o])continue;const a=e[o]?e[o]:null,l=this.validateValue(a,t,i[o]);l&&(s[o]=l)}return s}validateValue(e,t,i){if(!i)return"";for(const r of i)if(r.type==="string"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateString(e,r))return r.message}else if(r.type==="file"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateFile(e,r))return r.message}else if(r.type==="number"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateNumber(e,r))return r.message}else if(r.type==="date"){if(!this.validateDate(e,r))return r.message}else if(r.type==="object"){if(e&&typeof e!="object")return"Неподходящий тип данных";if(!this.validateRowObject(e,r))return r.message}else if(r.type==="custom"&&typeof r.callback=="function")return r.callback(e,t);return""}validateString(e,t){const i=typeof t.parameter=="function"?t.parameter(e):t.parameter;if(e=e||"",e){if(t.rule==="not-empty")return e.length>0;if(t.rule==="max-length")return e.length<=i;if(t.rule==="min-length")return e.length>=i;if(t.rule==="=")return e.length===i;if(t.rule==="!=")return e.length!==i;if(t.rule==="is-uuid"||t.rule==="is-uuid-or-empty")return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e);if(t.rule==="is-email"||t.rule==="is-email-or-empty")return/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(e)}else{if(t.rule==="not-empty")return!1;if(t.rule==="max-length")return!0;if(t.rule==="min-length"||t.rule==="=")return!i;if(t.rule==="!=")return!!i;if(t.rule==="is-uuid")return!1;if(t.rule==="is-uuid-or-empty")return!0;if(t.rule==="is-email")return!1;if(t.rule==="is-email-or-empty")return!0}return!1}validateFile(e,t){const i=typeof t.parameter=="function"?t.parameter(e):t.parameter;if(e){if(t.rule==="not-empty")return e.length>0;if(t.rule==="extension"){const r=e.substring(e.lastIndexOf("."));return i.indexOf(r)>=0}}else if(t.rule==="not-empty"||t.rule==="extension")return!1;return!1}validateNumber(e,t){if(!e&&(e="",t.rule!=="not-empty"))return!0;if(t.rule==="not-empty")return this.isNumeric(e);if(t.rule==="number-or-empty")return!e||this.isNumeric(e);const i=typeof t.parameter=="function"?t.parameter(e):t.parameter,r=+e,s=+i;return isNaN(r)||isNaN(s)?!1:t.rule==="="?!e&&!i||r===s:t.rule==="!="?r!==s:t.rule===">"?r>s:t.rule===">="?r>=s:t.rule==="<"?r<s:t.rule==="<="?r<=s:!1}validateDate(e,t){if(!e&&(e="",t.rule!=="not-empty"))return!0;const i=Oa(e,"DD.MM.YYYY"),r=typeof t.parameter=="function"?t.parameter(e):t.parameter,s=Oa(r,"DD.MM.YYYY");return t.rule==="date-or-empty"?!e||i.isValid()&&e.length<=10:t.rule==="not-empty"?i.isValid()&&e.length<=10:!i.isValid()||!s.isValid()||e.length>10?!1:t.rule==="="?i===s:t.rule==="!="?i!==s:t.rule===">"?i>s:t.rule===">="?i>=s:t.rule==="<"?i<s:t.rule==="<="?i<=s:!1}validateRowObject(e,t){var r;if(t.rule==="null")return e===null||typeof e>"u";if(!e)return!1;const i=typeof t.parameter=="function"?t.parameter(e):t.parameter;if(t.rule==="not-empty")return e instanceof Array?e.length>0?!!((r=e[0])!=null&&r.id):!1:!!(e!=null&&e.id);if(t.rule==="=")if(e instanceof Array){if(e.length>0)return e[0].id===i}else return e.id===i;if(t.rule==="!=")if(e instanceof Array){if(e.length>0)return e[0].id!==i}else return e.id!==i;return t.rule==="contains"?e instanceof Array?e.filter(function(s){return s.id===i}):e.id===i:t.rule==="not-contains"?e instanceof Array?!e.filter(function(s){return s.id===i}):e.id!==i:!1}isNumeric(e){const t=parseFloat(e);return!isNaN(t)&&isFinite(t)}}var im=function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");return typeof t.componentWillReceiveProps!="function"||!Ee.Profiler||(t.UNSAFE_componentWillReceiveProps=t.componentWillReceiveProps,delete t.componentWillReceiveProps),e};function Bn(n){var e=[];return Ee.Children.forEach(n,function(t){e.push(t)}),e}function Ji(n,e){var t=null;return n&&n.forEach(function(i){t||i&&i.key===e&&(t=i)}),t}function $s(n,e,t){var i=null;return n&&n.forEach(function(r){if(r&&r.key===e&&r.props[t]){if(i)throw new Error("two child with same key for <rc-animate> children");i=r}}),i}function nm(n,e,t){var i=n.length===e.length;return i&&n.forEach(function(r,s){var o=e[s];r&&o&&(r&&!o||!r&&o||r.key!==o.key||t&&r.props[t]!==o.props[t])&&(i=!1)}),i}function rm(n,e){var t=[],i={},r=[];return n.forEach(function(s){s&&Ji(e,s.key)?r.length&&(i[s.key]=r,r=[]):r.push(s)}),e.forEach(function(s){s&&Object.prototype.hasOwnProperty.call(i,s.key)&&(t=t.concat(i[s.key])),t.push(s)}),t=t.concat(r),t}var zs={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},Bs={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Zi=[],Qi=[];function sm(){var n=document.createElement("div"),e=n.style;"AnimationEvent"in window||(delete zs.animationstart.animation,delete Bs.animationend.animation),"TransitionEvent"in window||(delete zs.transitionstart.transition,delete Bs.transitionend.transition);function t(i,r){for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];for(var a in o)if(a in e){r.push(o[a]);break}}}t(zs,Zi),t(Bs,Qi)}typeof window<"u"&&typeof document<"u"&&sm();function Ka(n,e,t){n.addEventListener(e,t,!1)}function Xa(n,e,t){n.removeEventListener(e,t,!1)}var Jn={startEvents:Zi,addStartEventListener:function(e,t){if(Zi.length===0){window.setTimeout(t,0);return}Zi.forEach(function(i){Ka(e,i,t)})},removeStartEventListener:function(e,t){Zi.length!==0&&Zi.forEach(function(i){Xa(e,i,t)})},endEvents:Qi,addEndEventListener:function(e,t){if(Qi.length===0){window.setTimeout(t,0);return}Qi.forEach(function(i){Ka(e,i,t)})},removeEndEventListener:function(e,t){Qi.length!==0&&Qi.forEach(function(i){Xa(e,i,t)})}},om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ra=Jn.endEvents.length!==0,am=["Webkit","Moz","O","ms"],Ya=["-webkit-","-moz-","-o-","ms-",""];function vr(n,e){for(var t=window.getComputedStyle(n,null),i="",r=0;r<Ya.length&&(i=t.getPropertyValue(Ya[r]+e),!i);r++);return i}function Pu(n){if(ra){var e=parseFloat(vr(n,"transition-delay"))||0,t=parseFloat(vr(n,"transition-duration"))||0,i=parseFloat(vr(n,"animation-delay"))||0,r=parseFloat(vr(n,"animation-duration"))||0,s=Math.max(t+e,r+i);n.rcEndAnimTimeout=setTimeout(function(){n.rcEndAnimTimeout=null,n.rcEndListener&&n.rcEndListener()},s*1e3+200)}}function Fu(n){n.rcEndAnimTimeout&&(clearTimeout(n.rcEndAnimTimeout),n.rcEndAnimTimeout=null)}var Yr=function(e,t,i){var r=(typeof t>"u"?"undefined":om(t))==="object",s=r?t.name:t,o=r?t.active:t+"-active",a=i,l=void 0,u=void 0;return i&&Object.prototype.toString.call(i)==="[object Object]"&&(a=i.end,l=i.start,u=i.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(h){h&&h.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),Fu(e),e.classList.remove(s),e.classList.remove(o),Jn.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,a&&a())},Jn.addEndEventListener(e,e.rcEndListener),l&&l(),e.classList.add(s),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,e.classList.add(o),u&&u(),Pu(e)},0),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};Yr.style=function(n,e,t){n.rcEndListener&&n.rcEndListener(),n.rcEndListener=function(i){i&&i.target!==n||(n.rcAnimTimeout&&(clearTimeout(n.rcAnimTimeout),n.rcAnimTimeout=null),Fu(n),Jn.removeEndEventListener(n,n.rcEndListener),n.rcEndListener=null,t&&t())},Jn.addEndEventListener(n,n.rcEndListener),n.rcAnimTimeout=setTimeout(function(){for(var i in e)e.hasOwnProperty(i)&&(n.style[i]=e[i]);n.rcAnimTimeout=null,Pu(n)},0)};Yr.setTransition=function(n,e,t){var i=e,r=t;t===void 0&&(r=i,i=""),i=i||"",am.forEach(function(s){n.style[s+"Transition"+i]=r})};Yr.isCssAnimationSupported=ra;var un={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},lm=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function um(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function cm(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function hm(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var dm={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},fm=function(n){hm(e,n);function e(){return um(this,e),cm(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return lm(e,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(i){un.isEnterSupported(this.props)?this.transition("enter",i):i()}},{key:"componentWillAppear",value:function(i){un.isAppearSupported(this.props)?this.transition("appear",i):i()}},{key:"componentWillLeave",value:function(i){un.isLeaveSupported(this.props)?this.transition("leave",i):i()}},{key:"transition",value:function(i,r){var s=this,o=Ad.findDOMNode(this),a=this.props,l=a.transitionName,u=typeof l=="object";this.stop();var h=function(){s.stopper=null,r()};if((ra||!a.animation[i])&&l&&a[dm[i]]){var d=u?l[i]:l+"-"+i,c=d+"-active";u&&l[i+"Active"]&&(c=l[i+"Active"]),this.stopper=Yr(o,{name:d,active:c},h)}else this.stopper=a.animation[i](o,h)}},{key:"stop",value:function(){var i=this.stopper;i&&(this.stopper=null,i.stop())}},{key:"render",value:function(){return this.props.children}}]),e}(Ee.Component),pm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gm=function(){function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function mm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bm(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vm(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function ym(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var wm="rc_animate_"+Date.now();function Hn(n){var e=n.children;return Ee.isValidElement(e)&&!e.key?Ee.cloneElement(e,{key:wm}):e}function yr(){}var sa=function(n){ym(e,n);function e(t){bm(this,e);var i=vm(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Cm.call(i),i.currentlyAnimatingKeys={},i.keysToEnter=[],i.keysToLeave=[],i.state={children:Bn(Hn(t))},i.childrenRefs={},i}return gm(e,[{key:"componentDidMount",value:function(){var i=this,r=this.props.showProp,s=this.state.children;r&&(s=s.filter(function(o){return!!o.props[r]})),s.forEach(function(o){o&&i.performAppear(o.key)})}},{key:"componentWillReceiveProps",value:function(i){var r=this;this.nextProps=i;var s=Bn(Hn(i)),o=this.props;o.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(d){r.stop(d)});var a=o.showProp,l=this.currentlyAnimatingKeys,u=o.exclusive?Bn(Hn(o)):this.state.children,h=[];a?(u.forEach(function(d){var c=d&&Ji(s,d.key),f=void 0;(!c||!c.props[a])&&d.props[a]?f=Ee.cloneElement(c||d,mm({},a,!0)):f=c,f&&h.push(f)}),s.forEach(function(d){(!d||!Ji(u,d.key))&&h.push(d)})):h=rm(u,s),this.setState({children:h}),s.forEach(function(d){var c=d&&d.key;if(!(d&&l[c])){var f=d&&Ji(u,c);if(a){var v=d.props[a];if(f){var y=$s(u,c,a);!y&&v&&r.keysToEnter.push(c)}else v&&r.keysToEnter.push(c)}else f||r.keysToEnter.push(c)}}),u.forEach(function(d){var c=d&&d.key;if(!(d&&l[c])){var f=d&&Ji(s,c);if(a){var v=d.props[a];if(f){var y=$s(s,c,a);!y&&v&&r.keysToLeave.push(c)}else v&&r.keysToLeave.push(c)}else f||r.keysToLeave.push(c)}})}},{key:"componentDidUpdate",value:function(){var i=this.keysToEnter;this.keysToEnter=[],i.forEach(this.performEnter);var r=this.keysToLeave;this.keysToLeave=[],r.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(i,r){var s=this.props.showProp;return s?$s(i,r,s):Ji(i,r)}},{key:"stop",value:function(i){delete this.currentlyAnimatingKeys[i];var r=this.childrenRefs[i];r&&r.stop()}},{key:"render",value:function(){var i=this,r=this.props;this.nextProps=r;var s=this.state.children,o=null;s&&(o=s.map(function(u){if(u==null)return u;if(!u.key)throw new Error("must set key for <rc-animate> children");return Ee.createElement(fm,{key:u.key,ref:function(d){i.childrenRefs[u.key]=d},animation:r.animation,transitionName:r.transitionName,transitionEnter:r.transitionEnter,transitionAppear:r.transitionAppear,transitionLeave:r.transitionLeave},u)}));var a=r.component;if(a){var l=r;return typeof a=="string"&&(l=pm({className:r.className,style:r.style},r.componentProps)),Ee.createElement(a,l,o)}return o[0]||null}}]),e}(Ee.Component);sa.isAnimate=!0;sa.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:yr,onEnter:yr,onLeave:yr,onAppear:yr};var Cm=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,i){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!(r.exclusive&&r!==e.nextProps)){var s=Bn(Hn(r));e.isValidChildByKey(s,t)?i==="appear"?un.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):un.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var i=e.props;if(delete e.currentlyAnimatingKeys[t],!(i.exclusive&&i!==e.nextProps)){var r=Bn(Hn(i));if(e.isValidChildByKey(r,t))e.performEnter(t);else{var s=function(){un.allowLeaveCallback(i)&&(i.onLeave(t),i.onEnd(t,!1))};nm(e.state.children,r,i.showProp)?s():e.setState({children:r},s)}}}};const Nu=im(sa),Em=({field:n,altLabel:e,children:t})=>{const i=n.getProps(),r=n.getFormProps();N.useSyncExternalStore(n.subscribe.bind(n),n.getSnapshot.bind(n));const s=n.getError(),o=n.isHidden(),a={height:"100%",...i.rowStyle};let l;r.layout==="horizontal"&&(l=" ");const u=typeof e<"u"?e:i.label??l;return se.jsx(Nu,{component:"",transitionName:"zoom",children:o?null:se.jsx(Mt.Item,{label:u,help:s||void 0,validateStatus:s?"error":void 0,required:!!i.requiredMark,tooltip:i.tooltip,style:a,children:t})})};class xm{constructor(e,t,i,r){re(this,"fieldProps");re(this,"fieldName");re(this,"model");re(this,"parent");re(this,"listeners",[]);re(this,"renderSnapshot",{});re(this,"fieldsMap",{});re(this,"rootFields",{});this.fieldName=e,this.fieldProps=t,this.model=i,this.parent=r}initChildrenFields(){return[{},{}]}getProps(){return this.fieldProps}setProps(e,t){this.fieldProps=e,t||this.emitRender()}updateProps(e,t){const i=this.getProps()??{};this.setProps({...i,...e},t)}getName(){return this.fieldName}getFormProps(){return this.model.getFormProps()}getModel(){return this.model}getParent(){return this.parent}getLabel(){return this.model.getFormLabels()[this.fieldName]}setLabel(e,t,i){var s,o;const r=this.getLabel();r!==e&&(this.model.getFormLabels()[this.fieldName]=e,t||(o=(s=this.getProps())==null?void 0:s.onLabelChanged)==null||o.call(s,e,r,this),i||this.emitRender())}getValue(){return this.model.getFormValues()[this.fieldName]}setValue(e,t,i){var o,a,l,u;const r=this.getValue();if(r===e)return;const s=this.model.getFormValues();s[this.fieldName]=e,t||((a=(o=this.getProps())==null?void 0:o.onValueChanged)==null||a.call(o,e,r,this),(u=(l=this.model.getModelCallbacks()).onFormValuesChanged)==null||u.call(l,this.fieldName,s,this.model),this.validate(t,i)),i||this.emitRender(),this.model.lockDependedFields(this,t,i)}isEmptyValue(){const e=this.getValue();return e===null||Array.isArray(e)&&e.length===0||typeof e=="object"&&Object.keys(e).length===0?!0:e!==0&&!e}isTouched(){return this.model.getFormTouchedFields()[this.fieldName]??!1}setTouched(e,t){var r,s;this.isTouched()!==e&&(this.model.getFormTouchedFields()[this.fieldName]=e,t||(s=(r=this.getProps())==null?void 0:r.onTouchedStateChanged)==null||s.call(r,e,this))}isDirty(){return this.model.getFormDirtyFields()[this.fieldName]??!1}setDirty(e,t){var s,o;if(this.isDirty()===e)return;this.model.getFormDirtyFields()[this.fieldName]=e,t||(o=(s=this.getProps())==null?void 0:s.onDirtyStateChanged)==null||o.call(s,e,this);let r=e;if(!e){for(const a in this.model.getFormDirtyFields())if(this.model.getFormDirtyFields()[a]){r=!0;break}}this.model.setFormDirty(r,t)}isDisabled(){return this.model.getFormDisabledFields()[this.fieldName]??!1}setDisabled(e,t,i){var s,o;this.isDisabled()!==e&&(this.model.getFormDisabledFields()[this.fieldName]=e,t||(o=(s=this.getProps())==null?void 0:s.onDisabledStateChanged)==null||o.call(s,e,this),i||this.model.emitFormRender())}isReadOnly(){return this.model.getFormReadOnlyFields()[this.fieldName]??!1}setReadOnly(e,t,i){var s,o;const r=this.isReadOnly();this.getProps().nonEditable&&this.model.getFormMode()==="update"&&(e=!0),r!==e&&(this.model.getFormReadOnlyFields()[this.fieldName]=e,t||(o=(s=this.getProps())==null?void 0:s.onReadOnlyStateChanged)==null||o.call(s,e,this),i||this.emitRender())}isHidden(){return this.model.getFormHiddenFields()[this.fieldName]??!1}setHidden(e,t,i){var s,o;this.isHidden()!==e&&(this.model.getFormHiddenFields()[this.fieldName]=e,this.model.lockDependedFields(this,t,i),e&&(this.setError("",t,i),this.setReady(!1,!0)),t||(o=(s=this.getProps())==null?void 0:s.onHiddenStateChanged)==null||o.call(s,e,this),i||this.model.emitFormRender())}isReady(){return this.model.getFormReadyFields()[this.fieldName]??!1}setReady(e,t){var r,s;this.isReady()!==e&&(this.model.getFormReadyFields()[this.fieldName]=e,t||(s=(r=this.getProps())==null?void 0:r.onReadyStateChanged)==null||s.call(r,e,this),this.model.setFormReady(e,t))}getError(){return this.model.getFormErrors()[this.fieldName]??""}setError(e,t,i){var o,a,l,u;if(this.getError()===e)return;const s=this.model.getFormErrors();if(e?s[this.fieldName]=e:delete s[this.fieldName],!t){(a=(o=this.getProps())==null?void 0:o.onErrorChanged)==null||a.call(o,e,this);const h=this.model.getModelCallbacks();this.model.isFormHasError()?(l=h.onFormHasErrors)==null||l.call(h,this.model.getFormValues(),s,this.model):(u=h.onFormHasNoErrors)==null||u.call(h,this.model.getFormValues(),this.model)}i||this.emitRender()}validate(e,t){var o,a,l;const i=this.getProps().rules??[],r=((o=this.getFormProps().validationRules)==null?void 0:o[this.fieldName])??[],s=this.isHidden()?"":this.model.getValidator().validateValue(this.getValue(),this.model,i.concat(r));return this.setError(s,e),!e&&!this.isHidden()&&((l=(a=this.getProps())==null?void 0:a.onValidated)==null||l.call(a,this.getValue(),s,this.model.isFormSubmitting(),this)),t||this.emitRender(),s}getFieldsMap(){return this.fieldsMap}getRootFields(){return this.rootFields}isContainer(){return Object.keys(this.rootFields).length>0}hasVisibleChildren(){for(const e in this.rootFields){const t=this.rootFields[e];if(!t.isContainer()&&!t.isHidden()||t.hasVisibleChildren())return!0}return!1}render(){return null}renderField(e){return this.renderFieldWrapper(this.render(),e)}renderFieldWrapper(e,t){return se.jsx(Em,{field:this,altLabel:t,children:e},this.getName())}canHaveValue(){return!0}subscribe(e){return this.listeners=[...this.listeners,e],()=>{this.listeners=this.listeners.filter(t=>t!==e)}}getSnapshot(){return this.renderSnapshot}emitRender(){this.renderSnapshot={};for(const e of this.listeners)e()}}const Sm=({field:n})=>{if(N.useSyncExternalStore(n.subscribe.bind(n),n.getSnapshot.bind(n)),N.useEffect(()=>{n.setReady(!0)},[n]),!n.hasVisibleChildren())return se.jsx(se.Fragment,{children:" "});const t=n.getModel().getFormProps(),i=n.getProps(),r=n.getRootFields();let s;for(const c in r){const f=r[c];if(!f.isHidden()){s=f;break}}const o=n.isHidden()||!s,a=n.getLabel();let l="";t.layout==="horizontal"&&(l=a??(s==null?void 0:s.getLabel()));const u={margin:0,marginBottom:0};i.width&&(u.width=i.width),i.autoHeightResize&&(u.height="100%");const h={...u,...i.style},d={display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:"24px",alignItems:"top",width:"100%"};return i.autoHeightResize&&(d.height="100%"),se.jsx(Nu,{component:"",transitionName:"zoom",children:o?null:se.jsx(Mt.Item,{label:l,style:h,children:se.jsx("div",{style:d,children:Object.keys(r).map(c=>{const f=r[c],v=f.getProps();if(f.isHidden())return null;const y={flexGrow:v.width?0:1,flexShrink:v.width?0:1,flexBasis:v.width?void 0:0},b=t.layout==="horizontal"&&f===s?null:void 0;return se.jsx("div",{style:y,children:f.renderField(b)},"item_"+f.getName())})})})})};class _m extends xm{initChildrenFields(){const e=this.getProps(),t=e.fieldsProps;return e.fieldsProps?([this.fieldsMap,this.rootFields]=this.getModel().prepareFieldCollection(t,this),[this.fieldsMap,this.rootFields]):[{},{}]}render(){return se.jsx(Sm,{field:this})}renderField(){return this.render()}getFieldsMap(){return this.fieldsMap}getRootFields(){return this.rootFields}getValue(){}setValue(){}canHaveValue(){return!1}setDisabled(e,t,i){if(this.isDisabled()!==e){for(const s in this.rootFields)this.rootFields[s].setDisabled(e,t,!0);super.setDisabled(e,t,i)}}setReadOnly(e,t,i){if(this.isReadOnly()!==e){for(const s in this.rootFields)this.rootFields[s].setReadOnly(e,t,!0);super.setReadOnly(e,t,i)}}}/**
 * @DynamicFormModel
 * @version 0.0.38.17
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class Rm{constructor(e){re(this,"_formId");re(this,"_formProps",{});re(this,"_fieldsMap",{});re(this,"_rootFields",{});re(this,"_dataSet");re(this,"_labels",{});re(this,"_values",{});re(this,"_touched",{});re(this,"_dirty",{});re(this,"_errors",{});re(this,"_hidden",{});re(this,"_readOnly",{});re(this,"_disabled",{});re(this,"_ready",{});re(this,"_formDisabled",!1);re(this,"_formReadOnly",!1);re(this,"_formDirty",!1);re(this,"_formReady");re(this,"_isFormMounted",!1);re(this,"_formMode","create");re(this,"_submitCount",0);re(this,"_isSubmitting",!1);re(this,"_isFetching",!1);re(this,"_isFetchingFailed",!1);re(this,"_callbacks",{});re(this,"_validator");re(this,"_formRenderListeners",[]);re(this,"_formRenderSnapshot",{});this._formId=e,this._validator=new tm}initModel(e,t){var s,o;if(this._callbacks=t,this._formProps===e)return;this._formProps=e,this._formMode=e.formMode??"create",this._formReadOnly=!!e.readOnly;const i=this._fieldsMap;[this._fieldsMap,this._rootFields]=this.prepareFieldCollection(e.fieldsProps);const r=this.getFormDataSet();[this._labels,this._values,this._hidden,this._readOnly,this._disabled]=this.initFieldsParameters(this._fieldsMap,i,this._values,r!==e.dataSet?e.dataSet:void 0,e.formMode??"create"),this._dataSet=e.dataSet,e.disableDepended?this._disabled=this.calculateLockedFields():this._hidden=this.calculateLockedFields(),(o=(s=this._callbacks).onFormModelInitialized)==null||o.call(s,this)}prepareFieldCollection(e,t){const i={},r={};if(!e)return[i,r];const s=this.modifyFieldsProps(e);for(const o in s){const a=s[o];i[o]&&console.error(`The form contains duplicate field names  "${o}"!`);const l=new a.component(o,a,this,t);i[o]=l,r[o]=l;const[u]=l.initChildrenFields();for(const h in u)i[h]&&console.error(`The form contains duplicate field names  "${h}"!`),i[h]=u[h]}return[i,r]}modifyFieldsProps(e){const t={};let i=0;for(const s in e){i++;const o={...e[s]};let a="";o.inlineGroup?(a=o.inlineGroup,o.inlineGroup=void 0):a="[__group__]-"+i,t[a]||(t[a]={}),t[a][s]=o}const r={};for(const s in t){const o=t[s];if(Object.keys(o).length>1)r[s]={component:_m,fieldsProps:o};else{const a=Object.keys(o)[0];r[a]=o[a]}}return r}initFieldsParameters(e,t,i,r,s){const o={},a={},l={},u={},h={};for(const d in e){const c=e[d],f=t[d],v=c.getProps();if(h[d]=v.label,a[d]=!!v.hidden,s==="view"||v.nonEditable&&s==="update"?l[d]=!0:l[d]=!!v.readOnly,u[d]=!!v.disabled,f&&c.constructor.name===f.constructor.name){o[d]=i[d];continue}if(!c.canHaveValue())continue;let y;s==="create"?y=v.value:y=r==null?void 0:r[d],o[d]=y}return[h,o,a,l,u]}calculateLockedFields(){const e={};for(const t in this._fieldsMap)e[t]=this.isFieldMustBeLocked(this._fieldsMap[t]);return e}lockDependedFields(e,t,i){const r=this._formProps.disableDepended,s=e.getName();for(const o in this._fieldsMap){const a=this._fieldsMap[o],l=a.getProps();if(!(l!=null&&l.dependsOn)||l.dependsOn.indexOf(s)<0)continue;const u=this.isFieldMustBeLocked(a);r?a.setDisabled(u,t,i):a.setHidden(u,t,i)}}isFieldMustBeLocked(e){var i;const t=e.getProps();if(!((i=t.dependsOn)!=null&&i.length))return!!t.hidden;for(const r of t.dependsOn){const s=this._fieldsMap[r];if(!s)continue;if(s.getProps().hidden||s.isHidden()||s.canHaveValue()&&s.isEmptyValue()||this.isFieldMustBeLocked(s))return!0}return!1}getFieldsMap(){return this._fieldsMap}getRootFields(){return this._rootFields}getField(e){return this._fieldsMap[e]}getFormId(){return this._formId}getFormProps(){return this._formProps}getFormLabels(){return this._labels}getFormValues(){return this._values}setFormValues(e,t,i){var s,o;const r=t?e:((o=(s=this._callbacks).onDataSetChange)==null?void 0:o.call(s,e,this))??e;this._dataSet=r;for(const a in this._fieldsMap)this._fieldsMap[a].setValue(r==null?void 0:r[a],t,i)}getFormTouchedFields(){return this._touched}getFormDirtyFields(){return this._dirty}getFormDisabledFields(){return this._disabled}getFormReadOnlyFields(){return this._readOnly}getFormHiddenFields(){return this._hidden}getFormReadyFields(){return this._ready}getFormErrors(){return this._errors}getFormDataSet(){return this._dataSet}getValidator(){return this._validator}getModelCallbacks(){return this._callbacks}isFormDirty(){return this._formDirty}setFormDirty(e,t){var r,s;const i=this.isFormDirty();this._formDirty=e,!t&&i!==e&&((s=(r=this._callbacks)==null?void 0:r.onFormDirtyStateChanged)==null||s.call(r,e,this))}isFormDisabled(){return this._formDisabled}setFormDisabled(e,t,i){var o,a;const r=this.isFormDisabled();if(this._formDisabled=e,r===e)return;const s=this.getFieldsMap();for(const l in s)s[l].setDisabled(e,t,!0);t||(a=(o=this.getModelCallbacks())==null?void 0:o.onFormDisabledStateChanged)==null||a.call(o,e,this),i||this.emitFormRender()}isFormReadOnly(){return this.getFormMode()==="view"||this._formReadOnly}setFormReadOnly(e,t,i){var o,a;const r=this.isFormReadOnly();if(this._formReadOnly=e,r===e)return;const s=this.getFieldsMap();for(const l in s)s[l].setReadOnly(e,t,!0);t||(a=(o=this.getModelCallbacks())==null?void 0:o.onFormReadOnlyStateChanged)==null||a.call(o,e,this),i||this.emitFormRender()}setFormInit(){var e,t;this.setFormReady(!1),(t=(e=this._callbacks)==null?void 0:e.onFormInit)==null||t.call(e,this)}isFormReady(){return this._formReady}setFormReady(e,t){setTimeout(()=>{var r,s,o,a;const i=this.isFormReady();if((this.isFormFetching()||this.isFormFetchingFailed())&&(e=!1),!e){this._formReady=e,i!==e&&!t&&((s=(r=this._callbacks)==null?void 0:r.onFormReadyStateChanged)==null||s.call(r,e,this));return}for(const l in this._fieldsMap){const u=this._fieldsMap[l];if(!u.isHidden()&&!u.isReady()){e=!1;break}}this._formReady=e,i!==e&&!t&&((a=(o=this._callbacks)==null?void 0:o.onFormReadyStateChanged)==null||a.call(o,e,this))},0)}validateForm(e,t){var o,a;for(const l in this._fieldsMap)this._fieldsMap[l].validate(e,t);this.emitFormRender();const i=this.getFormValues(),s={...this.getFormDataSet(),...i};return(a=(o=this._callbacks).onFormValidated)==null||a.call(o,s,this.getFormErrors(),this.isFormSubmitting(),this),this.getFormErrors()}isFormSubmitting(){return this._isSubmitting}setFormSubmitting(e){const t=this.isFormSubmitting();this._isSubmitting=e,t!==e&&this.emitFormRender()}isFormFetching(){return this._isFetching}setFormFetching(e){const t=this.isFormFetching();this._isFetching=e,t!==e&&this.emitFormRender()}setFormFetchingFailed(e){this._isFetchingFailed=e}isFormFetchingFailed(){return this._isFetchingFailed}isFormHasError(){const e=this.getFormErrors();for(const t in e)if(e[t])return!0;return!1}isFormMounted(){return this._isFormMounted}setFormMounted(e){this._isFormMounted=e}getFormMode(){return this._formMode}fetchData(){var t,i;const e=(i=(t=this._callbacks).onDataFetch)==null?void 0:i.call(t,this);e&&(e.then(r=>{var o,a,l,u;if(!this.isFormMounted())return;this.setFormFetching(!1),this.setFormFetchingFailed(!1),(a=(o=this._callbacks).onDataFetchSuccess)==null||a.call(o,r,this),(u=(l=this._callbacks).onDataFetchComplete)==null||u.call(l,this);const s=r.data;this.setFormValues(s),this.setFormReady(!0)},r=>{var s,o,a,l;this.isFormMounted()&&(this.setFormFetching(!1),this.setFormFetchingFailed(!0),(o=(s=this._callbacks).onDataFetchError)==null||o.call(s,r,this),(l=(a=this._callbacks).onDataFetchComplete)==null||l.call(a,this))}),this.setFormReady(!1),this.setFormFetching(!0),this.setFormFetchingFailed(!1))}submit(e,t,i){var u,h,d,c,f,v,y,b,p,m,w,g,S,R,T,E,O,C,x,_,L,M,P,z,$,Y,V;if(this.isFormSubmitting())return;this.incrementSubmitCount(),this.setFormSubmitting(!0);const r=this.getFormValues(),o={...this.getFormDataSet(),...r};this._formMode==="clone"&&(o._clonedFrom=o.id),(this._formMode==="create"||this._formMode==="clone")&&(o._isNew=!0,delete o.id);const a=this.validateForm();if((h=(u=this._callbacks)==null?void 0:u.onSubmitValidation)==null||h.call(u,o,a,this),this.isFormHasError()){this.setFormSubmitting(!1),i==null||i(o,a,this),(c=(d=this._callbacks)==null?void 0:d.onSubmitComplete)==null||c.call(d,o,a,this);return}if(!((f=this._callbacks)!=null&&f.onSubmit)){this.setFormSubmitting(!1),t==null||t(o,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this),i==null||i(o,a,this),(y=(v=this._callbacks)==null?void 0:v.onSubmitError)==null||y.call(v,o,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this),(p=(b=this._callbacks)==null?void 0:b.onSubmitComplete)==null||p.call(b,o,a,this);return}const l=(m=this._callbacks)==null?void 0:m.onSubmit(o,this);if(Kg(l)){l.then(D=>{var H,B,J,X;this.isFormMounted()&&(this.setFormSubmitting(!1),e==null||e(o,(D==null?void 0:D.data)||o,this),i==null||i(o,a,this),(B=(H=this._callbacks)==null?void 0:H.onSubmitSuccess)==null||B.call(H,o,(D==null?void 0:D.data)||o,this),(X=(J=this._callbacks)==null?void 0:J.onSubmitComplete)==null||X.call(J,o,a,this))}).catch(D=>{var H,B,J,X;this.isFormMounted()&&(this.setFormSubmitting(!1),t==null||t(o,D,this),i==null||i(o,a,this),(B=(H=this._callbacks)==null?void 0:H.onSubmitError)==null||B.call(H,o,D,this),(X=(J=this._callbacks)==null?void 0:J.onSubmitComplete)==null||X.call(J,o,a,this))});return}if(typeof l=="object"){this.setFormSubmitting(!1);const I=l;(w=I.error)!=null&&w.message?(t==null||t(o,{message:I.error.message||"",error:I.error.error,code:I.error.code||400},this),(S=(g=this._callbacks)==null?void 0:g.onSubmitError)==null||S.call(g,o,{message:I.error.message||"",error:I.error.error,code:I.error.code||400},this)):(e==null||e(o,I.data??o,this),(T=(R=this._callbacks)==null?void 0:R.onSubmitSuccess)==null||T.call(R,o,I.data??o,this)),i==null||i(o,a,this),(O=(E=this._callbacks)==null?void 0:E.onSubmitComplete)==null||O.call(E,o,a,this);return}if(this.setFormSubmitting(!1),typeof l=="boolean"){l?(e==null||e(o,o,this),(x=(C=this._callbacks)==null?void 0:C.onSubmitSuccess)==null||x.call(C,o,o,this)):(t==null||t(o,{message:"Неизвестная ошибка",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this),(L=(_=this._callbacks)==null?void 0:_.onSubmitError)==null||L.call(_,o,{message:"Неизвестная ошибка",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this)),i==null||i(o,a,this),(P=(M=this._callbacks)==null?void 0:M.onSubmitComplete)==null||P.call(M,o,a,this);return}typeof l>"u"&&(e==null||e(o,o,this),i==null||i(o,a,this),($=(z=this._callbacks)==null?void 0:z.onSubmitSuccess)==null||$.call(z,o,o,this),(V=(Y=this._callbacks)==null?void 0:Y.onSubmitComplete)==null||V.call(Y,o,a,this))}getSubmitCount(){return this._submitCount}incrementSubmitCount(){this._submitCount++}subscribeRenderForm(e){return this._formRenderListeners=[...this._formRenderListeners,e],()=>{this._formRenderListeners=this._formRenderListeners.filter(t=>t!==e)}}emitFormRender(){if(this._formRenderSnapshot={},!!this._formRenderListeners)for(const e of this._formRenderListeners)e()}getFormRenderSnapshot(){return this._formRenderSnapshot}}const{useToken:Tm}=Gr,Om=n=>{const{token:e}=Tm();let t=e.colorFillSecondary,i=e.colorText,r;n.colorType==="info"?(t=e.colorInfoHover,i=e.colorWhite,r=n.icon??se.jsx(Hg,{})):n.colorType==="success"?(t=e.colorSuccessHover,i=e.colorWhite,r=n.icon??se.jsx(Fg,{})):n.colorType==="warning"?(t=e.colorWarningHover,i=e.colorWhite,r=n.icon??se.jsx($g,{})):n.colorType==="danger"?(t=e.colorErrorHover,i=e.colorWhite,r=n.icon??se.jsx(Wg,{})):r=n.icon??void 0;const o={...{display:"block",backgroundColor:t,color:i,borderTopLeftRadius:e.borderRadius,borderTopRightRadius:e.borderRadius,minHeight:27},...n.style};return se.jsx("div",{id:n.draggableId,style:o,children:se.jsxs(gn,{children:[r,n.title]})})},{useToken:km}=Gr,oa=Ee.forwardRef(({colorType:n,children:e,squareSize:t,...i},r)=>{const{token:s}=km();let o=s.colorPrimary;n==="neutral"||n==="info"?o=s.colorPrimary:n==="success"?o=s.colorSuccess:n==="warning"?o=s.colorWarning:n==="danger"&&(o=s.colorError);let a=32;i.size==="small"?a=24:i.size==="large"&&(a=40);const l=t?{width:a,padding:0,...i.style}:i.style;return se.jsx(Xl,{theme:{token:{colorPrimary:o}},children:se.jsx(to,{...i,style:l,ref:r,children:e})})});oa.displayName="Button";const no=({id:n,button:e,context:t,componentProps:i,children:r})=>{const s=N.useCallback(()=>{var u;(u=e.onClick)==null||u.call(e,n,e,t)},[e,t,n]),o=N.useRef(null);N.useEffect(()=>{var u;e.active&&i.makeActivePrimary===!1&&((u=o.current)==null||u.focus())},[e.active,i.makeActivePrimary]);let a;i.makeActivePrimary!==!1&&e.active?a="primary":e.type==="text"?a="text":e.type==="link"?a="link":e.dashed&&(a="dashed");const l={...e.style};return typeof e.width<"u"&&(l.width=e.width),se.jsx(oa,{ref:o,type:a,href:e.href,target:e.target,disabled:e.disabled,ghost:e.ghost,loading:e.loading,colorType:e.colorType,onClick:s,size:e.size,rel:e.rel,style:l,className:e.className,icon:e.icon,shape:e.shape,squareSize:!e.title&&(!!e.icon&&!e.expandIcon||!e.icon&&!!e.expandIcon),children:r??e.title})},Mm=({id:n,button:e,context:t,menuProps:i,componentProps:r})=>{let s="default";r.makeActivePrimary!==!1&&e.active?s="primary":e.type==="text"?s="text":e.type==="link"?s="link":e.dashed&&(s="dashed");const o=N.useCallback(()=>{var l;(l=e.onClick)==null||l.call(e,n,e,t)},[e,t,n]),a={...e.style};return typeof e.width<"u"&&(a.width=e.width),se.jsx(Xr.Button,{type:s,href:e.href,disabled:e.disabled,loading:e.loading,danger:e.colorType==="danger",onClick:o,size:e.size,style:a,className:e.className,icon:e.expandIcon,menu:i,children:e.title})},Lm=({button:n,menuProps:e})=>{const t=n.expandIcon??se.jsx(uu,{}),i={...n.style};return typeof n.width<"u"&&(i.width=n.width),se.jsx(Xr,{menu:e,children:se.jsx("a",{href:n.href,target:n.target,rel:n.rel,style:i,children:typeof n.title=="string"?se.jsxs(gn,{children:[n.icon,n.title,t]}):n.title})})},Am=({id:n,button:e,context:t,menuProps:i,componentProps:r})=>{const s=e.expandIcon??se.jsx(uu,{});return se.jsx(Xr,{menu:i,disabled:e.disabled,children:se.jsx("div",{children:se.jsx(no,{id:n,button:e,context:t,componentProps:r,children:se.jsxs(gn,{children:[e.title,s]})})})})},Ir=(n,e)=>{const t=n?{...n}:{},i={},r={},s={},o=Iu(t);for(const a of o){const l=t[a];l&&(l.type||(l.type="button"),l.position||(l.position="right"),e&&(l.colorType=e),l.position==="left"?i[a]=l:l.position==="center"?r[a]=l:s[a]=l)}return{...i,...r,...s}},Iu=n=>{if(!n)return[];const e=Object.keys(n);return e.sort((t,i)=>{const r=n[t],s=n[i],o=(r==null?void 0:r.weight)??0,a=(s==null?void 0:s.weight)??0;return o===a?0:o<a?-1:1}),e},Dm=(n,e,t)=>{const i=Object.keys(e),r=i.findIndex(s=>s===n);if(t==="forward"){if(r>=i.length)return n;for(let s=r+1;s<i.length;s++)if(Ja(e[i[s]]))return i[s];return n}else{if(r<=0)return n;for(let s=r-1;s>=0;s--)if(Ja(e[i[s]]))return i[s]}return n},Ja=n=>n&&!n.disabled&&!n.hidden&&(!n.type||n.type==="button"||n.type==="link"||n.type==="text"),Pm=(n,e)=>{const t={...n},i=Object.keys(t);let r=i.findIndex(u=>{const h=t[u];if(h!=null&&h.active)return!0});r<0&&(r=0);const s=i[r],o=t[s];o&&(o.active=!1);const a=Dm(s,n,e),l=t[a];return l&&(l.active=!0),t},Fm=(n,e,t)=>{const i={...n};for(const r in i){const s=i[r];if(s){if(typeof t=="boolean"&&!t){s.active=!1;continue}s.active=r===e}}return i},Za=({id:n,button:e,context:t,componentProps:i})=>{const s={items:$u(e.children,n,t)};return e.type==="link"?se.jsx(Lm,{button:e,menuProps:s}):e.onClick?se.jsx(Mm,{id:n,button:e,context:t,menuProps:s,componentProps:i}):se.jsx(Am,{id:n,button:e,context:t,menuProps:s,componentProps:i})},$u=(n,e,t)=>{const i=[];if(!n)return i;const r=Iu(n);for(const s of r){const o=n[s];if(!o)continue;let a;o.children&&Object.keys(o.children).length&&(a=$u(o.children,s,t));const l=e+"_"+s;let u;o.type==="divider"?u={key:l,type:"divider",dashed:o.dashed,style:o.style,className:o.className}:o.type==="group"?u={key:l,type:"group",label:o.title,style:o.style,className:o.className,children:a}:u={key:l,label:o.type!=="link"?o.title:se.jsx("a",{href:o.href,target:o.target,rel:o.rel,style:o.style,children:o.title}),icon:o.icon,children:a,disabled:o.disabled,style:o.type!=="link"?o.style:void 0,className:o.className,onClick:()=>{var h;(h=o.onClick)==null||h.call(o,s,o,t)}},i.push(u)}return i},Nm=({id:n,button:e,context:t,componentProps:i})=>!e||e.hidden?null:e.type==="element"?e.tooltip?se.jsx(Sr,{title:e.tooltip,children:e.title}):se.jsx(se.Fragment,{children:e.title}):e.type==="divider"?se.jsx(Dd,{type:"vertical",plain:!0}):e.children&&Object.keys(e.children).length?e.tooltip?se.jsx(Sr,{title:e.tooltip,children:se.jsx(se.Fragment,{children:se.jsx(Za,{id:n,button:e,context:t,componentProps:i})})}):se.jsx(Za,{id:n,button:e,context:t,componentProps:i}):e.tooltip?se.jsx(Sr,{title:e.tooltip,children:se.jsx(se.Fragment,{children:se.jsx(no,{id:n,button:e,context:t,componentProps:i})})}):se.jsx(no,{id:n,button:e,context:t,componentProps:i}),Hs=({buttons:n,position:e,context:t,componentProps:i})=>n?se.jsx(gn,{wrap:!0,children:Object.keys(n).map(r=>{const s=n==null?void 0:n[r];return!s||e&&s.position!==e?null:se.jsx(Nm,{id:r,button:s,context:t,componentProps:i},r)})}):null,Im=(n,e,t)=>{const[i]=N.useState(n.apiRef??{});return N.useMemo(()=>(i.buttons=r=>typeof r>"u"?e:(t(Ir(r,n.colorType)),r),i.updateButtons=r=>{const s=Ir(ln(e,r),n.colorType);return t(s),s},i.setNextActive=r=>{const s=Pm(e,r);t(s)},i.setActive=(r,s)=>{const o=Fm(e,r,s);t(o)},i.loading=(r,s)=>{const o={...e},a=o[r];return a?typeof s>"u"?!!a.loading:(a.loading=s,t(o),s):!1},i.disabled=(r,s)=>{const o={...e},a=o[r];return a?typeof s>"u"?!!a.disabled:(a.disabled=s,setTimeout(()=>{t(o)},0),s):!1},i.hidden=(r,s)=>{const o={...e},a=o[r];return a?typeof s>"u"?!!a.hidden:(a.hidden=s,t({...o}),s):!1},i.triggerClick=r=>{const s=e[r];!s||s.disabled||s.loading||s.hidden||(s.type==="link"&&s.href?window.open(s.href,s.target??"_blank"):(!s.type||s.type==="button")&&s.onClick&&s.onClick(r,s,n.context))},i.activeTriggerClick=()=>{const r=Object.keys(e).find(s=>{const o=e[s];if(o!=null&&o.active)return s})??"";i.triggerClick(r)},i),[i,e,t,n.colorType,n.context])},zu=Ee.createContext({wrapperId:"",wrapperRef:void 0}),ro=n=>{var o,a;const[e]=N.useState(Yn()),t={outline:"none",height:"100%"};(o=n.remoteCallbacksRef)!=null&&o.current&&typeof((a=n.remoteCallbacksRef)==null?void 0:a.current)=="object"&&(n.remoteCallbacksRef.current.onParentComponentRendered=()=>Qa(i.current)),setTimeout(()=>{Qa(i.current)},0);const i=N.useRef(null),r={...t,...n==null?void 0:n.style},s=N.useMemo(()=>({wrapperId:e,wrapperRef:i}),[e]);return se.jsx("div",{ref:i,className:"buttons-row-wrapper-"+e,tabIndex:-1,style:r,children:se.jsx(zu.Provider,{value:s,children:n.children})})},Qa=n=>{n&&(Du(n,document.activeElement)||n.focus())},$m=(n,e,t,i)=>{const r=n.target;if(!n.key||!(r!=null&&r.closest(".buttons-row-wrapper-"+i)))return;const s=n.key.toLowerCase();s==="f5"||n.ctrlKey&&n.shiftKey&&s==="r"||(e.current.arrowsSelection&&zm(n,t),Bm(n,t))},zm=(n,e)=>{var r;const t=n.target;if(t.tagName.toLowerCase()==="input"||t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="button"&&((r=t.getAttribute("role"))==null?void 0:r.toLowerCase())==="switch"||n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)return;const i=n.key.toLowerCase();i==="enter"?(n.preventDefault(),n.stopPropagation(),e.activeTriggerClick()):i==="arrowleft"?(n.preventDefault(),n.stopPropagation(),e.setNextActive("backward")):i==="arrowright"&&(n.preventDefault(),n.stopPropagation(),e.setNextActive("forward"))},Bm=(n,e)=>{if(!n.key)return;const t=n.key.toLowerCase(),i=e.buttons();for(const r in i){const s=i[r];if(!(!(s!=null&&s.hotKeys)||s.disabled||s.hidden))for(const o of s.hotKeys)!!o.ctrl===n.ctrlKey&&!!o.alt===n.altKey&&!!o.shift===n.shiftKey&&!!o.meta===n.metaKey&&o.key.toLowerCase()===t&&(n.stopPropagation(),n.preventDefault(),e.triggerClick(r))}},Hm=n=>{const[e,t]=Vm(n),i=Im(n,e,t);return jm(n,i),e?se.jsx("div",{style:{display:"block",...n.style},className:"controls-buttons-dynamic-row "+n.className,children:se.jsxs($n,{wrap:!1,children:[se.jsx(ci,{flex:"auto",style:{textAlign:"left"},children:se.jsx(Hs,{buttons:e,position:"left",context:n.context,componentProps:n},"leftButtons")}),se.jsx(ci,{flex:"auto",style:{textAlign:"center"},children:se.jsx(Hs,{buttons:e,position:"center",context:n.context,componentProps:n},"centerButtons")}),se.jsx(ci,{flex:"auto",style:{textAlign:"right"},children:se.jsx(Hs,{buttons:e,position:"right",context:n.context,componentProps:n},"rightButtons")})]})}):se.jsx(se.Fragment,{})},jm=(n,e)=>{const t=N.useRef(n);t.current=n;const i=N.useContext(zu);N.useEffect(()=>{var o;if(!((o=i.wrapperRef)!=null&&o.current))return;const r=i.wrapperRef.current,s=a=>$m(a,t,e,i.wrapperId);return r.addEventListener("keydown",s),()=>r.removeEventListener("keydown",s)},[])},Vm=n=>{const[e,t]=N.useState(Ir(n.buttons,n.colorType)),i=r=>{setTimeout(()=>{t(r)},0)};return N.useEffect(()=>{const r=Ir(n.buttons,n.colorType);t(r)},[n.buttons,n.colorType]),[e,i]},Wm=(n,e,t,i)=>i?se.jsx(Fb,{node:se.jsx(ro,{remoteCallbacksRef:t,children:n}),targetId:e}):se.jsx(ro,{remoteCallbacksRef:t,children:n});/**
 * @FormsDispatcher
 * @description The form dispatcher stores information about open forms and their order
 * @version 0.0.28.35
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class Bu{constructor(){re(this,"_formsStack");re(this,"_activeFormId");this._formsStack=[],this._activeFormId=""}static get Instance(){return this._instance||(this._instance=new this)}pushToStack(e){this._activeFormId!==e&&(this._formsStack.push(e),this._activeFormId=e)}removeFromStack(e){const t=this._formsStack.indexOf(e);t>-1&&this._formsStack.splice(t,1),this._activeFormId=this._formsStack.length?this._formsStack[this._formsStack.length-1]:""}getActive(){return this._activeFormId}isActive(e){return this._activeFormId===e}}re(Bu,"_instance");const Hu=Bu.Instance,ju=({colorType:n,buttons:e,buttonsApi:t,containerStyle:i,arrowsSelection:r,context:s})=>!e||Object.keys(e).length===0?null:se.jsx("div",{style:i,children:se.jsx(Hm,{buttons:e,apiRef:t,colorType:n,arrowsSelection:r,context:s})});var Jr={exports:{}},Vu={},Wu={exports:{}},qm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gm=qm,Um=Gm;function qu(){}function Gu(){}Gu.resetWarningCache=qu;var Km=function(){function n(i,r,s,o,a,l){if(l!==Um){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Gu,resetWarningCache:qu};return t.PropTypes=t,t};Wu.exports=Km();var Uu=Wu.exports;function Ku(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Ku(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function el(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=Ku(n))&&(i&&(i+=" "),i+=e);return i}const Xm=Object.freeze(Object.defineProperty({__proto__:null,clsx:el,default:el},Symbol.toStringTag,{value:"Module"})),Ym=Pd(Xm);var Ve={},$t={};Object.defineProperty($t,"__esModule",{value:!0});$t.dontSetMe=tb;$t.findInArray=Jm;$t.int=eb;$t.isFunction=Zm;$t.isNum=Qm;function Jm(n,e){for(let t=0,i=n.length;t<i;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function Zm(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function Qm(n){return typeof n=="number"&&!isNaN(n)}function eb(n){return parseInt(n,10)}function tb(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))}var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.browserPrefixToKey=Yu;Ai.browserPrefixToStyle=ib;Ai.default=void 0;Ai.getPrefix=Xu;const js=["Moz","Webkit","O","ms"];function Xu(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(n=window.document)===null||n===void 0||(n=n.documentElement)===null||n===void 0?void 0:n.style;if(!t||e in t)return"";for(let i=0;i<js.length;i++)if(Yu(e,js[i])in t)return js[i];return""}function Yu(n,e){return e?"".concat(e).concat(nb(n)):n}function ib(n,e){return e?"-".concat(e.toLowerCase(),"-").concat(n):n}function nb(n){let e="",t=!0;for(let i=0;i<n.length;i++)t?(e+=n[i].toUpperCase(),t=!1):n[i]==="-"?t=!0:e+=n[i];return e}Ai.default=Xu();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.addClassName=Qu;Ve.addEvent=ob;Ve.addUserSelectStyles=bb;Ve.createCSSTransform=fb;Ve.createSVGTransform=pb;Ve.getTouch=gb;Ve.getTouchIdentifier=mb;Ve.getTranslation=aa;Ve.innerHeight=cb;Ve.innerWidth=hb;Ve.matchesSelector=Zu;Ve.matchesSelectorAndParentsTo=sb;Ve.offsetXYFromParent=db;Ve.outerHeight=lb;Ve.outerWidth=ub;Ve.removeClassName=ec;Ve.removeEvent=ab;Ve.removeUserSelectStyles=vb;var mt=$t,tl=rb(Ai);function Ju(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(Ju=function(i){return i?t:e})(n)}function rb(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=Ju(e);if(t&&t.has(n))return t.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=r?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=n[s]}return i.default=n,t&&t.set(n,i),i}let wr="";function Zu(n,e){return wr||(wr=(0,mt.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,mt.isFunction)(n[t])})),(0,mt.isFunction)(n[wr])?n[wr](e):!1}function sb(n,e,t){let i=n;do{if(Zu(i,e))return!0;if(i===t)return!1;i=i.parentNode}while(i);return!1}function ob(n,e,t,i){if(!n)return;const r={capture:!0,...i};n.addEventListener?n.addEventListener(e,t,r):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function ab(n,e,t,i){if(!n)return;const r={capture:!0,...i};n.removeEventListener?n.removeEventListener(e,t,r):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function lb(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,mt.int)(t.borderTopWidth),e+=(0,mt.int)(t.borderBottomWidth),e}function ub(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,mt.int)(t.borderLeftWidth),e+=(0,mt.int)(t.borderRightWidth),e}function cb(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,mt.int)(t.paddingTop),e-=(0,mt.int)(t.paddingBottom),e}function hb(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,mt.int)(t.paddingLeft),e-=(0,mt.int)(t.paddingRight),e}function db(n,e,t){const r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-r.left)/t,o=(n.clientY+e.scrollTop-r.top)/t;return{x:s,y:o}}function fb(n,e){const t=aa(n,e,"px");return{[(0,tl.browserPrefixToKey)("transform",tl.default)]:t}}function pb(n,e){return aa(n,e,"")}function aa(n,e,t){let{x:i,y:r}=n,s="translate(".concat(i).concat(t,",").concat(r).concat(t,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+t),a="".concat(typeof e.y=="string"?e.y:e.y+t);s="translate(".concat(o,", ").concat(a,")")+s}return s}function gb(n,e){return n.targetTouches&&(0,mt.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,mt.findInArray)(n.changedTouches,t=>e===t.identifier)}function mb(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function bb(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&Qu(n.body,"react-draggable-transparent-selection")}function vb(n){if(n)try{if(n.body&&ec(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function Qu(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(n.className+=" ".concat(e))}function ec(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.canDragX=Cb;zt.canDragY=Eb;zt.createCoreData=Sb;zt.createDraggableData=_b;zt.getBoundPosition=yb;zt.getControlPosition=xb;zt.snapToGrid=wb;var dt=$t,en=Ve;function yb(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:i}=n.props;i=typeof i=="string"?i:Rb(i);const r=la(n);if(typeof i=="string"){const{ownerDocument:s}=r,o=s.defaultView;let a;if(i==="parent"?a=r.parentNode:a=s.querySelector(i),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const l=a,u=o.getComputedStyle(r),h=o.getComputedStyle(l);i={left:-r.offsetLeft+(0,dt.int)(h.paddingLeft)+(0,dt.int)(u.marginLeft),top:-r.offsetTop+(0,dt.int)(h.paddingTop)+(0,dt.int)(u.marginTop),right:(0,en.innerWidth)(l)-(0,en.outerWidth)(r)-r.offsetLeft+(0,dt.int)(h.paddingRight)-(0,dt.int)(u.marginRight),bottom:(0,en.innerHeight)(l)-(0,en.outerHeight)(r)-r.offsetTop+(0,dt.int)(h.paddingBottom)-(0,dt.int)(u.marginBottom)}}return(0,dt.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,dt.isNum)(i.bottom)&&(t=Math.min(t,i.bottom)),(0,dt.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,dt.isNum)(i.top)&&(t=Math.max(t,i.top)),[e,t]}function wb(n,e,t){const i=Math.round(e/n[0])*n[0],r=Math.round(t/n[1])*n[1];return[i,r]}function Cb(n){return n.props.axis==="both"||n.props.axis==="x"}function Eb(n){return n.props.axis==="both"||n.props.axis==="y"}function xb(n,e,t){const i=typeof e=="number"?(0,en.getTouch)(n,e):null;if(typeof e=="number"&&!i)return null;const r=la(t),s=t.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,en.offsetXYFromParent)(i||n,s,t.props.scale)}function Sb(n,e,t){const i=!(0,dt.isNum)(n.lastX),r=la(n);return i?{node:r,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:r,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function _b(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function Rb(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function la(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var Zr={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=Tb;function Tb(){}Object.defineProperty(Zr,"__esModule",{value:!0});Zr.default=void 0;var Vs=kb(N),ut=ua(Uu),Ob=ua(ea),Je=Ve,ii=zt,Ws=$t,Dn=ua(Qr);function ua(n){return n&&n.__esModule?n:{default:n}}function tc(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(tc=function(i){return i?t:e})(n)}function kb(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=tc(e);if(t&&t.has(n))return t.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=r?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=n[s]}return i.default=n,t&&t.set(n,i),i}function nt(n,e,t){return e=Mb(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mb(n){var e=Lb(n,"string");return typeof e=="symbol"?e:String(e)}function Lb(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Tt={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ni=Tt.mouse,es=class extends Vs.Component{constructor(){super(...arguments),nt(this,"dragging",!1),nt(this,"lastX",NaN),nt(this,"lastY",NaN),nt(this,"touchIdentifier",null),nt(this,"mounted",!1),nt(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=t;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Je.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,Je.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&e.preventDefault();const r=(0,Je.getTouchIdentifier)(e);this.touchIdentifier=r;const s=(0,ii.getControlPosition)(e,r,this);if(s==null)return;const{x:o,y:a}=s,l=(0,ii.createCoreData)(this,o,a);(0,Dn.default)("DraggableCore: handleDragStart: %j",l),(0,Dn.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Je.addUserSelectStyles)(i),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Je.addEvent)(i,ni.move,this.handleDrag),(0,Je.addEvent)(i,ni.stop,this.handleDragStop))}),nt(this,"handleDrag",e=>{const t=(0,ii.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let a=i-this.lastX,l=r-this.lastY;if([a,l]=(0,ii.snapToGrid)(this.props.grid,a,l),!a&&!l)return;i=this.lastX+a,r=this.lastY+l}const s=(0,ii.createCoreData)(this,i,r);if((0,Dn.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=i,this.lastY=r}),nt(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,ii.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let l=i-this.lastX||0,u=r-this.lastY||0;[l,u]=(0,ii.snapToGrid)(this.props.grid,l,u),i=this.lastX+l,r=this.lastY+u}const s=(0,ii.createCoreData)(this,i,r);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Je.removeUserSelectStyles)(a.ownerDocument),(0,Dn.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,Dn.default)("DraggableCore: Removing handlers"),(0,Je.removeEvent)(a.ownerDocument,ni.move,this.handleDrag),(0,Je.removeEvent)(a.ownerDocument,ni.stop,this.handleDragStop))}),nt(this,"onMouseDown",e=>(ni=Tt.mouse,this.handleDragStart(e))),nt(this,"onMouseUp",e=>(ni=Tt.mouse,this.handleDragStop(e))),nt(this,"onTouchStart",e=>(ni=Tt.touch,this.handleDragStart(e))),nt(this,"onTouchEnd",e=>(ni=Tt.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Je.addEvent)(e,Tt.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,Je.removeEvent)(t,Tt.mouse.move,this.handleDrag),(0,Je.removeEvent)(t,Tt.touch.move,this.handleDrag),(0,Je.removeEvent)(t,Tt.mouse.stop,this.handleDragStop),(0,Je.removeEvent)(t,Tt.touch.stop,this.handleDragStop),(0,Je.removeEvent)(e,Tt.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Je.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:Ob.default.findDOMNode(this)}render(){return Vs.cloneElement(Vs.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Zr.default=es;nt(es,"displayName","DraggableCore");nt(es,"propTypes",{allowAnyClick:ut.default.bool,children:ut.default.node.isRequired,disabled:ut.default.bool,enableUserSelectHack:ut.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ut.default.arrayOf(ut.default.number),handle:ut.default.string,cancel:ut.default.string,nodeRef:ut.default.object,onStart:ut.default.func,onDrag:ut.default.func,onStop:ut.default.func,onMouseDown:ut.default.func,scale:ut.default.number,className:Ws.dontSetMe,style:Ws.dontSetMe,transform:Ws.dontSetMe});nt(es,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),n.default=void 0;var e=c(N),t=h(Uu),i=h(ea),r=h(Ym),s=Ve,o=zt,a=$t,l=h(Zr),u=h(Qr);function h(m){return m&&m.__esModule?m:{default:m}}function d(m){if(typeof WeakMap!="function")return null;var w=new WeakMap,g=new WeakMap;return(d=function(S){return S?g:w})(m)}function c(m,w){if(m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var g=d(w);if(g&&g.has(m))return g.get(m);var S={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in m)if(T!=="default"&&Object.prototype.hasOwnProperty.call(m,T)){var E=R?Object.getOwnPropertyDescriptor(m,T):null;E&&(E.get||E.set)?Object.defineProperty(S,T,E):S[T]=m[T]}return S.default=m,g&&g.set(m,S),S}function f(){return f=Object.assign?Object.assign.bind():function(m){for(var w=1;w<arguments.length;w++){var g=arguments[w];for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(m[S]=g[S])}return m},f.apply(this,arguments)}function v(m,w,g){return w=y(w),w in m?Object.defineProperty(m,w,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[w]=g,m}function y(m){var w=b(m,"string");return typeof w=="symbol"?w:String(w)}function b(m,w){if(typeof m!="object"||m===null)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var S=g.call(m,w||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(m)}class p extends e.Component{static getDerivedStateFromProps(w,g){let{position:S}=w,{prevPropsPosition:R}=g;return S&&(!R||S.x!==R.x||S.y!==R.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:R}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(w){super(w),v(this,"onDragStart",(g,S)=>{if((0,u.default)("Draggable: onDragStart: %j",S),this.props.onStart(g,(0,o.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),v(this,"onDrag",(g,S)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",S);const R=(0,o.createDraggableData)(this,S),T={x:R.x,y:R.y,slackX:0,slackY:0};if(this.props.bounds){const{x:O,y:C}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[x,_]=(0,o.getBoundPosition)(this,T.x,T.y);T.x=x,T.y=_,T.slackX=this.state.slackX+(O-T.x),T.slackY=this.state.slackY+(C-T.y),R.x=T.x,R.y=T.y,R.deltaX=T.x-this.state.x,R.deltaY=T.y-this.state.y}if(this.props.onDrag(g,R)===!1)return!1;this.setState(T)}),v(this,"onDragStop",(g,S)=>{if(!this.state.dragging||this.props.onStop(g,(0,o.createDraggableData)(this,S))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",S);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:O,y:C}=this.props.position;T.x=O,T.y=C}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var w,g;return(w=(g=this.props)===null||g===void 0||(g=g.nodeRef)===null||g===void 0?void 0:g.current)!==null&&w!==void 0?w:i.default.findDOMNode(this)}render(){const{axis:w,bounds:g,children:S,defaultPosition:R,defaultClassName:T,defaultClassNameDragging:E,defaultClassNameDragged:O,position:C,positionOffset:x,scale:_,...L}=this.props;let M={},P=null;const $=!!!C||this.state.dragging,Y=C||R,V={x:(0,o.canDragX)(this)&&$?this.state.x:Y.x,y:(0,o.canDragY)(this)&&$?this.state.y:Y.y};this.state.isElementSVG?P=(0,s.createSVGTransform)(V,x):M=(0,s.createCSSTransform)(V,x);const I=(0,r.default)(S.props.className||"",T,{[E]:this.state.dragging,[O]:this.state.dragged});return e.createElement(l.default,f({},L,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(S),{className:I,style:{...S.props.style,...M},transform:P}))}}n.default=p,v(p,"displayName","Draggable"),v(p,"propTypes",{...l.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),v(p,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Vu);const{default:ic,DraggableCore:Ab}=Vu;Jr.exports=ic;Jr.exports.default=ic;Jr.exports.DraggableCore=Ab;var Db=Jr.exports;const Pb=ir(Db),Fb=({node:n,targetId:e,onStartCallback:t})=>{const i=Ee.createRef(),[r,s]=N.useState({cursor:"default"}),[o,a]=N.useState({left:0,top:0,bottom:0,right:0}),l=$b(e,s),u=zb(s),h=Nb(i,a,t);return se.jsx(Pb,{nodeRef:i,handle:e?"#"+e:void 0,bounds:o,onStart:(d,c)=>h(c),children:se.jsx("div",{ref:i,style:r,onMouseOver:l,onMouseOut:u,children:n})})},Nb=(n,e,t)=>N.useCallback(i=>{var a;const{clientWidth:r,clientHeight:s}=window.document.documentElement,o=(a=n.current)==null?void 0:a.getBoundingClientRect();o&&(t==null||t(),e({left:-o.left+i.x-(o.width-50),right:r-(o.right-i.x)+(o.width-50),top:-o.top+i.y,bottom:s-(o.bottom-i.y)+(o.height-50)}))},[n,t,e]),Ib=()=>{const n=N.useRef({element:null,id:""});return N.useCallback(e=>{if(e)return(n.current.id!==e||!n.current.element)&&(n.current.element=document.getElementById(e)),n.current.element},[])},$b=(n,e)=>{const t=Ib();return N.useCallback(i=>{const r=t(n);!r||Du(r,i.target,!0)?e({cursor:"move"}):e({cursor:"default"})},[t,e,n])},zb=n=>N.useCallback(()=>{n({cursor:"default"})},[n]);/**
 * @MessageBox_ContentRender
 * @version 0.0.0.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const Bb=({paddingLeft:n,paddingRight:e,children:t})=>{const i={paddingLeft:n,paddingRight:e};return se.jsx("div",{className:"antd-modal-confirm-body",style:i,children:t})};class Hb{constructor(e,t,i,r,s,o){re(this,"_modal");re(this,"_draggableId");re(this,"_modalConfigGenerator");re(this,"_currentConfig");re(this,"_formsDispatcher");re(this,"_id");re(this,"_prevFocusedElement");this._modal=i,this._currentConfig=r,this._formsDispatcher=Hu,this._modalConfigGenerator=s,this._id=e,this._draggableId=t,this._prevFocusedElement=o}get id(){return this._id}destroy(){this._formsDispatcher&&this._formsDispatcher.removeFromStack(this._id),this._modal.destroy()}update(e){const t=ln(this._currentConfig,e)||{},i=this._modalConfigGenerator(t,this._draggableId);this._modal.update(i),this._currentConfig=t}updateButton(e,t){const i={...this._currentConfig},r=i.buttons||{};if(t.active)for(const s in r){const o=r[s];o&&(o.active=!1)}r[e]?r[e]={...r[e],...t}:r[e]=t,i.buttons=r,this.update(i)}removeButton(e){const t={...this._currentConfig},i=t.buttons||{};delete i[e],t.buttons=i,this.update(t)}getCurrentConfig(){return this._currentConfig}getCurrentButtons(){return this._currentConfig.buttons||{}}}class nc{constructor(){re(this,"_themedModalInstance")}static get Instance(){return this._instance||(this._instance=new this)}alert({okText:e,onOk:t,...i}){const r={ok:{position:"right",active:!0,title:e??"ОК",hotKeys:[{key:"escape"},{key:"enter",ctrl:!0}],onClick:()=>{(t==null?void 0:t(a))!==!1&&a.destroy()}}},s={...i},o=ln(r,s.buttons);i.onCrossClose||(i.onCrossClose=()=>this.triggerButtonClick("ok",o.ok));const a=this.modalBase({...s,buttons:o});return a}confirm({okText:e,cancelText:t,onOk:i,onCancel:r,...s}){const o={ok:{position:"right",active:!0,title:e??"ОК",hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(u))!==!1&&u.destroy()}},cancel:{position:"right",title:t??"Отмена",hotKeys:[{key:"escape"}],onClick:()=>{(r==null?void 0:r(u))!==!1&&u.destroy()}}},a={icon:se.jsx(Ou,{}),...s},l=ln(o,a.buttons);a.onCrossClose||(a.onCrossClose=()=>this.triggerButtonClick("cancel",l.cancel)),typeof a.closable>"u"&&(a.closable=!1),typeof a.maskClosable>"u"&&(a.maskClosable=!1);const u=this.modalBase({...a,buttons:l});return u}confirmWaiter({okText:e,cancelText:t,onOk:i,onCancel:r,waitTitle:s,waitContent:o,...a}){s=s??"Обработка",typeof s=="string"&&(o=se.jsxs("div",{style:{height:22},children:[se.jsx(na,{},"waitSpinner")," ",o??"Пожалуйста, подождите..."]}));const l={ok:{position:"right",active:!0,title:e??"ОК",hotKeys:[{key:"enter",ctrl:!0}],onClick:()=>{(i==null?void 0:i(d))!==!1&&d.update({title:s,content:o,buttons:{ok:{disabled:!0},cancel:{disabled:!0}}})}},cancel:{position:"right",title:t??"Отмена",hotKeys:[{key:"escape"}],onClick:()=>{(r==null?void 0:r(d))!==!1&&d.destroy()}}},u={...a},h=ln(l,u.buttons);u.onCrossClose||(u.onCrossClose=()=>this.triggerButtonClick("cancel",h.cancel)),typeof u.closable>"u"&&(u.closable=!1),typeof u.maskClosable>"u"&&(u.maskClosable=!1);const d=this.modalBase({...u,buttons:h});return d}modalBase({...e}){const t={...e},i=Yn(),r={...t,formId:i},s=document.activeElement;r.onAfterClose=()=>{var h;s==null||s.focus(),(h=t.onAfterClose)==null||h.call(t)};const o="draggable-"+Yn();let a=Lt;this._themedModalInstance&&Object.keys(this._themedModalInstance).length>0&&(a=this._themedModalInstance);const l=a.info(this.generateModalConfig(r,o)),u=new Hb(i,o,l,r,this.generateModalConfig,document.activeElement);return Hu.pushToStack(u.id),u}triggerButtonClick(e,t){t!=null&&t.onClick&&!t.disabled&&!t.hidden&&t.onClick(e,t)}generateModalConfig({title:e,icon:t,content:i,onAfterClose:r,buttons:s,centered:o=!0,closable:a=!0,maskClosable:l=!0,colorType:u,onCrossClose:h},d){return{className:"custom-antd-message-box",icon:null,title:se.jsx(Om,{draggableId:d,icon:t,title:e??"Внимание",colorType:u,style:{paddingLeft:24,paddingRight:24,paddingTop:3,paddingBottom:3}}),content:se.jsx(Bb,{paddingLeft:24,paddingRight:24,children:i}),footer:se.jsx(ju,{buttons:s,colorType:u,arrowsSelection:!0,containerStyle:{marginTop:"32px",marginLeft:24,marginRight:24,marginBottom:20}}),centered:!!o,closable:a,keyboard:!1,maskClosable:l,onCancel:()=>h,modalRender:y=>Wm(y,d),afterClose:()=>r==null?void 0:r()}}updateThemedModal(e){this._themedModalInstance=e}}re(nc,"_instance");const Zn=nc.Instance;/**
 * @useUpdateMessageBoxTheme
 * @description MessageBox uses an Antd Modal static object, which is launched in its own context.
 * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called
 * @version 0.0.0.67
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const jb=()=>{const{modal:n}=Fd.useApp();Zn.updateThemedModal(n)},Vb=(n,e,t,i)=>{const r=Wb(e),s=qb(e,i),o=Gb(n),a=Ub(n);n.buttonsApi||(n.buttonsApi=t),n.getFormProps||(n.getFormProps=r),n.setFormProps||(n.setFormProps=s),n.validateForm||(n.validateForm=o),n.submitForm||(n.submitForm=a)},Wb=n=>N.useCallback(()=>n,[n]),qb=(n,e)=>N.useCallback(t=>{e({...n,...t})},[n,e]),Gb=n=>N.useCallback(e=>{const t=n.model.validateForm();if(n.buttonsApi.disabled("ok",Object.keys(t).length>0),Object.keys(t).length===0||!e)return t;let i="Необходимо исправить ошибки";return i=se.jsxs("span",{children:[i,":",se.jsx(gn,{direction:"vertical",size:0,children:Object.keys(t).map(r=>{const s=n.model.getField(r),o=(s==null?void 0:s.getLabel())||r;return se.jsxs(ou.Text,{style:{fontSize:12},type:"secondary",children:[o,": ",t[r]]},r)})})]}),Zn.alert({content:i,colorType:"danger"}),t},[n]),Ub=n=>N.useCallback(()=>{n.model.incrementSubmitCount();const e=n.validateForm(!0);if(Object.keys(e).length>0)return;const t=n.model.getFormProps();if(!t.confirmChanges){n.buttonsApi.loading("ok",!0),n.model.submit();return}const i=Zn.confirmWaiter({content:t.submitConfirmMessage??"Сохранить сделанные изменения?",okText:"Да",cancelText:"Отмена",onOk:()=>{n.model.submit(void 0,void 0,r)}}),r=()=>{i.destroy()}},[n]),Kb=({fields:n,subscribe:e,getSnapshot:t,containerStyle:i})=>{e||(e=()=>()=>{}),t||(t=()=>0);const r={height:"100%",display:"flex",flexDirection:"column",...i};return N.useSyncExternalStore(e,t),se.jsx("div",{className:"dform-fields-container",style:r,children:Object.keys(n).map(s=>{const o=n[s],a={},u=o.getProps().autoHeightResize?" auto-height":"";return se.jsxs("div",{className:"dform-field-container"+u,style:a,children:[o.renderField()," "]},"field_"+o.getName())})})},{Text:il}=ou,Xb=({errorMessage:n,children:e,retryHandler:t,style:i})=>{const r=N.useCallback(()=>{t&&t()},[t]);return n?se.jsx($n,{justify:"center",align:"middle",style:{height:"100%",...i},children:se.jsx(ci,{children:se.jsxs(ta,{role:"alert",title:se.jsx("div",{children:"Ошибка загрузки данных"}),headStyle:{backgroundColor:"#ff7875",textAlign:"center"},children:[se.jsx($n,{justify:"center",align:"middle",children:se.jsx(ci,{children:se.jsx(il,{type:"danger",children:n})})}),se.jsx($n,{justify:"center",align:"middle",style:{paddingTop:"20px"},children:se.jsx(ci,{children:t?se.jsx(oa,{type:"primary",onClick:r,children:"Попробовать еще раз"}):se.jsx(il,{children:"Попробуйте перезагрузить страницу (F5)"})})})]})})}):se.jsx(se.Fragment,{children:e})},Yb=({isLoading:n,error:e,retryHandler:t,children:i,skeleton:r,notHideContent:s,caption:o,spinStyle:a,errorStyle:l,noFullHeight:u})=>{const h=o??"Пожалуйста, подождите...";return se.jsx(Xb,{errorMessage:e==null?void 0:e.message,retryHandler:t,style:l,children:se.jsx(na,{spinning:n,delay:0,tip:h,style:a,wrapperClassName:u?"":"wrapper-full-height-grid-spinner",children:n&&!s?se.jsxs(se.Fragment,{children:[r??null,se.jsx("div",{style:{display:"none"},children:i})]}):se.jsx(se.Fragment,{children:i})})})},Jb=({formProps:n,formApi:e,formButtons:t})=>{var o;const i=e.model;N.useSyncExternalStore(i.subscribeRenderForm.bind(i),i.getFormRenderSnapshot.bind(i));const r={span:n.layout==="horizontal"?8:24,...n.labelCol};r.style={paddingBottom:2,...(o=n.labelCol)==null?void 0:o.style};const s={span:n.layout==="horizontal"?16:24,...n.wrapperCol};return se.jsx("div",{className:n.containerClassName??"",style:n.containerStyle,children:se.jsx(Yb,{isLoading:i.isFormFetching()||i.isFormSubmitting()&&!n.confirmChanges,notHideContent:!0,children:se.jsx(ro,{children:se.jsxs(Mt,{colon:!1,className:n.className,name:i.getFormId(),labelCol:r,wrapperCol:s,autoComplete:"off",labelAlign:n.labelAlign,layout:n.layout==="horizontal"?"horizontal":"vertical",requiredMark:n.requiredMark,style:n.formStyle,children:[se.jsx(Zb,{model:i}),se.jsx(Kb,{fields:i.getRootFields(),formProps:n}),se.jsx(ju,{buttons:t,colorType:n.colorType,buttonsApi:e.buttonsApi,arrowsSelection:n.arrowsButtonsSelection,context:e})]})})})})},Zb=({model:n})=>(N.useEffect(()=>{n.setFormInit()},[n]),null),Qb=n=>{const e=N.useRef(n),t=N.useRef(n),i=ev(),r=s=>{t.current=s,i()};return e.current!==n?(e.current=n,t.current=n,[e.current,r]):[t.current,r]},ev=()=>{const[,n]=N.useState({});return()=>n({})},so=()=>!0,tv=(n,e)=>N.useMemo(()=>({onFormDirtyStateChanged:t=>{var i;return(i=n==null?void 0:n.onFormDirtyStateChanged)==null?void 0:i.call(n,t,e)},onFormReadOnlyStateChanged:t=>{var i;return(i=n==null?void 0:n.onFormReadOnlyStateChanged)==null?void 0:i.call(n,t,e)},onFormInit:()=>{var t;return(t=n==null?void 0:n.onFormInit)==null?void 0:t.call(n,e)},onFormModelInitialized:()=>{var t;return(t=n==null?void 0:n.onFormModelInitialized)==null?void 0:t.call(n,e)},onFormReadyStateChanged:t=>{var i,r,s,o,a;if(((i=n==null?void 0:n.onFormReadyStateChanged)==null?void 0:i.call(n,t,e))===!1)return!1;t?(s=(r=e.buttonsApi).disabled)==null||s.call(r,"ok",!1):(a=(o=e.buttonsApi).disabled)==null||a.call(o,"ok",!0)},onFormValuesChanged:(t,i)=>{var r;return(r=n==null?void 0:n.onFormValuesChanged)==null?void 0:r.call(n,t,i,e)},onFormValidated:(t,i,r)=>{var s;return(s=n==null?void 0:n.onFormValidated)==null?void 0:s.call(n,t,i,r,e)},onFormHasErrors:(t,i)=>{var r;return(r=n==null?void 0:n.onFormHasErrors)==null?void 0:r.call(n,t,i,e)},onFormHasNoErrors:t=>{var i,r,s;if(((i=n==null?void 0:n.onFormHasNoErrors)==null?void 0:i.call(n,t,e))===!1)return!1;(s=(r=e.buttonsApi).disabled)==null||s.call(r,"ok",!1)},onDataFetch:()=>{var t;return(t=n==null?void 0:n.onDataFetch)==null?void 0:t.call(n,e)},onDataFetchSuccess:t=>{var i;if(((i=n==null?void 0:n.onDataFetchSuccess)==null?void 0:i.call(n,t,e))===!1)return!1},onDataFetchError:t=>{var r;if(((r=n==null?void 0:n.onDataFetchError)==null?void 0:r.call(n,t,e))===!1)return!1;const i=Zn.confirm({content:se.jsxs(se.Fragment,{children:[se.jsx("p",{children:se.jsx("b",{children:t.message})}),t.stack&&so()?se.jsx("p",{children:t.stack}):"",se.jsx("p",{children:"Попробовать снова?"})]}),colorType:"danger",buttons:{ok:{onClick:()=>{i.destroy(),e.model.fetchData()}}}})},onDataFetchComplete:()=>{var t;return(t=n==null?void 0:n.onDataFetchComplete)==null?void 0:t.call(n,e)},onSubmitValidation:(t,i)=>{var r;return(r=n==null?void 0:n.onSubmitValidation)==null?void 0:r.call(n,t,i,e)},onSubmit:t=>{var i,r,s,o,a;return(r=(i=e.buttonsApi).disabled)==null||r.call(i,"ok",!0),n.confirmChanges||(o=(s=e.buttonsApi).loading)==null||o.call(s,"ok",!0),(a=n==null?void 0:n.onSubmit)==null?void 0:a.call(n,t,e)},onSubmitSuccess:(t,i)=>{var r;return(r=n==null?void 0:n.onSubmitSuccess)==null?void 0:r.call(n,t,i,e)},onSubmitError:(t,i)=>{var r;if(((r=n==null?void 0:n.onSubmitError)==null?void 0:r.call(n,t,i,e))===!1)return!1;Zn.alert({title:"Error",content:se.jsxs(se.Fragment,{children:[se.jsx("p",{children:se.jsx("b",{children:i.message})}),i.stack&&so()&&se.jsx(zd,{items:[{key:"1",label:"Stack",children:se.jsx("p",{children:i.stack})}]})]}),colorType:"danger"})},onSubmitComplete:(t,i)=>{var r,s,o,a,l;if(((r=n==null?void 0:n.onSubmitComplete)==null?void 0:r.call(n,t,i,e))===!1)return!1;(o=(s=e.buttonsApi).disabled)==null||o.call(s,"ok",!1),(l=(a=e.buttonsApi).loading)==null||l.call(a,"ok",!1)},onDataSetChange:t=>{var i;return(i=n==null?void 0:n.onDataSetChange)==null?void 0:i.call(n,t,e)}}),[n,e]),iv=(n,e)=>N.useMemo(()=>n.buttons===null?{}:ln({ok:{position:"left",active:!0,title:"Сохранить",hotKeys:[{key:"enter",ctrl:!0},{key:"s",ctrl:!0},{key:"ы",ctrl:!0}],onClick:()=>{e.submitForm()}}},n.buttons),[n.buttons,e]),WR=n=>{jb();const[e,t]=Qb(n),[i]=N.useState(e.formId??"dForm-"+Yn()),[r]=N.useState(e.apiRef||{}),[s]=N.useState({}),o=iv(e,r),a=tv(e,r);return nv(i,r,e,a),Vb(r,e,s,t),sv(r),rv(r),se.jsx(Jb,{formProps:e,formApi:r,formButtons:o})},nv=(n,e,t,i)=>{const r=N.useRef();return r.current||(r.current=new Rm(n)),e.model=r.current,r.current.initModel(t,i),r.current},rv=n=>{N.useEffect(()=>(n.model.setFormMounted(!0),()=>{n.model.setFormMounted(!1)}))},sv=n=>{N.useEffect(()=>{const e=n.model.getFormMode();e!=="update"&&e!=="clone"&&e!=="view"||n.model.fetchData()},[n])};var Ze=function(){return Ze=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ze.apply(this,arguments)};function Qn(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var ov={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pt={},cn=typeof process<"u"&&pt!==void 0&&(pt.REACT_APP_SC_ATTR||pt.SC_ATTR)||"data-styled",rc="active",sc="data-styled-version",ts="6.1.11",ca=`/*!sc*/
`,ha=typeof window<"u"&&"HTMLElement"in window,av=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&pt!==void 0&&pt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&pt.REACT_APP_SC_DISABLE_SPEEDY!==""?pt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&pt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&pt!==void 0&&pt.SC_DISABLE_SPEEDY!==void 0&&pt.SC_DISABLE_SPEEDY!==""&&pt.SC_DISABLE_SPEEDY!=="false"&&pt.SC_DISABLE_SPEEDY),lv={},is=Object.freeze([]),hn=Object.freeze({});function oc(n,e,t){return t===void 0&&(t=hn),n.theme!==t.theme&&n.theme||e||t.theme}var ac=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),uv=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,cv=/(^-|-$)/g;function nl(n){return n.replace(uv,"-").replace(cv,"")}var hv=/(a)(d)/gi,Cr=52,rl=function(n){return String.fromCharCode(n+(n>25?39:97))};function oo(n){var e,t="";for(e=Math.abs(n);e>Cr;e=e/Cr|0)t=rl(e%Cr)+t;return(rl(e%Cr)+t).replace(hv,"$1-$2")}var qs,lc=5381,tn=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},uc=function(n){return tn(lc,n)};function cc(n){return oo(uc(n)>>>0)}function dv(n){return n.displayName||n.name||"Component"}function Gs(n){return typeof n=="string"&&!0}var hc=typeof Symbol=="function"&&Symbol.for,dc=hc?Symbol.for("react.memo"):60115,fv=hc?Symbol.for("react.forward_ref"):60112,pv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},gv={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fc={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mv=((qs={})[fv]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qs[dc]=fc,qs);function sl(n){return("type"in(e=n)&&e.type.$$typeof)===dc?fc:"$$typeof"in n?mv[n.$$typeof]:pv;var e}var bv=Object.defineProperty,vv=Object.getOwnPropertyNames,ol=Object.getOwnPropertySymbols,yv=Object.getOwnPropertyDescriptor,wv=Object.getPrototypeOf,al=Object.prototype;function pc(n,e,t){if(typeof e!="string"){if(al){var i=wv(e);i&&i!==al&&pc(n,i,t)}var r=vv(e);ol&&(r=r.concat(ol(e)));for(var s=sl(n),o=sl(e),a=0;a<r.length;++a){var l=r[a];if(!(l in gv||t&&t[l]||o&&l in o||s&&l in s)){var u=yv(e,l);try{bv(n,l,u)}catch{}}}}return n}function dn(n){return typeof n=="function"}function da(n){return typeof n=="object"&&"styledComponentId"in n}function Ti(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function ao(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function er(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function lo(n,e,t){if(t===void 0&&(t=!1),!t&&!er(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=lo(n[i],e[i]);else if(er(e))for(var i in e)n[i]=lo(n[i],e[i]);return n}function fa(n,e){Object.defineProperty(n,"toString",{value:e})}function rr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Cv=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,r=i.length,s=r;e>=s;)if((s<<=1)<0)throw rr(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var o=r;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,t.length);o<l;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),r=i+t;this.groupSizes[e]=0;for(var s=i;s<r;s++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],r=this.indexOfGroup(e),s=r+i,o=r;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(ca);return t},n}(),Rr=new Map,$r=new Map,Tr=1,Er=function(n){if(Rr.has(n))return Rr.get(n);for(;$r.has(Tr);)Tr++;var e=Tr++;return Rr.set(n,e),$r.set(e,n),e},Ev=function(n,e){Tr=e+1,Rr.set(n,e),$r.set(e,n)},xv="style[".concat(cn,"][").concat(sc,'="').concat(ts,'"]'),Sv=new RegExp("^".concat(cn,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),_v=function(n,e,t){for(var i,r=t.split(","),s=0,o=r.length;s<o;s++)(i=r[s])&&n.registerName(e,i)},Rv=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(ca),r=[],s=0,o=i.length;s<o;s++){var a=i[s].trim();if(a){var l=a.match(Sv);if(l){var u=0|parseInt(l[1],10),h=l[2];u!==0&&(Ev(h,u),_v(n,h,l[3]),n.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}};function Tv(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var gc=function(n){var e=document.head,t=n||e,i=document.createElement("style"),r=function(a){var l=Array.from(a.querySelectorAll("style[".concat(cn,"]")));return l[l.length-1]}(t),s=r!==void 0?r.nextSibling:null;i.setAttribute(cn,rc),i.setAttribute(sc,ts);var o=Tv();return o&&i.setAttribute("nonce",o),t.insertBefore(i,s),i},Ov=function(){function n(e){this.element=gc(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,r=0,s=i.length;r<s;r++){var o=i[r];if(o.ownerNode===t)return o}throw rr(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),kv=function(){function n(e){this.element=gc(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),Mv=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),ll=ha,Lv={isServer:!ha,useCSSOMInjection:!av},zr=function(){function n(e,t,i){e===void 0&&(e=hn),t===void 0&&(t={});var r=this;this.options=Ze(Ze({},Lv),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&ha&&ll&&(ll=!1,function(s){for(var o=document.querySelectorAll(xv),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(cn)!==rc&&(Rv(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),fa(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(d){var c=function(p){return $r.get(p)}(d);if(c===void 0)return"continue";var f=s.names.get(c),v=o.getGroup(d);if(f===void 0||v.length===0)return"continue";var y="".concat(cn,".g").concat(d,'[id="').concat(c,'"]'),b="";f!==void 0&&f.forEach(function(p){p.length>0&&(b+="".concat(p,","))}),l+="".concat(v).concat(y,'{content:"').concat(b,'"}').concat(ca)},h=0;h<a;h++)u(h);return l}(r)})}return n.registerId=function(e){return Er(e)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Ze(Ze({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,r=t.target;return t.isServer?new Mv(r):i?new Ov(r):new kv(r)}(this.options),new Cv(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(Er(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(Er(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(Er(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),Av=/&/g,Dv=/^\s*\/\/.*$/gm;function mc(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=mc(t.children,e)),t})}function Pv(n){var e,t,i,r=hn,s=r.options,o=s===void 0?hn:s,a=r.plugins,l=a===void 0?is:a,u=function(c,f,v){return v.startsWith(t)&&v.endsWith(t)&&v.replaceAll(t,"").length>0?".".concat(e):c},h=l.slice();h.push(function(c){c.type===Ul&&c.value.includes("&")&&(c.props[0]=c.props[0].replace(Av,t).replace(i,u))}),o.prefix&&h.push(jd),h.push(Nd);var d=function(c,f,v,y){f===void 0&&(f=""),v===void 0&&(v=""),y===void 0&&(y="&"),e=y,t=f,i=new RegExp("\\".concat(t,"\\b"),"g");var b=c.replace(Dv,""),p=Id(v||f?"".concat(v," ").concat(f," { ").concat(b," }"):b);o.namespace&&(p=mc(p,o.namespace));var m=[];return Kl(p,Bd(h.concat(Hd(function(w){return m.push(w)})))),m};return d.hash=l.length?l.reduce(function(c,f){return f.name||rr(15),tn(c,f.name)},lc).toString():"",d}var Fv=new zr,uo=Pv(),bc=Ee.createContext({shouldForwardProp:void 0,styleSheet:Fv,stylis:uo});bc.Consumer;Ee.createContext(void 0);function co(){return N.useContext(bc)}var Nv=function(){function n(e,t){var i=this;this.inject=function(r,s){s===void 0&&(s=uo);var o=i.name+s.hash;r.hasNameForId(i.id,o)||r.insertRules(i.id,o,s(i.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,fa(this,function(){throw rr(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=uo),this.name+e.hash},n}(),Iv=function(n){return n>="A"&&n<="Z"};function ul(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;Iv(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var vc=function(n){return n==null||n===!1||n===""},yc=function(n){var e,t,i=[];for(var r in n){var s=n[r];n.hasOwnProperty(r)&&!vc(s)&&(Array.isArray(s)&&s.isCss||dn(s)?i.push("".concat(ul(r),":"),s,";"):er(s)?i.push.apply(i,Qn(Qn(["".concat(r," {")],yc(s),!1),["}"],!1)):i.push("".concat(ul(r),": ").concat((e=r,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in ov||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function hi(n,e,t,i){if(vc(n))return[];if(da(n))return[".".concat(n.styledComponentId)];if(dn(n)){if(!dn(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var r=n(e);return hi(r,e,t,i)}var s;return n instanceof Nv?t?(n.inject(t,i),[n.getName(i)]):[n]:er(n)?yc(n):Array.isArray(n)?Array.prototype.concat.apply(is,n.map(function(o){return hi(o,e,t,i)})):[n.toString()]}function wc(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(dn(t)&&!da(t))return!1}return!0}var $v=uc(ts),zv=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&wc(e),this.componentId=t,this.baseHash=tn($v,t),this.baseStyle=i,zr.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ti(r,this.staticRulesId);else{var s=ao(hi(this.rules,e,t,i)),o=oo(tn(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=i(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=Ti(r,o),this.staticRulesId=o}else{for(var l=tn(this.baseHash,i.hash),u="",h=0;h<this.rules.length;h++){var d=this.rules[h];if(typeof d=="string")u+=d;else if(d){var c=ao(hi(d,e,t,i));l=tn(l,c+h),u+=c}}if(u){var f=oo(l>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,i(u,".".concat(f),void 0,this.componentId)),r=Ti(r,f)}}return r},n}(),pa=Ee.createContext(void 0);pa.Consumer;var Us={};function Bv(n,e,t){var i=da(n),r=n,s=!Gs(n),o=e.attrs,a=o===void 0?is:o,l=e.componentId,u=l===void 0?function(g,S){var R=typeof g!="string"?"sc":nl(g);Us[R]=(Us[R]||0)+1;var T="".concat(R,"-").concat(cc(ts+R+Us[R]));return S?"".concat(S,"-").concat(T):T}(e.displayName,e.parentComponentId):l,h=e.displayName,d=h===void 0?function(g){return Gs(g)?"styled.".concat(g):"Styled(".concat(dv(g),")")}(n):h,c=e.displayName&&e.componentId?"".concat(nl(e.displayName),"-").concat(e.componentId):e.componentId||u,f=i&&r.attrs?r.attrs.concat(a).filter(Boolean):a,v=e.shouldForwardProp;if(i&&r.shouldForwardProp){var y=r.shouldForwardProp;if(e.shouldForwardProp){var b=e.shouldForwardProp;v=function(g,S){return y(g,S)&&b(g,S)}}else v=y}var p=new zv(t,c,i?r.componentStyle:void 0);function m(g,S){return function(R,T,E){var O=R.attrs,C=R.componentStyle,x=R.defaultProps,_=R.foldedComponentIds,L=R.styledComponentId,M=R.target,P=Ee.useContext(pa),z=co(),$=R.shouldForwardProp||z.shouldForwardProp,Y=oc(T,P,x)||hn,V=function(X,j,U){for(var W,k=Ze(Ze({},j),{className:void 0,theme:U}),F=0;F<X.length;F+=1){var G=dn(W=X[F])?W(k):W;for(var Q in G)k[Q]=Q==="className"?Ti(k[Q],G[Q]):Q==="style"?Ze(Ze({},k[Q]),G[Q]):G[Q]}return j.className&&(k.className=Ti(k.className,j.className)),k}(O,T,Y),I=V.as||M,D={};for(var H in V)V[H]===void 0||H[0]==="$"||H==="as"||H==="theme"&&V.theme===Y||(H==="forwardedAs"?D.as=V.forwardedAs:$&&!$(H,I)||(D[H]=V[H]));var B=function(X,j){var U=co(),W=X.generateAndInjectStyles(j,U.styleSheet,U.stylis);return W}(C,V),J=Ti(_,L);return B&&(J+=" "+B),V.className&&(J+=" "+V.className),D[Gs(I)&&!ac.has(I)?"class":"className"]=J,D.ref=E,N.createElement(I,D)}(w,g,S)}m.displayName=d;var w=Ee.forwardRef(m);return w.attrs=f,w.componentStyle=p,w.displayName=d,w.shouldForwardProp=v,w.foldedComponentIds=i?Ti(r.foldedComponentIds,r.styledComponentId):"",w.styledComponentId=c,w.target=i?r.target:n,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(g){this._foldedDefaultProps=i?function(S){for(var R=[],T=1;T<arguments.length;T++)R[T-1]=arguments[T];for(var E=0,O=R;E<O.length;E++)lo(S,O[E],!0);return S}({},r.defaultProps,g):g}}),fa(w,function(){return".".concat(w.styledComponentId)}),s&&pc(w,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function cl(n,e){for(var t=[n[0]],i=0,r=e.length;i<r;i+=1)t.push(e[i],n[i+1]);return t}var hl=function(n){return Object.assign(n,{isCss:!0})};function Cc(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(dn(n)||er(n))return hl(hi(cl(is,Qn([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?hi(i):hl(hi(cl(i,e)))}function ho(n,e,t){if(t===void 0&&(t=hn),!e)throw rr(1,e);var i=function(r){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,Cc.apply(void 0,Qn([r],s,!1)))};return i.attrs=function(r){return ho(n,e,Ze(Ze({},t),{attrs:Array.prototype.concat(t.attrs,r).filter(Boolean)}))},i.withConfig=function(r){return ho(n,e,Ze(Ze({},t),r))},i}var Ec=function(n){return ho(Bv,n)},Hv=Ec;ac.forEach(function(n){Hv[n]=Ec(n)});var jv=function(){function n(e,t){this.rules=e,this.componentId=t,this.isStatic=wc(e),zr.registerId(this.componentId+1)}return n.prototype.createStyles=function(e,t,i,r){var s=r(ao(hi(this.rules,t,i,r)),""),o=this.componentId+e;i.insertRules(o,o,s)},n.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},n.prototype.renderStyles=function(e,t,i,r){e>2&&zr.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,r)},n}();function xc(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=Cc.apply(void 0,Qn([n],e,!1)),r="sc-global-".concat(cc(JSON.stringify(i))),s=new jv(i,r),o=function(l){var u=co(),h=Ee.useContext(pa),d=Ee.useRef(u.styleSheet.allocateGSInstance(r)).current;return u.styleSheet.server&&a(d,l,u.styleSheet,h,u.stylis),Ee.useLayoutEffect(function(){if(!u.styleSheet.server)return a(d,l,u.styleSheet,h,u.stylis),function(){return s.removeStyles(d,u.styleSheet)}},[d,l,u.styleSheet,h,u.stylis]),null};function a(l,u,h,d,c){if(s.isStatic)s.renderStyles(l,lv,h,c);else{var f=Ze(Ze({},u),{theme:oc(u,d,o.defaultProps)});s.renderStyles(l,f,h,c)}}return Ee.memo(o)}const{useToken:Vv}=Gr,Wv=xc`
  .quill {

    background-color: transparent;

    .ql-toolbar {
      background-color: ${n=>n.colorFillQuaternary};
      color: ${n=>n.colorText};
      border-top-right-radius: ${n=>n.borderRadius}px;
      border-top-left-radius: ${n=>n.borderRadius}px;
      border-bottom: 0;
      border-color: ${n=>n.colorBorder};

      font-size: ${n=>n.fontSize}px;
    }

    .ql-toolbar.ql-snow + .ql-container.ql-snow {
      background-color: ${n=>n.colorBgContainer};
      color: ${n=>n.colorText};
      font-size: ${n=>n.fontSize}px;
      border: 1px solid ${n=>n.colorBorder};
      border-bottom-right-radius: ${n=>n.borderRadius}px;
      border-bottom-left-radius: ${n=>n.borderRadius}px;

      .ql-editor {
        line-height:  ${n=>n.lineHeight};
        padding: 4px ${n=>n.controlPaddingHorizontal}px;
      }

      &:hover {
        border-color: ${n=>n.colorPrimaryHover};
      }

      &:focus-within {
        border-color: ${n=>n.colorPrimary};
        box-shadow: 0 0 0 2px ${n=>n.controlOutline};
        border-inline-end-width: 1px;
        outline: 0;
      }

      /** placeholder */
      > .ql-editor.ql-blank::before {
        font-style: normal;
        font-size: ${n=>n.fontSize}px;
        color: ${n=>n.colorTextPlaceholder};
        left: ${n=>n.controlPaddingHorizontal}px;
        right: ${n=>n.controlPaddingHorizontal}px;
      }
    }

  }
`,qv=()=>{const{token:n}=Vv();return se.jsx(Wv,{...n})};function Gv(){this.__data__=[],this.size=0}var Uv=Gv;function Kv(n,e){return n===e||n!==n&&e!==e}var Sc=Kv,Xv=Sc;function Yv(n,e){for(var t=n.length;t--;)if(Xv(n[t][0],e))return t;return-1}var ns=Yv,Jv=ns,Zv=Array.prototype,Qv=Zv.splice;function ey(n){var e=this.__data__,t=Jv(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():Qv.call(e,t,1),--this.size,!0}var ty=ey,iy=ns;function ny(n){var e=this.__data__,t=iy(e,n);return t<0?void 0:e[t][1]}var ry=ny,sy=ns;function oy(n){return sy(this.__data__,n)>-1}var ay=oy,ly=ns;function uy(n,e){var t=this.__data__,i=ly(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var cy=uy,hy=Uv,dy=ty,fy=ry,py=ay,gy=cy;function mn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}mn.prototype.clear=hy;mn.prototype.delete=dy;mn.prototype.get=fy;mn.prototype.has=py;mn.prototype.set=gy;var rs=mn,my=rs;function by(){this.__data__=new my,this.size=0}var vy=by;function yy(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var wy=yy;function Cy(n){return this.__data__.get(n)}var Ey=Cy;function xy(n){return this.__data__.has(n)}var Sy=xy,_y=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,_c=_y,Ry=_c,Ty=typeof self=="object"&&self&&self.Object===Object&&self,Oy=Ry||Ty||Function("return this")(),Kt=Oy,ky=Kt,My=ky.Symbol,ga=My,dl=ga,Rc=Object.prototype,Ly=Rc.hasOwnProperty,Ay=Rc.toString,Pn=dl?dl.toStringTag:void 0;function Dy(n){var e=Ly.call(n,Pn),t=n[Pn];try{n[Pn]=void 0;var i=!0}catch{}var r=Ay.call(n);return i&&(e?n[Pn]=t:delete n[Pn]),r}var Py=Dy,Fy=Object.prototype,Ny=Fy.toString;function Iy(n){return Ny.call(n)}var $y=Iy,fl=ga,zy=Py,By=$y,Hy="[object Null]",jy="[object Undefined]",pl=fl?fl.toStringTag:void 0;function Vy(n){return n==null?n===void 0?jy:Hy:pl&&pl in Object(n)?zy(n):By(n)}var ss=Vy;function Wy(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Tc=Wy,qy=ss,Gy=Tc,Uy="[object AsyncFunction]",Ky="[object Function]",Xy="[object GeneratorFunction]",Yy="[object Proxy]";function Jy(n){if(!Gy(n))return!1;var e=qy(n);return e==Ky||e==Xy||e==Uy||e==Yy}var Oc=Jy,Zy=Kt,Qy=Zy["__core-js_shared__"],ew=Qy,Ks=ew,gl=function(){var n=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function tw(n){return!!gl&&gl in n}var iw=tw,nw=Function.prototype,rw=nw.toString;function sw(n){if(n!=null){try{return rw.call(n)}catch{}try{return n+""}catch{}}return""}var kc=sw,ow=Oc,aw=iw,lw=Tc,uw=kc,cw=/[\\^$.*+?()[\]{}|]/g,hw=/^\[object .+?Constructor\]$/,dw=Function.prototype,fw=Object.prototype,pw=dw.toString,gw=fw.hasOwnProperty,mw=RegExp("^"+pw.call(gw).replace(cw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bw(n){if(!lw(n)||aw(n))return!1;var e=ow(n)?mw:hw;return e.test(uw(n))}var vw=bw;function yw(n,e){return n==null?void 0:n[e]}var ww=yw,Cw=vw,Ew=ww;function xw(n,e){var t=Ew(n,e);return Cw(t)?t:void 0}var bn=xw,Sw=bn,_w=Kt,Rw=Sw(_w,"Map"),ma=Rw,Tw=bn,Ow=Tw(Object,"create"),os=Ow,ml=os;function kw(){this.__data__=ml?ml(null):{},this.size=0}var Mw=kw;function Lw(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Aw=Lw,Dw=os,Pw="__lodash_hash_undefined__",Fw=Object.prototype,Nw=Fw.hasOwnProperty;function Iw(n){var e=this.__data__;if(Dw){var t=e[n];return t===Pw?void 0:t}return Nw.call(e,n)?e[n]:void 0}var $w=Iw,zw=os,Bw=Object.prototype,Hw=Bw.hasOwnProperty;function jw(n){var e=this.__data__;return zw?e[n]!==void 0:Hw.call(e,n)}var Vw=jw,Ww=os,qw="__lodash_hash_undefined__";function Gw(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ww&&e===void 0?qw:e,this}var Uw=Gw,Kw=Mw,Xw=Aw,Yw=$w,Jw=Vw,Zw=Uw;function vn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}vn.prototype.clear=Kw;vn.prototype.delete=Xw;vn.prototype.get=Yw;vn.prototype.has=Jw;vn.prototype.set=Zw;var Qw=vn,bl=Qw,e0=rs,t0=ma;function i0(){this.size=0,this.__data__={hash:new bl,map:new(t0||e0),string:new bl}}var n0=i0;function r0(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var s0=r0,o0=s0;function a0(n,e){var t=n.__data__;return o0(e)?t[typeof e=="string"?"string":"hash"]:t.map}var as=a0,l0=as;function u0(n){var e=l0(this,n).delete(n);return this.size-=e?1:0,e}var c0=u0,h0=as;function d0(n){return h0(this,n).get(n)}var f0=d0,p0=as;function g0(n){return p0(this,n).has(n)}var m0=g0,b0=as;function v0(n,e){var t=b0(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var y0=v0,w0=n0,C0=c0,E0=f0,x0=m0,S0=y0;function yn(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}yn.prototype.clear=w0;yn.prototype.delete=C0;yn.prototype.get=E0;yn.prototype.has=x0;yn.prototype.set=S0;var Mc=yn,_0=rs,R0=ma,T0=Mc,O0=200;function k0(n,e){var t=this.__data__;if(t instanceof _0){var i=t.__data__;if(!R0||i.length<O0-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new T0(i)}return t.set(n,e),this.size=t.size,this}var M0=k0,L0=rs,A0=vy,D0=wy,P0=Ey,F0=Sy,N0=M0;function wn(n){var e=this.__data__=new L0(n);this.size=e.size}wn.prototype.clear=A0;wn.prototype.delete=D0;wn.prototype.get=P0;wn.prototype.has=F0;wn.prototype.set=N0;var I0=wn,$0="__lodash_hash_undefined__";function z0(n){return this.__data__.set(n,$0),this}var B0=z0;function H0(n){return this.__data__.has(n)}var j0=H0,V0=Mc,W0=B0,q0=j0;function Br(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new V0;++e<t;)this.add(n[e])}Br.prototype.add=Br.prototype.push=W0;Br.prototype.has=q0;var G0=Br;function U0(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}var K0=U0;function X0(n,e){return n.has(e)}var Y0=X0,J0=G0,Z0=K0,Q0=Y0,eC=1,tC=2;function iC(n,e,t,i,r,s){var o=t&eC,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(n),h=s.get(e);if(u&&h)return u==e&&h==n;var d=-1,c=!0,f=t&tC?new J0:void 0;for(s.set(n,e),s.set(e,n);++d<a;){var v=n[d],y=e[d];if(i)var b=o?i(y,v,d,e,n,s):i(v,y,d,n,e,s);if(b!==void 0){if(b)continue;c=!1;break}if(f){if(!Z0(e,function(p,m){if(!Q0(f,m)&&(v===p||r(v,p,t,i,s)))return f.push(m)})){c=!1;break}}else if(!(v===y||r(v,y,t,i,s))){c=!1;break}}return s.delete(n),s.delete(e),c}var Lc=iC,nC=Kt,rC=nC.Uint8Array,sC=rC;function oC(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}var aC=oC;function lC(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var uC=lC,vl=ga,yl=sC,cC=Sc,hC=Lc,dC=aC,fC=uC,pC=1,gC=2,mC="[object Boolean]",bC="[object Date]",vC="[object Error]",yC="[object Map]",wC="[object Number]",CC="[object RegExp]",EC="[object Set]",xC="[object String]",SC="[object Symbol]",_C="[object ArrayBuffer]",RC="[object DataView]",wl=vl?vl.prototype:void 0,Xs=wl?wl.valueOf:void 0;function TC(n,e,t,i,r,s,o){switch(t){case RC:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case _C:return!(n.byteLength!=e.byteLength||!s(new yl(n),new yl(e)));case mC:case bC:case wC:return cC(+n,+e);case vC:return n.name==e.name&&n.message==e.message;case CC:case xC:return n==e+"";case yC:var a=dC;case EC:var l=i&pC;if(a||(a=fC),n.size!=e.size&&!l)return!1;var u=o.get(n);if(u)return u==e;i|=gC,o.set(n,e);var h=hC(a(n),a(e),i,r,s,o);return o.delete(n),h;case SC:if(Xs)return Xs.call(n)==Xs.call(e)}return!1}var OC=TC;function kC(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var MC=kC,LC=Array.isArray,ba=LC,AC=MC,DC=ba;function PC(n,e,t){var i=e(n);return DC(n)?i:AC(i,t(n))}var FC=PC;function NC(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var o=n[t];e(o,t,n)&&(s[r++]=o)}return s}var IC=NC;function $C(){return[]}var zC=$C,BC=IC,HC=zC,jC=Object.prototype,VC=jC.propertyIsEnumerable,Cl=Object.getOwnPropertySymbols,WC=Cl?function(n){return n==null?[]:(n=Object(n),BC(Cl(n),function(e){return VC.call(n,e)}))}:HC,qC=WC;function GC(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var UC=GC;function KC(n){return n!=null&&typeof n=="object"}var ls=KC,XC=ss,YC=ls,JC="[object Arguments]";function ZC(n){return YC(n)&&XC(n)==JC}var QC=ZC,El=QC,e1=ls,Ac=Object.prototype,t1=Ac.hasOwnProperty,i1=Ac.propertyIsEnumerable,n1=El(function(){return arguments}())?El:function(n){return e1(n)&&t1.call(n,"callee")&&!i1.call(n,"callee")},r1=n1,Hr={exports:{}};function s1(){return!1}var o1=s1;Hr.exports;(function(n,e){var t=Kt,i=o1,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,o=s&&s.exports===r,a=o?t.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||i;n.exports=u})(Hr,Hr.exports);var Dc=Hr.exports,a1=9007199254740991,l1=/^(?:0|[1-9]\d*)$/;function u1(n,e){var t=typeof n;return e=e??a1,!!e&&(t=="number"||t!="symbol"&&l1.test(n))&&n>-1&&n%1==0&&n<e}var c1=u1,h1=9007199254740991;function d1(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=h1}var Pc=d1,f1=ss,p1=Pc,g1=ls,m1="[object Arguments]",b1="[object Array]",v1="[object Boolean]",y1="[object Date]",w1="[object Error]",C1="[object Function]",E1="[object Map]",x1="[object Number]",S1="[object Object]",_1="[object RegExp]",R1="[object Set]",T1="[object String]",O1="[object WeakMap]",k1="[object ArrayBuffer]",M1="[object DataView]",L1="[object Float32Array]",A1="[object Float64Array]",D1="[object Int8Array]",P1="[object Int16Array]",F1="[object Int32Array]",N1="[object Uint8Array]",I1="[object Uint8ClampedArray]",$1="[object Uint16Array]",z1="[object Uint32Array]",ze={};ze[L1]=ze[A1]=ze[D1]=ze[P1]=ze[F1]=ze[N1]=ze[I1]=ze[$1]=ze[z1]=!0;ze[m1]=ze[b1]=ze[k1]=ze[v1]=ze[M1]=ze[y1]=ze[w1]=ze[C1]=ze[E1]=ze[x1]=ze[S1]=ze[_1]=ze[R1]=ze[T1]=ze[O1]=!1;function B1(n){return g1(n)&&p1(n.length)&&!!ze[f1(n)]}var H1=B1;function j1(n){return function(e){return n(e)}}var V1=j1,jr={exports:{}};jr.exports;(function(n,e){var t=_c,i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,s=r&&r.exports===i,o=s&&t.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a})(jr,jr.exports);var W1=jr.exports,q1=H1,G1=V1,xl=W1,Sl=xl&&xl.isTypedArray,U1=Sl?G1(Sl):q1,Fc=U1,K1=UC,X1=r1,Y1=ba,J1=Dc,Z1=c1,Q1=Fc,eE=Object.prototype,tE=eE.hasOwnProperty;function iE(n,e){var t=Y1(n),i=!t&&X1(n),r=!t&&!i&&J1(n),s=!t&&!i&&!r&&Q1(n),o=t||i||r||s,a=o?K1(n.length,String):[],l=a.length;for(var u in n)(e||tE.call(n,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Z1(u,l)))&&a.push(u);return a}var nE=iE,rE=Object.prototype;function sE(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||rE;return n===t}var oE=sE;function aE(n,e){return function(t){return n(e(t))}}var lE=aE,uE=lE,cE=uE(Object.keys,Object),hE=cE,dE=oE,fE=hE,pE=Object.prototype,gE=pE.hasOwnProperty;function mE(n){if(!dE(n))return fE(n);var e=[];for(var t in Object(n))gE.call(n,t)&&t!="constructor"&&e.push(t);return e}var bE=mE,vE=Oc,yE=Pc;function wE(n){return n!=null&&yE(n.length)&&!vE(n)}var CE=wE,EE=nE,xE=bE,SE=CE;function _E(n){return SE(n)?EE(n):xE(n)}var RE=_E,TE=FC,OE=qC,kE=RE;function ME(n){return TE(n,kE,OE)}var LE=ME,_l=LE,AE=1,DE=Object.prototype,PE=DE.hasOwnProperty;function FE(n,e,t,i,r,s){var o=t&AE,a=_l(n),l=a.length,u=_l(e),h=u.length;if(l!=h&&!o)return!1;for(var d=l;d--;){var c=a[d];if(!(o?c in e:PE.call(e,c)))return!1}var f=s.get(n),v=s.get(e);if(f&&v)return f==e&&v==n;var y=!0;s.set(n,e),s.set(e,n);for(var b=o;++d<l;){c=a[d];var p=n[c],m=e[c];if(i)var w=o?i(m,p,c,e,n,s):i(p,m,c,n,e,s);if(!(w===void 0?p===m||r(p,m,t,i,s):w)){y=!1;break}b||(b=c=="constructor")}if(y&&!b){var g=n.constructor,S=e.constructor;g!=S&&"constructor"in n&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof S=="function"&&S instanceof S)&&(y=!1)}return s.delete(n),s.delete(e),y}var NE=FE,IE=bn,$E=Kt,zE=IE($E,"DataView"),BE=zE,HE=bn,jE=Kt,VE=HE(jE,"Promise"),WE=VE,qE=bn,GE=Kt,UE=qE(GE,"Set"),KE=UE,XE=bn,YE=Kt,JE=XE(YE,"WeakMap"),ZE=JE,fo=BE,po=ma,go=WE,mo=KE,bo=ZE,Nc=ss,Cn=kc,Rl="[object Map]",QE="[object Object]",Tl="[object Promise]",Ol="[object Set]",kl="[object WeakMap]",Ml="[object DataView]",ex=Cn(fo),tx=Cn(po),ix=Cn(go),nx=Cn(mo),rx=Cn(bo),xi=Nc;(fo&&xi(new fo(new ArrayBuffer(1)))!=Ml||po&&xi(new po)!=Rl||go&&xi(go.resolve())!=Tl||mo&&xi(new mo)!=Ol||bo&&xi(new bo)!=kl)&&(xi=function(n){var e=Nc(n),t=e==QE?n.constructor:void 0,i=t?Cn(t):"";if(i)switch(i){case ex:return Ml;case tx:return Rl;case ix:return Tl;case nx:return Ol;case rx:return kl}return e});var sx=xi,Ys=I0,ox=Lc,ax=OC,lx=NE,Ll=sx,Al=ba,Dl=Dc,ux=Fc,cx=1,Pl="[object Arguments]",Fl="[object Array]",xr="[object Object]",hx=Object.prototype,Nl=hx.hasOwnProperty;function dx(n,e,t,i,r,s){var o=Al(n),a=Al(e),l=o?Fl:Ll(n),u=a?Fl:Ll(e);l=l==Pl?xr:l,u=u==Pl?xr:u;var h=l==xr,d=u==xr,c=l==u;if(c&&Dl(n)){if(!Dl(e))return!1;o=!0,h=!1}if(c&&!h)return s||(s=new Ys),o||ux(n)?ox(n,e,t,i,r,s):ax(n,e,l,t,i,r,s);if(!(t&cx)){var f=h&&Nl.call(n,"__wrapped__"),v=d&&Nl.call(e,"__wrapped__");if(f||v){var y=f?n.value():n,b=v?e.value():e;return s||(s=new Ys),r(y,b,t,i,s)}}return c?(s||(s=new Ys),lx(n,e,t,i,r,s)):!1}var fx=dx,px=fx,Il=ls;function Ic(n,e,t,i,r){return n===e?!0:n==null||e==null||!Il(n)&&!Il(e)?n!==n&&e!==e:px(n,e,t,i,Ic,r)}var gx=Ic,mx=gx;function bx(n,e){return mx(n,e)}var vx=bx,$c={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(n,e){(function(i,r){n.exports=r()})(typeof self<"u"?self:Pe,function(){return function(t){var i={};function r(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=i,r.d=function(s,o,a){r.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},r.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(o,"a",o),o},r.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},r.p="",r(r.s=109)}([function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(17),o=r(18),a=r(19),l=r(45),u=r(46),h=r(47),d=r(48),c=r(49),f=r(12),v=r(32),y=r(33),b=r(31),p=r(1),m={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:d.default,Scroll:l.default,Block:h.default,Inline:u.default,Text:c.default,Attributor:{Attribute:f.default,Class:v.default,Style:y.default,Store:b.default}};i.default=m},function(t,i,r){var s=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var w in m)m.hasOwnProperty(w)&&(p[w]=m[w])};return function(p,m){b(p,m);function w(){this.constructor=p}p.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=function(b){s(p,b);function p(m){var w=this;return m="[Parchment] "+m,w=b.call(this,m)||this,w.message=m,w.name=w.constructor.name,w}return p}(Error);i.ParchmentError=o;var a={},l={},u={},h={};i.DATA_KEY="__blot";var d;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(d=i.Scope||(i.Scope={}));function c(b,p){var m=v(b);if(m==null)throw new o("Unable to create "+b+" blot");var w=m,g=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(p);return new w(g,p)}i.create=c;function f(b,p){return p===void 0&&(p=!1),b==null?null:b[i.DATA_KEY]!=null?b[i.DATA_KEY].blot:p?f(b.parentNode,p):null}i.find=f;function v(b,p){p===void 0&&(p=d.ANY);var m;if(typeof b=="string")m=h[b]||a[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)m=h.text;else if(typeof b=="number")b&d.LEVEL&d.BLOCK?m=h.block:b&d.LEVEL&d.INLINE&&(m=h.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var g in w)if(m=l[w[g]],m)break;m=m||u[b.tagName]}return m==null?null:p&d.LEVEL&m.scope&&p&d.TYPE&m.scope?m:null}i.query=v;function y(){for(var b=[],p=0;p<arguments.length;p++)b[p]=arguments[p];if(b.length>1)return b.map(function(g){return y(g)});var m=b[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(h[m.blotName||m.attrName]=m,typeof m.keyName=="string")a[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(g){return g.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var w=Array.isArray(m.tagName)?m.tagName:[m.tagName];w.forEach(function(g){(u[g]==null||m.className==null)&&(u[g]=m)})}return m}i.register=y},function(t,i,r){var s=r(51),o=r(11),a=r(3),l=r(20),u="\0",h=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};h.prototype.insert=function(d,c){var f={};return d.length===0?this:(f.insert=d,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(f.attributes=c),this.push(f))},h.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},h.prototype.retain=function(d,c){if(d<=0)return this;var f={retain:d};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(f.attributes=c),this.push(f)},h.prototype.push=function(d){var c=this.ops.length,f=this.ops[c-1];if(d=a(!0,{},d),typeof f=="object"){if(typeof d.delete=="number"&&typeof f.delete=="number")return this.ops[c-1]={delete:f.delete+d.delete},this;if(typeof f.delete=="number"&&d.insert!=null&&(c-=1,f=this.ops[c-1],typeof f!="object"))return this.ops.unshift(d),this;if(o(d.attributes,f.attributes)){if(typeof d.insert=="string"&&typeof f.insert=="string")return this.ops[c-1]={insert:f.insert+d.insert},typeof d.attributes=="object"&&(this.ops[c-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof f.retain=="number")return this.ops[c-1]={retain:f.retain+d.retain},typeof d.attributes=="object"&&(this.ops[c-1].attributes=d.attributes),this}}return c===this.ops.length?this.ops.push(d):this.ops.splice(c,0,d),this},h.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},h.prototype.filter=function(d){return this.ops.filter(d)},h.prototype.forEach=function(d){this.ops.forEach(d)},h.prototype.map=function(d){return this.ops.map(d)},h.prototype.partition=function(d){var c=[],f=[];return this.forEach(function(v){var y=d(v)?c:f;y.push(v)}),[c,f]},h.prototype.reduce=function(d,c){return this.ops.reduce(d,c)},h.prototype.changeLength=function(){return this.reduce(function(d,c){return c.insert?d+l.length(c):c.delete?d-c.delete:d},0)},h.prototype.length=function(){return this.reduce(function(d,c){return d+l.length(c)},0)},h.prototype.slice=function(d,c){d=d||0,typeof c!="number"&&(c=1/0);for(var f=[],v=l.iterator(this.ops),y=0;y<c&&v.hasNext();){var b;y<d?b=v.next(d-y):(b=v.next(c-y),f.push(b)),y+=l.length(b)}return new h(f)},h.prototype.compose=function(d){var c=l.iterator(this.ops),f=l.iterator(d.ops),v=[],y=f.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var b=y.retain;c.peekType()==="insert"&&c.peekLength()<=b;)b-=c.peekLength(),v.push(c.next());y.retain-b>0&&f.next(y.retain-b)}for(var p=new h(v);c.hasNext()||f.hasNext();)if(f.peekType()==="insert")p.push(f.next());else if(c.peekType()==="delete")p.push(c.next());else{var m=Math.min(c.peekLength(),f.peekLength()),w=c.next(m),g=f.next(m);if(typeof g.retain=="number"){var S={};typeof w.retain=="number"?S.retain=m:S.insert=w.insert;var R=l.attributes.compose(w.attributes,g.attributes,typeof w.retain=="number");if(R&&(S.attributes=R),p.push(S),!f.hasNext()&&o(p.ops[p.ops.length-1],S)){var T=new h(c.rest());return p.concat(T).chop()}}else typeof g.delete=="number"&&typeof w.retain=="number"&&p.push(g)}return p.chop()},h.prototype.concat=function(d){var c=new h(this.ops.slice());return d.ops.length>0&&(c.push(d.ops[0]),c.ops=c.ops.concat(d.ops.slice(1))),c},h.prototype.diff=function(d,c){if(this.ops===d.ops)return new h;var f=[this,d].map(function(m){return m.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var g=m===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),v=new h,y=s(f[0],f[1],c),b=l.iterator(this.ops),p=l.iterator(d.ops);return y.forEach(function(m){for(var w=m[1].length;w>0;){var g=0;switch(m[0]){case s.INSERT:g=Math.min(p.peekLength(),w),v.push(p.next(g));break;case s.DELETE:g=Math.min(w,b.peekLength()),b.next(g),v.delete(g);break;case s.EQUAL:g=Math.min(b.peekLength(),p.peekLength(),w);var S=b.next(g),R=p.next(g);o(S.insert,R.insert)?v.retain(g,l.attributes.diff(S.attributes,R.attributes)):v.push(R).delete(g);break}w-=g}}),v.chop()},h.prototype.eachLine=function(d,c){c=c||`
`;for(var f=l.iterator(this.ops),v=new h,y=0;f.hasNext();){if(f.peekType()!=="insert")return;var b=f.peek(),p=l.length(b)-f.peekLength(),m=typeof b.insert=="string"?b.insert.indexOf(c,p)-p:-1;if(m<0)v.push(f.next());else if(m>0)v.push(f.next(m));else{if(d(v,f.next(1).attributes||{},y)===!1)return;y+=1,v=new h}}v.length()>0&&d(v,{},y)},h.prototype.transform=function(d,c){if(c=!!c,typeof d=="number")return this.transformPosition(d,c);for(var f=l.iterator(this.ops),v=l.iterator(d.ops),y=new h;f.hasNext()||v.hasNext();)if(f.peekType()==="insert"&&(c||v.peekType()!=="insert"))y.retain(l.length(f.next()));else if(v.peekType()==="insert")y.push(v.next());else{var b=Math.min(f.peekLength(),v.peekLength()),p=f.next(b),m=v.next(b);if(p.delete)continue;m.delete?y.push(m):y.retain(b,l.attributes.transform(p.attributes,m.attributes,c))}return y.chop()},h.prototype.transformPosition=function(d,c){c=!!c;for(var f=l.iterator(this.ops),v=0;f.hasNext()&&v<=d;){var y=f.peekLength(),b=f.peekType();if(f.next(),b==="delete"){d-=Math.min(y,d-v);continue}else b==="insert"&&(v<d||!c)&&(d+=y);v+=y}return d},t.exports=h},function(t,i){var r=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):s.call(f)==="[object Array]"},u=function(f){if(!f||s.call(f)!=="[object Object]")return!1;var v=r.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&r.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!v&&!y)return!1;var b;for(b in f);return typeof b>"u"||r.call(f,b)},h=function(f,v){o&&v.name==="__proto__"?o(f,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):f[v.name]=v.newValue},d=function(f,v){if(v==="__proto__")if(r.call(f,v)){if(a)return a(f,v).value}else return;return f[v]};t.exports=function c(){var f,v,y,b,p,m,w=arguments[0],g=1,S=arguments.length,R=!1;for(typeof w=="boolean"&&(R=w,w=arguments[1]||{},g=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});g<S;++g)if(f=arguments[g],f!=null)for(v in f)y=d(w,v),b=d(f,v),w!==b&&(R&&b&&(u(b)||(p=l(b)))?(p?(p=!1,m=y&&l(y)?y:[]):m=y&&u(y)?y:{},h(w,{name:v,newValue:c(R,m,b)})):typeof b<"u"&&h(w,{name:v,newValue:b}));return w}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var s=function(){function x(_,L){for(var M=0;M<L.length;M++){var P=L[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,L,M){return L&&x(_.prototype,L),M&&x(_,M),_}}(),o=function x(_,L,M){_===null&&(_=Function.prototype);var P=Object.getOwnPropertyDescriptor(_,L);if(P===void 0){var z=Object.getPrototypeOf(_);return z===null?void 0:x(z,L,M)}else{if("value"in P)return P.value;var $=P.get;return $===void 0?void 0:$.call(M)}},a=r(3),l=w(a),u=r(2),h=w(u),d=r(0),c=w(d),f=r(16),v=w(f),y=r(6),b=w(y),p=r(7),m=w(p);function w(x){return x&&x.__esModule?x:{default:x}}function g(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function S(x,_){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:x}function R(x,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(x,_):x.__proto__=_)}var T=1,E=function(x){R(_,x);function _(){return g(this,_),S(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"attach",value:function(){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,P){var z=c.default.query(M,c.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,P)}},{key:"formatAt",value:function(M,P,z,$){this.format(z,$)}},{key:"insertAt",value:function(M,P,z){if(typeof P=="string"&&P.endsWith(`
`)){var $=c.default.create(O.blotName);this.parent.insertBefore($,M===0?this:this.next),$.insertAt(0,P.slice(0,-1))}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,M,P,z)}}]),_}(c.default.Embed);E.scope=c.default.Scope.BLOCK_BLOT;var O=function(x){R(_,x);function _(L){g(this,_);var M=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,L));return M.cache={},M}return s(_,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(M,P){return P.length()===0?M:M.insert(P.value(),C(P))},new h.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function(M,P){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"deleteAt",this).call(this,M,P),this.cache={}}},{key:"formatAt",value:function(M,P,z,$){P<=0||(c.default.query(z,c.default.Scope.BLOCK)?M+P===this.length()&&this.format(z,$):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,M,Math.min(P,this.length()-M-1),z,$),this.cache={})}},{key:"insertAt",value:function(M,P,z){if(z!=null)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,M,P,z);if(P.length!==0){var $=P.split(`
`),Y=$.shift();Y.length>0&&(M<this.length()-1||this.children.tail==null?o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var V=this;$.reduce(function(I,D){return V=V.split(I,!0),V.insertAt(0,D),D.length},M+Y.length)}}},{key:"insertBefore",value:function(M,P){var z=this.children.head;o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,M,P),z instanceof v.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(M,P){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"moveChildren",this).call(this,M,P),this.cache={}}},{key:"optimize",value:function(M){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P&&(M===0||M>=this.length()-T)){var z=this.clone();return M===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var $=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"split",this).call(this,M,P);return this.cache={},$}}}]),_}(c.default.Block);O.blotName="block",O.tagName="P",O.defaultChild="break",O.allowedChildren=[b.default,c.default.Embed,m.default];function C(x){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x==null||(typeof x.formats=="function"&&(_=(0,l.default)(_,x.formats())),x.parent==null||x.parent.blotName=="scroll"||x.parent.statics.scope!==x.statics.scope)?_:C(x.parent,_)}i.bubbleFormats=C,i.BlockEmbed=E,i.default=O},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(I,D){var H=[],B=!0,J=!1,X=void 0;try{for(var j=I[Symbol.iterator](),U;!(B=(U=j.next()).done)&&(H.push(U.value),!(D&&H.length===D));B=!0);}catch(W){J=!0,X=W}finally{try{!B&&j.return&&j.return()}finally{if(J)throw X}}return H}return function(I,D){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return V(I,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(I,D){for(var H=0;H<D.length;H++){var B=D[H];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,D,H){return D&&V(I.prototype,D),H&&V(I,H),I}}();r(50);var l=r(2),u=C(l),h=r(14),d=C(h),c=r(8),f=C(c),v=r(9),y=C(v),b=r(0),p=C(b),m=r(15),w=C(m),g=r(3),S=C(g),R=r(10),T=C(R),E=r(34),O=C(E);function C(V){return V&&V.__esModule?V:{default:V}}function x(V,I,D){return I in V?Object.defineProperty(V,I,{value:D,enumerable:!0,configurable:!0,writable:!0}):V[I]=D,V}function _(V,I){if(!(V instanceof I))throw new TypeError("Cannot call a class as a function")}var L=(0,T.default)("quill"),M=function(){a(V,null,[{key:"debug",value:function(D){D===!0&&(D="log"),T.default.level(D)}},{key:"find",value:function(D){return D.__quill||p.default.find(D)}},{key:"import",value:function(D){return this.imports[D]==null&&L.error("Cannot import "+D+". Are you sure it was registered?"),this.imports[D]}},{key:"register",value:function(D,H){var B=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof D!="string"){var X=D.attrName||D.blotName;typeof X=="string"?this.register("formats/"+X,D,H):Object.keys(D).forEach(function(j){B.register(j,D[j],H)})}else this.imports[D]!=null&&!J&&L.warn("Overwriting "+D+" with",H),this.imports[D]=H,(D.startsWith("blots/")||D.startsWith("formats/"))&&H.blotName!=="abstract"?p.default.register(H):D.startsWith("modules")&&typeof H.register=="function"&&H.register()}}]);function V(I){var D=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_(this,V),this.options=P(I,H),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",I);this.options.debug&&V.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=p.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(X){X===f.default.events.TEXT_CHANGE&&D.root.classList.toggle("ql-blank",D.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(X,j){var U=D.selection.lastRange,W=U&&U.length===0?U.index:void 0;z.call(D,function(){return D.editor.update(null,j,W)},X)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(V,[{key:"addContainer",value:function(D){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof D=="string"){var B=D;D=document.createElement("div"),D.classList.add(B)}return this.container.insertBefore(D,H),D}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(D,H,B){var J=this,X=$(D,H,B),j=o(X,4);return D=j[0],H=j[1],B=j[3],z.call(this,function(){return J.editor.deleteText(D,H)},B,D,-1*H)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(D),this.container.classList.toggle("ql-disabled",!D)}},{key:"focus",value:function(){var D=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=D,this.scrollIntoView()}},{key:"format",value:function(D,H){var B=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return z.call(this,function(){var X=B.getSelection(!0),j=new u.default;if(X==null)return j;if(p.default.query(D,p.default.Scope.BLOCK))j=B.editor.formatLine(X.index,X.length,x({},D,H));else{if(X.length===0)return B.selection.format(D,H),j;j=B.editor.formatText(X.index,X.length,x({},D,H))}return B.setSelection(X,f.default.sources.SILENT),j},J)}},{key:"formatLine",value:function(D,H,B,J,X){var j=this,U=void 0,W=$(D,H,B,J,X),k=o(W,4);return D=k[0],H=k[1],U=k[2],X=k[3],z.call(this,function(){return j.editor.formatLine(D,H,U)},X,D,0)}},{key:"formatText",value:function(D,H,B,J,X){var j=this,U=void 0,W=$(D,H,B,J,X),k=o(W,4);return D=k[0],H=k[1],U=k[2],X=k[3],z.call(this,function(){return j.editor.formatText(D,H,U)},X,D,0)}},{key:"getBounds",value:function(D){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof D=="number"?B=this.selection.getBounds(D,H):B=this.selection.getBounds(D.index,D.length);var J=this.container.getBoundingClientRect();return{bottom:B.bottom-J.top,height:B.height,left:B.left-J.left,right:B.right-J.left,top:B.top-J.top,width:B.width}}},{key:"getContents",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,B=$(D,H),J=o(B,2);return D=J[0],H=J[1],this.editor.getContents(D,H)}},{key:"getFormat",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof D=="number"?this.editor.getFormat(D,H):this.editor.getFormat(D.index,D.length)}},{key:"getIndex",value:function(D){return D.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(D){return this.scroll.leaf(D)}},{key:"getLine",value:function(D){return this.scroll.line(D)}},{key:"getLines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof D!="number"?this.scroll.lines(D.index,D.length):this.scroll.lines(D,H)}},{key:"getModule",value:function(D){return this.theme.modules[D]}},{key:"getSelection",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return D&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,B=$(D,H),J=o(B,2);return D=J[0],H=J[1],this.editor.getText(D,H)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(D,H,B){var J=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V.sources.API;return z.call(this,function(){return J.editor.insertEmbed(D,H,B)},X,D)}},{key:"insertText",value:function(D,H,B,J,X){var j=this,U=void 0,W=$(D,0,B,J,X),k=o(W,4);return D=k[0],U=k[2],X=k[3],z.call(this,function(){return j.editor.insertText(D,H,U)},X,D,H.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(D,H,B){this.clipboard.dangerouslyPasteHTML(D,H,B)}},{key:"removeFormat",value:function(D,H,B){var J=this,X=$(D,H,B),j=o(X,4);return D=j[0],H=j[1],B=j[3],z.call(this,function(){return J.editor.removeFormat(D,H)},B,D)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(D){var H=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return z.call(this,function(){D=new u.default(D);var J=H.getLength(),X=H.editor.deleteText(0,J),j=H.editor.applyDelta(D),U=j.ops[j.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(H.editor.deleteText(H.getLength()-1,1),j.delete(1));var W=X.compose(j);return W},B)}},{key:"setSelection",value:function(D,H,B){if(D==null)this.selection.setRange(null,H||V.sources.API);else{var J=$(D,H,B),X=o(J,4);D=X[0],H=X[1],B=X[3],this.selection.setRange(new m.Range(D,H),B),B!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(D){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,B=new u.default().insert(D);return this.setContents(B,H)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,H=this.scroll.update(D);return this.selection.update(D),H}},{key:"updateContents",value:function(D){var H=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return z.call(this,function(){return D=new u.default(D),H.editor.applyDelta(D,B)},B,!0)}}]),V}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=f.default.events,M.sources=f.default.sources,M.version="1.3.7",M.imports={delta:u.default,parchment:p.default,"core/module":y.default,"core/theme":O.default};function P(V,I){if(I=(0,S.default)(!0,{container:V,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===M.DEFAULTS.theme)I.theme=O.default;else if(I.theme=M.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var D=(0,S.default)(!0,{},I.theme.DEFAULTS);[D,I].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(X){J.modules[X]===!0&&(J.modules[X]={})})});var H=Object.keys(D.modules).concat(Object.keys(I.modules)),B=H.reduce(function(J,X){var j=M.import("modules/"+X);return j==null?L.error("Cannot load "+X+" module. Are you sure you registered it?"):J[X]=j.DEFAULTS||{},J},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,S.default)(!0,{},M.DEFAULTS,{modules:B},D,I),["bounds","container","scrollingContainer"].forEach(function(J){typeof I[J]=="string"&&(I[J]=document.querySelector(I[J]))}),I.modules=Object.keys(I.modules).reduce(function(J,X){return I.modules[X]&&(J[X]=I.modules[X]),J},{}),I}function z(V,I,D,H){if(this.options.strict&&!this.isEnabled()&&I===f.default.sources.USER)return new u.default;var B=D==null?null:this.getSelection(),J=this.editor.delta,X=V();if(B!=null&&(D===!0&&(D=B.index),H==null?B=Y(B,X,I):H!==0&&(B=Y(B,D,H,I)),this.setSelection(B,f.default.sources.SILENT)),X.length()>0){var j,U=[f.default.events.TEXT_CHANGE,X,J,I];if((j=this.emitter).emit.apply(j,[f.default.events.EDITOR_CHANGE].concat(U)),I!==f.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,U)}}return X}function $(V,I,D,H,B){var J={};return typeof V.index=="number"&&typeof V.length=="number"?typeof I!="number"?(B=H,H=D,D=I,I=V.length,V=V.index):(I=V.length,V=V.index):typeof I!="number"&&(B=H,H=D,D=I,I=0),(typeof D>"u"?"undefined":s(D))==="object"?(J=D,B=H):typeof D=="string"&&(H!=null?J[D]=H:B=D),B=B||f.default.sources.API,[V,I,J,B]}function Y(V,I,D,H){if(V==null)return null;var B=void 0,J=void 0;if(I instanceof u.default){var X=[V.index,V.index+V.length].map(function(k){return I.transformPosition(k,H!==f.default.sources.USER)}),j=o(X,2);B=j[0],J=j[1]}else{var U=[V.index,V.index+V.length].map(function(k){return k<I||k===I&&H===f.default.sources.USER?k:D>=0?k+D:Math.max(I,k+D)}),W=o(U,2);B=W[0],J=W[1]}return new m.Range(B,J-B)}i.expandConfig=P,i.overload=$,i.default=M},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function b(p,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,m,w){return m&&b(p.prototype,m),w&&b(p,w),p}}(),o=function b(p,m,w){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,m);if(g===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:b(S,m,w)}else{if("value"in g)return g.value;var R=g.get;return R===void 0?void 0:R.call(w)}},a=r(7),l=d(a),u=r(0),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function c(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function f(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function v(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var y=function(b){v(p,b);function p(){return c(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,[{key:"formatAt",value:function(w,g,S,R){if(p.compare(this.statics.blotName,S)<0&&h.default.query(S,h.default.Scope.BLOT)){var T=this.isolate(w,g);R&&T.wrap(S,R)}else o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,w,g,S,R)}},{key:"optimize",value:function(w){if(o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,w),this.parent instanceof p&&p.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(w,g){var S=p.order.indexOf(w),R=p.order.indexOf(g);return S>=0||R>=0?S-R:w===g?0:w<g?-1:1}}]),p}(h.default.Inline);y.allowedChildren=[y,h.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function u(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function h(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var d=function(c){h(f,c);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default.Text);i.default=d},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function m(w,g){for(var S=0;S<g.length;S++){var R=g[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,g,S){return g&&m(w.prototype,g),S&&m(w,S),w}}(),o=function m(w,g,S){w===null&&(w=Function.prototype);var R=Object.getOwnPropertyDescriptor(w,g);if(R===void 0){var T=Object.getPrototypeOf(w);return T===null?void 0:m(T,g,S)}else{if("value"in R)return R.value;var E=R.get;return E===void 0?void 0:E.call(S)}},a=r(54),l=d(a),u=r(10),h=d(u);function d(m){return m&&m.__esModule?m:{default:m}}function c(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function f(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function v(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var y=(0,h.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(m){document.addEventListener(m,function(){for(var w=arguments.length,g=Array(w),S=0;S<w;S++)g[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var T;(T=R.__quill.emitter).handleDOM.apply(T,g)}})})});var p=function(m){v(w,m);function w(){c(this,w);var g=f(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return g.listeners={},g.on("error",y.error),g}return s(w,[{key:"emit",value:function(){y.log.apply(y,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var R=arguments.length,T=Array(R>1?R-1:0),E=1;E<R;E++)T[E-1]=arguments[E];(this.listeners[S.type]||[]).forEach(function(O){var C=O.node,x=O.handler;(S.target===C||C.contains(S.target))&&x.apply(void 0,[S].concat(T))})}},{key:"listenDOM",value:function(S,R,T){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:R,handler:T})}}]),w}(l.default);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},i.default=p},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=u};o.DEFAULTS={},i.default=o},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(u){if(s.indexOf(u)<=s.indexOf(o)){for(var h,d=arguments.length,c=Array(d>1?d-1:0),f=1;f<d;f++)c[f-1]=arguments[f];(h=console)[u].apply(h,c)}}function l(u){return s.reduce(function(h,d){return h[d]=a.bind(console,d,u),h},{})}a.level=l.level=function(u){o=u},i.default=l},function(t,i,r){var s=Array.prototype.slice,o=r(52),a=r(53),l=t.exports=function(c,f,v){return v||(v={}),c===f?!0:c instanceof Date&&f instanceof Date?c.getTime()===f.getTime():!c||!f||typeof c!="object"&&typeof f!="object"?v.strict?c===f:c==f:d(c,f,v)};function u(c){return c==null}function h(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function d(c,f,v){var y,b;if(u(c)||u(f)||c.prototype!==f.prototype)return!1;if(a(c))return a(f)?(c=s.call(c),f=s.call(f),l(c,f,v)):!1;if(h(c)){if(!h(f)||c.length!==f.length)return!1;for(y=0;y<c.length;y++)if(c[y]!==f[y])return!1;return!0}try{var p=o(c),m=o(f)}catch{return!1}if(p.length!=m.length)return!1;for(p.sort(),m.sort(),y=p.length-1;y>=0;y--)if(p[y]!=m[y])return!1;for(y=p.length-1;y>=0;y--)if(b=p[y],!l(c[b],f[b],v))return!1;return typeof c==typeof f}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=function(){function a(l,u,h){h===void 0&&(h={}),this.attrName=l,this.keyName=u;var d=s.Scope.TYPE&s.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&s.Scope.LEVEL|d:this.scope=s.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var h=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();i.default=o},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var s=function(){function E(O,C){var x=[],_=!0,L=!1,M=void 0;try{for(var P=O[Symbol.iterator](),z;!(_=(z=P.next()).done)&&(x.push(z.value),!(C&&x.length===C));_=!0);}catch($){L=!0,M=$}finally{try{!_&&P.return&&P.return()}finally{if(L)throw M}}return x}return function(O,C){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return E(O,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(O,C){for(var x=0;x<C.length;x++){var _=C[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}return function(O,C,x){return C&&E(O.prototype,C),x&&E(O,x),O}}(),a=function E(O,C,x){O===null&&(O=Function.prototype);var _=Object.getOwnPropertyDescriptor(O,C);if(_===void 0){var L=Object.getPrototypeOf(O);return L===null?void 0:E(L,C,x)}else{if("value"in _)return _.value;var M=_.get;return M===void 0?void 0:M.call(x)}},l=r(2),u=m(l),h=r(0),d=m(h),c=r(4),f=m(c),v=r(6),y=m(v),b=r(7),p=m(b);function m(E){return E&&E.__esModule?E:{default:E}}function w(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function g(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function S(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var R=function(E){S(O,E);function O(){return w(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return O}(y.default);R.blotName="code",R.tagName="CODE";var T=function(E){S(O,E);function O(){return w(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"delta",value:function(){var x=this,_=this.domNode.textContent;return _.endsWith(`
`)&&(_=_.slice(0,-1)),_.split(`
`).reduce(function(L,M){return L.insert(M).insert(`
`,x.formats())},new u.default)}},{key:"format",value:function(x,_){if(!(x===this.statics.blotName&&_)){var L=this.descendant(p.default,this.length()-1),M=s(L,1),P=M[0];P!=null&&P.deleteAt(P.length()-1,1),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,x,_)}}},{key:"formatAt",value:function(x,_,L,M){if(_!==0&&!(d.default.query(L,d.default.Scope.BLOCK)==null||L===this.statics.blotName&&M===this.statics.formats(this.domNode))){var P=this.newlineIndex(x);if(!(P<0||P>=x+_)){var z=this.newlineIndex(x,!0)+1,$=P-z+1,Y=this.isolate(z,$),V=Y.next;Y.format(L,M),V instanceof O&&V.formatAt(0,x-z+_-$,L,M)}}}},{key:"insertAt",value:function(x,_,L){if(L==null){var M=this.descendant(p.default,x),P=s(M,2),z=P[0],$=P[1];z.insertAt($,_)}}},{key:"length",value:function(){var x=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?x:x+1}},{key:"newlineIndex",value:function(x){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(_)return this.domNode.textContent.slice(0,x).lastIndexOf(`
`);var L=this.domNode.textContent.slice(x).indexOf(`
`);return L>-1?x+L:-1}},{key:"optimize",value:function(x){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,x);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===_.statics.formats(_.domNode)&&(_.optimize(x),_.moveChildren(this),_.remove())}},{key:"replace",value:function(x){a(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,x),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(_){var L=d.default.find(_);L==null?_.parentNode.removeChild(_):L instanceof d.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(x){var _=a(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,x);return _.setAttribute("spellcheck",!1),_}},{key:"formats",value:function(){return!0}}]),O}(f.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",i.Code=R,i.default=T},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(I,D){var H=[],B=!0,J=!1,X=void 0;try{for(var j=I[Symbol.iterator](),U;!(B=(U=j.next()).done)&&(H.push(U.value),!(D&&H.length===D));B=!0);}catch(W){J=!0,X=W}finally{try{!B&&j.return&&j.return()}finally{if(J)throw X}}return H}return function(I,D){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return V(I,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(I,D){for(var H=0;H<D.length;H++){var B=D[H];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,D,H){return D&&V(I.prototype,D),H&&V(I,H),I}}(),l=r(2),u=_(l),h=r(20),d=_(h),c=r(0),f=_(c),v=r(13),y=_(v),b=r(24),p=_(b),m=r(4),w=_(m),g=r(16),S=_(g),R=r(21),T=_(R),E=r(11),O=_(E),C=r(3),x=_(C);function _(V){return V&&V.__esModule?V:{default:V}}function L(V,I,D){return I in V?Object.defineProperty(V,I,{value:D,enumerable:!0,configurable:!0,writable:!0}):V[I]=D,V}function M(V,I){if(!(V instanceof I))throw new TypeError("Cannot call a class as a function")}var P=/^[ -~]*$/,z=function(){function V(I){M(this,V),this.scroll=I,this.delta=this.getDelta()}return a(V,[{key:"applyDelta",value:function(D){var H=this,B=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),D=Y(D),D.reduce(function(X,j){var U=j.retain||j.delete||j.insert.length||1,W=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var k=j.insert;k.endsWith(`
`)&&B&&(B=!1,k=k.slice(0,-1)),X>=J&&!k.endsWith(`
`)&&(B=!0),H.scroll.insertAt(X,k);var F=H.scroll.line(X),G=o(F,2),Q=G[0],ee=G[1],ne=(0,x.default)({},(0,m.bubbleFormats)(Q));if(Q instanceof w.default){var le=Q.descendant(f.default.Leaf,ee),pe=o(le,1),ve=pe[0];ne=(0,x.default)(ne,(0,m.bubbleFormats)(ve))}W=d.default.attributes.diff(ne,W)||{}}else if(s(j.insert)==="object"){var te=Object.keys(j.insert)[0];if(te==null)return X;H.scroll.insertAt(X,te,j.insert[te])}J+=U}return Object.keys(W).forEach(function(ie){H.scroll.formatAt(X,U,ie,W[ie])}),X+U},0),D.reduce(function(X,j){return typeof j.delete=="number"?(H.scroll.deleteAt(X,j.delete),X):X+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(D)}},{key:"deleteText",value:function(D,H){return this.scroll.deleteAt(D,H),this.update(new u.default().retain(D).delete(H))}},{key:"formatLine",value:function(D,H){var B=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(X){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[X])){var j=B.scroll.lines(D,Math.max(H,1)),U=H;j.forEach(function(W){var k=W.length();if(!(W instanceof y.default))W.format(X,J[X]);else{var F=D-W.offset(B.scroll),G=W.newlineIndex(F+U)-F+1;W.formatAt(F,G,X,J[X])}U-=k})}}),this.scroll.optimize(),this.update(new u.default().retain(D).retain(H,(0,T.default)(J)))}},{key:"formatText",value:function(D,H){var B=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(X){B.scroll.formatAt(D,H,X,J[X])}),this.update(new u.default().retain(D).retain(H,(0,T.default)(J)))}},{key:"getContents",value:function(D,H){return this.delta.slice(D,D+H)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(D,H){return D.concat(H.delta())},new u.default)}},{key:"getFormat",value:function(D){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],J=[];H===0?this.scroll.path(D).forEach(function(j){var U=o(j,1),W=U[0];W instanceof w.default?B.push(W):W instanceof f.default.Leaf&&J.push(W)}):(B=this.scroll.lines(D,H),J=this.scroll.descendants(f.default.Leaf,D,H));var X=[B,J].map(function(j){if(j.length===0)return{};for(var U=(0,m.bubbleFormats)(j.shift());Object.keys(U).length>0;){var W=j.shift();if(W==null)return U;U=$((0,m.bubbleFormats)(W),U)}return U});return x.default.apply(x.default,X)}},{key:"getText",value:function(D,H){return this.getContents(D,H).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(D,H,B){return this.scroll.insertAt(D,H,B),this.update(new u.default().retain(D).insert(L({},H,B)))}},{key:"insertText",value:function(D,H){var B=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H=H.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(D,H),Object.keys(J).forEach(function(X){B.scroll.formatAt(D,H.length,X,J[X])}),this.update(new u.default().retain(D).insert(H,(0,T.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var D=this.scroll.children.head;return D.statics.blotName!==w.default.blotName||D.children.length>1?!1:D.children.head instanceof S.default}},{key:"removeFormat",value:function(D,H){var B=this.getText(D,H),J=this.scroll.line(D+H),X=o(J,2),j=X[0],U=X[1],W=0,k=new u.default;j!=null&&(j instanceof y.default?W=j.newlineIndex(U)-U+1:W=j.length()-U,k=j.delta().slice(U,U+W-1).insert(`
`));var F=this.getContents(D,H+W),G=F.diff(new u.default().insert(B).concat(k)),Q=new u.default().retain(D).concat(G);return this.applyDelta(Q)}},{key:"update",value:function(D){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(H.length===1&&H[0].type==="characterData"&&H[0].target.data.match(P)&&f.default.find(H[0].target)){var X=f.default.find(H[0].target),j=(0,m.bubbleFormats)(X),U=X.offset(this.scroll),W=H[0].oldValue.replace(p.default.CONTENTS,""),k=new u.default().insert(W),F=new u.default().insert(X.value()),G=new u.default().retain(U).concat(k.diff(F,B));D=G.reduce(function(Q,ee){return ee.insert?Q.insert(ee.insert,j):Q.push(ee)},new u.default),this.delta=J.compose(D)}else this.delta=this.getDelta(),(!D||!(0,O.default)(J.compose(D),this.delta))&&(D=J.diff(this.delta,B));return D}}]),V}();function $(V,I){return Object.keys(I).reduce(function(D,H){return V[H]==null||(I[H]===V[H]?D[H]=I[H]:Array.isArray(I[H])?I[H].indexOf(V[H])<0&&(D[H]=I[H].concat([V[H]])):D[H]=[I[H],V[H]]),D},{})}function Y(V){return V.reduce(function(I,D){if(D.insert===1){var H=(0,T.default)(D.attributes);return delete H.image,I.insert({image:D.attributes.image},H)}if(D.attributes!=null&&(D.attributes.list===!0||D.attributes.bullet===!0)&&(D=(0,T.default)(D),D.attributes.list?D.attributes.list="ordered":(D.attributes.list="bullet",delete D.attributes.bullet)),typeof D.insert=="string"){var B=D.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(B,D.attributes)}return I.push(D)},new u.default)}i.default=z},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var s=function(){function E(O,C){var x=[],_=!0,L=!1,M=void 0;try{for(var P=O[Symbol.iterator](),z;!(_=(z=P.next()).done)&&(x.push(z.value),!(C&&x.length===C));_=!0);}catch($){L=!0,M=$}finally{try{!_&&P.return&&P.return()}finally{if(L)throw M}}return x}return function(O,C){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return E(O,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(O,C){for(var x=0;x<C.length;x++){var _=C[x];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(O,_.key,_)}}return function(O,C,x){return C&&E(O.prototype,C),x&&E(O,x),O}}(),a=r(0),l=p(a),u=r(21),h=p(u),d=r(11),c=p(d),f=r(8),v=p(f),y=r(10),b=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function m(E){if(Array.isArray(E)){for(var O=0,C=Array(E.length);O<E.length;O++)C[O]=E[O];return C}else return Array.from(E)}function w(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}var g=(0,b.default)("quill:selection"),S=function E(O){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,E),this.index=O,this.length=C},R=function(){function E(O,C){var x=this;w(this,E),this.emitter=C,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){x.mouseDown||setTimeout(x.update.bind(x,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(_,L){_===v.default.events.TEXT_CHANGE&&L.length()>0&&x.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(x.hasFocus()){var _=x.getNativeRange();_!=null&&_.start.node!==x.cursor.textNode&&x.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{x.setNativeRange(_.start.node,_.start.offset,_.end.node,_.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(_,L){if(L.range){var M=L.range,P=M.startNode,z=M.startOffset,$=M.endNode,Y=M.endOffset;x.setNativeRange(P,z,$,Y)}}),this.update(v.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var x=C.cursor.restore();if(!x)return;setTimeout(function(){C.setNativeRange(x.startNode,x.startOffset,x.endNode,x.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,x){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var _=this.getNativeRange();if(!(_==null||!_.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(_.start.node!==this.cursor.textNode){var L=l.default.find(_.start.node,!1);if(L==null)return;if(L instanceof l.default.Leaf){var M=L.split(_.start.offset);L.parent.insertBefore(this.cursor,M)}else L.insertBefore(this.cursor,_.start.node);this.cursor.attach()}this.cursor.format(C,x),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=this.scroll.length();C=Math.min(C,_-1),x=Math.min(C+x,_-1)-C;var L=void 0,M=this.scroll.leaf(C),P=s(M,2),z=P[0],$=P[1];if(z==null)return null;var Y=z.position($,!0),V=s(Y,2);L=V[0],$=V[1];var I=document.createRange();if(x>0){I.setStart(L,$);var D=this.scroll.leaf(C+x),H=s(D,2);if(z=H[0],$=H[1],z==null)return null;var B=z.position($,!0),J=s(B,2);return L=J[0],$=J[1],I.setEnd(L,$),I.getBoundingClientRect()}else{var X="left",j=void 0;return L instanceof Text?($<L.data.length?(I.setStart(L,$),I.setEnd(L,$+1)):(I.setStart(L,$-1),I.setEnd(L,$),X="right"),j=I.getBoundingClientRect()):(j=z.domNode.getBoundingClientRect(),$>0&&(X="right")),{bottom:j.top+j.height,height:j.height,left:j[X],right:j[X],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var x=C.getRangeAt(0);if(x==null)return null;var _=this.normalizeNative(x);return g.info("getNativeRange",_),_}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var x=this.normalizedToRange(C);return[x,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var x=this,_=[[C.start.node,C.start.offset]];C.native.collapsed||_.push([C.end.node,C.end.offset]);var L=_.map(function(z){var $=s(z,2),Y=$[0],V=$[1],I=l.default.find(Y,!0),D=I.offset(x.scroll);return V===0?D:I instanceof l.default.Container?D+I.length():D+I.index(Y,V)}),M=Math.min(Math.max.apply(Math,m(L)),this.scroll.length()-1),P=Math.min.apply(Math,[M].concat(m(L)));return new S(P,M-P)}},{key:"normalizeNative",value:function(C){if(!T(this.root,C.startContainer)||!C.collapsed&&!T(this.root,C.endContainer))return null;var x={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[x.start,x.end].forEach(function(_){for(var L=_.node,M=_.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>M)L=L.childNodes[M],M=0;else if(L.childNodes.length===M)L=L.lastChild,M=L instanceof Text?L.data.length:L.childNodes.length+1;else break;_.node=L,_.offset=M}),x}},{key:"rangeToNative",value:function(C){var x=this,_=C.collapsed?[C.index]:[C.index,C.index+C.length],L=[],M=this.scroll.length();return _.forEach(function(P,z){P=Math.min(M-1,P);var $=void 0,Y=x.scroll.leaf(P),V=s(Y,2),I=V[0],D=V[1],H=I.position(D,z!==0),B=s(H,2);$=B[0],D=B[1],L.push($,D)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(C){var x=this.lastRange;if(x!=null){var _=this.getBounds(x.index,x.length);if(_!=null){var L=this.scroll.length()-1,M=this.scroll.line(Math.min(x.index,L)),P=s(M,1),z=P[0],$=z;if(x.length>0){var Y=this.scroll.line(Math.min(x.index+x.length,L)),V=s(Y,1);$=V[0]}if(!(z==null||$==null)){var I=C.getBoundingClientRect();_.top<I.top?C.scrollTop-=I.top-_.top:_.bottom>I.bottom&&(C.scrollTop+=_.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(C,x){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",C,x,_,L),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||_.parentNode==null))){var P=document.getSelection();if(P!=null)if(C!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||M||C!==z.startContainer||x!==z.startOffset||_!==z.endContainer||L!==z.endOffset){C.tagName=="BR"&&(x=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),_.tagName=="BR"&&(L=[].indexOf.call(_.parentNode.childNodes,_),_=_.parentNode);var $=document.createRange();$.setStart(C,x),$.setEnd(_,L),P.removeAllRanges(),P.addRange($)}}else P.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof x=="string"&&(_=x,x=!1),g.info("setRange",C),C!=null){var L=this.rangeToNative(C);this.setNativeRange.apply(this,m(L).concat([x]))}else this.setNativeRange(null);this.update(_)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,x=this.lastRange,_=this.getRange(),L=s(_,2),M=L[0],P=L[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(x,this.lastRange)){var z;!this.composing&&P!=null&&P.native.collapsed&&P.start.node!==this.cursor.textNode&&this.cursor.restore();var $=[v.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(x),C];if((z=this.emitter).emit.apply(z,[v.default.events.EDITOR_CHANGE].concat($)),C!==v.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,$)}}}}]),E}();function T(E,O){try{O.parentNode}catch{return!1}return O instanceof Text&&(O=O.parentNode),E.contains(O)}i.Range=S,i.default=R},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(y,b){for(var p=0;p<b.length;p++){var m=b[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,p){return b&&v(y.prototype,b),p&&v(y,p),y}}(),o=function v(y,b,p){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,b,p)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(p)}},a=r(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){c(y,v);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"insertInto",value:function(p,m){p.children.length===0?o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,p,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);f.blotName="break",f.tagName="BR",i.default=f},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var v in f)f.hasOwnProperty(v)&&(c[v]=f[v])};return function(c,f){d(c,f);function v(){this.constructor=c}c.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(44),a=r(30),l=r(1),u=function(d){s(c,d);function c(f){var v=d.call(this,f)||this;return v.build(),v}return c.prototype.appendChild=function(f){this.insertBefore(f)},c.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},c.prototype.build=function(){var f=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var y=h(v);f.insertBefore(y,f.children.head||void 0)}catch(b){if(b instanceof l.ParchmentError)return;throw b}})},c.prototype.deleteAt=function(f,v){if(f===0&&v===this.length())return this.remove();this.children.forEachAt(f,v,function(y,b,p){y.deleteAt(b,p)})},c.prototype.descendant=function(f,v){var y=this.children.find(v),b=y[0],p=y[1];return f.blotName==null&&f(b)||f.blotName!=null&&b instanceof f?[b,p]:b instanceof c?b.descendant(f,p):[null,-1]},c.prototype.descendants=function(f,v,y){v===void 0&&(v=0),y===void 0&&(y=Number.MAX_VALUE);var b=[],p=y;return this.children.forEachAt(v,y,function(m,w,g){(f.blotName==null&&f(m)||f.blotName!=null&&m instanceof f)&&b.push(m),m instanceof c&&(b=b.concat(m.descendants(f,w,p))),p-=g}),b},c.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),d.prototype.detach.call(this)},c.prototype.formatAt=function(f,v,y,b){this.children.forEachAt(f,v,function(p,m,w){p.formatAt(m,w,y,b)})},c.prototype.insertAt=function(f,v,y){var b=this.children.find(f),p=b[0],m=b[1];if(p)p.insertAt(m,v,y);else{var w=y==null?l.create("text",v):l.create(v,y);this.appendChild(w)}},c.prototype.insertBefore=function(f,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return f instanceof y}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,v)},c.prototype.length=function(){return this.children.reduce(function(f,v){return f+v.length()},0)},c.prototype.moveChildren=function(f,v){this.children.forEach(function(y){f.insertBefore(y,v)})},c.prototype.optimize=function(f){if(d.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(f)}else this.remove()},c.prototype.path=function(f,v){v===void 0&&(v=!1);var y=this.children.find(f,v),b=y[0],p=y[1],m=[[this,f]];return b instanceof c?m.concat(b.path(p,v)):(b!=null&&m.push([b,p]),m)},c.prototype.removeChild=function(f){this.children.remove(f)},c.prototype.replace=function(f){f instanceof c&&f.moveChildren(this),d.prototype.replace.call(this,f)},c.prototype.split=function(f,v){if(v===void 0&&(v=!1),!v){if(f===0)return this;if(f===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(f,this.length(),function(b,p,m){b=b.split(p,v),y.appendChild(b)}),y},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(f,v){var y=this,b=[],p=[];f.forEach(function(m){m.target===y.domNode&&m.type==="childList"&&(b.push.apply(b,m.addedNodes),p.push.apply(p,m.removedNodes))}),p.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(m);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===y.domNode)&&w.detach()}}),b.filter(function(m){return m.parentNode==y.domNode}).sort(function(m,w){return m===w?0:m.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var w=null;m.nextSibling!=null&&(w=l.find(m.nextSibling));var g=h(m);(g.next!=w||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,w||void 0))})},c}(a.default);function h(d){var c=l.find(d);if(c==null)try{c=l.create(d)}catch{c=l.create(l.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(v){c.domNode.appendChild(v)}),d.parentNode&&d.parentNode.replaceChild(c.domNode,d),c.attach()}return c}i.default=u},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var v in f)f.hasOwnProperty(v)&&(c[v]=f[v])};return function(c,f){d(c,f);function v(){this.constructor=c}c.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(12),a=r(31),l=r(17),u=r(1),h=function(d){s(c,d);function c(f){var v=d.call(this,f)||this;return v.attributes=new a.default(v.domNode),v}return c.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},c.prototype.format=function(f,v){var y=u.query(f);y instanceof o.default?this.attributes.attribute(y,v):v&&y!=null&&(f!==this.statics.blotName||this.formats()[f]!==v)&&this.replaceWith(f,v)},c.prototype.formats=function(){var f=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(f[this.statics.blotName]=v),f},c.prototype.replaceWith=function(f,v){var y=d.prototype.replaceWith.call(this,f,v);return this.attributes.copy(y),y},c.prototype.update=function(f,v){var y=this;d.prototype.update.call(this,f,v),f.some(function(b){return b.target===y.domNode&&b.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(f,v){var y=d.prototype.wrap.call(this,f,v);return y instanceof c&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},c}(l.default);i.default=h},function(t,i,r){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)d.hasOwnProperty(c)&&(h[c]=d[c])};return function(h,d){u(h,d);function c(){this.constructor=h}h.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(30),a=r(1),l=function(u){s(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(d){return!0},h.prototype.index=function(d,c){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},h.prototype.position=function(d,c){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(f+=1),[this.parent.domNode,f]},h.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},h.scope=a.Scope.INLINE_BLOT,h}(o.default);i.default=l},function(t,i,r){var s=r(11),o=r(3),a={attributes:{compose:function(u,h,d){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var c=o(!0,{},h);d||(c=Object.keys(c).reduce(function(v,y){return c[y]!=null&&(v[y]=c[y]),v},{}));for(var f in u)u[f]!==void 0&&h[f]===void 0&&(c[f]=u[f]);return Object.keys(c).length>0?c:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=Object.keys(u).concat(Object.keys(h)).reduce(function(c,f){return s(u[f],h[f])||(c[f]=h[f]===void 0?null:h[f]),c},{});return Object.keys(d).length>0?d:void 0},transform:function(u,h,d){if(typeof u!="object")return h;if(typeof h=="object"){if(!d)return h;var c=Object.keys(h).reduce(function(f,v){return u[v]===void 0&&(f[v]=h[v]),f},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var d=this.offset,c=a.length(h);if(u>=c-d?(u=c-d,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var f={};return h.attributes&&(f.attributes=h.attributes),typeof h.retain=="number"?f.retain=u:typeof h.insert=="string"?f.insert=h.insert.substr(d,u):f.insert=h.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,d=this.next(),c=this.ops.slice(this.index);return this.offset=u,this.index=h,[d].concat(c)}else return[]},t.exports=a},function(t,i){var r=function(){function s(y,b){return b!=null&&y instanceof b}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,b,p,m,w){typeof b=="object"&&(p=b.depth,m=b.prototype,w=b.includeNonEnumerable,b=b.circular);var g=[],S=[],R=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof p>"u"&&(p=1/0);function T(E,O){if(E===null)return null;if(O===0)return E;var C,x;if(typeof E!="object")return E;if(s(E,o))C=new o;else if(s(E,a))C=new a;else if(s(E,l))C=new l(function(I,D){E.then(function(H){I(T(H,O-1))},function(H){D(T(H,O-1))})});else if(u.__isArray(E))C=[];else if(u.__isRegExp(E))C=new RegExp(E.source,v(E)),E.lastIndex&&(C.lastIndex=E.lastIndex);else if(u.__isDate(E))C=new Date(E.getTime());else{if(R&&Buffer.isBuffer(E))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(E.length):C=new Buffer(E.length),E.copy(C),C;s(E,Error)?C=Object.create(E):typeof m>"u"?(x=Object.getPrototypeOf(E),C=Object.create(x)):(C=Object.create(m),x=m)}if(b){var _=g.indexOf(E);if(_!=-1)return S[_];g.push(E),S.push(C)}s(E,o)&&E.forEach(function(I,D){var H=T(D,O-1),B=T(I,O-1);C.set(H,B)}),s(E,a)&&E.forEach(function(I){var D=T(I,O-1);C.add(D)});for(var L in E){var M;x&&(M=Object.getOwnPropertyDescriptor(x,L)),!(M&&M.set==null)&&(C[L]=T(E[L],O-1))}if(Object.getOwnPropertySymbols)for(var P=Object.getOwnPropertySymbols(E),L=0;L<P.length;L++){var z=P[L],$=Object.getOwnPropertyDescriptor(E,z);$&&!$.enumerable&&!w||(C[z]=T(E[z],O-1),$.enumerable||Object.defineProperty(C,z,{enumerable:!1}))}if(w)for(var Y=Object.getOwnPropertyNames(E),L=0;L<Y.length;L++){var V=Y[L],$=Object.getOwnPropertyDescriptor(E,V);$&&$.enumerable||(C[V]=T(E[V],O-1),Object.defineProperty(C,V,{enumerable:!1}))}return C}return T(y,p)}u.clonePrototype=function(b){if(b===null)return null;var p=function(){};return p.prototype=b,new p};function h(y){return Object.prototype.toString.call(y)}u.__objToStr=h;function d(y){return typeof y=="object"&&h(y)==="[object Date]"}u.__isDate=d;function c(y){return typeof y=="object"&&h(y)==="[object Array]"}u.__isArray=c;function f(y){return typeof y=="object"&&h(y)==="[object RegExp]"}u.__isRegExp=f;function v(y){var b="";return y.global&&(b+="g"),y.ignoreCase&&(b+="i"),y.multiline&&(b+="m"),b}return u.__getRegExpFlags=v,u}();typeof t=="object"&&t.exports&&(t.exports=r)},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function C(x,_){var L=[],M=!0,P=!1,z=void 0;try{for(var $=x[Symbol.iterator](),Y;!(M=(Y=$.next()).done)&&(L.push(Y.value),!(_&&L.length===_));M=!0);}catch(V){P=!0,z=V}finally{try{!M&&$.return&&$.return()}finally{if(P)throw z}}return L}return function(x,_){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return C(x,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(x,_){for(var L=0;L<_.length;L++){var M=_[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}return function(x,_,L){return _&&C(x.prototype,_),L&&C(x,L),x}}(),a=function C(x,_,L){x===null&&(x=Function.prototype);var M=Object.getOwnPropertyDescriptor(x,_);if(M===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:C(P,_,L)}else{if("value"in M)return M.value;var z=M.get;return z===void 0?void 0:z.call(L)}},l=r(0),u=g(l),h=r(8),d=g(h),c=r(4),f=g(c),v=r(16),y=g(v),b=r(13),p=g(b),m=r(25),w=g(m);function g(C){return C&&C.__esModule?C:{default:C}}function S(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function R(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:C}function T(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(C,x):C.__proto__=x)}function E(C){return C instanceof f.default||C instanceof c.BlockEmbed}var O=function(C){T(x,C);function x(_,L){S(this,x);var M=R(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,_));return M.emitter=L.emitter,Array.isArray(L.whitelist)&&(M.whitelist=L.whitelist.reduce(function(P,z){return P[z]=!0,P},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return o(x,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,M){var P=this.line(L),z=s(P,2),$=z[0],Y=z[1],V=this.line(L+M),I=s(V,1),D=I[0];if(a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,L,M),D!=null&&$!==D&&Y>0){if($ instanceof c.BlockEmbed||D instanceof c.BlockEmbed){this.optimize();return}if($ instanceof p.default){var H=$.newlineIndex($.length(),!0);if(H>-1&&($=$.split(H+1),$===D)){this.optimize();return}}else if(D instanceof p.default){var B=D.newlineIndex(0);B>-1&&D.split(B+1)}var J=D.children.head instanceof y.default?null:D.children.head;$.moveChildren(D,J),$.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,M,P,z){this.whitelist!=null&&!this.whitelist[P]||(a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,L,M,P,z),this.optimize())}},{key:"insertAt",value:function(L,M,P){if(!(P!=null&&this.whitelist!=null&&!this.whitelist[M])){if(L>=this.length())if(P==null||u.default.query(M,u.default.Scope.BLOCK)==null){var z=u.default.create(this.statics.defaultChild);this.appendChild(z),P==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),z.insertAt(0,M,P)}else{var $=u.default.create(M,P);this.appendChild($)}else a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,L,M,P);this.optimize()}}},{key:"insertBefore",value:function(L,M){if(L.statics.scope===u.default.Scope.INLINE_BLOT){var P=u.default.create(this.statics.defaultChild);P.appendChild(L),L=P}a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,L,M)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(E,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,P=function z($,Y,V){var I=[],D=V;return $.children.forEachAt(Y,V,function(H,B,J){E(H)?I.push(H):H instanceof u.default.Container&&(I=I.concat(z(H,B,D))),D-=J}),I};return P(this,L,M)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,L,M),L.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,L,M))}},{key:"path",value:function(L){return a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var M=d.default.sources.USER;typeof L=="string"&&(M=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,M,L),a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,M,L)}}}]),x}(u.default.Scroll);O.blotName="scroll",O.className="ql-editor",O.tagName="DIV",O.defaultChild="block",O.allowedChildren=[f.default,c.BlockEmbed,w.default],i.default=O},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},o=function(){function j(U,W){var k=[],F=!0,G=!1,Q=void 0;try{for(var ee=U[Symbol.iterator](),ne;!(F=(ne=ee.next()).done)&&(k.push(ne.value),!(W&&k.length===W));F=!0);}catch(le){G=!0,Q=le}finally{try{!F&&ee.return&&ee.return()}finally{if(G)throw Q}}return k}return function(U,W){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return j(U,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(U,W){for(var k=0;k<W.length;k++){var F=W[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(U,F.key,F)}}return function(U,W,k){return W&&j(U.prototype,W),k&&j(U,k),U}}(),l=r(21),u=C(l),h=r(11),d=C(h),c=r(3),f=C(c),v=r(2),y=C(v),b=r(20),p=C(b),m=r(0),w=C(m),g=r(5),S=C(g),R=r(10),T=C(R),E=r(9),O=C(E);function C(j){return j&&j.__esModule?j:{default:j}}function x(j,U,W){return U in j?Object.defineProperty(j,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):j[U]=W,j}function _(j,U){if(!(j instanceof U))throw new TypeError("Cannot call a class as a function")}function L(j,U){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:j}function M(j,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);j.prototype=Object.create(U&&U.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(j,U):j.__proto__=U)}var P=(0,T.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",$=function(j){M(U,j),a(U,null,[{key:"match",value:function(k,F){return F=X(F),["altKey","ctrlKey","metaKey","shiftKey"].some(function(G){return!!F[G]!==k[G]&&F[G]!==null})?!1:F.key===(k.which||k.keyCode)}}]);function U(W,k){_(this,U);var F=L(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,W,k));return F.bindings={},Object.keys(F.options.bindings).forEach(function(G){G==="list autofill"&&W.scroll.whitelist!=null&&!W.scroll.whitelist.list||F.options.bindings[G]&&F.addBinding(F.options.bindings[G])}),F.addBinding({key:U.keys.ENTER,shiftKey:null},H),F.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(F.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},V),F.addBinding({key:U.keys.DELETE},{collapsed:!0},I)):(F.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},V),F.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),F.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},D),F.addBinding({key:U.keys.DELETE},{collapsed:!1},D),F.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},V),F.listen(),F}return a(U,[{key:"addBinding",value:function(k){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=X(k);if(Q==null||Q.key==null)return P.warn("Attempted to add invalid keyboard binding",Q);typeof F=="function"&&(F={handler:F}),typeof G=="function"&&(G={handler:G}),Q=(0,f.default)(Q,F,G),this.bindings[Q.key]=this.bindings[Q.key]||[],this.bindings[Q.key].push(Q)}},{key:"listen",value:function(){var k=this;this.quill.root.addEventListener("keydown",function(F){if(!F.defaultPrevented){var G=F.which||F.keyCode,Q=(k.bindings[G]||[]).filter(function(Re){return U.match(F,Re)});if(Q.length!==0){var ee=k.quill.getSelection();if(!(ee==null||!k.quill.hasFocus())){var ne=k.quill.getLine(ee.index),le=o(ne,2),pe=le[0],ve=le[1],te=k.quill.getLeaf(ee.index),ie=o(te,2),ae=ie[0],ue=ie[1],oe=ee.length===0?[ae,ue]:k.quill.getLeaf(ee.index+ee.length),fe=o(oe,2),ge=fe[0],ye=fe[1],ke=ae instanceof w.default.Text?ae.value().slice(0,ue):"",We=ge instanceof w.default.Text?ge.value().slice(ye):"",_e={collapsed:ee.length===0,empty:ee.length===0&&pe.length()<=1,format:k.quill.getFormat(ee),offset:ve,prefix:ke,suffix:We},tt=Q.some(function(Re){if(Re.collapsed!=null&&Re.collapsed!==_e.collapsed||Re.empty!=null&&Re.empty!==_e.empty||Re.offset!=null&&Re.offset!==_e.offset)return!1;if(Array.isArray(Re.format)){if(Re.format.every(function(qe){return _e.format[qe]==null}))return!1}else if(s(Re.format)==="object"&&!Object.keys(Re.format).every(function(qe){return Re.format[qe]===!0?_e.format[qe]!=null:Re.format[qe]===!1?_e.format[qe]==null:(0,d.default)(Re.format[qe],_e.format[qe])}))return!1;return Re.prefix!=null&&!Re.prefix.test(_e.prefix)||Re.suffix!=null&&!Re.suffix.test(_e.suffix)?!1:Re.handler.call(k,ee,_e)!==!0});tt&&F.preventDefault()}}}})}}]),U}(O.default);$.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},$.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:$.keys.TAB,format:["blockquote","indent","list"],handler:function(U,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:$.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,W){if(W.collapsed&&W.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:$.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,W){W.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):W.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:$.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,S.default.sources.USER)}},tab:{key:$.keys.TAB,handler:function(U){this.quill.history.cutoff();var W=new y.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(W,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,S.default.sources.SILENT)}},"list empty enter":{key:$.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,W){this.quill.format("list",!1,S.default.sources.USER),W.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:$.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var W=this.quill.getLine(U.index),k=o(W,2),F=k[0],G=k[1],Q=(0,f.default)({},F.formats(),{list:"checked"}),ee=new y.default().retain(U.index).insert(`
`,Q).retain(F.length()-G-1).retain(1,{list:"unchecked"});this.quill.updateContents(ee,S.default.sources.USER),this.quill.setSelection(U.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:$.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,W){var k=this.quill.getLine(U.index),F=o(k,2),G=F[0],Q=F[1],ee=new y.default().retain(U.index).insert(`
`,W.format).retain(G.length()-Q-1).retain(1,{header:null});this.quill.updateContents(ee,S.default.sources.USER),this.quill.setSelection(U.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,W){var k=W.prefix.length,F=this.quill.getLine(U.index),G=o(F,2),Q=G[0],ee=G[1];if(ee>k)return!0;var ne=void 0;switch(W.prefix.trim()){case"[]":case"[ ]":ne="unchecked";break;case"[x]":ne="checked";break;case"-":case"*":ne="bullet";break;default:ne="ordered"}this.quill.insertText(U.index," ",S.default.sources.USER),this.quill.history.cutoff();var le=new y.default().retain(U.index-ee).delete(k+1).retain(Q.length()-2-ee).retain(1,{list:ne});this.quill.updateContents(le,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-k,S.default.sources.SILENT)}},"code exit":{key:$.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var W=this.quill.getLine(U.index),k=o(W,2),F=k[0],G=k[1],Q=new y.default().retain(U.index+F.length()-G-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Q,S.default.sources.USER)}},"embed left":Y($.keys.LEFT,!1),"embed left shift":Y($.keys.LEFT,!0),"embed right":Y($.keys.RIGHT,!1),"embed right shift":Y($.keys.RIGHT,!0)}};function Y(j,U){var W,k=j===$.keys.LEFT?"prefix":"suffix";return W={key:j,shiftKey:U,altKey:null},x(W,k,/^$/),x(W,"handler",function(G){var Q=G.index;j===$.keys.RIGHT&&(Q+=G.length+1);var ee=this.quill.getLeaf(Q),ne=o(ee,1),le=ne[0];return le instanceof w.default.Embed?(j===$.keys.LEFT?U?this.quill.setSelection(G.index-1,G.length+1,S.default.sources.USER):this.quill.setSelection(G.index-1,S.default.sources.USER):U?this.quill.setSelection(G.index,G.length+1,S.default.sources.USER):this.quill.setSelection(G.index+G.length+1,S.default.sources.USER),!1):!0}),W}function V(j,U){if(!(j.index===0||this.quill.getLength()<=1)){var W=this.quill.getLine(j.index),k=o(W,1),F=k[0],G={};if(U.offset===0){var Q=this.quill.getLine(j.index-1),ee=o(Q,1),ne=ee[0];if(ne!=null&&ne.length()>1){var le=F.formats(),pe=this.quill.getFormat(j.index-1,1);G=p.default.attributes.diff(le,pe)||{}}}var ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(j.index-ve,ve,S.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(j.index-ve,ve,G,S.default.sources.USER),this.quill.focus()}}function I(j,U){var W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(j.index>=this.quill.getLength()-W)){var k={},F=0,G=this.quill.getLine(j.index),Q=o(G,1),ee=Q[0];if(U.offset>=ee.length()-1){var ne=this.quill.getLine(j.index+1),le=o(ne,1),pe=le[0];if(pe){var ve=ee.formats(),te=this.quill.getFormat(j.index,1);k=p.default.attributes.diff(ve,te)||{},F=pe.length()}}this.quill.deleteText(j.index,W,S.default.sources.USER),Object.keys(k).length>0&&this.quill.formatLine(j.index+F-1,W,k,S.default.sources.USER)}}function D(j){var U=this.quill.getLines(j),W={};if(U.length>1){var k=U[0].formats(),F=U[U.length-1].formats();W=p.default.attributes.diff(F,k)||{}}this.quill.deleteText(j,S.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(j.index,1,W,S.default.sources.USER),this.quill.setSelection(j.index,S.default.sources.SILENT),this.quill.focus()}function H(j,U){var W=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var k=Object.keys(U.format).reduce(function(F,G){return w.default.query(G,w.default.Scope.BLOCK)&&!Array.isArray(U.format[G])&&(F[G]=U.format[G]),F},{});this.quill.insertText(j.index,`
`,k,S.default.sources.USER),this.quill.setSelection(j.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(F){k[F]==null&&(Array.isArray(U.format[F])||F!=="link"&&W.quill.format(F,U.format[F],S.default.sources.USER))})}function B(j){return{key:$.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(W){var k=w.default.query("code-block"),F=W.index,G=W.length,Q=this.quill.scroll.descendant(k,F),ee=o(Q,2),ne=ee[0],le=ee[1];if(ne!=null){var pe=this.quill.getIndex(ne),ve=ne.newlineIndex(le,!0)+1,te=ne.newlineIndex(pe+le+G),ie=ne.domNode.textContent.slice(ve,te).split(`
`);le=0,ie.forEach(function(ae,ue){j?(ne.insertAt(ve+le,k.TAB),le+=k.TAB.length,ue===0?F+=k.TAB.length:G+=k.TAB.length):ae.startsWith(k.TAB)&&(ne.deleteAt(ve+le,k.TAB.length),le-=k.TAB.length,ue===0?F-=k.TAB.length:G-=k.TAB.length),le+=ae.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(F,G,S.default.sources.SILENT)}}}}function J(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(W,k){this.quill.format(j,!k.format[j],S.default.sources.USER)}}}function X(j){if(typeof j=="string"||typeof j=="number")return X({key:j});if((typeof j>"u"?"undefined":s(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if($.keys[j.key.toUpperCase()]!=null)j.key=$.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[z]=j.shortKey,delete j.shortKey),j}i.default=$,i.SHORTKEY=z},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function p(m,w){var g=[],S=!0,R=!1,T=void 0;try{for(var E=m[Symbol.iterator](),O;!(S=(O=E.next()).done)&&(g.push(O.value),!(w&&g.length===w));S=!0);}catch(C){R=!0,T=C}finally{try{!S&&E.return&&E.return()}finally{if(R)throw T}}return g}return function(m,w){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function p(m,w,g){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(S===void 0){var R=Object.getPrototypeOf(m);return R===null?void 0:p(R,w,g)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(g)}},a=function(){function p(m,w){for(var g=0;g<w.length;g++){var S=w[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,g){return w&&p(m.prototype,w),g&&p(m,g),m}}(),l=r(0),u=c(l),h=r(7),d=c(h);function c(p){return p&&p.__esModule?p:{default:p}}function f(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var b=function(p){y(m,p),a(m,null,[{key:"value",value:function(){}}]);function m(w,g){f(this,m);var S=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return S.selection=g,S.textNode=document.createTextNode(m.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return a(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,S){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,g,S);for(var R=this,T=0;R!=null&&R.statics.scope!==u.default.Scope.BLOCK_BLOT;)T+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=m.CONTENTS.length,R.optimize(),R.formatAt(T,m.CONTENTS.length,g,S),this._length=0)}},{key:"index",value:function(g,S){return g===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,g,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,S=this.selection.getNativeRange(),R=void 0,T=void 0,E=void 0;if(S!=null&&S.start.node===g&&S.end.node===g){var O=[g,S.start.offset,S.end.offset];R=O[0],T=O[1],E=O[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var C=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof d.default?(R=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=m.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var x=[T,E].map(function(L){return Math.max(0,Math.min(R.data.length,L-1))}),_=s(x,2);return T=_[0],E=_[1],{startNode:R,startOffset:T,endNode:R,endOffset:E}}}}},{key:"update",value:function(g,S){var R=this;if(g.some(function(E){return E.type==="characterData"&&E.target===R.textNode})){var T=this.restore();T&&(S.range=T)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",i.default=b},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=u(s),a=r(4),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){c(y,v);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(o.default.Container);f.allowedChildren=[l.default,a.BlockEmbed,f],i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var s=function(){function b(p,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,m,w){return m&&b(p.prototype,m),w&&b(p,w),p}}(),o=function b(p,m,w){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,m);if(g===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:b(S,m,w)}else{if("value"in g)return g.value;var R=g.get;return R===void 0?void 0:R.call(w)}},a=r(0),l=u(a);function u(b){return b&&b.__esModule?b:{default:b}}function h(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function d(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function c(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var f=function(b){c(p,b);function p(){return h(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,[{key:"value",value:function(w){var g=o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,w);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):g}}]),p}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new f("color","color",{scope:l.default.Scope.INLINE});i.ColorAttributor=f,i.ColorClass=v,i.ColorStyle=y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var s=function(){function y(b,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,m){return p&&y(b.prototype,p),m&&y(b,m),b}}(),o=function y(b,p,m){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var g=Object.getPrototypeOf(b);return g===null?void 0:y(g,p,m)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(m)}},a=r(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function d(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function c(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var f=function(y){c(b,y);function b(){return h(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(m,w){if(m!==this.statics.blotName||!w)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,m,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(m){var w=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,m);return m=this.sanitize(m),w.setAttribute("href",m),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return v(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),b}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(y,b){var p=document.createElement("a");p.href=y;var m=p.href.slice(0,p.href.indexOf(":"));return b.indexOf(m)>-1}i.default=f,i.sanitize=v},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(p,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,m,w){return m&&b(p.prototype,m),w&&b(p,w),p}}(),a=r(23),l=d(a),u=r(107),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function c(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}var f=0;function v(b,p){b.setAttribute(p,b.getAttribute(p)!=="true")}var y=function(){function b(p){var m=this;c(this,b),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var w=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),m.hasAttribute("value")&&g.setAttribute("data-value",m.getAttribute("value")),m.textContent&&g.setAttribute("data-label",m.textContent),g.addEventListener("click",function(){w.selectItem(g,!0)}),g.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:w.selectItem(g,!0),S.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=h.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(g){var S=m.buildItem(g);w.appendChild(S),g.selected===!0&&m.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(w){m.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(m!==g&&(g!=null&&g.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var g=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),b}();i.default=y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),o=P(s),a=r(5),l=P(a),u=r(4),h=P(u),d=r(16),c=P(d),f=r(25),v=P(f),y=r(24),b=P(y),p=r(35),m=P(p),w=r(6),g=P(w),S=r(22),R=P(S),T=r(7),E=P(T),O=r(55),C=P(O),x=r(42),_=P(x),L=r(23),M=P(L);function P(z){return z&&z.__esModule?z:{default:z}}l.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":c.default,"blots/container":v.default,"blots/cursor":b.default,"blots/embed":m.default,"blots/inline":g.default,"blots/scroll":R.default,"blots/text":E.default,"modules/clipboard":C.default,"modules/history":_.default,"modules/keyboard":M.default}),o.default.register(h.default,c.default,b.default,g.default,R.default,E.default),i.default=l.default},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,u){var h=this.isolate(l,u);h.remove()},a.prototype.formatAt=function(l,u,h,d){var c=this.isolate(l,u);if(s.query(h,s.Scope.BLOT)!=null&&d)c.wrap(h,d);else if(s.query(h,s.Scope.ATTRIBUTE)!=null){var f=s.create(this.statics.scope);c.wrap(f),f.format(h,d)}},a.prototype.insertAt=function(l,u,h){var d=h==null?s.create("text",u):s.create(u,h),c=this.split(l);this.parent.insertBefore(d,c)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;l.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=h)&&l.domNode.insertBefore(this.domNode,h),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var h=this.split(l);return h.split(u),h},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var h=typeof l=="string"?s.create(l,u):l;return h.replace(this),h},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var h=typeof l=="string"?s.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},a.blotName="abstract",a}();i.default=o},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(12),o=r(32),a=r(33),l=r(1),u=function(){function h(d){this.attributes={},this.domNode=d,this.build()}return h.prototype.attribute=function(d,c){c?d.add(this.domNode,c)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},h.prototype.build=function(){var d=this;this.attributes={};var c=s.default.keys(this.domNode),f=o.default.keys(this.domNode),v=a.default.keys(this.domNode);c.concat(f).concat(v).forEach(function(y){var b=l.query(y,l.Scope.ATTRIBUTE);b instanceof s.default&&(d.attributes[b.attrName]=b)})},h.prototype.copy=function(d){var c=this;Object.keys(this.attributes).forEach(function(f){var v=c.attributes[f].value(c.domNode);d.format(f,v)})},h.prototype.move=function(d){var c=this;this.copy(d),Object.keys(this.attributes).forEach(function(f){c.attributes[f].remove(c.domNode)}),this.attributes={}},h.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(c,f){return c[f]=d.attributes[f].value(d.domNode),c},{})},h}();i.default=u},function(t,i,r){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)d.hasOwnProperty(c)&&(h[c]=d[c])};return function(h,d){u(h,d);function c(){this.constructor=h}h.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(12);function a(u,h){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(c){return c.indexOf(h+"-")===0})}var l=function(u){s(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},h.prototype.add=function(d,c){return this.canAdd(d,c)?(this.remove(d),d.classList.add(this.keyName+"-"+c),!0):!1},h.prototype.remove=function(d){var c=a(d,this.keyName);c.forEach(function(f){d.classList.remove(f)}),d.classList.length===0&&d.removeAttribute("class")},h.prototype.value=function(d){var c=a(d,this.keyName)[0]||"",f=c.slice(this.keyName.length+1);return this.canAdd(d,f)?f:""},h}(o.default);i.default=l},function(t,i,r){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)d.hasOwnProperty(c)&&(h[c]=d[c])};return function(h,d){u(h,d);function c(){this.constructor=h}h.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(12);function a(u){var h=u.split("-"),d=h.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return h[0]+d}var l=function(u){s(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(c){var f=c.split(":");return f[0].trim()})},h.prototype.add=function(d,c){return this.canAdd(d,c)?(d.style[a(this.keyName)]=c,!0):!1},h.prototype.remove=function(d){d.style[a(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},h.prototype.value=function(d){var c=d.style[a(this.keyName)];return this.canAdd(d,c)?c:""},h}(o.default);i.default=l},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function l(u,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){o(this,l),this.quill=u,this.options=h,this.modules={}}return s(l,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(d){h.modules[d]==null&&h.addModule(d)})}},{key:"addModule",value:function(h){var d=this.quill.constructor.import("modules/"+h);return this.modules[h]=new d(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},i.default=a},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function p(m,w){for(var g=0;g<w.length;g++){var S=w[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,g){return w&&p(m.prototype,w),g&&p(m,g),m}}(),o=function p(m,w,g){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(S===void 0){var R=Object.getPrototypeOf(m);return R===null?void 0:p(R,w,g)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(g)}},a=r(0),l=d(a),u=r(7),h=d(u);function d(p){return p&&p.__esModule?p:{default:p}}function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function f(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function v(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var y="\uFEFF",b=function(p){v(m,p);function m(w){c(this,m);var g=f(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(S){g.contentNode.appendChild(S)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return s(m,[{key:"index",value:function(g,S){return g===this.leftGuard?0:g===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,g,S)}},{key:"restore",value:function(g){var S=void 0,R=void 0,T=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof h.default){var E=this.prev.length();this.prev.insertAt(E,T),S={startNode:this.prev.domNode,startOffset:E+T.length}}else R=document.createTextNode(T),this.parent.insertBefore(l.default.create(R),this),S={startNode:R,startOffset:T.length};else g===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,T),S={startNode:this.next.domNode,startOffset:T.length}):(R=document.createTextNode(T),this.parent.insertBefore(l.default.create(R),this.next),S={startNode:R,startOffset:T.length}));return g.data=y,S}},{key:"update",value:function(g,S){var R=this;g.forEach(function(T){if(T.type==="characterData"&&(T.target===R.leftGuard||T.target===R.rightGuard)){var E=R.restore(T.target);E&&(S.range=E)}})}}]),m}(l.default.Embed);i.default=b},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var s=r(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),h=new o.default.Attributor.Class("align","ql-align",l),d=new o.default.Attributor.Style("align","text-align",l);i.AlignAttribute=u,i.AlignClass=h,i.AlignStyle=d},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var s=r(0),o=l(s),a=r(26);function l(d){return d&&d.__esModule?d:{default:d}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),h=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});i.BackgroundClass=u,i.BackgroundStyle=h},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var s=r(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),h=new o.default.Attributor.Class("direction","ql-direction",l),d=new o.default.Attributor.Style("direction","direction",l);i.DirectionAttribute=u,i.DirectionClass=h,i.DirectionStyle=d},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var s=function(){function p(m,w){for(var g=0;g<w.length;g++){var S=w[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,g){return w&&p(m.prototype,w),g&&p(m,g),m}}(),o=function p(m,w,g){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(S===void 0){var R=Object.getPrototypeOf(m);return R===null?void 0:p(R,w,g)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(g)}},a=r(0),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function h(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function d(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",f),y=function(p){c(m,p);function m(){return h(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(g){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),b=new y("font","font-family",f);i.FontStyle=b,i.FontClass=v},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var s=r(0),o=a(s);function a(h){return h&&h.__esModule?h:{default:h}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=l,i.SizeStyle=u},function(t,i,r){t.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var s=function(){function w(g,S){for(var R=0;R<S.length;R++){var T=S[R];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,S,R){return S&&w(g.prototype,S),R&&w(g,R),g}}(),o=r(0),a=c(o),l=r(5),u=c(l),h=r(9),d=c(h);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function v(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function y(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var b=function(w){y(g,w);function g(S,R){f(this,g);var T=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S,R));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(u.default.events.EDITOR_CHANGE,function(E,O,C,x){E!==u.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||x===u.default.sources.USER?T.record(O,C):T.transform(O))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return s(g,[{key:"change",value:function(R,T){if(this.stack[R].length!==0){var E=this.stack[R].pop();this.stack[T].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[R],u.default.sources.USER),this.ignoreChange=!1;var O=m(E[R]);this.quill.setSelection(O)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,T){if(R.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(T),O=Date.now();if(this.lastRecorded+this.options.delay>O&&this.stack.undo.length>0){var C=this.stack.undo.pop();E=E.compose(C.undo),R=C.redo.compose(R)}else this.lastRecorded=O;this.stack.undo.push({redo:R,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(T){T.undo=R.transform(T.undo,!0),T.redo=R.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=R.transform(T.undo,!0),T.redo=R.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function p(w){var g=w.ops[w.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(S){return a.default.query(S,a.default.Scope.BLOCK)!=null}):!1}function m(w){var g=w.reduce(function(R,T){return R+=T.delete||0,R},0),S=w.length()-g;return p(w)&&(S-=1),S}i.default=b,i.getLastChangeIndex=m},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var s=function(){function H(B,J){for(var X=0;X<J.length;X++){var j=J[X];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(B,j.key,j)}}return function(B,J,X){return J&&H(B.prototype,J),X&&H(B,X),B}}(),o=function H(B,J,X){B===null&&(B=Function.prototype);var j=Object.getOwnPropertyDescriptor(B,J);if(j===void 0){var U=Object.getPrototypeOf(B);return U===null?void 0:H(U,J,X)}else{if("value"in j)return j.value;var W=j.get;return W===void 0?void 0:W.call(X)}},a=r(3),l=O(a),u=r(2),h=O(u),d=r(8),c=O(d),f=r(23),v=O(f),y=r(34),b=O(y),p=r(59),m=O(p),w=r(60),g=O(w),S=r(28),R=O(S),T=r(61),E=O(T);function O(H){return H&&H.__esModule?H:{default:H}}function C(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}function x(H,B){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:H}function _(H,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);H.prototype=Object.create(B&&B.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(H,B):H.__proto__=B)}var L=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],P=[!1,"serif","monospace"],z=["1","2","3",!1],$=["small",!1,"large","huge"],Y=function(H){_(B,H);function B(J,X){C(this,B);var j=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,J,X)),U=function W(k){if(!document.body.contains(J.root))return document.body.removeEventListener("click",W);j.tooltip!=null&&!j.tooltip.root.contains(k.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(F){F.container.contains(k.target)||F.close()})};return J.emitter.listenDOM("click",document.body,U),j}return s(B,[{key:"addModule",value:function(X){var j=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(X,j){X.forEach(function(U){var W=U.getAttribute("class")||"";W.split(/\s+/).forEach(function(k){if(k.startsWith("ql-")&&(k=k.slice(3),j[k]!=null))if(k==="direction")U.innerHTML=j[k][""]+j[k].rtl;else if(typeof j[k]=="string")U.innerHTML=j[k];else{var F=U.value||"";F!=null&&j[k][F]&&(U.innerHTML=j[k][F])}})})}},{key:"buildPickers",value:function(X,j){var U=this;this.pickers=X.map(function(k){if(k.classList.contains("ql-align"))return k.querySelector("option")==null&&D(k,L),new g.default(k,j.align);if(k.classList.contains("ql-background")||k.classList.contains("ql-color")){var F=k.classList.contains("ql-background")?"background":"color";return k.querySelector("option")==null&&D(k,M,F==="background"?"#ffffff":"#000000"),new m.default(k,j[F])}else return k.querySelector("option")==null&&(k.classList.contains("ql-font")?D(k,P):k.classList.contains("ql-header")?D(k,z):k.classList.contains("ql-size")&&D(k,$)),new R.default(k)});var W=function(){U.pickers.forEach(function(F){F.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,W)}}]),B}(b.default);Y.DEFAULTS=(0,l.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var X=new FileReader;X.onload=function(j){var U=B.quill.getSelection(!0);B.quill.updateContents(new h.default().retain(U.index).delete(U.length).insert({image:j.target.result}),c.default.sources.USER),B.quill.setSelection(U.index+1,c.default.sources.SILENT),J.value=""},X.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var V=function(H){_(B,H);function B(J,X){C(this,B);var j=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,J,X));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return s(B,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(j){v.default.match(j,"enter")?(X.save(),j.preventDefault()):v.default.match(j,"escape")&&(X.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,c.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":X=I(X);case"formula":{if(!X)break;var U=this.quill.getSelection(!0);if(U!=null){var W=U.index+U.length;this.quill.insertEmbed(W,this.root.getAttribute("data-mode"),X,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(W+1," ",c.default.sources.USER),this.quill.setSelection(W+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(E.default);function I(H){var B=H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=H.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":H}function D(H,B){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(X){var j=document.createElement("option");X===J?j.setAttribute("selected","selected"):j.setAttribute("value",X),H.appendChild(j)})}i.BaseTooltip=V,i.default=Y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,h=this.iterator();u=h();){var d=u.length();if(a<d||l&&a===d&&(u.next==null||u.next.length()!==0))return[u,a];a-=d}return[null,0]},o.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},o.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var h=this.find(a),d=h[0],c=h[1],f,v=a-c,y=this.iterator(d);(f=y())&&v<a+l;){var b=f.length();a>v?u(f,a-v,Math.min(l,v+b-a)):u(f,0,Math.min(b,a+l-v)),v+=b}},o.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},o.prototype.reduce=function(a,l){for(var u,h=this.iterator();u=h();)l=a(l,u);return l},o}();i.default=s},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var v in f)f.hasOwnProperty(v)&&(c[v]=f[v])};return function(c,f){d(c,f);function v(){this.constructor=c}c.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(17),a=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(d){s(c,d);function c(f){var v=d.call(this,f)||this;return v.scroll=v,v.observer=new MutationObserver(function(y){v.update(y)}),v.observer.observe(v.domNode,l),v.attach(),v}return c.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(f,v){this.update(),f===0&&v===this.length()?this.children.forEach(function(y){y.remove()}):d.prototype.deleteAt.call(this,f,v)},c.prototype.formatAt=function(f,v,y,b){this.update(),d.prototype.formatAt.call(this,f,v,y,b)},c.prototype.insertAt=function(f,v,y){this.update(),d.prototype.insertAt.call(this,f,v,y)},c.prototype.optimize=function(f,v){var y=this;f===void 0&&(f=[]),v===void 0&&(v={}),d.prototype.optimize.call(this,v);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)f.push(b.pop());for(var p=function(S,R){R===void 0&&(R=!0),!(S==null||S===y)&&S.domNode.parentNode!=null&&(S.domNode[a.DATA_KEY].mutations==null&&(S.domNode[a.DATA_KEY].mutations=[]),R&&p(S.parent))},m=function(S){S.domNode[a.DATA_KEY]==null||S.domNode[a.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(m),S.optimize(v))},w=f,g=0;w.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var R=a.find(S.target,!0);R!=null&&(R.domNode===S.target&&(S.type==="childList"?(p(a.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(T){var E=a.find(T,!1);p(E,!1),E instanceof o.default&&E.children.forEach(function(O){p(O,!1)})})):S.type==="attributes"&&p(R.prev)),p(R))}),this.children.forEach(m),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)f.push(b.pop())}},c.prototype.update=function(f,v){var y=this;v===void 0&&(v={}),f=f||this.observer.takeRecords(),f.map(function(b){var p=a.find(b.target,!0);return p==null?null:p.domNode[a.DATA_KEY].mutations==null?(p.domNode[a.DATA_KEY].mutations=[b],p):(p.domNode[a.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===y||b.domNode[a.DATA_KEY]==null||b.update(b.domNode[a.DATA_KEY].mutations||[],v)}),this.domNode[a.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,v),this.optimize(f,v)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(o.default);i.default=h},function(t,i,r){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f])};return function(d,c){h(d,c);function f(){this.constructor=d}d.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(18),a=r(1);function l(h,d){if(Object.keys(h).length!==Object.keys(d).length)return!1;for(var c in h)if(h[c]!==d[c])return!1;return!0}var u=function(h){s(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(c){if(c.tagName!==d.tagName)return h.formats.call(this,c)},d.prototype.format=function(c,f){var v=this;c===this.statics.blotName&&!f?(this.children.forEach(function(y){y instanceof o.default||(y=y.wrap(d.blotName,!0)),v.attributes.copy(y)}),this.unwrap()):h.prototype.format.call(this,c,f)},d.prototype.formatAt=function(c,f,v,y){if(this.formats()[v]!=null||a.query(v,a.Scope.ATTRIBUTE)){var b=this.isolate(c,f);b.format(v,y)}else h.prototype.formatAt.call(this,c,f,v,y)},d.prototype.optimize=function(c){h.prototype.optimize.call(this,c);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var v=this.next;v instanceof d&&v.prev===this&&l(f,v.formats())&&(v.moveChildren(this),v.remove())},d.blotName="inline",d.scope=a.Scope.INLINE_BLOT,d.tagName="SPAN",d}(o.default);i.default=u},function(t,i,r){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)d.hasOwnProperty(c)&&(h[c]=d[c])};return function(h,d){u(h,d);function c(){this.constructor=h}h.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(18),a=r(1),l=function(u){s(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(d){var c=a.query(h.blotName).tagName;if(d.tagName!==c)return u.formats.call(this,d)},h.prototype.format=function(d,c){a.query(d,a.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!c?this.replaceWith(h.blotName):u.prototype.format.call(this,d,c))},h.prototype.formatAt=function(d,c,f,v){a.query(f,a.Scope.BLOCK)!=null?this.format(f,v):u.prototype.formatAt.call(this,d,c,f,v)},h.prototype.insertAt=function(d,c,f){if(f==null||a.query(c,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,c,f);else{var v=this.split(d),y=a.create(c,f);v.parent.insertBefore(y,v)}},h.prototype.update=function(d,c){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,c)},h.blotName="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="P",h}(o.default);i.default=l},function(t,i,r){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var d in h)h.hasOwnProperty(d)&&(u[d]=h[d])};return function(u,h){l(u,h);function d(){this.constructor=u}u.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(19),a=function(l){s(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,d){l.prototype.formatAt.call(this,0,this.length(),h,d)},u.prototype.formatAt=function(h,d,c,f){h===0&&d===this.length()?this.format(c,f):l.prototype.formatAt.call(this,h,d,c,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);i.default=a},function(t,i,r){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var c in d)d.hasOwnProperty(c)&&(h[c]=d[c])};return function(h,d){u(h,d);function c(){this.constructor=h}h.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(19),a=r(1),l=function(u){s(h,u);function h(d){var c=u.call(this,d)||this;return c.text=c.statics.value(c.domNode),c}return h.create=function(d){return document.createTextNode(d)},h.value=function(d){var c=d.data;return c.normalize&&(c=c.normalize()),c},h.prototype.deleteAt=function(d,c){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+c)},h.prototype.index=function(d,c){return this.domNode===d?c:-1},h.prototype.insertAt=function(d,c,f){f==null?(this.text=this.text.slice(0,d)+c+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,c,f)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(d,c){return[this.domNode,d]},h.prototype.split=function(d,c){if(c===void 0&&(c=!1),!c){if(d===0)return this;if(d===this.length())return this.next}var f=a.create(this.domNode.splitText(d));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},h.prototype.update=function(d,c){var f=this;d.some(function(v){return v.type==="characterData"&&v.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=a.Scope.INLINE_BLOT,h}(o.default);i.default=l},function(t,i,r){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var h=u.indexOf(a,l);return h!==-1&&h===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,d=arguments[1],c,f=0;f<h;f++)if(c=u[f],l.call(d,c,f,u))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,i){var r=-1,s=1,o=0;function a(g,S,R){if(g==S)return g?[[o,g]]:[];(R<0||g.length<R)&&(R=null);var T=d(g,S),E=g.substring(0,T);g=g.substring(T),S=S.substring(T),T=c(g,S);var O=g.substring(g.length-T);g=g.substring(0,g.length-T),S=S.substring(0,S.length-T);var C=l(g,S);return E&&C.unshift([o,E]),O&&C.push([o,O]),v(C),R!=null&&(C=p(C,R)),C=m(C),C}function l(g,S){var R;if(!g)return[[s,S]];if(!S)return[[r,g]];var T=g.length>S.length?g:S,E=g.length>S.length?S:g,O=T.indexOf(E);if(O!=-1)return R=[[s,T.substring(0,O)],[o,E],[s,T.substring(O+E.length)]],g.length>S.length&&(R[0][0]=R[2][0]=r),R;if(E.length==1)return[[r,g],[s,S]];var C=f(g,S);if(C){var x=C[0],_=C[1],L=C[2],M=C[3],P=C[4],z=a(x,L),$=a(_,M);return z.concat([[o,P]],$)}return u(g,S)}function u(g,S){for(var R=g.length,T=S.length,E=Math.ceil((R+T)/2),O=E,C=2*E,x=new Array(C),_=new Array(C),L=0;L<C;L++)x[L]=-1,_[L]=-1;x[O+1]=0,_[O+1]=0;for(var M=R-T,P=M%2!=0,z=0,$=0,Y=0,V=0,I=0;I<E;I++){for(var D=-I+z;D<=I-$;D+=2){var H=O+D,B;D==-I||D!=I&&x[H-1]<x[H+1]?B=x[H+1]:B=x[H-1]+1;for(var J=B-D;B<R&&J<T&&g.charAt(B)==S.charAt(J);)B++,J++;if(x[H]=B,B>R)$+=2;else if(J>T)z+=2;else if(P){var X=O+M-D;if(X>=0&&X<C&&_[X]!=-1){var j=R-_[X];if(B>=j)return h(g,S,B,J)}}}for(var U=-I+Y;U<=I-V;U+=2){var X=O+U,j;U==-I||U!=I&&_[X-1]<_[X+1]?j=_[X+1]:j=_[X-1]+1;for(var W=j-U;j<R&&W<T&&g.charAt(R-j-1)==S.charAt(T-W-1);)j++,W++;if(_[X]=j,j>R)V+=2;else if(W>T)Y+=2;else if(!P){var H=O+M-U;if(H>=0&&H<C&&x[H]!=-1){var B=x[H],J=O+B-H;if(j=R-j,B>=j)return h(g,S,B,J)}}}}return[[r,g],[s,S]]}function h(g,S,R,T){var E=g.substring(0,R),O=S.substring(0,T),C=g.substring(R),x=S.substring(T),_=a(E,O),L=a(C,x);return _.concat(L)}function d(g,S){if(!g||!S||g.charAt(0)!=S.charAt(0))return 0;for(var R=0,T=Math.min(g.length,S.length),E=T,O=0;R<E;)g.substring(O,E)==S.substring(O,E)?(R=E,O=R):T=E,E=Math.floor((T-R)/2+R);return E}function c(g,S){if(!g||!S||g.charAt(g.length-1)!=S.charAt(S.length-1))return 0;for(var R=0,T=Math.min(g.length,S.length),E=T,O=0;R<E;)g.substring(g.length-E,g.length-O)==S.substring(S.length-E,S.length-O)?(R=E,O=R):T=E,E=Math.floor((T-R)/2+R);return E}function f(g,S){var R=g.length>S.length?g:S,T=g.length>S.length?S:g;if(R.length<4||T.length*2<R.length)return null;function E($,Y,V){for(var I=$.substring(V,V+Math.floor($.length/4)),D=-1,H="",B,J,X,j;(D=Y.indexOf(I,D+1))!=-1;){var U=d($.substring(V),Y.substring(D)),W=c($.substring(0,V),Y.substring(0,D));H.length<W+U&&(H=Y.substring(D-W,D)+Y.substring(D,D+U),B=$.substring(0,V-W),J=$.substring(V+U),X=Y.substring(0,D-W),j=Y.substring(D+U))}return H.length*2>=$.length?[B,J,X,j,H]:null}var O=E(R,T,Math.ceil(R.length/4)),C=E(R,T,Math.ceil(R.length/2)),x;if(!O&&!C)return null;C?O?x=O[4].length>C[4].length?O:C:x=C:x=O;var _,L,M,P;g.length>S.length?(_=x[0],L=x[1],M=x[2],P=x[3]):(M=x[0],P=x[1],_=x[2],L=x[3]);var z=x[4];return[_,L,M,P,z]}function v(g){g.push([o,""]);for(var S=0,R=0,T=0,E="",O="",C;S<g.length;)switch(g[S][0]){case s:T++,O+=g[S][1],S++;break;case r:R++,E+=g[S][1],S++;break;case o:R+T>1?(R!==0&&T!==0&&(C=d(O,E),C!==0&&(S-R-T>0&&g[S-R-T-1][0]==o?g[S-R-T-1][1]+=O.substring(0,C):(g.splice(0,0,[o,O.substring(0,C)]),S++),O=O.substring(C),E=E.substring(C)),C=c(O,E),C!==0&&(g[S][1]=O.substring(O.length-C)+g[S][1],O=O.substring(0,O.length-C),E=E.substring(0,E.length-C))),R===0?g.splice(S-T,R+T,[s,O]):T===0?g.splice(S-R,R+T,[r,E]):g.splice(S-R-T,R+T,[r,E],[s,O]),S=S-R-T+(R?1:0)+(T?1:0)+1):S!==0&&g[S-1][0]==o?(g[S-1][1]+=g[S][1],g.splice(S,1)):S++,T=0,R=0,E="",O="";break}g[g.length-1][1]===""&&g.pop();var x=!1;for(S=1;S<g.length-1;)g[S-1][0]==o&&g[S+1][0]==o&&(g[S][1].substring(g[S][1].length-g[S-1][1].length)==g[S-1][1]?(g[S][1]=g[S-1][1]+g[S][1].substring(0,g[S][1].length-g[S-1][1].length),g[S+1][1]=g[S-1][1]+g[S+1][1],g.splice(S-1,1),x=!0):g[S][1].substring(0,g[S+1][1].length)==g[S+1][1]&&(g[S-1][1]+=g[S+1][1],g[S][1]=g[S][1].substring(g[S+1][1].length)+g[S+1][1],g.splice(S+1,1),x=!0)),S++;x&&v(g)}var y=a;y.INSERT=s,y.DELETE=r,y.EQUAL=o,t.exports=y;function b(g,S){if(S===0)return[o,g];for(var R=0,T=0;T<g.length;T++){var E=g[T];if(E[0]===r||E[0]===o){var O=R+E[1].length;if(S===O)return[T+1,g];if(S<O){g=g.slice();var C=S-R,x=[E[0],E[1].slice(0,C)],_=[E[0],E[1].slice(C)];return g.splice(T,1,x,_),[T+1,g]}else R=O}}throw new Error("cursor_pos is out of bounds!")}function p(g,S){var R=b(g,S),T=R[1],E=R[0],O=T[E],C=T[E+1];if(O==null)return g;if(O[0]!==o)return g;if(C!=null&&O[1]+C[1]===C[1]+O[1])return T.splice(E,2,C,O),w(T,E,2);if(C!=null&&C[1].indexOf(O[1])===0){T.splice(E,2,[C[0],O[1]],[0,O[1]]);var x=C[1].slice(O[1].length);return x.length>0&&T.splice(E+2,0,[C[0],x]),w(T,E,3)}else return g}function m(g){for(var S=!1,R=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},T=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},E=2;E<g.length;E+=1)g[E-2][0]===o&&T(g[E-2][1])&&g[E-1][0]===r&&R(g[E-1][1])&&g[E][0]===s&&R(g[E][1])&&(S=!0,g[E-1][1]=g[E-2][1].slice(-1)+g[E-1][1],g[E][1]=g[E-2][1].slice(-1)+g[E][1],g[E-2][1]=g[E-2][1].slice(0,-1));if(!S)return g;for(var O=[],E=0;E<g.length;E+=1)g[E][1].length>0&&O.push(g[E]);return O}function w(g,S,R){for(var T=S+R-1;T>=0&&T>=S-1;T--)if(T+1<g.length){var E=g[T],O=g[T+1];E[0]===O[1]&&g.splice(T,2,[E[0],E[1]+O[1]])}return g}},function(t,i){i=t.exports=typeof Object.keys=="function"?Object.keys:r,i.shim=r;function r(s){var o=[];for(var a in s)o.push(a);return o}},function(t,i){var r=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=t.exports=r?s:o,i.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}i.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(t,i){var r=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(u,h,d){this.fn=u,this.context=h,this.once=d||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],d,c;if(this._eventsCount===0)return h;for(c in d=this._events)r.call(d,c)&&h.push(s?c.slice(1):c);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},l.prototype.listeners=function(h,d){var c=s?s+h:h,f=this._events[c];if(d)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var v=0,y=f.length,b=new Array(y);v<y;v++)b[v]=f[v].fn;return b},l.prototype.emit=function(h,d,c,f,v,y){var b=s?s+h:h;if(!this._events[b])return!1;var p=this._events[b],m=arguments.length,w,g;if(p.fn){switch(p.once&&this.removeListener(h,p.fn,void 0,!0),m){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,c),!0;case 4:return p.fn.call(p.context,d,c,f),!0;case 5:return p.fn.call(p.context,d,c,f,v),!0;case 6:return p.fn.call(p.context,d,c,f,v,y),!0}for(g=1,w=new Array(m-1);g<m;g++)w[g-1]=arguments[g];p.fn.apply(p.context,w)}else{var S=p.length,R;for(g=0;g<S;g++)switch(p[g].once&&this.removeListener(h,p[g].fn,void 0,!0),m){case 1:p[g].fn.call(p[g].context);break;case 2:p[g].fn.call(p[g].context,d);break;case 3:p[g].fn.call(p[g].context,d,c);break;case 4:p[g].fn.call(p[g].context,d,c,f);break;default:if(!w)for(R=1,w=new Array(m-1);R<m;R++)w[R-1]=arguments[R];p[g].fn.apply(p[g].context,w)}}return!0},l.prototype.on=function(h,d,c){var f=new a(d,c||this),v=s?s+h:h;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],f]:this._events[v].push(f):(this._events[v]=f,this._eventsCount++),this},l.prototype.once=function(h,d,c){var f=new a(d,c||this,!0),v=s?s+h:h;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],f]:this._events[v].push(f):(this._events[v]=f,this._eventsCount++),this},l.prototype.removeListener=function(h,d,c,f){var v=s?s+h:h;if(!this._events[v])return this;if(!d)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var y=this._events[v];if(y.fn)y.fn===d&&(!f||y.once)&&(!c||y.context===c)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var b=0,p=[],m=y.length;b<m;b++)(y[b].fn!==d||f&&!y[b].once||c&&y[b].context!==c)&&p.push(y[b]);p.length?this._events[v]=p.length===1?p[0]:p:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(h){var d;return h?(d=s?s+h:h,this._events[d]&&(--this._eventsCount===0?this._events=new o:delete this._events[d])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof t<"u"&&(t.exports=l)},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},o=function(){function te(ie,ae){var ue=[],oe=!0,fe=!1,ge=void 0;try{for(var ye=ie[Symbol.iterator](),ke;!(oe=(ke=ye.next()).done)&&(ue.push(ke.value),!(ae&&ue.length===ae));oe=!0);}catch(We){fe=!0,ge=We}finally{try{!oe&&ye.return&&ye.return()}finally{if(fe)throw ge}}return ue}return function(ie,ae){if(Array.isArray(ie))return ie;if(Symbol.iterator in Object(ie))return te(ie,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function te(ie,ae){for(var ue=0;ue<ae.length;ue++){var oe=ae[ue];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(ie,oe.key,oe)}}return function(ie,ae,ue){return ae&&te(ie.prototype,ae),ue&&te(ie,ue),ie}}(),l=r(3),u=_(l),h=r(2),d=_(h),c=r(0),f=_(c),v=r(5),y=_(v),b=r(10),p=_(b),m=r(9),w=_(m),g=r(36),S=r(37),R=r(13),T=_(R),E=r(26),O=r(38),C=r(39),x=r(40);function _(te){return te&&te.__esModule?te:{default:te}}function L(te,ie,ae){return ie in te?Object.defineProperty(te,ie,{value:ae,enumerable:!0,configurable:!0,writable:!0}):te[ie]=ae,te}function M(te,ie){if(!(te instanceof ie))throw new TypeError("Cannot call a class as a function")}function P(te,ie){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:te}function z(te,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);te.prototype=Object.create(ie&&ie.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ie):te.__proto__=ie)}var $=(0,p.default)("quill:clipboard"),Y="__ql-matcher",V=[[Node.TEXT_NODE,ve],[Node.TEXT_NODE,ne],["br",G],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,k],[Node.ELEMENT_NODE,pe],["li",ee],["b",W.bind(W,"bold")],["i",W.bind(W,"italic")],["style",Q]],I=[g.AlignAttribute,O.DirectionAttribute].reduce(function(te,ie){return te[ie.keyName]=ie,te},{}),D=[g.AlignStyle,S.BackgroundStyle,E.ColorStyle,O.DirectionStyle,C.FontStyle,x.SizeStyle].reduce(function(te,ie){return te[ie.keyName]=ie,te},{}),H=function(te){z(ie,te);function ie(ae,ue){M(this,ie);var oe=P(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,ae,ue));return oe.quill.root.addEventListener("paste",oe.onPaste.bind(oe)),oe.container=oe.quill.addContainer("ql-clipboard"),oe.container.setAttribute("contenteditable",!0),oe.container.setAttribute("tabindex",-1),oe.matchers=[],V.concat(oe.options.matchers).forEach(function(fe){var ge=o(fe,2),ye=ge[0],ke=ge[1];!ue.matchVisual&&ke===le||oe.addMatcher(ye,ke)}),oe}return a(ie,[{key:"addMatcher",value:function(ue,oe){this.matchers.push([ue,oe])}},{key:"convert",value:function(ue){if(typeof ue=="string")return this.container.innerHTML=ue.replace(/\>\r?\n +\</g,"><"),this.convert();var oe=this.quill.getFormat(this.quill.selection.savedRange.index);if(oe[T.default.blotName]){var fe=this.container.innerText;return this.container.innerHTML="",new d.default().insert(fe,L({},T.default.blotName,oe[T.default.blotName]))}var ge=this.prepareMatching(),ye=o(ge,2),ke=ye[0],We=ye[1],_e=U(this.container,ke,We);return X(_e,`
`)&&_e.ops[_e.ops.length-1].attributes==null&&(_e=_e.compose(new d.default().retain(_e.length()-1).delete(1))),$.log("convert",this.container.innerHTML,_e),this.container.innerHTML="",_e}},{key:"dangerouslyPasteHTML",value:function(ue,oe){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof ue=="string")this.quill.setContents(this.convert(ue),oe),this.quill.setSelection(0,y.default.sources.SILENT);else{var ge=this.convert(oe);this.quill.updateContents(new d.default().retain(ue).concat(ge),fe),this.quill.setSelection(ue+ge.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(ue){var oe=this;if(!(ue.defaultPrevented||!this.quill.isEnabled())){var fe=this.quill.getSelection(),ge=new d.default().retain(fe.index),ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){ge=ge.concat(oe.convert()).delete(fe.length),oe.quill.updateContents(ge,y.default.sources.USER),oe.quill.setSelection(ge.length()-fe.length,y.default.sources.SILENT),oe.quill.scrollingContainer.scrollTop=ye,oe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ue=this,oe=[],fe=[];return this.matchers.forEach(function(ge){var ye=o(ge,2),ke=ye[0],We=ye[1];switch(ke){case Node.TEXT_NODE:fe.push(We);break;case Node.ELEMENT_NODE:oe.push(We);break;default:[].forEach.call(ue.container.querySelectorAll(ke),function(_e){_e[Y]=_e[Y]||[],_e[Y].push(We)});break}}),[oe,fe]}}]),ie}(w.default);H.DEFAULTS={matchers:[],matchVisual:!0};function B(te,ie,ae){return(typeof ie>"u"?"undefined":s(ie))==="object"?Object.keys(ie).reduce(function(ue,oe){return B(ue,oe,ie[oe])},te):te.reduce(function(ue,oe){return oe.attributes&&oe.attributes[ie]?ue.push(oe):ue.insert(oe.insert,(0,u.default)({},L({},ie,ae),oe.attributes))},new d.default)}function J(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var ie="__ql-computed-style";return te[ie]||(te[ie]=window.getComputedStyle(te))}function X(te,ie){for(var ae="",ue=te.ops.length-1;ue>=0&&ae.length<ie.length;--ue){var oe=te.ops[ue];if(typeof oe.insert!="string")break;ae=oe.insert+ae}return ae.slice(-1*ie.length)===ie}function j(te){if(te.childNodes.length===0)return!1;var ie=J(te);return["block","list-item"].indexOf(ie.display)>-1}function U(te,ie,ae){return te.nodeType===te.TEXT_NODE?ae.reduce(function(ue,oe){return oe(te,ue)},new d.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(ue,oe){var fe=U(oe,ie,ae);return oe.nodeType===te.ELEMENT_NODE&&(fe=ie.reduce(function(ge,ye){return ye(oe,ge)},fe),fe=(oe[Y]||[]).reduce(function(ge,ye){return ye(oe,ge)},fe)),ue.concat(fe)},new d.default):new d.default}function W(te,ie,ae){return B(ae,te,!0)}function k(te,ie){var ae=f.default.Attributor.Attribute.keys(te),ue=f.default.Attributor.Class.keys(te),oe=f.default.Attributor.Style.keys(te),fe={};return ae.concat(ue).concat(oe).forEach(function(ge){var ye=f.default.query(ge,f.default.Scope.ATTRIBUTE);ye!=null&&(fe[ye.attrName]=ye.value(te),fe[ye.attrName])||(ye=I[ge],ye!=null&&(ye.attrName===ge||ye.keyName===ge)&&(fe[ye.attrName]=ye.value(te)||void 0),ye=D[ge],ye!=null&&(ye.attrName===ge||ye.keyName===ge)&&(ye=D[ge],fe[ye.attrName]=ye.value(te)||void 0))}),Object.keys(fe).length>0&&(ie=B(ie,fe)),ie}function F(te,ie){var ae=f.default.query(te);if(ae==null)return ie;if(ae.prototype instanceof f.default.Embed){var ue={},oe=ae.value(te);oe!=null&&(ue[ae.blotName]=oe,ie=new d.default().insert(ue,ae.formats(te)))}else typeof ae.formats=="function"&&(ie=B(ie,ae.blotName,ae.formats(te)));return ie}function G(te,ie){return X(ie,`
`)||ie.insert(`
`),ie}function Q(){return new d.default}function ee(te,ie){var ae=f.default.query(te);if(ae==null||ae.blotName!=="list-item"||!X(ie,`
`))return ie;for(var ue=-1,oe=te.parentNode;!oe.classList.contains("ql-clipboard");)(f.default.query(oe)||{}).blotName==="list"&&(ue+=1),oe=oe.parentNode;return ue<=0?ie:ie.compose(new d.default().retain(ie.length()-1).retain(1,{indent:ue}))}function ne(te,ie){return X(ie,`
`)||(j(te)||ie.length()>0&&te.nextSibling&&j(te.nextSibling))&&ie.insert(`
`),ie}function le(te,ie){if(j(te)&&te.nextElementSibling!=null&&!X(ie,`

`)){var ae=te.offsetHeight+parseFloat(J(te).marginTop)+parseFloat(J(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+ae*1.5&&ie.insert(`
`)}return ie}function pe(te,ie){var ae={},ue=te.style||{};return ue.fontStyle&&J(te).fontStyle==="italic"&&(ae.italic=!0),ue.fontWeight&&(J(te).fontWeight.startsWith("bold")||parseInt(J(te).fontWeight)>=700)&&(ae.bold=!0),Object.keys(ae).length>0&&(ie=B(ie,ae)),parseFloat(ue.textIndent||0)>0&&(ie=new d.default().insert("	").concat(ie)),ie}function ve(te,ie){var ae=te.data;if(te.parentNode.tagName==="O:P")return ie.insert(ae.trim());if(ae.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return ie;if(!J(te.parentNode).whiteSpace.startsWith("pre")){var ue=function(fe,ge){return ge=ge.replace(/[^\u00a0]/g,""),ge.length<1&&fe?" ":ge};ae=ae.replace(/\r\n/g," ").replace(/\n/g," "),ae=ae.replace(/\s\s+/g,ue.bind(ue,!0)),(te.previousSibling==null&&j(te.parentNode)||te.previousSibling!=null&&j(te.previousSibling))&&(ae=ae.replace(/^\s+/,ue.bind(ue,!1))),(te.nextSibling==null&&j(te.parentNode)||te.nextSibling!=null&&j(te.nextSibling))&&(ae=ae.replace(/\s+$/,ue.bind(ue,!1)))}return ie.insert(ae)}i.default=H,i.matchAttributor=k,i.matchBlot=F,i.matchNewline=ne,i.matchSpacing=le,i.matchText=ve},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(y,b){for(var p=0;p<b.length;p++){var m=b[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,p){return b&&v(y.prototype,b),p&&v(y,p),y}}(),o=function v(y,b,p){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,b,p)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(p)}},a=r(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){c(y,v);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"optimize",value:function(p){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,p),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var s=function(){function x(_,L){var M=[],P=!0,z=!1,$=void 0;try{for(var Y=_[Symbol.iterator](),V;!(P=(V=Y.next()).done)&&(M.push(V.value),!(L&&M.length===L));P=!0);}catch(I){z=!0,$=I}finally{try{!P&&Y.return&&Y.return()}finally{if(z)throw $}}return M}return function(_,L){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return x(_,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function x(_,L){for(var M=0;M<L.length;M++){var P=L[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,L,M){return L&&x(_.prototype,L),M&&x(_,M),_}}(),a=r(2),l=p(a),u=r(0),h=p(u),d=r(5),c=p(d),f=r(10),v=p(f),y=r(9),b=p(y);function p(x){return x&&x.__esModule?x:{default:x}}function m(x,_,L){return _ in x?Object.defineProperty(x,_,{value:L,enumerable:!0,configurable:!0,writable:!0}):x[_]=L,x}function w(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function g(x,_){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:x}function S(x,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(x,_):x.__proto__=_)}var R=(0,v.default)("quill:toolbar"),T=function(x){S(_,x);function _(L,M){w(this,_);var P=g(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,L,M));if(Array.isArray(P.options.container)){var z=document.createElement("div");O(z,P.options.container),L.container.parentNode.insertBefore(z,L.container),P.container=z}else typeof P.options.container=="string"?P.container=document.querySelector(P.options.container):P.container=P.options.container;if(!(P.container instanceof HTMLElement)){var $;return $=R.error("Container required for toolbar",P.options),g(P,$)}return P.container.classList.add("ql-toolbar"),P.controls=[],P.handlers={},Object.keys(P.options.handlers).forEach(function(Y){P.addHandler(Y,P.options.handlers[Y])}),[].forEach.call(P.container.querySelectorAll("button, select"),function(Y){P.attach(Y)}),P.quill.on(c.default.events.EDITOR_CHANGE,function(Y,V){Y===c.default.events.SELECTION_CHANGE&&P.update(V)}),P.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var Y=P.quill.selection.getRange(),V=s(Y,1),I=V[0];P.update(I)}),P}return o(_,[{key:"addHandler",value:function(M,P){this.handlers[M]=P}},{key:"attach",value:function(M){var P=this,z=[].find.call(M.classList,function(Y){return Y.indexOf("ql-")===0});if(z){if(z=z.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){R.warn("ignoring attaching to disabled format",z,M);return}if(h.default.query(z)==null){R.warn("ignoring attaching to nonexistent format",z,M);return}}var $=M.tagName==="SELECT"?"change":"click";M.addEventListener($,function(Y){var V=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var I=M.options[M.selectedIndex];I.hasAttribute("selected")?V=!1:V=I.value||!1}else M.classList.contains("ql-active")?V=!1:V=M.value||!M.hasAttribute("value"),Y.preventDefault();P.quill.focus();var D=P.quill.selection.getRange(),H=s(D,1),B=H[0];if(P.handlers[z]!=null)P.handlers[z].call(P,V);else if(h.default.query(z).prototype instanceof h.default.Embed){if(V=prompt("Enter "+z),!V)return;P.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},z,V)),c.default.sources.USER)}else P.quill.format(z,V,c.default.sources.USER);P.update(B)}),this.controls.push([z,M])}}},{key:"update",value:function(M){var P=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(z){var $=s(z,2),Y=$[0],V=$[1];if(V.tagName==="SELECT"){var I=void 0;if(M==null)I=null;else if(P[Y]==null)I=V.querySelector("option[selected]");else if(!Array.isArray(P[Y])){var D=P[Y];typeof D=="string"&&(D=D.replace(/\"/g,'\\"')),I=V.querySelector('option[value="'+D+'"]')}I==null?(V.value="",V.selectedIndex=-1):I.selected=!0}else if(M==null)V.classList.remove("ql-active");else if(V.hasAttribute("value")){var H=P[Y]===V.getAttribute("value")||P[Y]!=null&&P[Y].toString()===V.getAttribute("value")||P[Y]==null&&!V.getAttribute("value");V.classList.toggle("ql-active",H)}else V.classList.toggle("ql-active",P[Y]!=null)})}}]),_}(b.default);T.DEFAULTS={};function E(x,_,L){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+_),L!=null&&(M.value=L),x.appendChild(M)}function O(x,_){Array.isArray(_[0])||(_=[_]),_.forEach(function(L){var M=document.createElement("span");M.classList.add("ql-formats"),L.forEach(function(P){if(typeof P=="string")E(M,P);else{var z=Object.keys(P)[0],$=P[z];Array.isArray($)?C(M,z,$):E(M,z,$)}}),x.appendChild(M)})}function C(x,_,L){var M=document.createElement("select");M.classList.add("ql-"+_),L.forEach(function(P){var z=document.createElement("option");P!==!1?z.setAttribute("value",P):z.setAttribute("selected","selected"),M.appendChild(z)}),x.appendChild(M)}T.DEFAULTS={container:null,handlers:{clean:function(){var _=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(P){h.default.query(P,h.default.Scope.INLINE)!=null&&_.quill.format(P,!1)})}else this.quill.removeFormat(L,c.default.sources.USER)},direction:function(_){var L=this.quill.getFormat().align;_==="rtl"&&L==null?this.quill.format("align","right",c.default.sources.USER):!_&&L==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",_,c.default.sources.USER)},indent:function(_){var L=this.quill.getSelection(),M=this.quill.getFormat(L),P=parseInt(M.indent||0);if(_==="+1"||_==="-1"){var z=_==="+1"?1:-1;M.direction==="rtl"&&(z*=-1),this.quill.format("indent",P+z,c.default.sources.USER)}},link:function(_){_===!0&&(_=prompt("Enter link URL:")),this.quill.format("link",_,c.default.sources.USER)},list:function(_){var L=this.quill.getSelection(),M=this.quill.getFormat(L);_==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",_,c.default.sources.USER)}}},i.default=T,i.addControls=O},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(y,b){for(var p=0;p<b.length;p++){var m=b[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,p){return b&&v(y.prototype,b),p&&v(y,p),y}}(),o=function v(y,b,p){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,b,p)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(p)}},a=r(28),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){c(y,v);function y(b,p){h(this,y);var m=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return m.label.innerHTML=p,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),m}return s(y,[{key:"buildItem",value:function(p){var m=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,p);return m.style.backgroundColor=p.getAttribute("value")||"",m}},{key:"selectItem",value:function(p,m){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,m);var w=this.label.querySelector(".ql-color-label"),g=p&&p.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=g:w.style.fill=g)}}]),y}(l.default);i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(y,b){for(var p=0;p<b.length;p++){var m=b[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,p){return b&&v(y.prototype,b),p&&v(y,p),y}}(),o=function v(y,b,p){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,b,p)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(p)}},a=r(28),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){c(y,v);function y(b,p){h(this,y);var m=d(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,b));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=p[w.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return s(y,[{key:"selectItem",value:function(p,m){o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,p,m),p=p||this.defaultItem,this.label.innerHTML=p.innerHTML}}]),y}(l.default);i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function l(u,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,h,d){return h&&l(u.prototype,h),d&&l(u,d),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){var d=this;o(this,l),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var d=h.left+h.width/2-this.root.offsetWidth/2,c=h.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),y=0;if(v.right>f.right&&(y=f.right-v.right,this.root.style.left=d+y+"px"),v.left<f.left&&(y=f.left-v.left,this.root.style.left=d+y+"px"),v.bottom>f.bottom){var b=v.bottom-v.top,p=h.bottom-h.top+b;this.root.style.top=c-p+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();i.default=a},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function C(x,_){var L=[],M=!0,P=!1,z=void 0;try{for(var $=x[Symbol.iterator](),Y;!(M=(Y=$.next()).done)&&(L.push(Y.value),!(_&&L.length===_));M=!0);}catch(V){P=!0,z=V}finally{try{!M&&$.return&&$.return()}finally{if(P)throw z}}return L}return function(x,_){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return C(x,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function C(x,_,L){x===null&&(x=Function.prototype);var M=Object.getOwnPropertyDescriptor(x,_);if(M===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:C(P,_,L)}else{if("value"in M)return M.value;var z=M.get;return z===void 0?void 0:z.call(L)}},a=function(){function C(x,_){for(var L=0;L<_.length;L++){var M=_[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}return function(x,_,L){return _&&C(x.prototype,_),L&&C(x,L),x}}(),l=r(3),u=w(l),h=r(8),d=w(h),c=r(43),f=w(c),v=r(27),y=w(v),b=r(15),p=r(41),m=w(p);function w(C){return C&&C.__esModule?C:{default:C}}function g(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}function S(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:C}function R(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);C.prototype=Object.create(x&&x.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(C,x):C.__proto__=x)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(C){R(x,C);function x(_,L){g(this,x),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=T);var M=S(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,_,L));return M.quill.container.classList.add("ql-snow"),M}return a(x,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),m.default),this.tooltip=new O(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,P){L.handlers.link.call(L,!P.format.link)})}}]),x}(f.default);E.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){if(x){var _=this.quill.getSelection();if(_==null||_.length==0)return;var L=this.quill.getText(_);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var M=this.quill.theme.tooltip;M.edit("link",L)}else this.quill.format("link",!1)}}}}});var O=function(C){R(x,C);function x(_,L){g(this,x);var M=S(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,_,L));return M.preview=M.root.querySelector("a.ql-preview"),M}return a(x,[{key:"listen",value:function(){var L=this;o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(L.linkRange!=null){var P=L.linkRange;L.restoreFocus(),L.quill.formatText(P,"link",!1,d.default.sources.USER),delete L.linkRange}M.preventDefault(),L.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(M,P,z){if(M!=null){if(M.length===0&&z===d.default.sources.USER){var $=L.quill.scroll.descendant(y.default,M.index),Y=s($,2),V=Y[0],I=Y[1];if(V!=null){L.linkRange=new b.Range(M.index-I,V.length());var D=y.default.formats(V.domNode);L.preview.textContent=D,L.preview.setAttribute("href",D),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),x}(c.BaseTooltip);O.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=E},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(29),o=oe(s),a=r(36),l=r(38),u=r(64),h=r(65),d=oe(h),c=r(66),f=oe(c),v=r(67),y=oe(v),b=r(37),p=r(26),m=r(39),w=r(40),g=r(56),S=oe(g),R=r(68),T=oe(R),E=r(27),O=oe(E),C=r(69),x=oe(C),_=r(70),L=oe(_),M=r(71),P=oe(M),z=r(72),$=oe(z),Y=r(73),V=oe(Y),I=r(13),D=oe(I),H=r(74),B=oe(H),J=r(75),X=oe(J),j=r(57),U=oe(j),W=r(41),k=oe(W),F=r(28),G=oe(F),Q=r(59),ee=oe(Q),ne=r(60),le=oe(ne),pe=r(61),ve=oe(pe),te=r(108),ie=oe(te),ae=r(62),ue=oe(ae);function oe(fe){return fe&&fe.__esModule?fe:{default:fe}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":m.FontClass,"formats/size":w.SizeClass,"formats/blockquote":d.default,"formats/code-block":D.default,"formats/header":f.default,"formats/list":y.default,"formats/bold":S.default,"formats/code":I.Code,"formats/italic":T.default,"formats/link":O.default,"formats/script":x.default,"formats/strike":L.default,"formats/underline":P.default,"formats/image":$.default,"formats/video":V.default,"formats/list/item":v.ListItem,"modules/formula":B.default,"modules/syntax":X.default,"modules/toolbar":U.default,"themes/bubble":ie.default,"themes/snow":ue.default,"ui/icons":k.default,"ui/picker":G.default,"ui/icon-picker":le.default,"ui/color-picker":ee.default,"ui/tooltip":ve.default},!0),i.default=o.default},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var s=function(){function y(b,p){for(var m=0;m<p.length;m++){var w=p[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,p,m){return p&&y(b.prototype,p),m&&y(b,m),b}}(),o=function y(b,p,m){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,p);if(w===void 0){var g=Object.getPrototypeOf(b);return g===null?void 0:y(g,p,m)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(m)}},a=r(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function d(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function c(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var f=function(y){c(b,y);function b(){return h(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"add",value:function(m,w){if(w==="+1"||w==="-1"){var g=this.value(m)||0;w=w==="+1"?g+1:g-1}return w===0?(this.remove(m),!0):o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,m,w)}},{key:"canAdd",value:function(m,w){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,w)||o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,m,parseInt(w))}},{key:"value",value:function(m){return parseInt(o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,m))||void 0}}]),b}(l.default.Attributor.Class),v=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=v},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(4),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function u(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function h(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var d=function(c){h(f,c);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="blockquote",d.tagName="blockquote",i.default=d},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function f(v,y){for(var b=0;b<y.length;b++){var p=y[b];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,y,b){return y&&f(v.prototype,y),b&&f(v,b),v}}(),o=r(4),a=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function h(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function d(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var c=function(f){d(v,f);function v(){return u(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),v}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],i.default=c},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var s=function(){function g(S,R){for(var T=0;T<R.length;T++){var E=R[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,R,T){return R&&g(S.prototype,R),T&&g(S,T),S}}(),o=function g(S,R,T){S===null&&(S=Function.prototype);var E=Object.getOwnPropertyDescriptor(S,R);if(E===void 0){var O=Object.getPrototypeOf(S);return O===null?void 0:g(O,R,T)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(T)}},a=r(0),l=f(a),u=r(4),h=f(u),d=r(25),c=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function v(g,S,R){return S in g?Object.defineProperty(g,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):g[S]=R,g}function y(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}function b(g,S){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:g}function p(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(g,S):g.__proto__=S)}var m=function(g){p(S,g);function S(){return y(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"format",value:function(T,E){T===w.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,T,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,E){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,E),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,T,E))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,T)}}]),S}(h.default);m.blotName="list-item",m.tagName="LI";var w=function(g){p(S,g),s(S,null,[{key:"create",value:function(T){var E=T==="ordered"?"OL":"UL",O=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,E);return(T==="checked"||T==="unchecked")&&O.setAttribute("data-checked",T==="checked"),O}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(R){y(this,S);var T=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R)),E=function(C){if(C.target.parentNode===R){var x=T.statics.formats(R),_=l.default.find(C.target);x==="checked"?_.format("list","unchecked"):x==="unchecked"&&_.format("list","checked")}};return R.addEventListener("touchstart",E),R.addEventListener("mousedown",E),T}return s(S,[{key:"format",value:function(T,E){this.children.length>0&&this.children.tail.format(T,E)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,E){if(T instanceof m)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,T,E);else{var O=E==null?this.length():E.offset(this),C=this.split(O);C.parent.insertBefore(T,C)}}},{key:"optimize",value:function(T){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,T);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);T.moveChildren(E),this.appendChild(E)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,T)}}]),S}(c.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[m],i.ListItem=m,i.default=w},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(56),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function u(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function h(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var d=function(c){h(f,c);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="italic",d.tagName=["EM","I"],i.default=d},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(y,b){for(var p=0;p<b.length;p++){var m=b[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}return function(y,b,p){return b&&v(y.prototype,b),p&&v(y,p),y}}(),o=function v(y,b,p){y===null&&(y=Function.prototype);var m=Object.getOwnPropertyDescriptor(y,b);if(m===void 0){var w=Object.getPrototypeOf(y);return w===null?void 0:v(w,b,p)}else{if("value"in m)return m.value;var g=m.get;return g===void 0?void 0:g.call(p)}},a=r(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function d(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var f=function(v){c(y,v);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(p){return p==="super"?document.createElement("sup"):p==="sub"?document.createElement("sub"):o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,p)}},{key:"formats",value:function(p){if(p.tagName==="SUB")return"sub";if(p.tagName==="SUP")return"super"}}]),y}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(6),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function u(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function h(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var d=function(c){h(f,c);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="strike",d.tagName="S",i.default=d},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(6),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function u(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function h(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var d=function(c){h(f,c);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);d.blotName="underline",d.tagName="U",i.default=d},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function b(p,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,m,w){return m&&b(p.prototype,m),w&&b(p,w),p}}(),o=function b(p,m,w){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,m);if(g===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:b(S,m,w)}else{if("value"in g)return g.value;var R=g.get;return R===void 0?void 0:R.call(w)}},a=r(0),l=h(a),u=r(27);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function c(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function f(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var v=["alt","height","width"],y=function(b){f(p,b);function p(){return d(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,[{key:"format",value:function(w,g){v.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return typeof w=="string"&&g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return v.reduce(function(g,S){return w.hasAttribute(S)&&(g[S]=w.getAttribute(S)),g},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(l.default.Embed);y.blotName="image",y.tagName="IMG",i.default=y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function b(p,m){for(var w=0;w<m.length;w++){var g=m[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(p,g.key,g)}}return function(p,m,w){return m&&b(p.prototype,m),w&&b(p,w),p}}(),o=function b(p,m,w){p===null&&(p=Function.prototype);var g=Object.getOwnPropertyDescriptor(p,m);if(g===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:b(S,m,w)}else{if("value"in g)return g.value;var R=g.get;return R===void 0?void 0:R.call(w)}},a=r(4),l=r(27),u=h(l);function h(b){return b&&b.__esModule?b:{default:b}}function d(b,p){if(!(b instanceof p))throw new TypeError("Cannot call a class as a function")}function c(b,p){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:b}function f(b,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);b.prototype=Object.create(p&&p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(b,p):b.__proto__=p)}var v=["height","width"],y=function(b){f(p,b);function p(){return d(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,[{key:"format",value:function(w,g){v.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,w);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return v.reduce(function(g,S){return w.hasAttribute(S)&&(g[S]=w.getAttribute(S)),g},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),p}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",i.default=y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var s=function(){function w(g,S){for(var R=0;R<S.length;R++){var T=S[R];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,S,R){return S&&w(g.prototype,S),R&&w(g,R),g}}(),o=function w(g,S,R){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,S);if(T===void 0){var E=Object.getPrototypeOf(g);return E===null?void 0:w(E,S,R)}else{if("value"in T)return T.value;var O=T.get;return O===void 0?void 0:O.call(R)}},a=r(35),l=f(a),u=r(5),h=f(u),d=r(9),c=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function v(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function y(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function b(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var p=function(w){b(g,w);function g(){return v(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(R){var T=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",R)),T}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),g}(l.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var m=function(w){b(g,w),s(g,null,[{key:"register",value:function(){h.default.register(p,!0)}}]);function g(){v(this,g);var S=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return g}(c.default);i.FormulaBlot=p,i.default=m},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var s=function(){function R(T,E){for(var O=0;O<E.length;O++){var C=E[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,E,O){return E&&R(T.prototype,E),O&&R(T,O),T}}(),o=function R(T,E,O){T===null&&(T=Function.prototype);var C=Object.getOwnPropertyDescriptor(T,E);if(C===void 0){var x=Object.getPrototypeOf(T);return x===null?void 0:R(x,E,O)}else{if("value"in C)return C.value;var _=C.get;return _===void 0?void 0:_.call(O)}},a=r(0),l=y(a),u=r(5),h=y(u),d=r(9),c=y(d),f=r(13),v=y(f);function y(R){return R&&R.__esModule?R:{default:R}}function b(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function p(R,T){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:R}function m(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(R,T):R.__proto__=T)}var w=function(R){m(T,R);function T(){return b(this,T),p(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),T}(v.default);w.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(R){m(T,R),s(T,null,[{key:"register",value:function(){h.default.register(g,!0),h.default.register(w,!0)}}]);function T(E,O){b(this,T);var C=p(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E,O));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var x=null;return C.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(x),x=setTimeout(function(){C.highlight(),x=null},C.options.interval)}),C.highlight(),C}return s(T,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(x){x.highlight(O.options.highlight)}),this.quill.update(h.default.sources.SILENT),C!=null&&this.quill.setSelection(C,h.default.sources.SILENT)}}}]),T}(c.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(R){var T=window.hljs.highlightAuto(R);return T.value}}(),interval:1e3},i.CodeBlock=w,i.CodeToken=g,i.default=S},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var s=function T(E,O,C){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,O);if(x===void 0){var _=Object.getPrototypeOf(E);return _===null?void 0:T(_,O,C)}else{if("value"in x)return x.value;var L=x.get;return L===void 0?void 0:L.call(C)}},o=function(){function T(E,O){for(var C=0;C<O.length;C++){var x=O[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,O,C){return O&&T(E.prototype,O),C&&T(E,C),E}}(),a=r(3),l=b(a),u=r(8),h=b(u),d=r(43),c=b(d),f=r(15),v=r(41),y=b(v);function b(T){return T&&T.__esModule?T:{default:T}}function p(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function m(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function w(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(T){w(E,T);function E(O,C){p(this,E),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=g);var x=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,C));return x.quill.container.classList.add("ql-bubble"),x}return o(E,[{key:"extendToolbar",value:function(C){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),y.default)}}]),E}(c.default);S.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=function(T){w(E,T);function E(O,C){p(this,E);var x=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,C));return x.quill.on(h.default.events.EDITOR_CHANGE,function(_,L,M,P){if(_===h.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&P===h.default.sources.USER){x.show(),x.root.style.left="0px",x.root.style.width="",x.root.style.width=x.root.offsetWidth+"px";var z=x.quill.getLines(L.index,L.length);if(z.length===1)x.position(x.quill.getBounds(L));else{var $=z[z.length-1],Y=x.quill.getIndex($),V=Math.min($.length()-1,L.index+L.length-Y),I=x.quill.getBounds(new f.Range(Y,V));x.position(I)}}else document.activeElement!==x.textbox&&x.quill.hasFocus()&&x.hide()}),x}return o(E,[{key:"listen",value:function(){var C=this;s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var x=C.quill.getSelection();x!=null&&C.position(C.quill.getBounds(x))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var x=s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,C),_=this.root.querySelector(".ql-tooltip-arrow");if(_.style.marginLeft="",x===0)return x;_.style.marginLeft=-1*x-_.offsetWidth/2+"px"}}]),E}(d.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=R,i.default=S},function(t,i,r){t.exports=r(63)}]).default})})($c);var yx=$c.exports,wx=Pe&&Pe.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vr=Pe&&Pe.__assign||function(){return Vr=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Vr.apply(this,arguments)},Cx=Pe&&Pe.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i},us=Pe&&Pe.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},Nt=us(N),Ex=us(ea),Fn=us(vx),$l=us(yx),xx=function(n){wx(e,n);function e(t){var i=n.call(this,t)||this;i.dirtyProps=["modules","formats","bounds","theme","children"],i.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],i.state={generation:0},i.selection=null,i.onEditorChange=function(s,o,a,l){var u,h,d,c;s==="text-change"?(h=(u=i).onEditorChangeText)===null||h===void 0||h.call(u,i.editor.root.innerHTML,o,l,i.unprivilegedEditor):s==="selection-change"&&((c=(d=i).onEditorChangeSelection)===null||c===void 0||c.call(d,o,l,i.unprivilegedEditor))};var r=i.isControlled()?t.value:t.defaultValue;return i.value=r??"",i}return e.prototype.validateProps=function(t){var i;if(Nt.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Nt.default.Children.count(t.children)){var r=Nt.default.Children.only(t.children);if(((i=r)===null||i===void 0?void 0:i.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(t,i){var r=this,s;if(this.validateProps(t),!this.editor||this.state.generation!==i.generation)return!0;if("value"in t){var o=this.getEditorContents(),a=(s=t.value,s??"");this.isEqualValue(a,o)||this.setEditorContents(this.editor,a)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),Cx(this.cleanProps,this.dirtyProps).some(function(l){return!Fn.default(t[l],r.props[l])})},e.prototype.shouldComponentRegenerate=function(t){var i=this;return this.dirtyProps.some(function(r){return!Fn.default(t[r],i.props[r])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(t,i){var r=this;if(this.editor&&this.shouldComponentRegenerate(t)){var s=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==i.generation){var a=this.regenerationSnapshot,s=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(s),zl(function(){return r.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(t,i){var r=new $l.default(t,i);return i.tabIndex!=null&&this.setEditorTabIndex(r,i.tabIndex),this.hookEditor(r),r},e.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(t){return t&&t.ops},e.prototype.isEqualValue=function(t,i){return this.isDelta(t)&&this.isDelta(i)?Fn.default(t.ops,i.ops):Fn.default(t,i)},e.prototype.setEditorContents=function(t,i){var r=this;this.value=i;var s=this.getEditorSelection();typeof i=="string"?t.setContents(t.clipboard.convert(i)):t.setContents(i),zl(function(){return r.setEditorSelection(t,s)})},e.prototype.setEditorSelection=function(t,i){if(this.selection=i,i){var r=t.getLength();i.index=Math.max(0,Math.min(i.index,r-1)),i.length=Math.max(0,Math.min(i.length,r-1-i.index)),t.setSelection(i)}},e.prototype.setEditorTabIndex=function(t,i){var r,s;!((s=(r=t)===null||r===void 0?void 0:r.scroll)===null||s===void 0)&&s.domNode&&(t.scroll.domNode.tabIndex=i)},e.prototype.setEditorReadOnly=function(t,i){i?t.disable():t.enable()},e.prototype.makeUnprivilegedEditor=function(t){var i=t;return{getHTML:function(){return i.root.innerHTML},getLength:i.getLength.bind(i),getText:i.getText.bind(i),getContents:i.getContents.bind(i),getSelection:i.getSelection.bind(i),getBounds:i.getBounds.bind(i)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=Ex.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t},e.prototype.renderEditingArea=function(){var t=this,i=this.props,r=i.children,s=i.preserveWhitespace,o=this.state.generation,a={key:o,ref:function(l){t.editingArea=l}};return Nt.default.Children.count(r)?Nt.default.cloneElement(Nt.default.Children.only(r),a):s?Nt.default.createElement("pre",Vr({},a)):Nt.default.createElement("div",Vr({},a))},e.prototype.render=function(){var t;return Nt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,t??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(t,i,r,s){var o,a;if(this.editor){var l=this.isDelta(this.value)?s.getContents():s.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=i,this.value=l,(a=(o=this.props).onChange)===null||a===void 0||a.call(o,t,i,r,s))}},e.prototype.onEditorChangeSelection=function(t,i,r){var s,o,a,l,u,h;if(this.editor){var d=this.getEditorSelection(),c=!d&&t,f=d&&!t;Fn.default(t,d)||(this.selection=t,(o=(s=this.props).onChangeSelection)===null||o===void 0||o.call(s,t,i,r),c?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,t,i,r):f&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,d,i,r)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=$l.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Nt.default.Component);function zl(n){Promise.resolve().then(n)}var Sx=xx;const _x=ir(Sx),Bl=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Rx=["header","font","size","script","bold","italic","underline","strike","blockquote","code-block","list","bullet","indent","link","color","align","background","image","video"],Tx=[[{header:[1,2,!1]}],[{align:["","center","right","justify"]}],["bold","italic","underline","strike"],[{color:Bl},{background:Bl}],[{script:"super"},{script:"sub"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],Ox=Ee.forwardRef((n,e)=>{const t=n.formats??Rx,r={toolbar:n.toolbar??Tx};return se.jsxs(se.Fragment,{children:[se.jsx(qv,{}),se.jsx(_x,{ref:e,theme:n.theme??"snow",id:n.id,bounds:n.bounds,className:n.className,defaultValue:n.defaultValue,value:n.value,formats:t,modules:r,placeholder:n.placeholder,preserveWhitespace:n.preserveWhitespace,readOnly:n.readOnly||n.disabled,scrollingContainer:n.scrollingContainer,style:n.style,tabIndex:n.tabIndex,onChange:n.onChange,onBlur:n.onBlur,onChangeSelection:n.onChangeSelection,onFocus:n.onFocus,onKeyDown:n.onKeyUp,onKeyPress:n.onKeyPress,onKeyUp:n.onKeyUp})]})});Ox.displayName="QuillEditor";var kx=n=>{let e=n;for(;e=e.parentElement;){const t=getComputedStyle(e,null).getPropertyValue("overflow-y");if(e===document.body)return window;if(t==="auto"||t==="scroll"||t==="overlay")return e}return window},zc=n=>n.firstChild?n.firstChild.offsetParent===n:!0,Mx=(n,e)=>{let t=n,i=0;zc(e)||(i+=n.offsetTop-e.offsetTop,e=n.offsetParent,i+=-n.offsetTop);do i+=t.offsetTop,t=t.offsetParent;while(t&&t!==e);return i},Lx=n=>{let e=n.parentElement;for(;e&&getComputedStyle(e,null).getPropertyValue("display")==="contents";)e=e.parentElement;return e||window},tr=null;typeof CSS<"u"&&CSS.supports&&(CSS.supports("position","sticky")?tr="sticky":CSS.supports("position","-webkit-sticky")&&(tr="-webkit-sticky"));var Wr=!1;try{const n=Object.defineProperty({},"passive",{get(){Wr={passive:!0}}}),e=()=>{};window.addEventListener("testPassive",e,n),window.removeEventListener("testPassive",e,n)}catch{}var Js=n=>{const{el:e,onChange:t,unsubs:i,measure:r}=n;if(e===window){const s=()=>({top:0,left:0,height:window.innerHeight,width:window.innerWidth}),o=r(s()),a=()=>{Object.assign(o,r(s())),t()};return window.addEventListener("resize",a,Wr),i.push(()=>window.removeEventListener("resize",a)),o}else{const s=r(e.getBoundingClientRect()),o=()=>{Object.assign(s,r(e.getBoundingClientRect())),t()},a=new ResizeObserver(o);return a.observe(e),i.push(()=>a.disconnect()),s}},Ax=n=>{const e=getComputedStyle(n,null),t=parseInt(e.getPropertyValue("padding-top"),10),i=parseInt(e.getPropertyValue("padding-bottom"),10);return{top:t,bottom:i}},Dx=(n,e,t)=>{const{bottom:i,offsetBottom:r,offsetTop:s}=t,o=kx(n);let a=!1;const l=()=>{a||requestAnimationFrame(()=>{const T=d();if(T!==w)g(T);else if(T===1&&!i){const{height:E}=f,{height:O}=p;n.style.top=`${E-O-r}px`}else if(T===2){const{height:E,offsetTop:O}=f,{height:C,naturalTop:x}=b,{height:_}=p,L=Math.max(0,O+u+E-(x+_+r));if(i){const M=Math.max(0,C-_-L);n.style.bottom=`${M}px`}else n.style.top=`${L}px`}a=!1}),a=!0};let u=o===window?window.scrollY:o.scrollTop;const h=T=>{const{offsetTop:E,height:O}=f,{naturalTop:C}=b,{height:x}=p;return T+E+O>=C+x+m+r},d=()=>{const{height:T}=f,{height:E}=p;return E+s+r<=T?3:h(u)?1:2},c=o!==window&&zc(o),f=Js({el:o,onChange:l,unsubs:e,measure:({height:T,top:E})=>({height:T,offsetTop:c?E:0})}),v=Lx(n),y=v===window?{top:0,bottom:0}:Ax(v),b=Js({el:v,onChange:l,unsubs:e,measure:({height:T})=>({height:T-y.top-y.bottom,naturalTop:v===window?0:Mx(v,o)+y.top+f.offsetTop})}),p=Js({el:n,onChange:l,unsubs:e,measure:({height:T})=>({height:T})});let m=0,w=d();const g=T=>{const E=w;if(w=T,E===2&&(m=-1),T===3){n.style.position=tr,i?n.style.bottom=`${r}px`:n.style.top=`${s}px`;return}const{height:O,offsetTop:C}=f,{height:x,naturalTop:_}=b,{height:L}=p;if(T===2)if(n.style.position="relative",m=E===0?Math.max(0,C+u-_+s):Math.max(0,C+u+O-(_+L+r)),i){const M=Math.max(0,x-L-m);n.style.bottom=`${M}px`}else n.style.top=`${m}px`;else n.style.position=tr,T===1?i?n.style.bottom=`${r}px`:n.style.top=`${O-L-r}px`:i?n.style.bottom=`${O-L-r}px`:n.style.top=`${s}px`};g(w);const S=T=>{if(T===u)return;const E=T-u;if(u=T,w===3)return;const{offsetTop:O,height:C}=f,{naturalTop:x,height:_}=b,{height:L}=p;if(E>0)if(w===0){if(T+O+s>x){const M=Math.max(0,O+u-x+s);T+O+C<=x+L+M+r?g(2):g(1)}}else w===2&&h(T)&&g(1);else if(w===1){if(O+T+C<x+_+r){const M=Math.max(0,O+u+C-(x+L+r));O+T+s>=x+M?g(2):g(0)}}else w===2&&O+T+s<x+m&&g(0)},R=o===window?()=>S(window.scrollY):()=>S(o.scrollTop);o.addEventListener("scroll",R,Wr),o.addEventListener("mousewheel",R,Wr),e.push(()=>o.removeEventListener("scroll",R),()=>o.removeEventListener("mousewheel",R))},Px=({offsetTop:n=0,offsetBottom:e=0,bottom:t=!1}={})=>{const[i,r]=N.useState(null);return N.useEffect(()=>{if(!i||!tr)return;const s=[];return Dx(i,s,{offsetBottom:e,offsetTop:n,bottom:t}),()=>{s.forEach(o=>o())}},[i,e,n,t]),r},Fx=n=>{const{offsetTop:e,offsetBottom:t,bottom:i,children:r,className:s,style:o}=n,a=Px({offsetTop:e,offsetBottom:t,bottom:i});return se.jsx("div",{className:s,style:o,ref:a,children:r})},qR=Fx;class et{constructor(e){this.table=e}reloadData(e,t,i){return this.table.dataLoader.load(e,void 0,void 0,void 0,t,i)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,t){return typeof t<"u"&&(this.table.options[e]=t),this.table.options[e]}deprecationCheck(e,t,i){return this.table.deprecationAdvisor.check(e,t,i)}deprecationCheckMsg(e,t){return this.table.deprecationAdvisor.checkMsg(e,t)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class He{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}static retrieveNestedData(e,t,i){var r=e?t.split(e):[t],s=r.length,o;for(let a=0;a<s&&(i=i[r[a]],o=i,!!i);a++);return o}static deepClone(e,t,i=[]){var r={}.__proto__,s=[].__proto__;t||(t=Object.assign(Array.isArray(e)?[]:{},e));for(var o in e){let a=e[o],l,u;a!=null&&typeof a=="object"&&(a.__proto__===r||a.__proto__===s)&&(l=i.findIndex(h=>h.subject===a),l>-1?t[o]=i[l].copy:(u=Object.assign(Array.isArray(a)?[]:{},a),i.unshift({subject:a,copy:u}),t[o]=this.deepClone(a,u,i)))}return t}}let Nx=class Bc extends et{constructor(e,t,i){super(e),this.element=t,this.container=this._lookupContainer(),this.parent=i,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return typeof e=="string"?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):e===!0&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,t=this.table.element){return e===t?!0:t.parentNode?this._checkContainerIsParent(e,t.parentNode):!1}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var t=!(e instanceof MouseEvent),i=t?e.touches[0].pageX:e.pageX,r=t?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let s=He.elOffset(this.container);i-=s.left,r-=s.top}return{x:i,y:r}}elementPositionCoords(e,t="right"){var i=He.elOffset(e),r,s,o;switch(this.container!==document.body&&(r=He.elOffset(this.container),i.left-=r.left,i.top-=r.top),t){case"right":s=i.left+e.offsetWidth,o=i.top-1;break;case"bottom":s=i.left,o=i.top+e.offsetHeight;break;case"left":s=i.left,o=i.top-1;break;case"top":s=i.left,o=i.top;break;case"center":s=i.left+e.offsetWidth/2,o=i.top+e.offsetHeight/2;break}return{x:s,y:o,offset:i}}show(e,t){var i,r,s,o,a;return this.destroyed||this.table.destroyed?this:(e instanceof HTMLElement?(s=e,a=this.elementPositionCoords(e,t),o=a.offset,i=a.x,r=a.y):typeof e=="number"?(o={top:0,left:0},i=e,r=t):(a=this.containerEventCoords(e),i=a.x,r=a.y,this.reversedX=!1),this.element.style.top=r+"px",this.element.style.left=i+"px",this.container.appendChild(this.element),typeof this.renderedCallback=="function"&&this.renderedCallback(),this._fitToScreen(i,r,s,o,t),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",l=>{l.stopPropagation()}),this)}_fitToScreen(e,t,i,r,s){var o=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;(e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",i?this.element.style.right=this.container.offsetWidth-r.left+"px":this.element.style.right=this.container.offsetWidth-e+"px",this.reversedX=!0);let a=Math.max(this.container.offsetHeight,o?this.container.scrollHeight:0);if(t+this.element.offsetHeight>a)if(i)switch(s){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-i.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+i.offsetHeight+1+"px"}else this.element.style.height=a+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout(()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)},100),this.blurCallback=e),this}_escapeCheck(e){e.keyCode==27&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new Bc(this.table,e,this),this.childPopup}};class Se extends et{constructor(e,t){super(e),this._handler=null}initialize(){}registerTableOption(e,t){this.table.optionsList.register(e,t)}registerColumnOption(e,t){this.table.columnManager.optionsList.register(e,t)}registerTableFunction(e,t){typeof this.table[e]>"u"?this.table[e]=(...i)=>(this.table.initGuard(e),t(...i)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,t,i){return this.table.componentFunctionBinder.bind(e,t,i)}registerDataHandler(e,t){this.table.rowManager.registerDataPipelineHandler(e,t),this._handler=e}registerDisplayHandler(e,t){this.table.rowManager.registerDisplayPipelineHandler(e,t),this._handler=e}displayRows(e){var t=this.table.rowManager.displayRows.length-1,i;if(this._handler&&(i=this.table.rowManager.displayPipeline.findIndex(r=>r.handler===this._handler),i>-1&&(t=i)),e&&(t=t+e),this._handler)return t>-1?this.table.rowManager.getDisplayRows(t):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,t){t||(t=this._handler),t&&this.table.rowManager.refreshActiveData(t,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,t){return new Nx(this.table,e,t)}alert(e,t){return this.table.alertManager.alert(e,t)}clearAlert(){return this.table.alertManager.clear()}}var Ix={rownum:function(n,e,t,i,r,s){return s.getPosition()}};const rn=class rn extends Se{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,i={};this.allowedTypes.forEach(r=>{var s="accessor"+(r.charAt(0).toUpperCase()+r.slice(1)),o;e.definition[s]&&(o=this.lookupAccessor(e.definition[s]),o&&(t=!0,i[s]={accessor:o,params:e.definition[s+"Params"]||{}}))}),t&&(e.modules.accessor=i)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":rn.accessors[e]?t=rn.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t){var i="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),r=e.getComponent(),s=He.deepClone(e.data||{});return this.table.columnManager.traverse(function(o){var a,l,u,h;o.modules.accessor&&(l=o.modules.accessor[i]||o.modules.accessor.accessor||!1,l&&(a=o.getFieldValue(s),a!="undefined"&&(h=o.getComponent(),u=typeof l.params=="function"?l.params(a,s,t,h,r):l.params,o.setFieldValue(s,l.accessor(a,s,t,u,h,r)))))}),s}};re(rn,"moduleName","accessor"),re(rn,"accessors",Ix);let vo=rn;var $x={method:"GET"};function yo(n,e){var t=[];if(e=e||"",Array.isArray(n))n.forEach((r,s)=>{t=t.concat(yo(r,e?e+"["+s+"]":s))});else if(typeof n=="object")for(var i in n)t=t.concat(yo(n[i],e?e+"["+i+"]":i));else t.push({key:e,value:n});return t}function zx(n){var e=yo(n),t=[];return e.forEach(function(i){t.push(encodeURIComponent(i.key)+"="+encodeURIComponent(i.value))}),t.join("&")}function Hc(n,e,t){return n&&t&&Object.keys(t).length&&(!e.method||e.method.toLowerCase()=="get")&&(e.method="get",n+=(n.includes("?")?"&":"?")+zx(t)),n}function Bx(n,e,t){var i;return new Promise((r,s)=>{if(n=this.urlGenerator.call(this.table,n,e,t),e.method.toUpperCase()!="GET")if(i=typeof this.table.options.ajaxContentType=="object"?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],i){for(var o in i.headers)e.headers||(e.headers={}),typeof e.headers[o]>"u"&&(e.headers[o]=i.headers[o]);e.body=i.body.call(this,n,e,t)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);n?(typeof e.headers>"u"&&(e.headers={}),typeof e.headers.Accept>"u"&&(e.headers.Accept="application/json"),typeof e.headers["X-Requested-With"]>"u"&&(e.headers["X-Requested-With"]="XMLHttpRequest"),typeof e.mode>"u"&&(e.mode="cors"),e.mode=="cors"?(typeof e.headers.Origin>"u"&&(e.headers.Origin=window.location.origin),typeof e.credentials>"u"&&(e.credentials="same-origin")):typeof e.credentials>"u"&&(e.credentials="include"),fetch(n,e).then(a=>{a.ok?a.json().then(l=>{r(l)}).catch(l=>{s(l),console.warn("Ajax Load Error - Invalid JSON returned",l)}):(console.error("Ajax Load Error - Connection Error: "+a.status,a.statusText),s(a))}).catch(a=>{console.error("Ajax Load Error - Connection Error: ",a),s(a)})):(console.warn("Ajax Load Error - No URL Set"),r([]))})}function wo(n,e){var t=[];if(e=e||"",Array.isArray(n))n.forEach((r,s)=>{t=t.concat(wo(r,e?e+"["+s+"]":s))});else if(typeof n=="object")for(var i in n)t=t.concat(wo(n[i],e?e+"["+i+"]":i));else t.push({key:e,value:n});return t}var Hx={json:{headers:{"Content-Type":"application/json"},body:function(n,e,t){return JSON.stringify(t)}},form:{headers:{},body:function(n,e,t){var i=wo(t),r=new FormData;return i.forEach(function(s){r.append(s.key,s.value)}),r}}};const Ot=class Ot extends Se{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=Ot.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||Ot.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||Ot.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,i,r){var s=this.table.options.ajaxParams;return s&&(typeof s=="function"&&(s=s.call(this.table)),r=Object.assign(Object.assign({},s),r)),r}requestDataCheck(e,t,i,r){return!!(!e&&this.url||typeof e=="string")}requestData(e,t,i,r,s){var o;return!s&&this.requestDataCheck(e)?(e&&this.setUrl(e),o=this.generateConfig(i),this.sendRequest(this.url,t,o)):s}setDefaultConfig(e={}){this.config=Object.assign({},Ot.defaultConfig),typeof e=="string"?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return typeof e=="string"?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,i){return this.table.options.ajaxRequesting.call(this.table,e,t)!==!1?this.loaderPromise(e,i,t).then(r=>(this.table.options.ajaxResponse&&(r=this.table.options.ajaxResponse.call(this.table,e,t,r)),r)):Promise.reject()}};re(Ot,"moduleName","ajax"),re(Ot,"defaultConfig",$x),re(Ot,"defaultURLGenerator",Hc),re(Ot,"defaultLoaderPromise",Bx),re(Ot,"contentTypeFormatters",Hx);let Co=Ot;var jx={replace:function(n){return this.table.setData(n)},update:function(n){return this.table.updateOrAddData(n)},insert:function(n){return this.table.addData(n)}},Vx={table:function(n){var e=[],t=!0,i=this.table.columnManager.columns,r=[],s=[];return n=n.split(`
`),n.forEach(function(o){e.push(o.split("	"))}),e.length&&!(e.length===1&&e[0].length<2)?(e[0].forEach(function(o){var a=i.find(function(l){return o&&l.definition.title&&o.trim()&&l.definition.title.trim()===o.trim()});a?r.push(a):t=!1}),t||(t=!0,r=[],e[0].forEach(function(o){var a=i.find(function(l){return o&&l.field&&o.trim()&&l.field.trim()===o.trim()});a?r.push(a):t=!1}),t||(r=this.table.columnManager.columnsByIndex)),t&&e.shift(),e.forEach(function(o){var a={};o.forEach(function(l,u){r[u]&&(a[r[u].field]=l)}),s.push(a)}),s):!1}},Wx={copyToClipboard:["ctrl + 67","meta + 67"]},qx={copyToClipboard:function(n){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},Gx={keybindings:{bindings:Wx,actions:qx}};const si=class si extends Se{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(this.mode===!0||this.mode==="copy")&&this.table.element.addEventListener("copy",e=>{var t,i,r;this.blocked||(e.preventDefault(),this.customSelection?(t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t))):(r=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),i=this.table.modules.export.generateHTMLTable(r),t=i?this.generatePlainContent(r):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),i=this.table.options.clipboardCopyFormatter("html",i))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),i&&e.clipboardData.setData("text/html",i)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),i&&e.originalEvent.clipboardData.setData("text/html",i)),this.dispatchExternal("clipboardCopied",t,i),this.reset())}),(this.mode===!0||this.mode==="paste")&&this.table.element.addEventListener("paste",e=>{this.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach(i=>{var r=[];i.columns.forEach(s=>{var o="";if(s)if(i.type==="group"&&(s.value=s.component.getKey()),s.value===null)o="";else switch(typeof s.value){case"object":o=JSON.stringify(s.value);break;case"undefined":o="";break;default:o=s.value}r.push(o)}),t.push(r.join("	"))}),t.join(`
`)}copy(e,t){var i,r;this.blocked=!1,this.customSelection=!1,(this.mode===!0||this.mode==="copy")&&(this.rowRange=e||this.table.options.clipboardCopyRowRange,typeof window.getSelection<"u"&&typeof document.createRange<"u"?(e=document.createRange(),e.selectNodeContents(this.table.element),i=window.getSelection(),i.toString()&&t&&(this.customSelection=i.toString()),i.removeAllRanges(),i.addRange(e)):typeof document.selection<"u"&&typeof document.body.createTextRange<"u"&&(r=document.body.createTextRange(),r.moveToElementText(this.table.element),r.select()),document.execCommand("copy"),i&&i.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=si.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=si.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var t,i,r;this.checkPasteOrigin(e)&&(t=this.getPasteData(e),i=this.pasteParser.call(this,t),i?(e.preventDefault(),this.table.modExists("mutator")&&(i=this.mutateData(i)),r=this.pasteAction.call(this,i),this.dispatchExternal("clipboardPasted",t,i,r)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach(i=>{t.push(this.table.modules.mutator.transformRow(i,"clipboard"))}):t=e,t}checkPasteOrigin(e){var t=!0,i=this.confirm("clipboard-paste",[e]);return(i||!["DIV","SPAN"].includes(e.target.tagName))&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}};re(si,"moduleName","clipboard"),re(si,"moduleExtensions",Gx),re(si,"pasteActions",jx),re(si,"pasteParsers",Vx);let Eo=si;class Ux{constructor(e){return this._row=e,new Proxy(this,{get:function(t,i,r){return typeof t[i]<"u"?t[i]:t._row.table.componentFunctionBinder.handle("row",t._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}_getSelf(){return this._row}}class jc{constructor(e){return this._cell=e,new Proxy(this,{get:function(t,i,r){return typeof t[i]<"u"?t[i]:t._cell.table.componentFunctionBinder.handle("cell",t._cell,i)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(e){return this._cell.row.getData(e)}getType(){return"cell"}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,t){typeof t>"u"&&(t=!0),this._cell.setValue(e,t)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class sr extends et{constructor(e,t){super(e.table),this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.column.isRowHeader&&this.element.classList.add("tabulator-row-header")}_configureCell(){var e=this.element,t=this.column.getField(),i={top:"flex-start",bottom:"flex-end",middle:"center"},r={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=i[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=r[this.column.hozAlign]||"")),t&&e.setAttribute("tabulator-field",t),this.column.definition.cssClass){var s=this.column.definition.cssClass.split(" ");s.forEach(o=>{e.classList.add(o)})}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value),typeof e){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",e!=null&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,t,i){var r=this.setValueProcessData(e,t,i);r&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,t,i){var r=!1;return(this.value!==e||i)&&(r=!0,t&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),r&&this.dispatch("cell-value-changed",this),r}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new jc(this)),this.component}}class Vc{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(t,i,r){return typeof t[i]<"u"?t[i]:t._column.table.componentFunctionBinder.handle("column",t._column,i)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach(function(t){e.push(t.getComponent())}),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach(function(t){e.push(t.getComponent())}),e}getParentColumn(){return this._column.getParentComponent()}_getSelf(){return this._column}scrollTo(e,t){return this._column.table.columnManager.scrollToColumn(this._column,e,t)}getTable(){return this._column.table}move(e,t){var i=this._column.table.columnManager.findColumn(e);i?this._column.table.columnManager.moveColumn(this._column,i,t):console.warn("Move Error - No matching column found:",i)}getNextColumn(){var e=this._column.nextColumn();return e?e.getComponent():!1}getPrevColumn(){var e=this._column.prevColumn();return e?e.getComponent():!1}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var t;return e===!0?t=this._column.reinitializeWidth(!0):t=this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),t}}var Wc={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};const Si=class Si extends et{constructor(e,t,i){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.isGroup=!1,this.isRowHeader=i,this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((r,s)=>{var o=new Si(r,this);this.attachColumn(o)}),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.isRowHeader&&e.classList.add("tabulator-row-header"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)typeof this.definition[t]>"u"&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(Si.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(e=>{Si.defaultOptionList.indexOf(e)===-1&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)})}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)}_initialize(){for(var e=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),e.headerVertical==="flip"&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),typeof e.visible<"u"&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var t=e.cssClass.split(" ");t.forEach(i=>{this.element.classList.add(i)})}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.headerWordWrap&&t.classList.add("tabulator-col-title-wrap"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",r=>{r.stopPropagation(),i.focus()}),i.addEventListener("mousedown",r=>{r.stopPropagation()}),i.addEventListener("change",()=>{e.title=i.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),t.appendChild(i),e.field?this.langBind("columns|"+e.field,r=>{i.value=r||e.title||"&nbsp;"}):i.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,r=>{this._formatColumnHeaderTitle(t,r||e.title||"&nbsp;")}):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var i=this.chain("column-format",[this,t,e],null,()=>t);switch(typeof i){case"object":i instanceof Node?e.appendChild(i):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=i}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach(t=>{this.element.classList.add(t)})}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var t=e,i=this.fieldStructure,r=i.length,s;for(let o=0;o<r&&(t=t[i[o]],s=t,!!t);o++);return s}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var i=e,r=this.fieldStructure,s=r.length;for(let o=0;o<s;o++)if(o==s-1)i[r[o]]=t;else{if(!i[r[o]])if(typeof t<"u")i[r[o]]={};else break;i=i[r[o]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var i=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=i+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=i-this.contentElement.offsetHeight+"px"),this.columns.forEach(function(r){r.verticalAlign(e)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()}),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?this.columns.length?this.columns[0].getFirstColumn():!1:this}getLastColumn(){return this.isGroup?this.columns.length?this.columns[this.columns.length-1].getLastColumn():!1:this}getColumns(e){var t=[];return e?this.columns.forEach(i=>{t.push(i),t=t.concat(i.getColumns(!0))}):t=this.columns,t}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(i){t.push(i.getDefinition(!0))}),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach(function(t){t.visible&&(e=!0)}),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.show()}),!this.isGroup&&this.width===null&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(i){i.hide()}),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(t){t.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this),this.subscribedExternal("columnWidth")&&this.dispatchExternal("columnWidth",this.getComponent())}checkCellHeights(){var e=[];this.cells.forEach(function(t){t.row.heightInitialized&&(t.row.getElement().offsetParent!==null?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)}),e.forEach(function(t){t.calcHeight()}),e.forEach(function(t){t.setCellHeight()})}getWidth(){var e=0;return this.isGroup?this.columns.forEach(function(t){t.visible&&(e+=t.getWidth())}):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(t){t.setMinWidth()})}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(t){t.setMaxWidth()})}delete(){return new Promise((e,t)=>{this.isGroup&&this.columns.forEach(function(r){r.delete()}),this.dispatch("column-delete",this);var i=this.cells.length;for(let r=0;r<i;r++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),this.dispatch("column-deleted",this),e()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var t=new sr(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._nextVisibleColumn(e+1):!1}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1?this._prevVisibleColumn(e-1):!1}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,typeof this.definition.width<"u"&&!e&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(r=>{r.clearWidth()}));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach(r=>{var s=r.getWidth();s>t&&(t=s)}),t)){var i=t+1;this.maxInitialWidth&&!e&&(i=Math.min(i,this.maxInitialWidth)),this.setWidthActual(i)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then(i=>(t.field==this.field&&(this.field=!1),this.delete().then(()=>i.getComponent()))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new Vc(this)),this.component}getPosition(){return this.table.columnManager.getVisibleColumnsByIndex().indexOf(this)+1}getParentComponent(){return this.parent instanceof Si?this.parent.getComponent():!1}};re(Si,"defaultOptionList",Wc);let Oi=Si;class cs{constructor(e){return this._row=e,new Proxy(this,{get:function(t,i,r){return typeof t[i]<"u"?t[i]:t._row.table.componentFunctionBinder.handle("row",t._row,i)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach(function(t){e.push(t.getComponent())}),e}getCell(e){var t=this._row.getCell(e);return t?t.getComponent():!1}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(e,t){return this._row.table.rowManager.scrollToRow(this._row,e,t)}move(e,t){this._row.moveToRow(e,t)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e&&e.getComponent()}getPrevRow(){var e=this._row.prevRow();return e&&e.getComponent()}}class rt extends et{constructor(e,t,i="row"){super(t.table),this.parent=t,this.data={},this.type=i,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e,t){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this,t),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this,t)}rendered(){this.cells.forEach(e=>{e.cellRendered()})}reinitializeHeight(){this.heightInitialized=!1,this.element&&this.element.offsetParent!==null&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&this.element.offsetParent!==null&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var t=0,i=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(i=this.calcMinHeight(),t=this.calcMaxHeight(),e?this.height=Math.max(t,i):this.height=this.manualHeight?this.height:Math.max(t,i)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}calcMinHeight(){return this.table.options.resizableRows?this.element.clientHeight:0}calcMaxHeight(){var e=0;return this.cells.forEach(function(t){var i=t.getHeight();i>e&&(e=i)}),e}setCellHeight(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(e){e.clearHeight()})}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight,this.subscribedExternal("rowHeight")&&this.dispatchExternal("rowHeight",this.getComponent()))}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var t=this.element&&He.elVisible(this.element),i={},r;return new Promise((s,o)=>{typeof e=="string"&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(i=Object.assign(i,this.data),i=Object.assign(i,e)),r=this.chain("row-data-changing",[this,i,e],null,e);for(let a in r)this.data[a]=r[a];this.dispatch("row-data-save-after",this);for(let a in e)this.table.columnManager.getColumnsByFieldRoot(a).forEach(u=>{let h=this.getCell(u.getField());if(h){let d=u.getFieldValue(r);h.getValue()!==d&&(h.setValueProcessData(d),t&&h.cellRendered())}});t?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,t,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),s()})}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var t=!1;return e=this.table.columnManager.findColumn(e),!this.initialized&&this.cells.length===0&&this.generateCells(),t=this.cells.find(function(i){return i.column===e}),t}getCellIndex(e){return this.cells.findIndex(function(t){return t===e})}findCell(e){return this.cells.find(t=>t.element===e)}getCells(){return!this.initialized&&this.cells.length===0&&this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,t){var i=this.table.rowManager.findRow(e);i?(this.table.rowManager.moveRowActual(this,i,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let t=0;t<e;t++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return this.isDisplayed()?this.position:!1}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach(t=>{t(this.position)}))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new cs(this)),this.component}}var Kx={avg:function(n,e,t){var i=0,r=typeof t.precision<"u"?t.precision:2;return n.length&&(i=n.reduce(function(s,o){return Number(s)+Number(o)}),i=i/n.length,i=r!==!1?i.toFixed(r):i),parseFloat(i).toString()},max:function(n,e,t){var i=null,r=typeof t.precision<"u"?t.precision:!1;return n.forEach(function(s){s=Number(s),(s>i||i===null)&&(i=s)}),i!==null?r!==!1?i.toFixed(r):i:""},min:function(n,e,t){var i=null,r=typeof t.precision<"u"?t.precision:!1;return n.forEach(function(s){s=Number(s),(s<i||i===null)&&(i=s)}),i!==null?r!==!1?i.toFixed(r):i:""},sum:function(n,e,t){var i=0,r=typeof t.precision<"u"?t.precision:!1;return n.length&&n.forEach(function(s){s=Number(s),i+=isNaN(s)?0:Number(s)}),r!==!1?i.toFixed(r):i},concat:function(n,e,t){var i=0;return n.length&&(i=n.reduce(function(r,s){return String(r)+String(s)})),i},count:function(n,e,t){var i=0;return n.length&&n.forEach(function(r){r&&i++}),i},unique:function(n,e,t){var i=n.filter((r,s)=>(n||r===0)&&n.indexOf(r)===s);return i.length}};const oi=class oi extends Se{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new Oi({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?((this.table.options.columnCalcs=="table"||this.table.options.columnCalcs=="both")&&this.recalcActiveRows(),this.table.options.columnCalcs!="table"&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,i={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":oi.calculations[t.topCalc]?i.topCalc=oi.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":i.topCalc=t.topCalc;break}i.topCalc&&(e.modules.columnCalcs=i,this.topCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":oi.calculations[t.bottomCalc]?i.botCalc=oi.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":i.botCalc=t.bottomCalc;break}i.botCalc&&(e.modules.columnCalcs=i,this.botCalcs.push(e),this.table.options.columnCalcs!="group"&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){var e=document.createDocumentFragment();this.topInitialized||(e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var t,i;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(t=this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),i=this.generateRow("top",t),this.topRow=i;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(i.getElement()),i.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),i=this.generateRow("bottom",t),this.botRow=i;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(i.getElement()),i.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&(this.table.options.columnCalcs!=="group"&&this.recalcActiveRows(),this.table.options.groupBy&&this.table.options.columnCalcs!=="table")){var e=this.table.modules.groupRows.getChildGroups();e.forEach(t=>{this.recalcGroup(t)})}}recalcGroup(e){var t,i;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),i=this.generateRowData("bottom",t),e.calcs.bottom.updateData(i),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),i=this.generateRowData("top",t),e.calcs.top.updateData(i),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[],i=this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs,r=this.table.modules.dataTree;return e.forEach(s=>{var o;t.push(s.getData()),i&&((o=s.modules.dataTree)!=null&&o.open)&&this.rowsToData(r.getFilteredTreeChildren(s)).forEach(a=>{t.push(s)})}),t}generateRow(e,t){var i=this.generateRowData(e,t),r;return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),r=new rt(i,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),r.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),r.component=!1,r.getComponent=()=>(r.component||(r.component=new Ux(r)),r.component),r.generateCells=()=>{var s=[];this.table.columnManager.columnsByIndex.forEach(o=>{this.genColumn.setField(o.getField()),this.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=o.definition.cssClass;var a=new sr(this.genColumn,r);a.getElement(),a.column=o,a.setWidth(),o.cells.push(a),s.push(a),o.visible||a.hide()}),r.cells=s},r}generateRowData(e,t){var i={},r=e=="top"?this.topCalcs:this.botCalcs,s=e=="top"?"topCalc":"botCalc",o,a;return r.forEach(function(l){var u=[];l.modules.columnCalcs&&l.modules.columnCalcs[s]&&(t.forEach(function(h){u.push(l.getFieldValue(h))}),a=s+"Params",o=typeof l.modules.columnCalcs[a]=="function"?l.modules.columnCalcs[a](u,t):l.modules.columnCalcs[a],l.setFieldValue(i,l.modules.columnCalcs[s](u,t,o)))}),i}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e={},t;return this.table.options.groupBy&&this.table.modExists("groupRows")?(t=this.table.modules.groupRows.getGroups(!0),t.forEach(i=>{e[i.getKey()]=this.getGroupResults(i)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e}getGroupResults(e){var t=e._getSelf(),i=e.getSubGroups(),r={},s={};return i.forEach(o=>{r[o.getKey()]=this.getGroupResults(o)}),s={top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:r},s}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}};re(oi,"moduleName","columnCalcs"),re(oi,"calculations",Kx);let xo=oi;class qc extends Se{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),t.dataTreeBranchElement?t.dataTreeBranchElement===!0?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):typeof t.dataTreeBranchElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement:(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch-empty")),t.dataTreeCollapseElement?typeof t.dataTreeCollapseElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?typeof t.dataTreeExpandElement=="string"?(e=document.createElement("div"),e.innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(i,r){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(i,r){return t.dataTreeStartExpanded[r]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var t;e&&(t=this.table.rowManager.getRows(),t.forEach(i=>{this.reinitializeRowChildren(i)}))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||(e?e.field:!1)}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach(t=>{e=e.concat(this.getTreeChildren(t,!1,!0))}),e}rowDataChanged(e,t,i){this.redrawNeeded(i)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var t=e.column.getField();t===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],i=Array.isArray(t),r=i||!i&&typeof t=="object"&&t!==null;!r&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!r&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:r?e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0):!1,controlEl:e.modules.dataTree&&r?e.modules.dataTree.controlEl:!1,branchEl:e.modules.dataTree&&r?e.modules.dataTree.branchEl:!1,parent:e.modules.dataTree?e.modules.dataTree.parent:!1,children:r}}reinitializeRowChildren(e){var t=this.getTreeChildren(e,!1,!0);t.forEach(function(i){i.reinitialize(!0)})}layoutRow(e){var t=this.elementField?e.getCell(this.elementField):e.getCells()[0],i=t.getElement(),r=e.modules.dataTree;r.branchEl&&(r.branchEl.parentNode&&r.branchEl.parentNode.removeChild(r.branchEl),r.branchEl=!1),r.controlEl&&(r.controlEl.parentNode&&r.controlEl.parentNode.removeChild(r.controlEl),r.controlEl=!1),this.generateControlElement(e,i),e.getElement().classList.add("tabulator-tree-level-"+r.index),r.index&&(this.branchEl?(r.branchEl=this.branchEl.cloneNode(!0),i.insertBefore(r.branchEl,i.firstChild),this.table.rtl?r.branchEl.style.marginRight=(r.branchEl.offsetWidth+r.branchEl.style.marginLeft)*(r.index-1)+r.index*this.indent+"px":r.branchEl.style.marginLeft=(r.branchEl.offsetWidth+r.branchEl.style.marginRight)*(r.index-1)+r.index*this.indent+"px"):this.table.rtl?i.style.paddingRight=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-right"))+r.index*this.indent+"px":i.style.paddingLeft=parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-left"))+r.index*this.indent+"px")}generateControlElement(e,t){var i=e.modules.dataTree,r=i.controlEl;t=t||e.getCells()[0].getElement(),i.children!==!1&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",s=>{s.stopPropagation(),this.collapseRow(e)})):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",s=>{s.stopPropagation(),this.expandRow(e)})),i.controlEl.addEventListener("mousedown",s=>{s.stopPropagation()}),r&&r.parentNode===t?r.parentNode.replaceChild(i.controlEl,r):t.insertBefore(i.controlEl,t.firstChild))}getRows(e){var t=[];return e.forEach((i,r)=>{var s,o;t.push(i),i instanceof rt&&(i.create(),s=i.modules.dataTree,!s.index&&s.children!==!1&&(o=this.getChildren(i,!1,!0),o.forEach(a=>{a.create(),t.push(a)})))}),t}getChildren(e,t,i){var r=e.modules.dataTree,s=[],o=[];return r.children!==!1&&(r.open||t)&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?s=this.table.modules.filter.filter(r.children):s=r.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(s,i),s.forEach(a=>{o.push(a);var l=this.getChildren(a,!1,!0);l.forEach(u=>{o.push(u)})})),o}generateChildren(e){var t=[],i=e.getData()[this.field];return Array.isArray(i)||(i=[i]),i.forEach(r=>{var s=new rt(r||{},this.table.rowManager);s.create(),s.modules.dataTree.index=e.modules.dataTree.index+1,s.modules.dataTree.parent=e,s.modules.dataTree.children&&(s.modules.dataTree.open=this.startOpen(s.getComponent(),s.modules.dataTree.index)),t.push(s)}),t}expandRow(e,t){var i=e.modules.dataTree;i.children!==!1&&(i.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;t.children!==!1&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return e.modules.dataTree.parent?e.modules.dataTree.parent.getComponent():!1}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var t=e.modules.dataTree,i=[],r;return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),this.table.modExists("filter")&&this.table.options.dataTreeFilter?r=this.table.modules.filter.filter(t.children):r=t.children,r.forEach(s=>{s instanceof rt&&i.push(s)})),i}rowDelete(e){var t=e.modules.dataTree.parent,i;t&&(i=this.findChildIndex(e,t),i!==!1&&t.data[this.field].splice(i,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.refreshData(!0)}addTreeChildRow(e,t,i,r){var s=!1;typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),typeof r<"u"&&(s=this.findChildIndex(r,e),s!==!1&&e.data[this.field].splice(i?s:s+1,0,t)),s===!1&&(i?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var i=!1;return typeof e=="object"?e instanceof rt?i=e.data:e instanceof cs?i=e._getSelf().data:typeof HTMLElement<"u"&&e instanceof HTMLElement?t.modules.dataTree&&(i=t.modules.dataTree.children.find(r=>r instanceof rt?r.element===e:!1),i&&(i=i.data)):e===null&&(i=!1):typeof e>"u"?i=!1:i=t.data[this.field].find(r=>r.data[this.table.options.index]==e),i&&(Array.isArray(t.data[this.field])&&(i=t.data[this.field].indexOf(i)),i==-1&&(i=!1)),i}getTreeChildren(e,t,i){var r=e.modules.dataTree,s=[];return r&&r.children&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),r.children.forEach(o=>{o instanceof rt&&(s.push(t?o.getComponent():o),i&&this.getTreeChildren(o,t,i).forEach(a=>{s.push(a)}))})),s}getChildField(){return this.field}redrawNeeded(e){return(this.field?typeof e[this.field]<"u":!1)||(this.elementField?typeof e[this.elementField]<"u":!1)}}re(qc,"moduleName","dataTree");function Xx(n,e={},t){var i=e.delimiter?e.delimiter:",",r=[],s=[];n.forEach(o=>{var a=[];switch(o.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":o.columns.forEach((l,u)=>{l&&l.depth===1&&(s[u]=typeof l.value>"u"||l.value===null?"":'"'+String(l.value).split('"').join('""')+'"')});break;case"row":o.columns.forEach(l=>{if(l){switch(typeof l.value){case"object":l.value=l.value!==null?JSON.stringify(l.value):"";break;case"undefined":l.value="";break}a.push('"'+String(l.value).split('"').join('""')+'"')}}),r.push(a.join(i));break}}),s.length&&r.unshift(s.join(i)),r=r.join(`
`),e.bom&&(r="\uFEFF"+r),t(r,"text/csv")}function Yx(n,e,t){var i=[];n.forEach(r=>{var s={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(o=>{o&&(s[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(s);break}}),i=JSON.stringify(i,null,"	"),t(i,"application/json")}function Jx(n,e={},t){var i=[],r=[],s={},o=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=e.jsPDF||{},u=e.title?e.title:"";l.orientation||(l.orientation=e.orientation||"landscape"),l.unit||(l.unit="pt"),n.forEach(c=>{switch(c.type){case"header":i.push(h(c));break;case"group":r.push(h(c,o));break;case"calc":r.push(h(c,a));break;case"row":r.push(h(c));break}});function h(c,f){var v=[];return c.columns.forEach(y=>{var b;if(y){switch(typeof y.value){case"object":y.value=y.value!==null?JSON.stringify(y.value):"";break;case"undefined":y.value="";break}b={content:y.value,colSpan:y.width,rowSpan:y.height},f&&(b.styles=f),v.push(b)}}),v}var d=new jspdf.jsPDF(l);e.autoTable&&(typeof e.autoTable=="function"?s=e.autoTable(d)||{}:s=e.autoTable),u&&(s.didDrawPage=function(c){d.text(u,40,30)}),s.head=i,s.body=r,d.autoTable(s),e.documentProcessing&&e.documentProcessing(d),t(d.output("arraybuffer"),"application/pdf")}function Zx(n,e,t){var i=this,r=e.sheetName||"Sheet1",s=XLSX.utils.book_new(),o=new et(this),a="compress"in e?e.compress:!0,l=e.writeOptions||{bookType:"xlsx",bookSST:!0,compression:a},u;l.type="binary",s.SheetNames=[],s.Sheets={};function h(){var f=[],v=[],y={},b={s:{c:0,r:0},e:{c:n[0]?n[0].columns.reduce((p,m)=>p+(m&&m.width?m.width:1),0):0,r:n.length}};return n.forEach((p,m)=>{var w=[];p.columns.forEach(function(g,S){g?(w.push(!(g.value instanceof Date)&&typeof g.value=="object"?JSON.stringify(g.value):g.value),(g.width>1||g.height>-1)&&(g.height>1||g.width>1)&&v.push({s:{r:m,c:S},e:{r:m+g.height-1,c:S+g.width-1}})):w.push("")}),f.push(w)}),XLSX.utils.sheet_add_aoa(y,f),y["!ref"]=XLSX.utils.encode_range(b),v.length&&(y["!merges"]=v),y}if(e.sheetOnly){t(h());return}if(e.sheets)for(var d in e.sheets)e.sheets[d]===!0?(s.SheetNames.push(d),s.Sheets[d]=h()):(s.SheetNames.push(d),o.commsSend(e.sheets[d],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:i.active,intercept:function(f){s.Sheets[d]=f}}));else s.SheetNames.push(r),s.Sheets[r]=h();e.documentProcessing&&(s=e.documentProcessing(s));function c(f){for(var v=new ArrayBuffer(f.length),y=new Uint8Array(v),b=0;b!=f.length;++b)y[b]=f.charCodeAt(b)&255;return v}u=XLSX.write(s,l),t(c(u),"application/octet-stream")}function Qx(n,e,t){this.modExists("export",!0)&&t(this.modules.export.generateHTMLTable(n),"text/html")}function eS(n,e,t){const i=[];n.forEach(r=>{const s={};switch(r.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":r.columns.forEach(o=>{o&&(s[o.component.getTitleDownload()||o.component.getField()]=o.value)}),i.push(JSON.stringify(s));break}}),t(i.join(`
`),"application/x-ndjson")}var tS={csv:Xx,json:Yx,jsonLines:eS,pdf:Jx,xlsx:Zx,html:Qx};const sn=class sn extends Se{constructor(e){super(e),this.registerTableOption("downloadEncoder",function(t,i){return new Blob([t],{type:i})}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){}downloadToTab(e,t,i,r){this.download(e,t,i,r,!0)}download(e,t,i,r,s){var o=!1;function a(u,h){s?s===!0?this.triggerDownload(u,h,e,t,!0):s(u):this.triggerDownload(u,h,e,t)}if(typeof e=="function"?o=e:sn.downloaders[e]?o=sn.downloaders[e]:console.warn("Download Error - No such download type found: ",e),o){var l=this.generateExportList(r);o.call(this.table,l,i||{},a.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),i=this.table.options.groupHeaderDownload;return i&&!Array.isArray(i)&&(i=[i]),t.forEach(r=>{var s;r.type==="group"&&(s=r.columns[0],i&&i[r.indent]&&(s.value=i[r.indent](s.value,r.component._group.getRowCount(),r.component._group.getData(),r.component)))}),t}triggerDownload(e,t,i,r,s){var o=document.createElement("a"),a=this.table.options.downloadEncoder(e,t);a&&(s?window.open(window.URL.createObjectURL(a)):(r=r||"Tabulator."+(typeof i=="function"?"txt":i),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,r):(o.setAttribute("href",window.URL.createObjectURL(a)),o.setAttribute("download",r),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o))),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,i){switch(t){case"intercept":this.download(i.type,"",i.options,i.active,i.intercept);break}}};re(sn,"moduleName","download"),re(sn,"downloaders",tS);let So=sn;function hs(n,e){var t=e.mask,i=typeof e.maskLetterChar<"u"?e.maskLetterChar:"A",r=typeof e.maskNumberChar<"u"?e.maskNumberChar:"9",s=typeof e.maskWildcardChar<"u"?e.maskWildcardChar:"*";function o(a){var l=t[a];typeof l<"u"&&l!==s&&l!==i&&l!==r&&(n.value=n.value+""+l,o(a+1))}n.addEventListener("keydown",a=>{var l=n.value.length,u=a.key;if(a.keyCode>46&&!a.ctrlKey&&!a.metaKey){if(l>=t.length)return a.preventDefault(),a.stopPropagation(),!1;switch(t[l]){case i:if(u.toUpperCase()==u.toLowerCase())return a.preventDefault(),a.stopPropagation(),!1;break;case r:if(isNaN(u))return a.preventDefault(),a.stopPropagation(),!1;break;case s:break;default:if(u!==t[l])return a.preventDefault(),a.stopPropagation(),!1}}}),n.addEventListener("keyup",a=>{a.keyCode>46&&e.maskAutoFill&&o(n.value.length)}),n.placeholder||(n.placeholder=t),e.maskAutoFill&&o(n.value.length)}function iS(n,e,t,i,r){var s=n.getValue(),o=document.createElement("input");if(o.setAttribute("type",r.search?"search":"text"),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let l in r.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+r.elementAttributes["+"+l])):o.setAttribute(l,r.elementAttributes[l]);o.value=typeof s<"u"?s:"",e(function(){n.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%",r.selectContents&&o.select())});function a(l){(s===null||typeof s>"u")&&o.value!==""||o.value!==s?t(o.value)&&(s=o.value):i()}return o.addEventListener("change",a),o.addEventListener("blur",a),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:i();break;case 35:case 36:l.stopPropagation();break}}),r.mask&&hs(o,r),o}function nS(n,e,t,i,r){var s=n.getValue(),o=r.verticalNavigation||"hybrid",a=String(s!==null&&typeof s<"u"?s:""),l=document.createElement("textarea"),u=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",r.elementAttributes&&typeof r.elementAttributes=="object")for(let d in r.elementAttributes)d.charAt(0)=="+"?(d=d.slice(1),l.setAttribute(d,l.getAttribute(d)+r.elementAttributes["+"+d])):l.setAttribute(d,r.elementAttributes[d]);l.value=a,e(function(){n.getType()==="cell"&&(l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",n.getRow().normalizeHeight(),r.selectContents&&l.select())});function h(d){(s===null||typeof s>"u")&&l.value!==""||l.value!==s?(t(l.value)&&(s=l.value),setTimeout(function(){n.getRow().normalizeHeight()},300)):i()}return l.addEventListener("change",h),l.addEventListener("blur",h),l.addEventListener("keyup",function(){l.style.height="";var d=l.scrollHeight;l.style.height=d+"px",d!=u&&(u=d,n.getRow().normalizeHeight())}),l.addEventListener("keydown",function(d){switch(d.keyCode){case 13:d.shiftKey&&r.shiftEnterSubmit&&h();break;case 27:i();break;case 38:(o=="editor"||o=="hybrid"&&l.selectionStart)&&(d.stopImmediatePropagation(),d.stopPropagation());break;case 40:(o=="editor"||o=="hybrid"&&l.selectionStart!==l.value.length)&&(d.stopImmediatePropagation(),d.stopPropagation());break;case 35:case 36:d.stopPropagation();break}}),r.mask&&hs(l,r),l}function rS(n,e,t,i,r){var s=n.getValue(),o=r.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),typeof r.max<"u"&&a.setAttribute("max",r.max),typeof r.min<"u"&&a.setAttribute("min",r.min),typeof r.step<"u"&&a.setAttribute("step",r.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let h in r.elementAttributes)h.charAt(0)=="+"?(h=h.slice(1),a.setAttribute(h,a.getAttribute(h)+r.elementAttributes["+"+h])):a.setAttribute(h,r.elementAttributes[h]);a.value=s;var l=function(h){u()};e(function(){n.getType()==="cell"&&(a.removeEventListener("blur",l),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",l),r.selectContents&&a.select())});function u(){var h=a.value;!isNaN(h)&&h!==""&&(h=Number(h)),h!==s?t(h)&&(s=h):i()}return a.addEventListener("keydown",function(h){switch(h.keyCode){case 13:u();break;case 27:i();break;case 38:case 40:o=="editor"&&(h.stopImmediatePropagation(),h.stopPropagation());break;case 35:case 36:h.stopPropagation();break}}),r.mask&&hs(a,r),a}function sS(n,e,t,i,r){var s=n.getValue(),o=document.createElement("input");if(o.setAttribute("type","range"),typeof r.max<"u"&&o.setAttribute("max",r.max),typeof r.min<"u"&&o.setAttribute("min",r.min),typeof r.step<"u"&&o.setAttribute("step",r.step),o.style.padding="4px",o.style.width="100%",o.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let l in r.elementAttributes)l.charAt(0)=="+"?(l=l.slice(1),o.setAttribute(l,o.getAttribute(l)+r.elementAttributes["+"+l])):o.setAttribute(l,r.elementAttributes[l]);o.value=s,e(function(){n.getType()==="cell"&&(o.focus({preventScroll:!0}),o.style.height="100%")});function a(){var l=o.value;!isNaN(l)&&l!==""&&(l=Number(l)),l!=s?t(l)&&(s=l):i()}return o.addEventListener("blur",function(l){a()}),o.addEventListener("keydown",function(l){switch(l.keyCode){case 13:a();break;case 27:i();break}}),o}function oS(n,e,t,i,r){var s=r.format,o=r.verticalNavigation||"editor",a=s?window.DateTime||luxon.DateTime:null,l=n.getValue(),u=document.createElement("input");function h(c){var f;return a.isDateTime(c)?f=c:s==="iso"?f=a.fromISO(String(c)):f=a.fromFormat(String(c),s),f.toFormat("yyyy-MM-dd")}if(u.type="date",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",r.max&&u.setAttribute("max",s?h(r.max):r.max),r.min&&u.setAttribute("min",s?h(r.min):r.min),r.elementAttributes&&typeof r.elementAttributes=="object")for(let c in r.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),u.setAttribute(c,u.getAttribute(c)+r.elementAttributes["+"+c])):u.setAttribute(c,r.elementAttributes[c]);l=typeof l<"u"?l:"",s&&(a?l=h(l):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=l,e(function(){n.getType()==="cell"&&(u.focus({preventScroll:!0}),u.style.height="100%",r.selectContents&&u.select())});function d(){var c=u.value,f;if((l===null||typeof l>"u")&&c!==""||c!==l){if(c&&s)switch(f=a.fromFormat(String(c),"yyyy-MM-dd"),s){case!0:c=f;break;case"iso":c=f.toISO();break;default:c=f.toFormat(s)}t(c)&&(l=u.value)}else i()}return u.addEventListener("blur",function(c){(c.relatedTarget||c.rangeParent||c.explicitOriginalTarget!==u)&&d()}),u.addEventListener("keydown",function(c){switch(c.keyCode){case 13:d();break;case 27:i();break;case 35:case 36:c.stopPropagation();break;case 38:case 40:o=="editor"&&(c.stopImmediatePropagation(),c.stopPropagation());break}}),u}function aS(n,e,t,i,r){var s=r.format,o=r.verticalNavigation||"editor",a=s?window.DateTime||luxon.DateTime:null,l,u=n.getValue(),h=document.createElement("input");if(h.type="time",h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let c in r.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),h.setAttribute(c,h.getAttribute(c)+r.elementAttributes["+"+c])):h.setAttribute(c,r.elementAttributes[c]);u=typeof u<"u"?u:"",s&&(a?(a.isDateTime(u)?l=u:s==="iso"?l=a.fromISO(String(u)):l=a.fromFormat(String(u),s),u=l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),h.value=u,e(function(){n.getType()=="cell"&&(h.focus({preventScroll:!0}),h.style.height="100%",r.selectContents&&h.select())});function d(){var c=h.value,f;if((u===null||typeof u>"u")&&c!==""||c!==u){if(c&&s)switch(f=a.fromFormat(String(c),"hh:mm"),s){case!0:c=f;break;case"iso":c=f.toISO();break;default:c=f.toFormat(s)}t(c)&&(u=h.value)}else i()}return h.addEventListener("blur",function(c){(c.relatedTarget||c.rangeParent||c.explicitOriginalTarget!==h)&&d()}),h.addEventListener("keydown",function(c){switch(c.keyCode){case 13:d();break;case 27:i();break;case 35:case 36:c.stopPropagation();break;case 38:case 40:o=="editor"&&(c.stopImmediatePropagation(),c.stopPropagation());break}}),h}function lS(n,e,t,i,r){var s=r.format,o=r.verticalNavigation||"editor",a=s?window.DateTime||luxon.DateTime:null,l,u=n.getValue(),h=document.createElement("input");if(h.type="datetime-local",h.style.padding="4px",h.style.width="100%",h.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let c in r.elementAttributes)c.charAt(0)=="+"?(c=c.slice(1),h.setAttribute(c,h.getAttribute(c)+r.elementAttributes["+"+c])):h.setAttribute(c,r.elementAttributes[c]);u=typeof u<"u"?u:"",s&&(a?(a.isDateTime(u)?l=u:s==="iso"?l=a.fromISO(String(u)):l=a.fromFormat(String(u),s),u=l.toFormat("yyyy-MM-dd")+"T"+l.toFormat("HH:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),h.value=u,e(function(){n.getType()==="cell"&&(h.focus({preventScroll:!0}),h.style.height="100%",r.selectContents&&h.select())});function d(){var c=h.value,f;if((u===null||typeof u>"u")&&c!==""||c!==u){if(c&&s)switch(f=a.fromISO(String(c)),s){case!0:c=f;break;case"iso":c=f.toISO();break;default:c=f.toFormat(s)}t(c)&&(u=h.value)}else i()}return h.addEventListener("blur",function(c){(c.relatedTarget||c.rangeParent||c.explicitOriginalTarget!==h)&&d()}),h.addEventListener("keydown",function(c){switch(c.keyCode){case 13:d();break;case 27:i();break;case 35:case 36:c.stopPropagation();break;case 38:case 40:o=="editor"&&(c.stopImmediatePropagation(),c.stopPropagation());break}}),h}let uS=class{constructor(e,t,i,r,s,o){this.edit=e,this.table=e.table,this.cell=t,this.params=this._initializeParams(o),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=t.getType()==="header",this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:r,cancel:s},this._deprecatedOptionsCheck(),this._initializeValue(),i(this._onRendered.bind(this))}_deprecatedOptionsCheck(){}_initializeValue(){var e=this.cell.getValue();typeof e>"u"&&typeof this.params.defaultValue<"u"&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function t(i){i.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",t),setTimeout(()=>{e.removeEventListener("click",t)},1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(this.params.maxWidth===!0?this.listEl.style.maxWidth=e.offsetWidth+"px":typeof this.params.maxWidth=="number"?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,t=document.createElement("input");if(t.setAttribute("type",this.params.clearable?"search":"text"),t.style.padding="4px",t.style.width="100%",t.style.boxSizing="border-box",this.params.autocomplete||(t.style.cursor="default",t.style.caretColor="transparent"),e&&typeof e=="object")for(let i in e)i.charAt(0)=="+"?(i=i.slice(1),t.setAttribute(i,t.getAttribute(i)+e["+"+i])):t.setAttribute(i,e[i]);return this.params.mask&&hs(t,this.params),this._bindInputEvents(t),t}_initializeParams(e){var t=["values","valuesURL","valuesLookup"],i;return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading=typeof e.placeholderLoading>"u"?"Searching ...":e.placeholderLoading,e.placeholderEmpty=typeof e.placeholderEmpty>"u"?"No Results Found":e.placeholderEmpty,e.filterDelay=typeof e.filterDelay>"u"?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",i=Object.keys(e).filter(r=>t.includes(r)).length,i?i>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&!(typeof e.valuesLookup=="function"||e.valuesURL)&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(()=>{this.rebuildOptionsList()},this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:this._keyTab(e);break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout(()=>{this.popup&&this.popup.restoreHide()},10)}_preventBlur(){this.blurable=!1,setTimeout(()=>{this.blurable=!0},10)}_keyTab(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem,!0)}_keyUp(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t>0&&this._focusItem(this.displayItems[t-1]))}_keyDown(e){var t=this.displayItems.indexOf(this.focusedItem);(this.params.verticalNavigation=="editor"||this.params.verticalNavigation=="hybrid"&&t<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<this.displayItems.length-1&&(t==-1?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[t+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&this.lastAction==="typing"?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var t=String.fromCharCode(e).toLowerCase();this.filterTerm+=t.toLowerCase();var i=this.displayItems.find(r=>typeof r.label<"u"&&r.label.toLowerCase().startsWith(this.filterTerm));i&&this._focusItem(i),this.filterTimeout=setTimeout(()=>{this.filterTerm=""},800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch(e=>{Number.isInteger(e)||console.error("List generation error",e)})}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var t=[],i=++this.listIteration;return this.filtered=!1,this.params.values?t=this.params.values:this.params.valuesURL?t=this._ajaxRequest(this.params.valuesURL,this.input.value):typeof this.params.valuesLookup=="function"?t=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(t=this._uniqueColumnValues(this.params.valuesLookupField)),t instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),t.then().then(r=>this.listIteration===i?this._parseList(r):Promise.reject(i))):Promise.resolve(this._parseList(t))}_addPlaceholder(e){var t=document.createElement("div");typeof e=="function"&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?t=e:(t.classList.add("tabulator-edit-list-placeholder"),t.innerHTML=e),this.listEl.appendChild(t),this._showList())}_ajaxRequest(e,t){var i=this.params.filterRemote?{term:t}:{};return e=Hc(e,{},i),fetch(e).then(r=>r.ok?r.json().catch(s=>(console.warn("List Ajax Load Error - Invalid JSON returned",s),Promise.reject(s))):(console.error("List Ajax Load Error - Connection Error: "+r.status,r.statusText),Promise.reject(r))).catch(r=>(console.error("List Ajax Load Error - Connection Error: ",r),Promise.reject(r)))}_uniqueColumnValues(e){var t={},i=this.table.getData(this.params.valuesLookup),r;return e?r=this.table.columnManager.getColumnByField(e):r=this.cell.getColumn()._getSelf(),r?i.forEach(s=>{var o=r.getFieldValue(s);o!==null&&typeof o<"u"&&o!==""&&(t[o]=!0)}):(console.warn("unable to find matching column to create select lookup list:",e),t=[]),Object.keys(t)}_parseList(e){var t=[];return Array.isArray(e)||(e=Object.entries(e).map(([i,r])=>({label:r,value:i}))),e.forEach(i=>{typeof i!="object"&&(i={label:i,value:i}),this._parseListItem(i,t,0)}),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=t,t}_parseListItem(e,t,i){var r={};e.options?r=this._parseListGroup(e,i+1):(r={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:i,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(r,!0)),t.push(r)}_parseListGroup(e,t){var i={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:t,options:[],original:e};return e.options.forEach(r=>{this._parseListItem(r,i.options,t)}),i}_sortOptions(e){var t;return this.params.sort&&(t=typeof this.params.sort=="function"?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(t,e)),e}_sortGroup(e,t){t.sort((i,r)=>e(i.label,r.label,i.value,r.value,i.original,r.original)),t.forEach(i=>{i.group&&this._sortGroup(e,i.options)})}_defaultSortFunction(e,t){var i,r,s,o,a=0,l,u=/(\d+)|(\D+)/g,h=/\d/,d=0;if(this.params.sort==="desc"&&([e,t]=[t,e]),!e&&e!==0)d=!t&&t!==0?0:-1;else if(!t&&t!==0)d=1;else{if(isFinite(e)&&isFinite(t))return e-t;if(i=String(e).toLowerCase(),r=String(t).toLowerCase(),i===r)return 0;if(!(h.test(i)&&h.test(r)))return i>r?1:-1;for(i=i.match(u),r=r.match(u),l=i.length>r.length?r.length:i.length;a<l;)if(s=i[a],o=r[a++],s!==o)return isFinite(s)&&isFinite(o)?(s.charAt(0)==="0"&&(s="."+s),o.charAt(0)==="0"&&(o="."+o),s-o):s>o?1:-1;return i.length>r.length}return d}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,t=this.input.value;return t?(this.filtered=!0,this.data.forEach(i=>{this._filterItem(e,t,i)})):this.filtered=!1,this.data}_filterItem(e,t,i){var r=!1;return i.group?(i.options.forEach(s=>{this._filterItem(e,t,s)&&(r=!0)}),i.visible=r):i.visible=e(t,i.label,i.value,i.original),i.visible}_defaultFilterFunc(e,t,i,r){return e=String(e).toLowerCase(),t!==null&&typeof t<"u"&&(String(t).toLowerCase().indexOf(e)>-1||String(i).toLowerCase().indexOf(e)>-1)}_clearList(){for(;this.listEl.firstChild;)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach(t=>{this._buildItem(t)}),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var t=e.element,i;if(!this.filtered||e.visible){if(!t){if(t=document.createElement("div"),t.tabIndex=0,i=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,t):e.label,i instanceof HTMLElement?t.appendChild(i):t.innerHTML=i,e.group?t.classList.add("tabulator-edit-list-group"):t.classList.add("tabulator-edit-list-item"),t.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&typeof e.elementAttributes=="object")for(let r in e.elementAttributes)r.charAt(0)=="+"?(r=r.slice(1),t.setAttribute(r,this.input.getAttribute(r)+e.elementAttributes["+"+r])):t.setAttribute(r,e.elementAttributes[r]);e.group?t.addEventListener("click",this._groupClick.bind(this,e)):t.addEventListener("click",this._itemClick.bind(this,e)),t.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=t}this._styleItem(e),this.listEl.appendChild(t),e.group?e.options.forEach(r=>{this._buildItem(r)}):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&this.input.value===""&&!this.params.listOnEmpty){this.popup&&this.popup.hide(!0);return}this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout(()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))},10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,t){t.stopPropagation(),this._chooseItem(e)}_groupClick(e,t){t.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach(e=>{e.selected=!1,this._styleItem(e)}),this.currentItems=[],this.focusedItem=null}_chooseItem(e,t){var i;this.typing=!1,this.params.multiselect?(i=this.currentItems.indexOf(e),i>-1?(this.currentItems.splice(i,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map(r=>r.label).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),t||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var t,i;if(this.popup&&this.popup.hide(!0),this.params.multiselect)t=this.currentItems.map(r=>r.value);else if(e&&this.params.autocomplete&&this.typing)if(this.params.freetext||this.params.allowEmpty&&this.input.value==="")t=this.input.value;else{this.actions.cancel();return}else this.currentItems[0]?t=this.currentItems[0].value:(i=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,i===null||typeof i>"u"||i===""?t=i:t=this.params.emptyValue);t===""&&(t=this.params.emptyValue),this.actions.success(t),this.isFilter&&(this.initialValues=t&&!Array.isArray(t)?[t]:t,this.currentItems=[])}};function cS(n,e,t,i,r){var s=new uS(this,n,e,t,i,r);return s.input}function hS(n,e,t,i,r){var s=this,o=n.getElement(),a=n.getValue(),l=o.getElementsByTagName("svg").length||5,u=o.getElementsByTagName("svg")[0]?o.getElementsByTagName("svg")[0].getAttribute("width"):14,h=[],d=document.createElement("div"),c=document.createElementNS("http://www.w3.org/2000/svg","svg");function f(p){h.forEach(function(m,w){w<p?(s.table.browser=="ie"?m.setAttribute("class","tabulator-star-active"):m.classList.replace("tabulator-star-inactive","tabulator-star-active"),m.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):(s.table.browser=="ie"?m.setAttribute("class","tabulator-star-inactive"):m.classList.replace("tabulator-star-active","tabulator-star-inactive"),m.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function v(p){var m=document.createElement("span"),w=c.cloneNode(!0);h.push(w),m.addEventListener("mouseenter",function(g){g.stopPropagation(),g.stopImmediatePropagation(),f(p)}),m.addEventListener("mousemove",function(g){g.stopPropagation(),g.stopImmediatePropagation()}),m.addEventListener("click",function(g){g.stopPropagation(),g.stopImmediatePropagation(),t(p),o.blur()}),m.appendChild(w),d.appendChild(m)}function y(p){a=p,f(p)}if(o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",d.style.verticalAlign="middle",d.style.display="inline-block",d.style.padding="4px",c.setAttribute("width",u),c.setAttribute("height",u),c.setAttribute("viewBox","0 0 512 512"),c.setAttribute("xml:space","preserve"),c.style.padding="0 1px",r.elementAttributes&&typeof r.elementAttributes=="object")for(let p in r.elementAttributes)p.charAt(0)=="+"?(p=p.slice(1),d.setAttribute(p,d.getAttribute(p)+r.elementAttributes["+"+p])):d.setAttribute(p,r.elementAttributes[p]);for(var b=1;b<=l;b++)v(b);return a=Math.min(parseInt(a),l),f(a),d.addEventListener("mousemove",function(p){f(0)}),d.addEventListener("click",function(p){t(0)}),o.addEventListener("blur",function(p){i()}),o.addEventListener("keydown",function(p){switch(p.keyCode){case 39:y(a+1);break;case 37:y(a-1);break;case 13:t(a);break;case 27:i();break}}),d}function dS(n,e,t,i,r){var s=n.getElement(),o=typeof r.max>"u"?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,a=typeof r.min>"u"?s.getElementsByTagName("div")[0]&&s.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,l=(o-a)/100,u=n.getValue()||0,h=document.createElement("div"),d=document.createElement("div"),c,f;function v(){var y=window.getComputedStyle(s,null),b=l*Math.round(d.offsetWidth/((s.clientWidth-parseInt(y.getPropertyValue("padding-left"))-parseInt(y.getPropertyValue("padding-right")))/100))+a;t(b),s.setAttribute("aria-valuenow",b),s.setAttribute("aria-label",u)}if(h.style.position="absolute",h.style.right="0",h.style.top="0",h.style.bottom="0",h.style.width="5px",h.classList.add("tabulator-progress-handle"),d.style.display="inline-block",d.style.position="relative",d.style.height="100%",d.style.backgroundColor="#488CE9",d.style.maxWidth="100%",d.style.minWidth="0%",r.elementAttributes&&typeof r.elementAttributes=="object")for(let y in r.elementAttributes)y.charAt(0)=="+"?(y=y.slice(1),d.setAttribute(y,d.getAttribute(y)+r.elementAttributes["+"+y])):d.setAttribute(y,r.elementAttributes[y]);return s.style.padding="4px 4px",u=Math.min(parseFloat(u),o),u=Math.max(parseFloat(u),a),u=Math.round((u-a)/l),d.style.width=u+"%",s.setAttribute("aria-valuemin",a),s.setAttribute("aria-valuemax",o),d.appendChild(h),h.addEventListener("mousedown",function(y){c=y.screenX,f=d.offsetWidth}),h.addEventListener("mouseover",function(){h.style.cursor="ew-resize"}),s.addEventListener("mousemove",function(y){c&&(d.style.width=f+y.screenX-c+"px")}),s.addEventListener("mouseup",function(y){c&&(y.stopPropagation(),y.stopImmediatePropagation(),c=!1,f=!1,v())}),s.addEventListener("keydown",function(y){switch(y.keyCode){case 39:y.preventDefault(),d.style.width=d.clientWidth+s.clientWidth/100+"px";break;case 37:y.preventDefault(),d.style.width=d.clientWidth-s.clientWidth/100+"px";break;case 9:case 13:v();break;case 27:i();break}}),s.addEventListener("blur",function(){i()}),d}function fS(n,e,t,i,r){var s=n.getValue(),o=document.createElement("input"),a=r.tristate,l=typeof r.indeterminateValue>"u"?null:r.indeterminateValue,u=!1,h=Object.keys(r).includes("trueValue"),d=Object.keys(r).includes("falseValue");if(o.setAttribute("type","checkbox"),o.style.marginTop="5px",o.style.boxSizing="border-box",r.elementAttributes&&typeof r.elementAttributes=="object")for(let f in r.elementAttributes)f.charAt(0)=="+"?(f=f.slice(1),o.setAttribute(f,o.getAttribute(f)+r.elementAttributes["+"+f])):o.setAttribute(f,r.elementAttributes[f]);o.value=s,a&&(typeof s>"u"||s===l||s==="")&&(u=!0,o.indeterminate=!0),this.table.browser!="firefox"&&this.table.browser!="safari"&&e(function(){n.getType()==="cell"&&o.focus({preventScroll:!0})}),o.checked=h?s===r.trueValue:s===!0||s==="true"||s==="True"||s===1;function c(f){var v=o.checked;return h&&v?v=r.trueValue:d&&!v&&(v=r.falseValue),a?f?u?l:v:o.checked&&!u?(o.checked=!1,o.indeterminate=!0,u=!0,l):(u=!1,v):v}return o.addEventListener("change",function(f){t(c())}),o.addEventListener("blur",function(f){t(c(!0))}),o.addEventListener("keydown",function(f){f.keyCode==13&&t(c()),f.keyCode==27&&i()}),o}var pS={input:iS,textarea:nS,number:rS,range:sS,date:oS,time:aS,datetime:lS,list:cS,star:hS,progress:dS,tickCross:fS};const jn=class jn extends Se{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.convertEmptyValues=!1,this.editors=jn.editors,this.registerTableOption("editTriggerEvent","focus"),this.registerTableOption("editorEmptyValue"),this.registerTableOption("editorEmptyValueFunc",this.emptyValueCheck.bind(this)),this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("editorEmptyValue"),this.registerColumnOption("editorEmptyValueFunc"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("clipboard-paste",this.pasteBlocker.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0)),Object.keys(this.table.options).includes("editorEmptyValue")&&(this.convertEmptyValues=!0)}pasteBlocker(e){if(this.currentCell)return!0}keybindingNavigateNext(e){var t=this.currentCell,i=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||i&&(t.getElement().firstChild.blur(),this.invalidEdit||(i===!0?i=this.table.addRow({}):typeof i=="function"?i=this.table.addRow(i(t.row.getComponent())):i=this.table.addRow(Object.assign({},i)),i.then(()=>{setTimeout(()=>{t.getComponent().navigateNext()})}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.table.modules.edit.clearEdited(t._getSelf())})}navigatePrev(e=this.currentCell,t){var i,r;if(e){if(t&&t.preventDefault(),i=this.navigateLeft(),i)return!0;if(r=this.table.rowManager.prevDisplayRow(e.row,!0),r&&(i=this.findPrevEditableCell(r,r.cells.length),i))return i.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var i,r;if(e){if(t&&t.preventDefault(),i=this.navigateRight(),i)return!0;if(r=this.table.rowManager.nextDisplayRow(e.row,!0),r&&(i=this.findNextEditableCell(r,-1),i))return i.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var i,r;return e&&(t&&t.preventDefault(),i=e.getIndex(),r=this.findPrevEditableCell(e.row,i),r)?(r.getComponent().edit(),!0):!1}navigateRight(e=this.currentCell,t){var i,r;return e&&(t&&t.preventDefault(),i=e.getIndex(),r=this.findNextEditableCell(e.row,i),r)?(r.getComponent().edit(),!0):!1}navigateUp(e=this.currentCell,t){var i,r;return e&&(t&&t.preventDefault(),i=e.getIndex(),r=this.table.rowManager.prevDisplayRow(e.row,!0),r)?(r.cells[i].getComponent().edit(),!0):!1}navigateDown(e=this.currentCell,t){var i,r;return e&&(t&&t.preventDefault(),i=e.getIndex(),r=this.table.rowManager.nextDisplayRow(e.row,!0),r)?(r.cells[i].getComponent().edit(),!0):!1}findNextEditableCell(e,t){var i=!1;if(t<e.cells.length-1)for(var r=t+1;r<e.cells.length;r++){let s=e.cells[r];if(s.column.modules.edit&&He.elVisible(s.getElement())&&this.allowEdit(s)){i=s;break}}return i}findPrevEditableCell(e,t){var i=!1;if(t>0)for(var r=t-1;r>=0;r--){let s=e.cells[r];if(s.column.modules.edit&&He.elVisible(s.getElement())&&this.allowEdit(s)){i=s;break}}return i}initializeColumnCheck(e){typeof e.definition.editor<"u"&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach(t=>{t.column.modules.edit&&typeof t.column.modules.edit.check=="function"&&this.updateCellClass(t)})}initializeColumn(e){var t=Object.keys(e.definition).includes("editorEmptyValue"),i={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{},convertEmptyValues:t,editorEmptyValue:e.definition.editorEmptyValue,editorEmptyValueFunc:e.definition.editorEmptyValueFunc};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?i.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":i.editor=e.definition.editor;break;case"boolean":e.definition.editor===!0&&(typeof e.definition.formatter!="function"?this.editors[e.definition.formatter]?i.editor=this.editors[e.definition.formatter]:i.editor=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter));break}i.editor&&(e.modules.edit=i)}getCurrentCell(){return this.currentCell?this.currentCell.getComponent():!1}clearEditor(e){var t=this.currentCell,i;if(this.invalidEdit=!1,t){for(this.currentCell=!1,i=t.getElement(),this.dispatch("edit-editor-clear",t,e),i.classList.remove("tabulator-editing");i.firstChild;)i.removeChild(i.firstChild);t.row.getElement().classList.remove("tabulator-editing"),t.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),(e.column.definition.editor=="textarea"||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,i=e.getElement(!0);this.updateCellClass(e),i.setAttribute("tabindex",0),i.addEventListener("mousedown",function(r){r.button===2?r.preventDefault():t.mouseClick=!0}),this.options("editTriggerEvent")==="dblclick"&&i.addEventListener("dblclick",function(r){i.classList.contains("tabulator-editing")||(i.focus({preventScroll:!0}),t.edit(e,r,!1))}),(this.options("editTriggerEvent")==="focus"||this.options("editTriggerEvent")==="click")&&i.addEventListener("click",function(r){i.classList.contains("tabulator-editing")||(i.focus({preventScroll:!0}),t.edit(e,r,!1))}),this.options("editTriggerEvent")==="focus"&&i.addEventListener("focus",function(r){t.recursionBlock||t.edit(e,r,!1)})}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&this.table.browser==="ie"||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if(this.table.rowManager.getRenderMode()=="virtual"){var t=this.table.rowManager.element.scrollTop,i=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,r=e.row.getElement();r.offsetTop<t?this.table.rowManager.element.scrollTop-=t-r.offsetTop:r.offsetTop+r.offsetHeight>i&&(this.table.rowManager.element.scrollTop+=r.offsetTop+r.offsetHeight-i);var s=this.table.rowManager.element.scrollLeft,o=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=e.getElement();this.table.modExists("frozenColumns")&&(s+=parseInt(this.table.modules.frozenColumns.leftMargin||0),o-=parseInt(this.table.modules.frozenColumns.rightMargin||0)),this.table.options.renderHorizontal==="virtual"&&(s-=parseInt(this.table.columnManager.renderer.vDomPadLeft),o-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),a.offsetLeft<s?this.table.rowManager.element.scrollLeft-=s-a.offsetLeft:a.offsetLeft+a.offsetWidth>o&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-o)}}allowEdit(e){var t=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(t=e.column.modules.edit.check(e.getComponent()));break;case"string":t=!!e.row.data[e.column.modules.edit.check];break;case"boolean":t=e.column.modules.edit.check;break}return t}edit(e,t,i){var r=this,s=!0,o=function(){},a=e.getElement(),l=!1,u,h,d;if(this.currentCell){!this.invalidEdit&&this.currentCell!==e&&this.cancelEdit();return}function c(p){if(r.currentCell===e&&!l){var m=r.chain("edit-success",[e,p],!0,!0);return m===!0||r.table.options.validationMode==="highlight"?(l=!0,r.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,r.editedCells.indexOf(e)==-1&&r.editedCells.push(e),p=r.transformEmptyValues(p,e),e.setValue(p,!0),m===!0):(l=!0,r.invalidEdit=!0,r.focusCellNoEvent(e,!0),o(),setTimeout(()=>{l=!1},10),!1)}}function f(){r.currentCell===e&&!l&&r.cancelEdit()}function v(p){o=p}if(e.column.modules.edit.blocked)return this.mouseClick=!1,this.blur(a),!1;if(t&&t.stopPropagation(),s=this.allowEdit(e),s||i){if(r.cancelEdit(),r.currentCell=e,this.focusScrollAdjust(e),h=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,h)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,h),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",h),d=typeof e.column.modules.edit.params=="function"?e.column.modules.edit.params(h):e.column.modules.edit.params,u=e.column.modules.edit.editor.call(r,h,v,c,f,d),this.currentCell&&u!==!1)if(u instanceof Node){for(a.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");a.firstChild;)a.removeChild(a.firstChild);a.appendChild(u),o();for(var y=a.children,b=0;b<y.length;b++)y[b].addEventListener("click",function(p){p.stopPropagation()})}else return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",u),this.blur(a),!1;else return this.blur(a),!1;return!0}else return this.mouseClick=!1,this.blur(a),!1}emptyValueCheck(e){return e===""||e===null||typeof e>"u"}transformEmptyValues(e,t){var i=t.column.modules.edit,r=i.convertEmptyValues||this.convertEmptyValues,s;return r&&(s=i.editorEmptyValueFunc||this.options("editorEmptyValueFunc"),s&&s(e)&&(e=i.convertEmptyValues?i.editorEmptyValue:this.options("editorEmptyValue"))),e}blur(e){this.confirm("edit-blur",[e])||e.blur()}getEditedCells(){var e=[];return this.editedCells.forEach(t=>{e.push(t.getComponent())}),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),t=this.editedCells.indexOf(e),t>-1&&this.editedCells.splice(t,1)}};re(jn,"moduleName","edit"),re(jn,"editors",pS);let _o=jn;class Hl{constructor(e,t,i,r){this.type=e,this.columns=t,this.component=i||!1,this.indent=r||0}}class Zs{constructor(e,t,i,r,s){this.value=e,this.component=t||!1,this.width=i,this.height=r,this.depth=s}}var gS={},mS={visible:function(){return this.rowManager.getVisibleRows(!1,!0)},all:function(){return this.rowManager.rows},selected:function(){return this.modules.selectRow.selectedRows},active:function(){return this.options.pagination?this.rowManager.getDisplayRows(this.rowManager.displayRows.length-2):this.rowManager.getDisplayRows()}};const ai=class ai extends Se{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.colVisPropAttach="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,i,r){var s,o,a,l;return this.cloneTableStyle=t,this.config=e||{},this.colVisProp=r,this.colVisPropAttach=this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1),l=ai.columnLookups[i],l&&(a=l.call(this.table),a=a.filter(u=>this.columnVisCheck(u))),s=this.config.columnHeaders!==!1?this.headersToExportRows(this.generateColumnGroupHeaders(a)):[],a&&(a=a.map(u=>u.getComponent())),o=this.bodyToExportRows(this.rowLookup(i),a),s.concat(o)}generateTable(e,t,i,r){var s=this.generateExportList(e,t,i,r);return this.generateTableElement(s)}rowLookup(e){var t=[],i;return typeof e=="function"?e.call(this.table).forEach(r=>{r=this.table.rowManager.findRow(r),r&&t.push(r)}):(i=ai.rowLookups[e]||ai.rowLookups.active,t=i.call(this.table)),Object.assign([],t)}generateColumnGroupHeaders(e){var t=[];return e||(e=this.config.columnGroups!==!1?this.table.columnManager.columns:this.table.columnManager.columnsByIndex),e.forEach(i=>{var r=this.processColumnGroup(i);r&&t.push(r)}),t}processColumnGroup(e){var t=e.columns,i=0,r=e.definition["title"+this.colVisPropAttach]||e.definition.title,s={title:r,column:e,depth:1};if(t.length){if(s.subGroups=[],s.width=0,t.forEach(o=>{var a=this.processColumnGroup(o);a&&(s.width+=a.width,s.subGroups.push(a),a.depth>i&&(i=a.depth))}),s.depth+=i,!s.width)return!1}else if(this.columnVisCheck(e))s.width=1;else return!1;return s}columnVisCheck(e){var t=e.definition[this.colVisProp];return this.config.rowHeaders===!1&&e.isRowHeader?!1:(typeof t=="function"&&(t=t.call(this.table,e.getComponent())),t===!1||t===!0?t:e.visible&&e.field)}headersToExportRows(e){var t=[],i=0,r=[];function s(o,a){var l=i-a;if(typeof t[a]>"u"&&(t[a]=[]),o.height=o.subGroups?1:l-o.depth+1,t[a].push(o),o.height>1)for(let u=1;u<o.height;u++)typeof t[a+u]>"u"&&(t[a+u]=[]),t[a+u].push(!1);if(o.width>1)for(let u=1;u<o.width;u++)t[a].push(!1);o.subGroups&&o.subGroups.forEach(function(u){s(u,a+1)})}return e.forEach(function(o){o.depth>i&&(i=o.depth)}),e.forEach(function(o){s(o,0)}),t.forEach(o=>{var a=[];o.forEach(l=>{if(l){let u=typeof l.title>"u"?"":l.title;a.push(new Zs(u,l.column.getComponent(),l.width,l.height,l.depth))}else a.push(null)}),r.push(new Hl("header",a))}),r}bodyToExportRows(e,t=[]){var i=[];return t.length===0&&this.table.columnManager.columnsByIndex.forEach(r=>{this.columnVisCheck(r)&&t.push(r.getComponent())}),this.config.columnCalcs!==!1&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter(r=>{switch(r.type){case"group":return this.config.rowGroups!==!1;case"calc":return this.config.columnCalcs!==!1;case"row":return!(this.table.options.dataTree&&this.config.dataTree===!1&&r.modules.dataTree.parent)}return!0}),e.forEach((r,s)=>{var o=r.getData(this.colVisProp),a=[],l=0;switch(r.type){case"group":l=r.level,a.push(new Zs(r.key,r.getComponent(),t.length,1));break;case"calc":case"row":t.forEach(u=>{a.push(new Zs(u._column.getFieldValue(o),u,1,1))}),this.table.options.dataTree&&this.config.dataTree!==!1&&(l=r.modules.dataTree.index);break}i.push(new Hl(r.type,a,r.getComponent(),l))}),i}generateTableElement(e){var t=document.createElement("table"),i=document.createElement("thead"),r=document.createElement("tbody"),s=this.lookupTableStyles(),o=this.table.options["rowFormatter"+this.colVisPropAttach],a={};return a.rowFormatter=o!==null?o:this.table.options.rowFormatter,this.table.options.dataTree&&this.config.dataTree!==!1&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+this.colVisPropAttach],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((l,u)=>{let h;switch(l.type){case"header":i.appendChild(this.generateHeaderElement(l,a,s));break;case"group":r.appendChild(this.generateGroupElement(l,a,s));break;case"calc":r.appendChild(this.generateCalcElement(l,a,s));break;case"row":h=this.generateRowElement(l,a,s),this.mapElementStyles(u%2&&s.evenRow?s.evenRow:s.oddRow,h,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r.appendChild(h);break}}),i.innerHTML&&t.appendChild(i),t.appendChild(r),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.styleRowHeader=e.firstRow.getElementsByClassName("tabulator-row-header")[0],e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,t,i){var r=document.createElement("tr");return e.columns.forEach(s=>{if(s){var o=document.createElement("th"),a=s.component._column.definition.cssClass?s.component._column.definition.cssClass.split(" "):[];o.colSpan=s.width,o.rowSpan=s.height,o.innerHTML=s.value,this.cloneTableStyle&&(o.style.boxSizing="border-box"),a.forEach(function(l){o.classList.add(l)}),this.mapElementStyles(s.component.getElement(),o,["text-align","border-left","border-right","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(s.component._column.contentElement,o,["padding-top","padding-left","padding-right","padding-bottom"]),s.component._column.visible?this.mapElementStyles(s.component.getElement(),o,["width"]):s.component._column.definition.width&&(o.style.width=s.component._column.definition.width+"px"),s.component._column.parent&&s.component._column.parent.isGroup?this.mapElementStyles(s.component._column.parent.groupElement,o,["border-top"]):this.mapElementStyles(s.component.getElement(),o,["border-top"]),s.component._column.isGroup?this.mapElementStyles(s.component.getElement(),o,["border-bottom"]):this.mapElementStyles(this.table.columnManager.getElement(),o,["border-bottom"]),r.appendChild(o)}}),r}generateGroupElement(e,t,i){var r=document.createElement("tr"),s=document.createElement("td"),o=e.columns[0];return r.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?o.value=t.groupHeader[e.indent](o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):t.groupHeader!==!1&&(o.value=e.component._group.generator(o.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),s.colSpan=o.width,s.innerHTML=o.value,r.classList.add("tabulator-print-table-group"),r.classList.add("tabulator-group-level-"+e.indent),o.component.isVisible()&&r.classList.add("tabulator-group-visible"),this.mapElementStyles(i.firstGroup,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(i.firstGroup,s,["padding-top","padding-left","padding-right","padding-bottom"]),r.appendChild(s),r}generateCalcElement(e,t,i){var r=this.generateRowElement(e,t,i);return r.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(i.calcRow,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r}generateRowElement(e,t,i){var r=document.createElement("tr");if(r.classList.add("tabulator-print-table-row"),e.columns.forEach((s,o)=>{if(s){var a=document.createElement("td"),l=s.component._column,u=this.table,h=u.columnManager.findColumnIndex(l),d=s.value,c,f,v={modules:{},getValue:function(){return d},getField:function(){return l.definition.field},getElement:function(){return a},getType:function(){return"cell"},getColumn:function(){return l.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getTable:function(){return u},getComponent:function(){return v},column:l},y=l.definition.cssClass?l.definition.cssClass.split(" "):[];if(y.forEach(function(b){a.classList.add(b)}),this.table.modExists("format")&&this.config.formatCells!==!1)d=this.table.modules.format.formatExportValue(v,this.colVisProp);else switch(typeof d){case"object":d=d!==null?JSON.stringify(d):"";break;case"undefined":d="";break}d instanceof Node?a.appendChild(d):a.innerHTML=d,f=["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"],l.isRowHeader?(c=i.styleRowHeader,f.push("background-color")):c=i.styleCells&&i.styleCells[h]?i.styleCells[h]:i.firstCell,c&&(this.mapElementStyles(c,a,f),l.definition.align&&(a.style.textAlign=l.definition.align)),this.table.options.dataTree&&this.config.dataTree!==!1&&(t.treeElementField&&t.treeElementField==l.field||!t.treeElementField&&o==0)&&(e.component._row.modules.dataTree.controlEl&&a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),e.component._row.modules.dataTree.branchEl&&a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),r.appendChild(a),v.modules.format&&v.modules.format.renderedCallback&&v.modules.format.renderedCallback()}}),t.rowFormatter&&e.type==="row"&&this.config.formatCells!==!1){let s=Object.assign(e.component);s.getElement=function(){return r},t.rowFormatter(e.component)}return r}generateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.generateTableElement(e)),t.innerHTML}getHtml(e,t,i,r){var s=this.generateExportList(i||this.table.options.htmlOutputConfig,t,e,r||"htmlOutput");return this.generateHTMLTable(s)}mapElementStyles(e,t,i){if(this.cloneTableStyle&&e&&t){var r={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var s=window.getComputedStyle(e);i.forEach(function(o){t.style[r[o]]||(t.style[r[o]]=s.getPropertyValue(o))})}}}};re(ai,"moduleName","export"),re(ai,"columnLookups",gS),re(ai,"rowLookups",mS);let Ro=ai;var bS={"=":function(n,e,t,i){return e==n},"<":function(n,e,t,i){return e<n},"<=":function(n,e,t,i){return e<=n},">":function(n,e,t,i){return e>n},">=":function(n,e,t,i){return e>=n},"!=":function(n,e,t,i){return e!=n},regex:function(n,e,t,i){return typeof n=="string"&&(n=new RegExp(n)),n.test(e)},like:function(n,e,t,i){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(n.toLowerCase())>-1:!1},keywords:function(n,e,t,i){var r=n.toLowerCase().split(typeof i.separator>"u"?" ":i.separator),s=String(e===null||typeof e>"u"?"":e).toLowerCase(),o=[];return r.forEach(a=>{s.includes(a)&&o.push(!0)}),i.matchAll?o.length===r.length:!!o.length},starts:function(n,e,t,i){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(n.toLowerCase()):!1},ends:function(n,e,t,i){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(n.toLowerCase()):!1},in:function(n,e,t,i){return Array.isArray(n)?n.length?n.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",n),!1)}};const qt=class qt extends Se{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerTableOption("placeholderHeaderFilter",!1),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.subscribe("placeholder",this.generatePlaceholder.bind(this)),this.table.options.filterMode==="remote"&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(e=>{var t=this.table.columnManager.findColumn(e.field);if(t)this.setHeaderFilterValue(t,e.value);else return console.warn("Column Filter Error - No matching column found:",e.field),!1}),this.tableInitialized=!0}remoteFilterParams(e,t,i,r){return r.filter=this.getFilters(!0,!0),r}generatePlaceholder(e){if(this.table.options.placeholderHeaderFilter&&Object.keys(this.headerFilters).length)return this.table.options.placeholderHeaderFilter}userSetFilter(e,t,i,r){this.setFilter(e,t,i,r),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,i,r){this.addFilter(e,t,i,r),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(t)this.setHeaderFilterFocus(t);else return console.warn("Column Filter Focus Error - No matching column found:",e),!1}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var i=this.table.columnManager.findColumn(e);if(i)this.setHeaderFilterValue(i,t);else return console.warn("Column Filter Error - No matching column found:",e),!1}userRemoveFilter(e,t,i){this.removeFilter(e,t,i),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,i){return this.search("rows",e,t,i)}searchData(e,t,i){return this.search("data",e,t,i)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&this.initializeColumn(e)}initializeColumn(e,t){var i=this,r=e.getField();function s(o){var a=e.modules.filter.tagType=="input"&&e.modules.filter.attrType=="text"||e.modules.filter.tagType=="textarea"?"partial":"match",l="",u="",h;if(typeof e.modules.filter.prevSuccess>"u"||e.modules.filter.prevSuccess!==o){if(e.modules.filter.prevSuccess=o,e.modules.filter.emptyFunc(o))delete i.headerFilters[r];else{switch(e.modules.filter.value=o,typeof e.definition.headerFilterFunc){case"string":qt.filters[e.definition.headerFilterFunc]?(l=e.definition.headerFilterFunc,h=function(d){var c=e.definition.headerFilterFuncParams||{},f=e.getFieldValue(d);return c=typeof c=="function"?c(o,f,d):c,qt.filters[e.definition.headerFilterFunc](o,f,d,c)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":h=function(d){var c=e.definition.headerFilterFuncParams||{},f=e.getFieldValue(d);return c=typeof c=="function"?c(o,f,d):c,e.definition.headerFilterFunc(o,f,d,c)},l=h;break}if(!h)switch(a){case"partial":h=function(d){var c=e.getFieldValue(d);return typeof c<"u"&&c!==null?String(c).toLowerCase().indexOf(String(o).toLowerCase())>-1:!1},l="like";break;default:h=function(d){return e.getFieldValue(d)==o},l="="}i.headerFilters[r]={value:o,func:h,type:l}}e.modules.filter.value=o,u=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==u&&(i.prevHeaderFilterChangeCheck=u,i.trackChanges(),i.refreshFilter())}return!0}e.modules.filter={success:s,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,i){var r=this,s=e.modules.filter.success,o=e.getField(),a,l,u,h,d,c,f,v;e.modules.filter.value=t;function y(){}function b(p){v=p}if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),o){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(p){return!p&&p!==0},a=document.createElement("div"),a.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":r.table.modules.edit.editors[e.definition.headerFilter]?(l=r.table.modules.edit.editors[e.definition.headerFilter],(e.definition.headerFilter==="tick"||e.definition.headerFilter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(p){return p!==!0&&p!==!1})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":l=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?l=e.modules.edit.editor:e.definition.formatter&&r.table.modules.edit.editors[e.definition.formatter]?(l=r.table.modules.edit.editors[e.definition.formatter],(e.definition.formatter==="tick"||e.definition.formatter==="tickCross")&&!e.definition.headerFilterEmptyCheck&&(e.modules.filter.emptyFunc=function(p){return p!==!0&&p!==!1})):l=r.table.modules.edit.editors.input;break}if(l){if(h={getValue:function(){return typeof t<"u"?t:""},getField:function(){return e.definition.field},getElement:function(){return a},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getType:()=>"header",getRow:function(){return{normalizeHeight:function(){}}}},f=e.definition.headerFilterParams||{},f=typeof f=="function"?f.call(r.table,h):f,u=l.call(this.table.modules.edit,h,b,s,y,f),!u){console.warn("Filter Error - Cannot add filter to "+o+" column, editor returned a value of false");return}if(!(u instanceof Node)){console.warn("Filter Error - Cannot add filter to "+o+" column, editor should return an instance of Node, the editor returned:",u);return}r.langBind("headerFilters|columns|"+e.definition.field,function(p){u.setAttribute("placeholder",typeof p<"u"&&p?p:e.definition.headerFilterPlaceholder||r.langText("headerFilters|default"))}),u.addEventListener("click",function(p){p.stopPropagation(),u.focus()}),u.addEventListener("focus",p=>{var m=this.table.columnManager.contentsElement.scrollLeft,w=this.table.rowManager.element.scrollLeft;m!==w&&(this.table.rowManager.scrollHorizontal(m),this.table.columnManager.scrollHorizontal(m))}),d=!1,c=function(p){d&&clearTimeout(d),d=setTimeout(function(){s(u.value)},r.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=u,e.modules.filter.attrType=u.hasAttribute("type")?u.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=u.tagName.toLowerCase(),e.definition.headerFilterLiveFilter!==!1&&(e.definition.headerFilter==="autocomplete"||e.definition.headerFilter==="tickCross"||(e.definition.editor==="autocomplete"||e.definition.editor==="tickCross")&&e.definition.headerFilter===!0||(u.addEventListener("keyup",c),u.addEventListener("search",c),e.modules.filter.attrType=="number"&&u.addEventListener("change",function(p){s(u.value)}),e.modules.filter.attrType=="text"&&this.table.browser!=="ie"&&u.setAttribute("type","search")),(e.modules.filter.tagType=="input"||e.modules.filter.tagType=="select"||e.modules.filter.tagType=="textarea")&&u.addEventListener("mousedown",function(p){p.stopPropagation()})),a.appendChild(u),e.contentElement.appendChild(a),i||r.headerFilterColumns.push(e),v&&v()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&(this.table.options.filterMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,i,r){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:i,params:r}]),this.addFilter(e)}addFilter(e,t,i,r){var s=!1;Array.isArray(e)||(e=[{field:e,type:t,value:i,params:r}]),e.forEach(o=>{o=this.findFilter(o),o&&(this.filterList.push(o),s=!0)}),s&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var i=!1;return typeof e.field=="function"?i=function(r){return e.field(r,e.type||{})}:qt.filters[e.type]?(t=this.table.columnManager.getColumnByField(e.field),t?i=function(r){return qt.filters[e.type](e.value,t.getFieldValue(r),r,e.params||{})}:i=function(r){return qt.filters[e.type](e.value,r[e.field],r,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=i,e.func?e:!1}findSubFilters(e){var t=[];return e.forEach(i=>{i=this.findFilter(i),i&&t.push(i)}),t.length?t:!1}getFilters(e,t){var i=[];return e&&(i=this.getHeaderFilters()),t&&i.forEach(function(r){typeof r.type=="function"&&(r.type="function")}),i=i.concat(this.filtersToArray(this.filterList,t)),i}filtersToArray(e,t){var i=[];return e.forEach(r=>{var s;Array.isArray(r)?i.push(this.filtersToArray(r,t)):(s={field:r.field,type:r.type,value:r.value},t&&typeof s.type=="function"&&(s.type="function"),i.push(s))}),i}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,i){Array.isArray(e)||(e=[{field:e,type:t,value:i}]),e.forEach(r=>{var s=-1;typeof r.field=="object"?s=this.filterList.findIndex(o=>r===o):s=this.filterList.findIndex(o=>r.field===o.field&&r.type===o.type&&r.value===o.value),s>-1?this.filterList.splice(s,1):console.warn("Filter Error - No matching filter type found, ignoring: ",r.type)}),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(e=>{typeof e.modules.filter.value<"u"&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)}),this.trackChanges()}search(e,t,i,r){var s=[],o=[];return Array.isArray(t)||(t=[{field:t,type:i,value:r}]),t.forEach(a=>{a=this.findFilter(a),a&&o.push(a)}),this.table.rowManager.rows.forEach(a=>{var l=!0;o.forEach(u=>{this.filterRecurse(u,a.getData())||(l=!1)}),l&&s.push(e==="data"?a.getData("data"):a.getComponent())}),s}filter(e,t){var i=[],r=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),this.table.options.filterMode!=="remote"&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach(s=>{this.filterRow(s)&&i.push(s)}):i=e.slice(0),this.subscribedExternal("dataFiltered")&&(i.forEach(s=>{r.push(s.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(!0),r)),i}filterRow(e,t){var i=!0,r=e.getData();this.filterList.forEach(o=>{this.filterRecurse(o,r)||(i=!1)});for(var s in this.headerFilters)this.headerFilters[s].func(r)||(i=!1);return i}filterRecurse(e,t){var i=!1;return Array.isArray(e)?e.forEach(r=>{this.filterRecurse(r,t)&&(i=!0)}):i=e.func(t),i}};re(qt,"moduleName","filter"),re(qt,"filters",bS);let To=qt;function vS(n,e,t){return this.emptyToSpace(this.sanitizeHTML(n.getValue()))}function yS(n,e,t){return n.getValue()}function wS(n,e,t){return n.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(n.getValue()))}function CS(n,e,t){var i=parseFloat(n.getValue()),r="",s,o,a,l,u,h=e.decimal||".",d=e.thousand||",",c=e.negativeSign||"-",f=e.symbol||"",v=!!e.symbolAfter,y=typeof e.precision<"u"?e.precision:2;if(isNaN(i))return this.emptyToSpace(this.sanitizeHTML(n.getValue()));if(i<0&&(i=Math.abs(i),r=c),s=y!==!1?i.toFixed(y):i,s=String(s).split("."),o=s[0],a=s.length>1?h+s[1]:"",e.thousand!==!1)for(l=/(\d+)(\d{3})/;l.test(o);)o=o.replace(l,"$1"+d+"$2");return u=o+a,r===!0?(u="("+u+")",v?u+f:f+u):v?r+u+f:r+f+u}function ES(n,e,t){var i=n.getValue(),r=e.urlPrefix||"",s=e.download,o=i,a=document.createElement("a"),l;function u(h,d){var c=h.shift(),f=d[c];return h.length&&typeof f=="object"?u(h,f):f}if(e.labelField&&(l=n.getData(),o=u(e.labelField.split(this.table.options.nestedFieldSeparator),l)),e.label)switch(typeof e.label){case"string":o=e.label;break;case"function":o=e.label(n);break}if(o){if(e.urlField&&(l=n.getData(),i=He.retrieveNestedData(this.table.options.nestedFieldSeparator,e.urlField,l)),e.url)switch(typeof e.url){case"string":i=e.url;break;case"function":i=e.url(n);break}return a.setAttribute("href",r+i),e.target&&a.setAttribute("target",e.target),e.download&&(typeof s=="function"?s=s(n):s=s===!0?"":s,a.setAttribute("download",s)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(o)),a}else return"&nbsp;"}function xS(n,e,t){var i=document.createElement("img"),r=n.getValue();switch(e.urlPrefix&&(r=e.urlPrefix+n.getValue()),e.urlSuffix&&(r=r+e.urlSuffix),i.setAttribute("src",r),typeof e.height){case"number":i.style.height=e.height+"px";break;case"string":i.style.height=e.height;break}switch(typeof e.width){case"number":i.style.width=e.width+"px";break;case"string":i.style.width=e.width;break}return i.addEventListener("load",function(){n.getRow().normalizeHeight()}),i}function SS(n,e,t){var i=n.getValue(),r=n.getElement(),s=e.allowEmpty,o=e.allowTruthy,a=Object.keys(e).includes("trueValue"),l=typeof e.tickElement<"u"?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',u=typeof e.crossElement<"u"?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i===e.trueValue||!a&&(o&&i||i===!0||i==="true"||i==="True"||i===1||i==="1")?(r.setAttribute("aria-checked",!0),l||""):s&&(i==="null"||i===""||i===null||typeof i>"u")?(r.setAttribute("aria-checked","mixed"),""):(r.setAttribute("aria-checked",!1),u||"")}function _S(n,e,t){var i=window.DateTime||luxon.DateTime,r=e.inputFormat||"yyyy-MM-dd HH:mm:ss",s=e.outputFormat||"dd/MM/yyyy HH:mm:ss",o=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",a=n.getValue();if(typeof i<"u"){var l;return i.isDateTime(a)?l=a:r==="iso"?l=i.fromISO(String(a)):l=i.fromFormat(String(a),r),l.isValid?(e.timezone&&(l=l.setZone(e.timezone)),l.toFormat(s)):o===!0||!a?a:typeof o=="function"?o(a):o}else console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function RS(n,e,t){var i=window.DateTime||luxon.DateTime,r=e.inputFormat||"yyyy-MM-dd HH:mm:ss",s=typeof e.invalidPlaceholder<"u"?e.invalidPlaceholder:"",o=typeof e.suffix<"u"?e.suffix:!1,a=typeof e.unit<"u"?e.unit:"days",l=typeof e.humanize<"u"?e.humanize:!1,u=typeof e.date<"u"?e.date:i.now(),h=n.getValue();if(typeof i<"u"){var d;return i.isDateTime(h)?d=h:r==="iso"?d=i.fromISO(String(h)):d=i.fromFormat(String(h),r),d.isValid?l?d.diff(u,a).toHuman()+(o?" "+o:""):parseInt(d.diff(u,a)[a])+(o?" "+o:""):s===!0?h:typeof s=="function"?s(h):s}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function TS(n,e,t){var i=n.getValue();return typeof e[i]>"u"?(console.warn("Missing display value for "+i),i):e[i]}function OS(n,e,t){var i=n.getValue(),r=n.getElement(),s=e&&e.stars?e.stars:5,o=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',u='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';o.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,s));for(var h=1;h<=s;h++){var d=a.cloneNode(!0);d.innerHTML=h<=i?l:u,o.appendChild(d)}return r.style.whiteSpace="nowrap",r.style.overflow="hidden",r.style.textOverflow="ellipsis",r.setAttribute("aria-label",i),o}function kS(n,e,t){var i=this.sanitizeHTML(n.getValue())||0,r=document.createElement("span"),s=e&&e.max?e.max:100,o=e&&e.min?e.min:0,a=e&&typeof e.color<"u"?e.color:["red","orange","green"],l="#666666",u,h;if(!(isNaN(i)||typeof n.getValue()>"u")){switch(r.classList.add("tabulator-traffic-light"),h=parseFloat(i)<=s?parseFloat(i):s,h=parseFloat(h)>=o?parseFloat(h):o,u=(s-o)/100,h=Math.round((h-o)/u),typeof a){case"string":l=a;break;case"function":l=a(i);break;case"object":if(Array.isArray(a)){var d=100/a.length,c=Math.floor(h/d);c=Math.min(c,a.length-1),c=Math.max(c,0),l=a[c];break}}return r.style.backgroundColor=l,r}}function MS(n,e={},t){var i=this.sanitizeHTML(n.getValue())||0,r=n.getElement(),s=e.max?e.max:100,o=e.min?e.min:0,a=e.legendAlign?e.legendAlign:"center",l,u,h,d,c;switch(u=parseFloat(i)<=s?parseFloat(i):s,u=parseFloat(u)>=o?parseFloat(u):o,l=(s-o)/100,u=Math.round((u-o)/l),typeof e.color){case"string":h=e.color;break;case"function":h=e.color(i);break;case"object":if(Array.isArray(e.color)){let b=100/e.color.length,p=Math.floor(u/b);p=Math.min(p,e.color.length-1),p=Math.max(p,0),h=e.color[p];break}default:h="#2DC214"}switch(typeof e.legend){case"string":d=e.legend;break;case"function":d=e.legend(i);break;case"boolean":d=i;break;default:d=!1}switch(typeof e.legendColor){case"string":c=e.legendColor;break;case"function":c=e.legendColor(i);break;case"object":if(Array.isArray(e.legendColor)){let b=100/e.legendColor.length,p=Math.floor(u/b);p=Math.min(p,e.legendColor.length-1),p=Math.max(p,0),c=e.legendColor[p]}break;default:c="#000"}r.style.minWidth="30px",r.style.position="relative",r.setAttribute("aria-label",u);var f=document.createElement("div");f.style.display="inline-block",f.style.width=u+"%",f.style.backgroundColor=h,f.style.height="100%",f.setAttribute("data-max",s),f.setAttribute("data-min",o);var v=document.createElement("div");if(v.style.position="relative",v.style.width="100%",v.style.height="100%",d){var y=document.createElement("div");y.style.position="absolute",y.style.top=0,y.style.left=0,y.style.textAlign=a,y.style.width="100%",y.style.color=c,y.innerHTML=d}return t(function(){if(!(n instanceof jc)){var b=document.createElement("div");b.style.position="absolute",b.style.top="4px",b.style.bottom="4px",b.style.left="4px",b.style.right="4px",r.appendChild(b),r=b}r.appendChild(v),v.appendChild(f),d&&v.appendChild(y)}),""}function LS(n,e,t){return n.getElement().style.backgroundColor=this.sanitizeHTML(n.getValue()),""}function AS(n,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function DS(n,e,t){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function PS(n,e,t){var i=n.getValue(),r=e.size||15,s=r+"px",o,a,l=e.hasOwnProperty("onValue")?e.onValue:!0,u=e.hasOwnProperty("offValue")?e.offValue:!1,h=e.onTruthy?i:i===l;return o=document.createElement("div"),o.classList.add("tabulator-toggle"),h?(o.classList.add("tabulator-toggle-on"),o.style.flexDirection="row-reverse",e.onColor&&(o.style.background=e.onColor)):e.offColor&&(o.style.background=e.offColor),o.style.width=2.5*r+"px",o.style.borderRadius=s,e.clickable&&o.addEventListener("click",d=>{n.setValue(h?u:l)}),a=document.createElement("div"),a.classList.add("tabulator-toggle-switch"),a.style.height=s,a.style.width=s,a.style.borderRadius=s,o.appendChild(a),o}function FS(n,e,t){var i=document.createElement("span"),r=n.getRow(),s=n.getTable();return r.watchPosition(o=>{e.relativeToPage&&(o+=s.modules.page.getPageSize()*(s.modules.page.getPage()-1)),i.innerText=o}),i}function NS(n,e,t){return n.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}var IS={plaintext:vS,html:yS,textarea:wS,money:CS,link:ES,image:xS,tickCross:SS,datetime:_S,datetimediff:RS,lookup:TS,star:OS,traffic:kS,progress:MS,color:LS,buttonTick:AS,buttonCross:DS,toggle:PS,rownum:FS,handle:NS};const wt=class wt extends Se{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),typeof e.definition.formatterPrint<"u"&&(e.modules.format.print=this.lookupFormatter(e,"Print")),typeof e.definition.formatterClipboard<"u"&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),typeof e.definition.formatterHtmlOutput<"u"&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var i={params:e.definition["formatter"+t+"Params"]||{}},r=e.definition["formatter"+t];switch(typeof r){case"string":wt.formatters[r]?i.formatter=wt.formatters[r]:(console.warn("Formatter Error - No such formatter found: ",r),i.formatter=wt.formatters.plaintext);break;case"function":i.formatter=r;break;default:i.formatter=wt.formatters.plaintext;break}return i}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,i){var r,s,o,a;return e.definition.titleFormatter?(r=this.getFormatter(e.definition.titleFormatter),o=l=>{e.titleFormatterRendered=l},a={getValue:function(){return t},getElement:function(){return i},getType:function(){return"header"},getColumn:function(){return e.getComponent()},getTable:()=>this.table},s=e.definition.titleFormatterParams||{},s=typeof s=="function"?s():s,r.call(this,a,s,o)):t}formatValue(e){var t=e.getComponent(),i=typeof e.column.modules.format.params=="function"?e.column.modules.format.params(t):e.column.modules.format.params;function r(s){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=s,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,t,i,r)}formatExportValue(e,t){var i=e.column.modules.format[t],r;if(i){let s=function(o){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=o,e.modules.format.rendered=!1};return r=typeof i.params=="function"?i.params(e.getComponent()):i.params,i.formatter.call(this,e.getComponent(),r,s)}else return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,function(i){return t[i]})}else return e}emptyToSpace(e){return e===null||typeof e>"u"||e===""?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":wt.formatters[e]?e=wt.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=wt.formatters.plaintext);break;case"function":break;default:e=wt.formatters.plaintext;break}return e}};re(wt,"moduleName","format"),re(wt,"formatters",IS);let Oo=wt;class Gc extends Se{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-deleted",this.reinitializeColumns.bind(this)),this.subscribe("column-hide",this.reinitializeColumns.bind(this)),this.subscribe("column-show",this.reinitializeColumns.bind(this)),this.subscribe("columns-loaded",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach(e=>{this.initializeColumn(e)}),this.layout()}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,this.initializationMode=="left"?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach(t=>{t.calcs.top&&this.layoutRow(t.calcs.top),t.calcs.bottom&&this.layoutRow(t.calcs.bottom),t.groupList&&t.groupList.length&&this.layoutGroupCalcs(t.groupList)})}layoutColumnPosition(e){var t=[],i=0,r=0;this.leftColumns.forEach((s,o)=>{if(s.modules.frozen.marginValue=i,s.modules.frozen.margin=s.modules.frozen.marginValue+"px",s.visible&&(i+=s.getWidth()),o==this.leftColumns.length-1?s.modules.frozen.edge=!0:s.modules.frozen.edge=!1,s.parent.isGroup){var a=this.getColGroupParentElement(s);t.includes(a)||(this.layoutElement(a,s),t.push(a)),a.classList.toggle("tabulator-frozen-left",s.modules.frozen.edge&&s.modules.frozen.position==="left"),a.classList.toggle("tabulator-frozen-right",s.modules.frozen.edge&&s.modules.frozen.position==="right")}else this.layoutElement(s.getElement(),s);e&&s.cells.forEach(l=>{this.layoutElement(l.getElement(!0),s)})}),this.rightColumns.forEach((s,o)=>{s.modules.frozen.marginValue=r,s.modules.frozen.margin=s.modules.frozen.marginValue+"px",s.visible&&(r+=s.getWidth()),o==this.rightColumns.length-1?s.modules.frozen.edge=!0:s.modules.frozen.edge=!1,s.parent.isGroup?this.layoutElement(this.getColGroupParentElement(s),s):this.layoutElement(s.getElement(),s),e&&s.cells.forEach(a=>{this.layoutElement(a.getElement(!0),s)})})}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),t=this.table.rowManager.getRows().filter(i=>!e.includes(i));t.forEach(i=>{i.deinitialize()}),e.forEach(i=>{i.type==="row"&&this.layoutRow(i)})}layoutRow(e){this.table.options.layout==="fitDataFill"&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach(t=>{var i=e.getCell(t);i&&this.layoutElement(i.getElement(!0),t)}),this.rightColumns.forEach(t=>{var i=e.getCell(t);i&&this.layoutElement(i.getElement(!0),t)})}layoutElement(e,t){var i;t.modules.frozen&&e&&(e.style.position="sticky",this.table.rtl?i=t.modules.frozen.position==="left"?"right":"left":i=t.modules.frozen.position,e.style[i]=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),e.classList.toggle("tabulator-frozen-left",t.modules.frozen.edge&&t.modules.frozen.position==="left"),e.classList.toggle("tabulator-frozen-right",t.modules.frozen.edge&&t.modules.frozen.position==="right"))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}getFrozenColumns(){return this.leftColumns.concat(this.rightColumns)}_calcSpace(e,t){var i=0;for(let r=0;r<t;r++)e[r].visible&&(i+=e[r].getWidth());return i}}re(Gc,"moduleName","frozenColumns");class Uc extends Se{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){var e=document.createDocumentFragment();this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),e.appendChild(document.createElement("br")),e.appendChild(this.topElement),this.table.columnManager.getContentsElement().insertBefore(e,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach(e=>{this.initializeRow(e)})}initializeRow(e){var t=this.table.options.frozenRows,i=typeof t;i==="number"?e.getPosition()&&e.getPosition()+this.rows.length<=t&&this.freezeRow(e):i==="function"?t.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(t)&&t.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var t=this.rows.indexOf(e);return t>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach(i=>{t.push(i)}),t}getRows(e){var t=e.slice(0);return this.rows.forEach(function(i){var r=t.indexOf(i);r>-1&&t.splice(r,1)}),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var i=e.getElement();i.parentNode&&i.parentNode.removeChild(i),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach((t,i)=>{this.table.rowManager.styleRow(t,i)})}}re(Uc,"moduleName","frozenRows");class $S{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(t,i,r){return typeof t[i]<"u"?t[i]:t._group.groupManager.table.componentFunctionBinder.handle("group",t._group,i)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return this._group.parent?this._group.parent.getComponent():!1}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}scrollTo(e,t){return this._group.groupManager.table.rowManager.scrollToRow(this._group,e,t)}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class nn{constructor(e,t,i,r,s,o,a){this.groupManager=e,this.parent=t,this.key=r,this.level=i,this.field=s,this.hasSubGroups=i<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=o,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=a?a.visible:typeof e.startOpen[i]<"u"?e.startOpen[i]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach(function(t){t.wipe()}):this.rows.forEach(t=>{t.modules&&delete t.modules.group})),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),this.groupManager.table.options.movableRows!==!1&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(t=>{this._createGroup(t,e)})}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e=this.groupManager.table.options.groupToggleElement=="arrow"?this.arrowElement:this.element,e.addEventListener("click",t=>{this.groupManager.table.options.groupToggleElement==="arrow"&&(t.stopPropagation(),t.stopImmediatePropagation()),setTimeout(()=>{this.toggleVisibility()})}))}_createGroup(e,t){var i=t+"_"+e,r=new nn(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],this.old?this.old.groups[i]:!1);this.groups[i]=r,this.groupList.push(r)}_addRowToGroup(e){var t=this.level+1;if(this.hasSubGroups){var i=this.groupManager.groupIDLookups[t].func(e.getData()),r=t+"_"+i;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[r]&&this.groups[r].addRow(e):(this.groups[r]||this._createGroup(i,t),this.groups[r].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,t,i){var r=this.conformRowData({});e.updateData(r);var s=this.rows.indexOf(t);s>-1?i?this.rows.splice(s+1,0,e):this.rows.splice(s,0,e):i?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach(function(t){t.scrollHeader(e)}))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var t=this.rows.indexOf(e),i=e.getElement();t>-1&&this.rows.splice(t,1),!this.groupManager.table.options.groupValues&&!this.rows.length?(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0)):(i.parentNode&&i.parentNode.removeChild(i),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)))}removeGroup(e){var t=e.level+"_"+e.key,i;this.groups[t]&&(delete this.groups[t],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows())}):(this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&this.groupManager.table.options.columnCalcs!="table"&&this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,t){var i=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach(r=>{i.push(r.getData(t||"data"))}),i}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach(t=>{e+=t.getRowCount()}):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination?(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(e=>{var t=e.getHeadersAndRows();t.forEach(i=>{i.detachElement()})}):this.rows.forEach(e=>{var t=e.getElement();t.parentNode.removeChild(t)}),this.groupManager.updateGroupRows(!0)):this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,this.groupManager.table.rowManager.getRenderMode()=="basic"&&!this.groupManager.table.options.pagination){this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach(t=>{var i=t.getHeadersAndRows();i.forEach(r=>{var s=r.getElement();e.parentNode.insertBefore(s,e.nextSibling),r.initialize(),e=s})}):this.rows.forEach(t=>{var i=t.getElement();e.parentNode.insertBefore(i,e.nextSibling),t.initialize(),e=i}),this.groupManager.updateGroupRows(!0)}else this.groupManager.updateGroupRows(!0);this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];typeof this.visible=="function"&&(this.rows.forEach(function(t){e.push(t.getData())}),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var t=!1;return this.groupList.length?this.groupList.forEach(function(i){var r=i.getRowGroup(e);r&&(t=r)}):this.rows.find(function(i){return i===e})&&(t=this),t}getSubGroups(e){var t=[];return this.groupList.forEach(function(i){t.push(e?i.getComponent():i)}),t}getRows(e,t){var i=[];return t&&this.groupList.length?this.groupList.forEach(r=>{i=i.concat(r.getRows(e,t))}):this.rows.forEach(function(r){i.push(e?r.getComponent():r)}),i}generateGroupHeaderContents(){var e=[],t=this.getRows(!1,!0);for(t.forEach(function(i){e.push(i.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);typeof this.elementContents=="string"?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){(!this.initialized||e)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,He.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}rendered(){}getComponent(){return this.component||(this.component=new $S(this)),this.component}}class Kc extends Se{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,i=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(i)&&e.length>i.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(s,o)=>{this.headerGenerator[0]=(a,l,u)=>(typeof a>"u"?"":a)+"<span>("+l+" "+(l===1?s:o.groups.items)+")</span>"}),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="table"&&this.table.options.columnCalcs!="both"&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&this.table.options.columnCalcs!="group"){var r=this.table.columnManager.getRealColumns();r.forEach(s=>{s.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),s.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()})}Array.isArray(e)||(e=[e]),e.forEach((s,o)=>{var a,l;typeof s=="function"?a=s:(l=this.table.columnManager.getColumnByField(s),l?a=function(u){return l.getFieldValue(u)}:a=function(u){return u[s]}),this.groupIDLookups.push({field:typeof s=="function"?!1:s,func:a,values:this.allowedValues?this.allowedValues[o]:!1})}),t&&(Array.isArray(t)||(t=[t]),t.forEach(s=>{}),this.startOpen=t),i&&(this.headerGenerator=Array.isArray(i)?i:[i])}else this.groupList=[],this.groups={}}rowSample(e,t){if(this.table.options.groupBy){var i=this.getGroups(!1)[0];t.push(i.getRows(!1)[0])}return t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();if(this.table.options.groupBy)t=t.filter(i=>i.type!=="group"),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px";else return t}rowAddingIndex(e,t,i){if(this.table.options.groupBy){this.assignRowToGroup(e);var r=e.modules.group.rows;return r.length>1&&(!t||t&&r.indexOf(t)==-1?i?r[0]!==e&&(t=r[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)):r[r.length-1]!==e&&(t=r[r.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!i)),t}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&this.table.options.columnCalcs===!0&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return e.modules.group?e.modules.group.getComponent():!1}rowMoving(e,t,i){if(this.table.options.groupBy){!i&&t instanceof nn&&(t=this.table.rowManager.prevDisplayRow(e)||t);var r=t instanceof nn?t:t.modules.group,s=e instanceof nn?e:e.modules.group;r===s?this.table.rowManager.moveRowInArray(r.rows,e,t,i):(s&&s.removeRow(e),r.insertRow(e,t,i))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach(function(i){t.push(e?i.getComponent():i)}),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach(i=>{i.groupList.length?t=t.concat(this.getChildGroups(i)):t.push(i)}),t}wipe(){this.table.options.groupBy&&(this.groupList.forEach(function(e){e.wipe()}),this.groupList=[],this.groups={})}pullGroupListData(e){var t=[];return e.forEach(i=>{var r={};r.level=0,r.rowCount=0,r.headerContent="";var s=[];i.hasSubGroups?(s=this.pullGroupListData(i.groupList),r.level=i.level,r.rowCount=s.length-i.groupList.length,r.headerContent=i.generator(i.key,r.rowCount,i.rows,i),t.push(r),t=t.concat(s)):(r.level=i.level,r.headerContent=i.generator(i.key,i.rows.length,i.rows,i),r.rowCount=i.getRows().length,t.push(r),i.getRows().forEach(o=>{t.push(o.getData("data"))}))}),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach(i=>{var r=i.getRowGroup(e);r&&(t=r)}),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(i=>{this.createGroup(i,0,t)}),e.forEach(i=>{this.assignRowToExistingGroup(i,t)})):e.forEach(i=>{this.assignRowToGroup(i,t)}),Object.values(t).forEach(i=>{i.wipe(!0)})}createGroup(e,t,i){var r=t+"_"+e,s;i=i||[],s=new nn(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],i[r]),this.groups[r]=s,this.groupList.push(s)}assignRowToExistingGroup(e,t){var i=this.groupIDLookups[0].func(e.getData()),r="0_"+i;this.groups[r]&&this.groups[r].addRow(e)}assignRowToGroup(e,t){var i=this.groupIDLookups[0].func(e.getData()),r=!this.groups["0_"+i];return r&&this.createGroup(i,0,t),this.groups["0_"+i].addRow(e),!r}reassignRowToGroup(e){if(e.type==="row"){var t=e.modules.group,i=t.getPath(),r=this.getExpectedPath(e),s;s=i.length==r.length&&i.every((o,a)=>o===r[a]),s||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],i=e.getData();return this.groupIDLookups.forEach(r=>{t.push(r.func(i))}),t}updateGroupRows(e){var t=[];return this.blockRedraw||(this.groupList.forEach(i=>{t=t.concat(i.getHeadersAndRows())}),e&&this.refreshData(!0)),t}scrollHeaders(e){this.table.options.groupBy&&(this.table.options.renderHorizontal==="virtual"&&(e-=this.table.columnManager.renderer.vDomPadLeft),e=e+"px",this.groupList.forEach(t=>{t.scrollHeader(e)}))}removeGroup(e){var t=e.level+"_"+e.key,i;this.groups[t]&&(delete this.groups[t],i=this.groupList.indexOf(e),i>-1&&this.groupList.splice(i,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,t=!0;this.table.rowManager.getDisplayRows().forEach((i,r)=>{this.table.rowManager.styleRow(i,r),e.appendChild(i.getElement()),i.initialize(!0),i.type!=="group"&&(t=!1)}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}}re(Kc,"moduleName","groupRows");var zS={cellEdit:function(n){n.component.setValueProcessData(n.data.oldValue),n.component.cellRendered()},rowAdd:function(n){n.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowDelete:function(n){var e=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,e),this.table.rowManager.checkPlaceholder()},rowMove:function(n){var e=n.data.posFrom-n.data.posTo>0;this.table.rowManager.moveRowActual(n.component,this.table.rowManager.getRowFromPosition(n.data.posFrom),e),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},BS={cellEdit:function(n){n.component.setValueProcessData(n.data.newValue),n.component.cellRendered()},rowAdd:function(n){var e=this.table.rowManager.addRowActual(n.data.data,n.data.pos,n.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(n.component,e),this.table.rowManager.checkPlaceholder()},rowDelete:function(n){n.component.deleteActual(),this.table.rowManager.checkPlaceholder()},rowMove:function(n){this.table.rowManager.moveRowActual(n.component,this.table.rowManager.getRowFromPosition(n.data.posTo),n.data.after),this.table.rowManager.regenerateRowPositions(),this.table.rowManager.reRenderInPosition()}},HS={undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"]},jS={undo:function(n){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(n.preventDefault(),this.table.modules.history.undo()))},redo:function(n){var e=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell,e||(n.preventDefault(),this.table.modules.history.redo()))}},VS={keybindings:{bindings:HS,actions:jS}};const li=class li extends Se{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,i){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:t.getPosition(),to:t,after:i})}rowAdded(e,t,i,r){this.action("rowAdd",e,{data:t,pos:i,index:r})}rowDeleted(e){var t,i;this.table.options.groupBy?(i=e.getComponent().getGroup()._getSelf().rows,t=i.indexOf(e),t&&(t=i[t-1])):(t=e.table.rowManager.getRowIndex(e),t&&(t=e.table.rowManager.rows[t-1])),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,i){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:i}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex(function(i){return i.component===e});t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return li.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Undo Error - No more history to undo":"History module not enabled"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return li.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}else return console.warn(this.options("history")?"History Redo Error - No more history to redo":"History module not enabled"),!1}_rebindRow(e,t){this.history.forEach(function(i){if(i.component instanceof rt)i.component===e&&(i.component=t);else if(i.component instanceof sr&&i.component.row===e){var r=i.component.column.getField();r&&(i.component=t.getCell(r))}})}};re(li,"moduleName","history"),re(li,"moduleExtensions",VS),re(li,"undoers",zS),re(li,"redoers",BS);let ko=li;class Xc extends Se{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&this.table.originalElement.tagName==="TABLE"&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,t=this.table.options,i=e.getElementsByTagName("th"),r=e.getElementsByTagName("tbody")[0],s=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),r=r?r.getElementsByTagName("tr"):[],this._extractOptions(e,t),i.length?this._extractHeaders(i,r):this._generateBlankHeaders(i,r);for(var o=0;o<r.length;o++){var a=r[o],l=a.getElementsByTagName("td"),u={};this.hasIndex||(u[t.index]=o);for(var h=0;h<l.length;h++){var d=l[h];typeof this.fieldIndex[h]<"u"&&(u[this.fieldIndex[h]]=d.innerHTML)}s.push(u)}t.data=s,this.dispatchExternal("htmlImported")}_extractOptions(e,t,i){var r=e.attributes,s=Object.keys(i||t),o={};s.forEach(h=>{o[h.toLowerCase()]=h});for(var a in r){var l=r[a],u;l&&typeof l=="object"&&l.name&&l.name.indexOf("tabulator-")===0&&(u=l.name.replace("tabulator-",""),typeof o[u]<"u"&&(t[o[u]]=this._attribValue(l.value)))}}_attribValue(e){return e==="true"?!0:e==="false"?!1:e}_findCol(e){var t=this.table.options.columns.find(i=>i.title===e);return t||!1}_extractHeaders(e,t){for(var i=0;i<e.length;i++){var r=e[i],s=!1,o=this._findCol(r.textContent),a;o?s=!0:o={title:r.textContent.trim()},o.field||(o.field=r.textContent.trim().toLowerCase().replaceAll(" ","_")),a=r.getAttribute("width"),a&&!o.width&&(o.width=a),this._extractOptions(r,o,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[i]=o.field,o.field==this.table.options.index&&(this.hasIndex=!0),s||this.table.options.columns.push(o)}}_generateBlankHeaders(e,t){for(var i=0;i<e.length;i++){var r=e[i],s={title:"",field:"col"+i};this.fieldIndex[i]=s.field;var o=r.getAttribute("width");o&&(s.width=o),this.table.options.columns.push(s)}}}re(Xc,"moduleName","htmlTableImport");function WS(n){var e=[],t=0,i=0,r=!1;for(let s=0;s<n.length;s++){let o=n[s],a=n[s+1];if(e[t]||(e[t]=[]),e[t][i]||(e[t][i]=""),o=='"'&&r&&a=='"'){e[t][i]+=o,s++;continue}if(o=='"'){r=!r;continue}if(o==","&&!r){i++;continue}if(o=="\r"&&a==`
`&&!r){i=0,t++,s++;continue}if((o=="\r"||o==`
`)&&!r){i=0,t++;continue}e[t][i]+=o}return e}function qS(n){try{return JSON.parse(n)}catch(e){return console.warn("JSON Import Error - File contents is invalid JSON",e),Promise.reject()}}function GS(n){return n}function US(n,e){var t=XLSX.read(n),i=t.Sheets[t.SheetNames[0]];return XLSX.utils.sheet_to_json(i,{})}var KS={csv:WS,json:qS,array:GS,xlsx:US};const Vn=class Vn extends Se{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&(typeof e=="string"||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,t,i,r,s){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch(o=>(console.error("Import Error:",o||"Unable to import data"),Promise.reject(o)))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),typeof e=="string"?t=Vn.importers[e]:t=e,t||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t,i){var r=this.lookupImporter(e);if(r)return this.pickFile(t,i).then(this.importData.bind(this,r)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch(s=>(this.dispatch("import-error",s),this.dispatchExternal("importError",s),console.error("Import Error:",s||"Unable to import file"),Promise.reject(s)))}pickFile(e,t){return new Promise((i,r)=>{var s=document.createElement("input");s.type="file",s.accept=e,s.addEventListener("change",o=>{var a=s.files[0],l=new FileReader;switch(this.dispatch("import-importing",s.files),this.dispatchExternal("importImporting",s.files),t||this.table.options.importReader){case"buffer":l.readAsArrayBuffer(a);break;case"binary":l.readAsBinaryString(a);break;case"url":l.readAsDataURL(a);break;case"text":default:l.readAsText(a)}l.onload=u=>{i(l.result)},l.onerror=u=>{console.warn("File Load Error - Unable to read file"),r()}}),this.dispatch("import-choose"),this.dispatchExternal("importChoose"),s.click()})}importData(e,t){var i=e.call(this.table,t);return i instanceof Promise?i:i?Promise.resolve(i):Promise.reject()}structureData(e){var t=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(this.table.options.autoColumns?t=this.structureArrayToObject(e):t=this.structureArrayToColumns(e),t):e}structureArrayToObject(e){var t=e.shift(),i=e.map(r=>{var s={};return t.forEach((o,a)=>{s[o]=r[a]}),s});return i}structureArrayToColumns(e){var t=[],i=this.table.getColumns();return i[0]&&e[0][0]&&i[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach(r=>{var s={};r.forEach((o,a)=>{var l=i[a];l&&(s[l.getField()]=o)}),t.push(s)}),t}setData(e){return this.dispatch("import-imported",e),this.dispatchExternal("importImported",e),this.table.setData(e)}};re(Vn,"moduleName","import"),re(Vn,"importers",KS);let Mo=Vn;class Yc extends Se{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this)),this.subscribe("scroll-horizontal",this.clearTouchWatchers.bind(this)),this.subscribe("scroll-vertical",this.clearTouchWatchers.bind(this))}clearTouchWatchers(){var e=Object.values(this.touchWatchers);e.forEach(t=>{for(let i in t)t[i]=null})}cellContentsSelectionFixer(e,t){var i;if(!(this.table.modExists("edit")&&this.table.modules.edit.currentCell===t)){e.preventDefault();try{document.selection?(i=document.body.createTextRange(),i.moveToElementText(t.getElement()),i.select()):window.getSelection&&(i=document.createRange(),i.selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(i))}catch{}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?this.subscribers[e]&&!this.columnSubscribers[e]&&!this.subscribedExternal(e)&&(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,i=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let r in this.eventMap)this.eventMap[r]===i&&this.subscribers[r]&&(t=!1);t&&(this.unsubscribe(i+"-touchstart",this.touchSubscribers[i+"-touchstart"]),this.unsubscribe(i+"-touchend",this.touchSubscribers[i+"-touchend"]),delete this.touchSubscribers[i+"-touchstart"],delete this.touchSubscribers[i+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let i in this.eventMap)t[i]&&(this.subscriptionChanged(i,!0),this.columnSubscribers[i]||(this.columnSubscribers[i]=[]),this.columnSubscribers[i].push(e))}handle(e,t,i){this.dispatchEvent(e,t,i)}handleTouch(e,t,i,r){var s=this.touchWatchers[e];switch(e==="column"&&(e="header"),t){case"start":s.tap=!0,clearTimeout(s.tapHold),s.tapHold=setTimeout(()=>{clearTimeout(s.tapHold),s.tapHold=null,s.tap=null,clearTimeout(s.tapDbl),s.tapDbl=null,this.dispatchEvent(e+"TapHold",i,r)},1e3);break;case"end":s.tap&&(s.tap=null,this.dispatchEvent(e+"Tap",i,r)),s.tapDbl?(clearTimeout(s.tapDbl),s.tapDbl=null,this.dispatchEvent(e+"DblTap",i,r)):s.tapDbl=setTimeout(()=>{clearTimeout(s.tapDbl),s.tapDbl=null},300),clearTimeout(s.tapHold),s.tapHold=null;break}}dispatchEvent(e,t,i){var r=i.getComponent(),s;this.columnSubscribers[e]&&(i instanceof sr?s=i.column.definition[e]:i instanceof Oi&&(s=i.definition[e]),s&&s(t,r)),this.dispatchExternal(e,t,r)}}re(Yc,"moduleName","interaction");var XS={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,navLeft:37,navRight:39,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35},YS={keyBlock:function(n){n.stopPropagation(),n.preventDefault()},scrollPageUp:function(n){var e=this.table.rowManager,t=e.scrollTop-e.element.clientHeight;n.preventDefault(),e.displayRowsCount&&(t>=0?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(n){var e=this.table.rowManager,t=e.scrollTop+e.element.clientHeight,i=e.element.scrollHeight;n.preventDefault(),e.displayRowsCount&&(t<=i?e.element.scrollTop=t:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(n){var e=this.table.rowManager;n.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(n){var e=this.table.rowManager;n.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(n){this.dispatch("keybinding-nav-prev",n)},navNext:function(n){this.dispatch("keybinding-nav-next",n)},navLeft:function(n){this.dispatch("keybinding-nav-left",n)},navRight:function(n){this.dispatch("keybinding-nav-right",n)},navUp:function(n){this.dispatch("keybinding-nav-up",n)},navDown:function(n){this.dispatch("keybinding-nav-down",n)}};const ui=class ui extends Se{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],e!==!1&&(Object.assign(t,ui.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)ui.actions[t]?e[t]&&(typeof e[t]!="object"&&(e[t]=[e[t]]),e[t].forEach(i=>{var r=Array.isArray(i)?i:[i];r.forEach(s=>{this.mapBinding(t,s)})})):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var i={action:ui.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},r=t.toString().toLowerCase().split(" ").join("").split("+");r.forEach(s=>{switch(s){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;case"meta":i.meta=!0;break;default:s=isNaN(s)?s.toUpperCase().charCodeAt(0):parseInt(s),i.keys.push(s),this.watchKeys[s]||(this.watchKeys[s]=[]),this.watchKeys[s].push(i)}})}bindEvents(){var e=this;this.keyupBinding=function(t){var i=t.keyCode,r=e.watchKeys[i];r&&(e.pressedKeys.push(i),r.forEach(function(s){e.checkBinding(t,s)}))},this.keydownBinding=function(t){var i=t.keyCode,r=e.watchKeys[i];if(r){var s=e.pressedKeys.indexOf(i);s>-1&&e.pressedKeys.splice(s,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var i=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta?(t.keys.forEach(r=>{var s=this.pressedKeys.indexOf(r);s==-1&&(i=!1)}),i&&t.action.call(this,e),!0):!1}};re(ui,"moduleName","keybindings"),re(ui,"bindings",XS),re(ui,"actions",YS);let Lo=ui;class Jc extends Se{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),t.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var t=e.definition.headerMenuIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t):i.innerHTML="&vellip;",i.addEventListener("click",r=>{r.stopPropagation(),r.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,r,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadMenuEvent(i.column.definition[e],t,i)}loadMenuTableColumnEvent(e,t,i){i._column&&(i=i._column),i.definition[e]&&this.loadMenuEvent(i.definition[e],t,i)}loadMenuEvent(e,t,i){i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,t,i.getComponent()):e,this.loadMenu(t,i,e)}loadMenu(e,t,i,r,s){var o=!(e instanceof MouseEvent),a=document.createElement("div"),l;if(a.classList.add("tabulator-menu"),o||e.preventDefault(),!(!i||!i.length)){if(r)l=s.child(a);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=l=this.popup(a)}i.forEach(u=>{var h=document.createElement("div"),d=u.label,c=u.disabled;u.separator?h.classList.add("tabulator-menu-separator"):(h.classList.add("tabulator-menu-item"),typeof d=="function"&&(d=d.call(this.table,t.getComponent())),d instanceof Node?h.appendChild(d):h.innerHTML=d,typeof c=="function"&&(c=c.call(this.table,t.getComponent())),c?(h.classList.add("tabulator-menu-item-disabled"),h.addEventListener("click",f=>{f.stopPropagation()})):u.menu&&u.menu.length?h.addEventListener("click",f=>{f.stopPropagation(),this.loadMenu(f,t,u.menu,h,l)}):u.action&&h.addEventListener("click",f=>{u.action(f,t.getComponent())}),u.menu&&u.menu.length&&h.classList.add("tabulator-menu-item-submenu")),a.appendChild(h)}),a.addEventListener("click",u=>{this.rootPopup&&this.rootPopup.hide()}),l.show(r||e),l===this.rootPopup&&(this.rootPopup.hideOnBlur(()=>{this.rootPopup=null,this.currentComponent&&(this.dispatch("menu-closed",i,l),this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)}),this.currentComponent=t,this.dispatch("menu-opened",i,l),this.dispatchExternal("menuOpened",t.getComponent()))}}}re(Jc,"moduleName","menu");class Zc extends Se{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&(this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("alert-show",this.abortMove.bind(this)))}abortMove(){clearTimeout(this.checkTimeout)}initializeColumn(e){var t=this,i={},r;!e.modules.frozen&&!e.isGroup&&!e.isRowHeader&&(r=e.getElement(),i.mousemove=(function(s){e.parent===t.moving.parent&&((t.touchMove?s.touches[0].pageX:s.pageX)-He.elOffset(r).left+t.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?(t.toCol!==e||!t.toColAfter)&&(r.parentNode.insertBefore(t.placeholderElement,r.nextSibling),t.moveColumn(e,!0)):(t.toCol!==e||t.toColAfter)&&(r.parentNode.insertBefore(t.placeholderElement,r),t.moveColumn(e,!1)))}).bind(t),r.addEventListener("mousedown",function(s){t.touchMove=!1,s.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(s,e)},t.checkPeriod))}),r.addEventListener("mouseup",function(s){s.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),t.bindTouchEvents(e)),e.modules.moveColumn=i}bindTouchEvents(e){var t=e.getElement(),i=!1,r,s,o,a,l,u;t.addEventListener("touchstart",h=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,r=e.nextColumn(),o=r?r.getWidth()/2:0,s=e.prevColumn(),a=s?s.getWidth()/2:0,l=0,u=0,i=!1,this.startMove(h,e)},this.checkPeriod)},{passive:!0}),t.addEventListener("touchmove",h=>{var d,c;this.moving&&(this.moveHover(h),i||(i=h.touches[0].pageX),d=h.touches[0].pageX-i,d>0?r&&d-l>o&&(c=r,c!==e&&(i=h.touches[0].pageX,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement().nextSibling),this.moveColumn(c,!0))):s&&-d-u>a&&(c=s,c!==e&&(i=h.touches[0].pageX,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement()),this.moveColumn(c,!1))),c&&(r=c.nextColumn(),l=o,o=r?r.getWidth()/2:0,s=c.prevColumn(),u=a,a=s?s.getWidth()/2:0))},{passive:!0}),t.addEventListener("touchend",h=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(h)})}startMove(e,t){var i=t.getElement(),r=this.table.columnManager.getContentsElement(),s=this.table.columnManager.getHeadersElement();this.table.modules.selectRange&&this.table.modules.selectRange.columnSelection&&this.table.modules.selectRange.mousedown&&this.table.modules.selectRange.selecting==="column"||(this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-He.elOffset(i).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),r.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=r.clientHeight-s.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e),this.dispatch("column-moving",e,this.moving))}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})}moveColumn(e,t){var i=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach(function(r,s){var o=r.getElement(!0);o.parentNode&&i[s]&&o.parentNode.insertBefore(i[s].getElement(),o.nextSibling)}):e.getCells().forEach(function(r,s){var o=r.getElement(!0);o.parentNode&&i[s]&&o.parentNode.insertBefore(i[s].getElement(),o)})}endMove(e){(e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var t=this.table.columnManager.getContentsElement(),i=t.scrollLeft,r=(this.touchMove?e.touches[0].pageX:e.pageX)-He.elOffset(t).left+i,s;this.hoverElement.style.left=r-this.startX+"px",r-i<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{s=Math.max(0,i-5),this.table.rowManager.getElement().scrollLeft=s,this.autoScrollTimeout=!1},1))),i+t.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{s=Math.min(t.clientWidth,i+5),this.table.rowManager.getElement().scrollLeft=s,this.autoScrollTimeout=!1},1)))}}re(Zc,"moduleName","moveColumn");var JS={delete:function(n,e,t){n.delete()}},ZS={insert:function(n,e,t){return this.table.addRow(n.getData(),void 0,e),!0},add:function(n,e,t){return this.table.addRow(n.getData()),!0},update:function(n,e,t){return e?(e.update(n.getData()),!0):!1},replace:function(n,e,t){return e?(this.table.addRow(n.getData(),void 0,e),e.delete(),!0):!1}};const _i=class _i extends Se{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var t=this,i={};i.mouseup=(function(r){t.tableRowDrop(r,e)}).bind(t),i.mousemove=(function(r){var s;r.pageY-He.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(s=e.getElement(),s.parentNode.insertBefore(t.placeholderElement,s.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(s=e.getElement(),s.previousSibling&&(s.parentNode.insertBefore(t.placeholderElement,s),t.moveRow(e,!1)))}).bind(t),e.modules.moveRow=i}initializeRow(e){var t=this,i={},r;i.mouseup=(function(s){t.tableRowDrop(s,e)}).bind(t),i.mousemove=(function(s){var o=e.getElement();s.pageY-He.elOffset(o).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?(t.toRow!==e||!t.toRowAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(o.parentNode.insertBefore(t.placeholderElement,o),t.moveRow(e,!1))}).bind(t),this.hasHandle||(r=e.getElement(),r.addEventListener("mousedown",function(s){s.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(s,e)},t.checkPeriod))}),r.addEventListener("mouseup",function(s){s.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=i}initializeColumn(e){e.definition.rowHandle&&this.table.options.movableRows!==!1&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&this.table.options.movableRows!==!1){var t=this,i=e.getElement(!0);i.addEventListener("mousedown",function(r){r.which===1&&(t.checkTimeout=setTimeout(function(){t.startMove(r,e.row)},t.checkPeriod))}),i.addEventListener("mouseup",function(r){r.which===1&&t.checkTimeout&&clearTimeout(t.checkTimeout)}),this.bindTouchEvents(e.row,i)}}bindTouchEvents(e,t){var i=!1,r,s,o,a,l,u;t.addEventListener("touchstart",h=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,r=e.nextRow(),o=r?r.getHeight()/2:0,s=e.prevRow(),a=s?s.getHeight()/2:0,l=0,u=0,i=!1,this.startMove(h,e)},this.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",h=>{var d,c;this.moving&&(h.preventDefault(),this.moveHover(h),i||(i=h.touches[0].pageY),d=h.touches[0].pageY-i,d>0?r&&d-l>o&&(c=r,c!==e&&(i=h.touches[0].pageY,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement().nextSibling),this.moveRow(c,!0))):s&&-d-u>a&&(c=s,c!==e&&(i=h.touches[0].pageY,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement()),this.moveRow(c,!1))),c&&(r=c.nextRow(),l=o,o=r?r.getHeight()/2:0,s=c.prevRow(),u=a,a=s?s.getHeight()/2:0))}),t.addEventListener("touchend",h=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(h),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(e=>{(e.type==="row"||e.type==="group")&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})}startMove(e,t){var i=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(i.parentNode.insertBefore(this.placeholderElement,i),i.parentNode.removeChild(i)),this.hoverElement=i.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",t.getComponent()),this.moveHover(e)}setStartPosition(e,t){var i=this.touchMove?e.touches[0].pageX:e.pageX,r=this.touchMove?e.touches[0].pageY:e.pageY,s,o;s=t.getElement(),this.connection?(o=s.getBoundingClientRect(),this.startX=o.left-i+window.pageXOffset,this.startY=o.top-r+window.pageYOffset):this.startY=r-s.getBoundingClientRect().top}endMove(e){(!e||e.which===1||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,t){this.toRow=e,this.toRowAfter=t}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var t=this.table.rowManager.getElement(),i=t.scrollTop,r=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+i;this.hoverElement.style.top=Math.min(r-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,t,i){this.dispatchExternal("movableRowsElementDrop",e,t,i?i.getComponent():!1)}connectToTables(e){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",t),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(i=>{typeof i=="string"?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(i))):this.connectionElements.push(i)}),this.connectionElements.forEach(i=>{var r=s=>{this.elementRowDrop(s,i,this.moving)};i.addEventListener("mouseup",r),i.tabulatorElementDropEvent=r,i.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(t=>{t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent})}connect(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(i=>{i.type==="row"&&i.modules.moveRow&&i.modules.moveRow.mouseup&&i.getElement().addEventListener("mouseup",i.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",t,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(t=>{t.type==="row"&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,t,i){var r=!1;if(i){switch(typeof this.table.options.movableRowsSender){case"string":r=_i.senders[this.table.options.movableRowsSender];break;case"function":r=this.table.options.movableRowsSender;break}r?r.call(this,this.moving?this.moving.getComponent():void 0,t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()}tableRowDrop(e,t){var i=!1,r=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":i=_i.receivers[this.table.options.movableRowsReceiver];break;case"function":i=this.table.options.movableRowsReceiver;break}i?r=i.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),r?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:t,success:r})}commsReceived(e,t,i){switch(t){case"connect":return this.connect(e,i.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,i.row,i.success)}}};re(_i,"moduleName","moveRow"),re(_i,"senders",JS),re(_i,"receivers",ZS);let Ao=_i;var QS={};const on=class on extends Se{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,i){return this.transformRow(t,"data",i)}initializeColumn(e){var t=!1,i={};this.allowedTypes.forEach(r=>{var s="mutator"+(r.charAt(0).toUpperCase()+r.slice(1)),o;e.definition[s]&&(o=this.lookupMutator(e.definition[s]),o&&(t=!0,i[s]={mutator:o,params:e.definition[s+"Params"]||{}}))}),t&&(e.modules.mutate=i)}lookupMutator(e){var t=!1;switch(typeof e){case"string":on.mutators[e]?t=on.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t,i){var r="mutator"+(t.charAt(0).toUpperCase()+t.slice(1)),s;return this.enabled&&this.table.columnManager.traverse(o=>{var a,l,u;o.modules.mutate&&(a=o.modules.mutate[r]||o.modules.mutate.mutator||!1,a&&(s=o.getFieldValue(typeof i<"u"?i:e),(t=="data"&&!i||typeof s<"u")&&(u=o.getComponent(),l=typeof a.params=="function"?a.params(s,e,t,u):a.params,o.setFieldValue(e,a.mutator(s,e,t,l,u)))))}),e}transformCell(e,t){if(e.column.modules.mutate){var i=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,r={};if(i)return r=Object.assign(r,e.row.getData()),e.column.setFieldValue(r,t),i.mutator(t,r,"edit",i.params,e.getComponent())}return t}mutateLink(e){var t=e.column.definition.mutateLink;t&&(Array.isArray(t)||(t=[t]),t.forEach(i=>{var r=e.row.getCell(i);r&&r.setValue(r.getValue(),!0,!0)}))}enable(){this.enabled=!0}disable(){this.enabled=!1}};re(on,"moduleName","mutator"),re(on,"mutators",QS);let Do=on;function e_(n,e,t,i,r){var s=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),h=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",d=>{o.innerHTML=d}),this.table.modules.localize.langBind("pagination|counter|of",d=>{l.innerHTML=d}),this.table.modules.localize.langBind("pagination|counter|rows",d=>{h.innerHTML=d}),i?(a.innerHTML=" "+e+"-"+Math.min(e+n-1,i)+" ",u.innerHTML=" "+i+" ",s.appendChild(o),s.appendChild(a),s.appendChild(l),s.appendChild(u),s.appendChild(h)):(a.innerHTML=" 0 ",s.appendChild(o),s.appendChild(a),s.appendChild(h)),s}function t_(n,e,t,i,r){var s=document.createElement("span"),o=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),h=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",d=>{o.innerHTML=d}),a.innerHTML=" "+t+" ",this.table.modules.localize.langBind("pagination|counter|of",d=>{l.innerHTML=d}),u.innerHTML=" "+r+" ",this.table.modules.localize.langBind("pagination|counter|pages",d=>{h.innerHTML=d}),s.appendChild(o),s.appendChild(a),s.appendChild(l),s.appendChild(u),s.appendChild(h),s}var i_={rows:e_,pages:t_};const Wn=class Wn extends Se{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),this.table.options.paginationAddRow=="page"&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.table.options.paginationMode==="remote"&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),this.table.options.progressiveLoad==="scroll"&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var i=this.table.rowManager,r=i.getDisplayRows(),s;return t?r.length?s=r[0]:i.activeRows.length&&(s=i.activeRows[i.activeRows.length-1],t=!1):r.length&&(s=r[r.length-1],t=!(r.length<this.size)),{index:s,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",t=document.createElement("div"),t.classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,i,r){return this.initialLoad||(this.progressiveLoad&&!i||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),r.page=this.page,this.size&&(r.size=this.size),r}userSetPageToRow(e){return this.table.options.pagination&&(e=this.table.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return this.table.options.pagination?(this.setPageSize(e),this.setPage(1)):!1}scrollVertical(e,t){var i,r,s;!t&&!this.table.dataLoader.loading&&(i=this.table.rowManager.getElement(),r=i.scrollHeight-i.clientHeight-e,s=this.table.options.progressiveLoadScrollMargin||i.clientHeight*2,r<s&&this.nextPage().catch(()=>{}))}restOnRenderBefore(e,t){return t||this.mode==="local"&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,this.pageSizes.indexOf(this.size)==-1&&e.unshift(this.size);else if(this.pageSizes.indexOf(this.size)==-1){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(t=>{var i=document.createElement("option");i.value=t,t===!0?this.langBind("pagination|all",function(r){i.innerHTML=r}):i.innerHTML=t,this.pageSizeSelect.appendChild(i)}),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&(typeof e=="function"?t=e:t=Wn.pageCounters[e],t?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,i;e||(this.langBind("pagination|first",r=>{this.firstBut.innerHTML=r}),this.langBind("pagination|first_title",r=>{this.firstBut.setAttribute("aria-label",r),this.firstBut.setAttribute("title",r)}),this.langBind("pagination|prev",r=>{this.prevBut.innerHTML=r}),this.langBind("pagination|prev_title",r=>{this.prevBut.setAttribute("aria-label",r),this.prevBut.setAttribute("title",r)}),this.langBind("pagination|next",r=>{this.nextBut.innerHTML=r}),this.langBind("pagination|next_title",r=>{this.nextBut.setAttribute("aria-label",r),this.nextBut.setAttribute("title",r)}),this.langBind("pagination|last",r=>{this.lastBut.innerHTML=r}),this.langBind("pagination|last_title",r=>{this.lastBut.setAttribute("aria-label",r),this.lastBut.setAttribute("title",r)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",r=>{this.pageSizeSelect.setAttribute("aria-label",r),this.pageSizeSelect.setAttribute("title",r),t.innerHTML=r}),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",r=>{this.setPageSize(this.pageSizeSelect.value=="true"?!0:this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):typeof this.table.options.paginationCounterElement=="string"&&(i=document.querySelector(this.table.options.paginationCounterElement),i?i.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){e?this.max=this.size===!0?1:Math.ceil(e/this.size):this.max=1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||(this.mode=="local"||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||this.mode!=="local"?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var t=this.displayRows(-1),i=t.indexOf(e);if(i>-1){var r=this.size===!0?1:Math.ceil((i+1)/this.size);return this.setPage(r)}else return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){e!==!0&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,t,i){var r;if(this.pageCounter)switch(this.mode==="remote"&&(t=this.size,i=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),r=this.pageCounter.call(this,t,i,this.page,e,this.max),typeof r){case"object":if(r instanceof Node){for(;this.pageCounterElement.firstChild;)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(r)}else this.pageCounterElement.innerHTML="",r!=null&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",r);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=r}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),i=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),r=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);this.page==1?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let s=i;s<=r;s++)s>0&&s<=this.max&&this.pagesElement.appendChild(this._generatePageButton(s));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",i=>{t.setAttribute("aria-label",i+" "+e),t.setAttribute("title",i+" "+e)}),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",i=>{this.setPage(e)}),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t=0,i,r,s,o,a=e.filter(l=>l.type==="row");if(this.mode=="local"){i=[],this.setMaxRows(e.length),this.size===!0?(r=0,s=e.length):(r=this.size*(this.page-1),s=r+parseInt(this.size)),this._setPageButtons();for(let l=r;l<s;l++){let u=e[l];u&&(i.push(u),u.type==="row"&&(o||(o=u),t++))}return this._setPageCounter(a.length,t,o?a.indexOf(o)+1:0),i}else return this._setPageButtons(),this._setPageCounter(a.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var t;if(typeof e.last_page>"u"&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data)if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate=typeof e.last_row<"u"?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":this.page==1?this.table.rowManager.setData(e.data,!1,this.page==1):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.page===1?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,this.page!==1,this.page==1),t=this.table.options.progressiveLoadScrollMargin||this.table.rowManager.element.clientHeight*2,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+t&&this.page<this.max&&setTimeout(()=>{this.nextPage()});break}return!1}else this.dispatchExternal("pageLoaded",this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}};re(Wn,"moduleName","page"),re(Wn,"pageCounters",i_);let Po=Wn;var n_={local:function(n,e){var t=localStorage.getItem(n+"-"+e);return t?JSON.parse(t):!1},cookie:function(n,e){var t=document.cookie,i=n+"-"+e,r=t.indexOf(i+"="),s,o;return r>-1&&(t=t.slice(r),s=t.indexOf(";"),s>-1&&(t=t.slice(0,s)),o=t.replace(i+"=","")),o?JSON.parse(o):!1}},r_={local:function(n,e,t){localStorage.setItem(n+"-"+e,JSON.stringify(t))},cookie:function(n,e,t){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=n+"-"+e+"="+JSON.stringify(t)+"; expires="+i.toUTCString()}};const ct=class ct extends Se{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}initialize(){if(this.table.options.persistence){var e=this.table.options.persistenceMode,t=this.table.options.persistenceID,i;this.mode=e!==!0?e:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?typeof this.table.options.persistenceReaderFunc=="function"?this.readFunc=this.table.options.persistenceReaderFunc:ct.readers[this.table.options.persistenceReaderFunc]?this.readFunc=ct.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):ct.readers[this.mode]?this.readFunc=ct.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?typeof this.table.options.persistenceWriterFunc=="function"?this.writeFunc=this.table.options.persistenceWriterFunc:ct.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=ct.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):ct.writers[this.mode]?this.writeFunc=ct.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(t||this.table.element.getAttribute("id")||""),this.config={sort:this.table.options.persistence===!0||this.table.options.persistence.sort,filter:this.table.options.persistence===!0||this.table.options.persistence.filter,headerFilter:this.table.options.persistence===!0||this.table.options.persistence.headerFilter,group:this.table.options.persistence===!0||this.table.options.persistence.group,page:this.table.options.persistence===!0||this.table.options.persistence.page,columns:this.table.options.persistence===!0?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(i=this.retrieveData("page"),i&&(typeof i.paginationSize<"u"&&(this.config.page===!0||this.config.page.size)&&(this.table.options.paginationSize=i.paginationSize),typeof i.paginationInitialPage<"u"&&(this.config.page===!0||this.config.page.page)&&(this.table.options.paginationInitialPage=i.paginationInitialPage))),this.config.group&&(i=this.retrieveData("group"),i&&(typeof i.groupBy<"u"&&(this.config.group===!0||this.config.group.groupBy)&&(this.table.options.groupBy=i.groupBy),typeof i.groupStartOpen<"u"&&(this.config.group===!0||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=i.groupStartOpen),typeof i.groupHeader<"u"&&(this.config.group===!0||this.config.group.groupHeader)&&(this.table.options.groupHeader=i.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("filter-changed",this.eventSave.bind(this,"headerFilter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,t,i;this.config.sort&&(e=this.load("sort"),e&&(this.table.options.initialSort=e)),this.config.filter&&(t=this.load("filter"),t&&(this.table.options.initialFilter=t)),this.config.headerFilter&&(i=this.load("headerFilter"),i&&(this.table.options.initialHeaderFilter=i))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e,!0)),!0}initializeColumn(e){var t,i;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),i=this.config.columns===!0?Object.keys(t):this.config.columns,i.forEach(r=>{var s=Object.getOwnPropertyDescriptor(t,r),o=t[r];s&&Object.defineProperty(t,r,{set:a=>{o=a,this.defWatcherBlock||this.save("columns"),s.set&&s.set(a)},get:()=>(s.get&&s.get(),o)})}),this.defWatcherBlock=!1)}load(e,t){var i=this.retrieveData(e);return t&&(i=i?this.mergeDefinition(t,i):t),i}retrieveData(e){return this.readFunc?this.readFunc(this.id,e):!1}mergeDefinition(e,t,i){var r=[];return t=t||[],t.forEach((s,o)=>{var a=this._findColumn(e,s),l;a&&(i?l=Object.keys(s):this.config.columns===!0||this.config.columns==null?(l=Object.keys(a),l.push("width")):l=this.config.columns,l.forEach(u=>{u!=="columns"&&typeof s[u]<"u"&&(a[u]=s[u])}),a.columns&&(a.columns=this.mergeDefinition(a.columns,s.columns)),r.push(a))}),e.forEach((s,o)=>{var a=this._findColumn(t,s);a||(r.length>o?r.splice(o,0,s):r.push(s))}),r}_findColumn(e,t){var i=t.columns?"group":t.field?"field":"object";return e.find(function(r){switch(i){case"group":return r.title===t.title&&r.columns.length===t.columns.length;case"field":return r.field===t.field;case"object":return r===t}})}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"headerFilter":t=this.table.modules.filter.getHeaderFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach(function(t){t.column=t.field,delete t.field}),e}getGroupConfig(){var e={};return this.config.group&&((this.config.group===!0||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(this.config.group===!0||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(this.config.group===!0||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((this.config.page===!0||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(this.config.page===!0||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],i=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(r=>{var s={},o=r.getDefinition(),a;r.isGroup?(s.title=o.title,s.columns=this.parseColumns(r.getColumns())):(s.field=r.getField(),this.config.columns===!0||this.config.columns==null?(a=Object.keys(o),a.push("width"),a.push("visible")):a=this.config.columns,a.forEach(l=>{switch(l){case"width":s.width=r.getWidth();break;case"visible":s.visible=r.visible;break;default:typeof o[l]!="function"&&i.indexOf(l)===-1&&(s[l]=o[l])}})),t.push(s)}),t}};re(ct,"moduleName","persistence"),re(ct,"moduleInitOrder",-10),re(ct,"readers",n_),re(ct,"writers",r_);let Fo=ct;class Qc extends Se{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,t,i){this.loadPopupEvent(t,null,e,i)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var t=e.definition;t.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),t.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),t.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),t.headerPopup&&this.initializeColumnHeaderPopup(e),t.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),t.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),t.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var t=e.definition.headerPopupIcon,i;i=document.createElement("span"),i.classList.add("tabulator-header-popup-button"),t?(typeof t=="function"&&(t=t(e.getComponent())),t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t):i.innerHTML="&vellip;",i.addEventListener("click",r=>{r.stopPropagation(),r.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,r,e)}),e.titleElement.insertBefore(i,e.titleElement.firstChild)}loadPopupTableCellEvent(e,t,i){i._cell&&(i=i._cell),i.column.definition[e]&&this.loadPopupEvent(i.column.definition[e],t,i)}loadPopupTableColumnEvent(e,t,i){i._column&&(i=i._column),i.definition[e]&&this.loadPopupEvent(i.definition[e],t,i)}loadPopupEvent(e,t,i,r){var s;function o(a){s=a}i._group?i=i._group:i._row&&(i=i._row),e=typeof e=="function"?e.call(this.table,t,i.getComponent(),o):e,this.loadPopup(t,i,e,s,r)}loadPopup(e,t,i,r,s){var o=!(e instanceof MouseEvent),a,l;i instanceof HTMLElement?a=i:(a=document.createElement("div"),a.innerHTML=i),a.classList.add("tabulator-popup"),a.addEventListener("click",u=>{u.stopPropagation()}),o||e.preventDefault(),l=this.popup(a),typeof r=="function"&&l.renderCallback(r),e?l.show(e):l.show(t.getElement(),s||"center"),l.hideOnBlur(()=>{this.dispatchExternal("popupClosed",t.getComponent())}),this.dispatchExternal("popupOpened",t.getComponent())}}re(Qc,"moduleName","popup");class eh extends Se{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,i){var r=window.scrollX,s=window.scrollY,o=document.createElement("div"),a=document.createElement("div"),l=this.table.modules.export.generateTable(typeof i<"u"?i:this.table.options.printConfig,typeof t<"u"?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print"),u,h;this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(o.classList.add("tabulator-print-header"),u=typeof this.table.options.printHeader=="function"?this.table.options.printHeader.call(this.table):this.table.options.printHeader,typeof u=="string"?o.innerHTML=u:o.appendChild(u),this.element.appendChild(o)),this.element.appendChild(l),this.table.options.printFooter&&(a.classList.add("tabulator-print-footer"),h=typeof this.table.options.printFooter=="function"?this.table.options.printFooter.call(this.table):this.table.options.printFooter,typeof h=="string"?a.innerHTML=h:a.appendChild(h),this.element.appendChild(a)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,l),window.print(),this.cleanup(),window.scrollTo(r,s),this.manualBlock=!1}}re(eh,"moduleName","print");class th extends Se{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var t=this,i;this.currentVersion++,i=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),s;return!t.blocked&&i===t.currentVersion&&(t.block("data-push"),r.forEach(o=>{t.table.rowManager.addRowActual(o,!1)}),s=t.origFuncs.push.apply(e,arguments),t.unblock("data-push")),s}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),s;return!t.blocked&&i===t.currentVersion&&(t.block("data-unshift"),r.forEach(o=>{t.table.rowManager.addRowActual(o,!0)}),s=t.origFuncs.unshift.apply(e,arguments),t.unblock("data-unshift")),s}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var r,s;return!t.blocked&&i===t.currentVersion&&(t.block("data-shift"),t.data.length&&(r=t.table.rowManager.getRowFromDataObject(t.data[0]),r&&r.deleteActual()),s=t.origFuncs.shift.call(e),t.unblock("data-shift")),s}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var r,s;return!t.blocked&&i===t.currentVersion&&(t.block("data-pop"),t.data.length&&(r=t.table.rowManager.getRowFromDataObject(t.data[t.data.length-1]),r&&r.deleteActual()),s=t.origFuncs.pop.call(e),t.unblock("data-pop")),s}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var r=Array.from(arguments),s=r[0]<0?e.length+r[0]:r[0],o=r[1],a=r[2]?r.slice(2):!1,l,u;if(!t.blocked&&i===t.currentVersion){if(t.block("data-splice"),a&&(l=e[s]?t.table.rowManager.getRowFromDataObject(e[s]):!1,l?a.forEach(d=>{t.table.rowManager.addRowActual(d,!0,l,!0)}):(a=a.slice().reverse(),a.forEach(d=>{t.table.rowManager.addRowActual(d,!0,!1,!0)}))),o!==0){var h=e.slice(s,typeof r[1]>"u"?r[1]:s+o);h.forEach((d,c)=>{var f=t.table.rowManager.getRowFromDataObject(d);f&&f.deleteActual(c!==h.length-1)})}(a||o!==0)&&t.table.rowManager.reRenderInPosition(),u=t.origFuncs.splice.apply(e,arguments),t.unblock("data-splice")}return u}})}unwatchData(){if(this.data!==!1)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var i in t)this.watchKey(e,t,i);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var t=this,i=e.getData()[this.table.options.dataTreeChildField],r={};i&&(r.push=i.push,Object.defineProperty(i,"push",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-push");var s=r.push.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-push")}return s}}),r.unshift=i.unshift,Object.defineProperty(i,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-unshift");var s=r.unshift.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-unshift")}return s}}),r.shift=i.shift,Object.defineProperty(i,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-shift");var s=r.shift.call(i);this.rebuildTree(e),t.unblock("tree-shift")}return s}}),r.pop=i.pop,Object.defineProperty(i,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-pop");var s=r.pop.call(i);this.rebuildTree(e),t.unblock("tree-pop")}return s}}),r.splice=i.splice,Object.defineProperty(i,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-splice");var s=r.splice.apply(i,arguments);this.rebuildTree(e),t.unblock("tree-splice")}return s}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,t,i){var r=this,s=Object.getOwnPropertyDescriptor(t,i),o=t[i],a=this.currentVersion;Object.defineProperty(t,i,{set:l=>{if(o=l,!r.blocked&&a===r.currentVersion){r.block("key");var u={};u[i]=l,e.updateData(u),r.unblock("key")}s.set&&s.set(l)},get:()=>(s.get&&s.get(),o)})}unwatchRow(e){var t=e.getData();for(var i in t)Object.defineProperty(t,i,{value:t[i]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}re(th,"moduleName","reactiveData");class ih extends Se{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1),this.registerTableOption("resizableColumnGuide",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){e.row.type==="row"&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var t=e.prevColumn();this.reinitializeColumn(e),t&&this.reinitializeColumn(t)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.reinitializeColumn(t)}):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.reinitializeColumn(t)}))}frozenColumnOffset(e){var t=!1;return e.modules.frozen&&(t=e.modules.frozen.marginValue,e.modules.frozen.position==="left"?t+=e.getWidth()-3:t&&(t-=3)),t!==!1?t+"px":!1}reinitializeColumn(e){var t=this.frozenColumnOffset(e);e.cells.forEach(i=>{i.modules.resize&&i.modules.resize.handleEl&&(t&&(i.modules.resize.handleEl.style[e.modules.frozen.position]=t,i.modules.resize.handleEl.style["z-index"]=11),i.element.after(i.modules.resize.handleEl))}),e.modules.resize&&e.modules.resize.handleEl&&(t&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=t),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,t,i,r){var s=this,o=!1,a=i.definition.resizable,l={},u=i.getLastColumn();if(e==="header"&&(o=i.definition.formatter=="textarea"||i.definition.variableHeight,l={variableHeight:o}),(a===!0||a==e)&&this._checkResizability(u)){var h=document.createElement("span");h.className="tabulator-col-resize-handle",h.addEventListener("click",function(c){c.stopPropagation()});var d=function(c){s.startColumn=i,s.initialNextColumn=s.nextColumn=u.nextColumn(),s._mouseDown(c,u,h)};h.addEventListener("mousedown",d),h.addEventListener("touchstart",d,{passive:!0}),h.addEventListener("dblclick",c=>{var f=u.getWidth();c.stopPropagation(),u.reinitializeWidth(!0),f!==u.getWidth()&&(s.dispatch("column-resized",u),s.dispatchExternal("columnResized",u.getComponent()))}),i.modules.frozen&&(h.style.position="sticky",h.style[i.modules.frozen.position]=this.frozenColumnOffset(i)),l.handleEl=h,r.parentNode&&i.visible&&r.after(h)}t.modules.resize=l}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach(t=>{this.deInitializeComponent(t)})}deInitializeComponent(e){var t;e.modules.resize&&(t=e.modules.resize.handleEl,t&&t.parentElement&&t.parentElement.removeChild(t))}resizeHandle(e,t){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=t)}resize(e,t){var i=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,r=i-this.startX,s=i-this.latestX,o,a;if(this.latestX=i,this.table.rtl&&(r=-r,s=-s),o=t.width==t.minWidth||t.width==t.maxWidth,t.setWidth(this.startWidth+r),a=t.width==t.minWidth||t.width==t.maxWidth,s<0&&(this.nextColumn=this.initialNextColumn),this.table.options.resizableColumnFit&&this.nextColumn&&!(o&&a)){let l=this.nextColumn.getWidth();s>0&&l<=this.nextColumn.minWidth&&(this.nextColumn=this.nextColumn.nextColumn()),this.nextColumn&&this.nextColumn.setWidth(this.nextColumn.getWidth()-s)}this.table.columnManager.rerenderColumns(!0),!this.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}calcGuidePosition(e,t,i){var r=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,s=i.getBoundingClientRect().x-this.table.element.getBoundingClientRect().x,o=this.table.element.getBoundingClientRect().x,a=t.element.getBoundingClientRect().left-o,l=r-this.startX,u=Math.max(s+l,a+t.minWidth);return t.maxWidth&&(u=Math.min(u,a+t.maxWidth)),u}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,i){var r=this,s;this.dispatchExternal("columnResizing",t.getComponent()),r.table.options.resizableColumnGuide&&(s=document.createElement("span"),s.classList.add("tabulator-col-resize-guide"),r.table.element.appendChild(s),setTimeout(()=>{s.style.left=r.calcGuidePosition(e,t,i)+"px"})),r.table.element.classList.add("tabulator-block-select");function o(l){r.table.options.resizableColumnGuide?s.style.left=r.calcGuidePosition(l,t,i)+"px":r.resize(l,t)}function a(l){r.table.options.resizableColumnGuide&&(r.resize(l,t),s.remove()),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!1),r.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",a),document.body.removeEventListener("mousemove",o),i.removeEventListener("touchmove",o),i.removeEventListener("touchend",a),r.table.element.classList.remove("tabulator-block-select"),r.startWidth!==t.getWidth()&&(r.table.columnManager.verticalAlignHeaders(),r.dispatch("column-resized",t),r.dispatchExternal("columnResized",t.getComponent()))}e.stopPropagation(),r.startColumn.modules.edit&&(r.startColumn.modules.edit.blocked=!0),r.startX=typeof e.clientX>"u"?e.touches[0].clientX:e.clientX,r.latestX=r.startX,r.startWidth=t.getWidth(),document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",a),i.addEventListener("touchmove",o,{passive:!0}),i.addEventListener("touchend",a)}}re(ih,"moduleName","resizeColumns");class nh extends Se{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1),this.registerTableOption("resizableRowGuide",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,i=e.getElement(),r=document.createElement("div");r.className="tabulator-row-resize-handle";var s=document.createElement("div");s.className="tabulator-row-resize-handle prev",r.addEventListener("click",function(l){l.stopPropagation()});var o=function(l){t.startRow=e,t._mouseDown(l,e,r)};r.addEventListener("mousedown",o),r.addEventListener("touchstart",o,{passive:!0}),s.addEventListener("click",function(l){l.stopPropagation()});var a=function(l){var u=t.table.rowManager.prevDisplayRow(e);u&&(t.startRow=u,t._mouseDown(l,u,s))};s.addEventListener("mousedown",a),s.addEventListener("touchstart",a,{passive:!0}),i.appendChild(r),i.appendChild(s)}resize(e,t){t.setHeight(this.startHeight+((typeof e.screenY>"u"?e.touches[0].screenY:e.screenY)-this.startY))}calcGuidePosition(e,t,i){var r=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,s=i.getBoundingClientRect().y-this.table.element.getBoundingClientRect().y,o=this.table.element.getBoundingClientRect().y,a=t.element.getBoundingClientRect().top-o,l=r-this.startY;return Math.max(s+l,a)}_mouseDown(e,t,i){var r=this,s;r.dispatchExternal("rowResizing",t.getComponent()),r.table.options.resizableRowGuide&&(s=document.createElement("span"),s.classList.add("tabulator-row-resize-guide"),r.table.element.appendChild(s),setTimeout(()=>{s.style.top=r.calcGuidePosition(e,t,i)+"px"})),r.table.element.classList.add("tabulator-block-select");function o(l){r.table.options.resizableRowGuide?s.style.top=r.calcGuidePosition(l,t,i)+"px":r.resize(l,t)}function a(l){r.table.options.resizableRowGuide&&(r.resize(l,t),s.remove()),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",o),i.removeEventListener("touchmove",o),i.removeEventListener("touchend",a),r.table.element.classList.remove("tabulator-block-select"),r.dispatchExternal("rowResized",t.getComponent())}e.stopPropagation(),r.startY=typeof e.screenY>"u"?e.touches[0].screenY:e.screenY,r.startHeight=t.getHeight(),document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",a),i.addEventListener("touchmove",o,{passive:!0}),i.addEventListener("touchend",a)}}re(nh,"moduleName","resizeRows");class rh extends Se{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e=this.table,t;this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),typeof IntersectionObserver<"u"&&typeof ResizeObserver<"u"&&e.rowManager.getRenderMode()==="virtual"?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var r=Math.floor(i[0].contentRect.height),s=Math.floor(i[0].contentRect.width);(this.tableHeight!=r||this.tableWidth!=s)&&(this.tableHeight=r,this.tableWidth=s,e.element.parentNode&&(this.containerHeight=e.element.parentNode.clientHeight,this.containerWidth=e.element.parentNode.clientWidth),this.redrawTable())}}),this.resizeObserver.observe(e.element),t=window.getComputedStyle(e.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(i=>{if(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell)){var r=Math.floor(i[0].contentRect.height),s=Math.floor(i[0].contentRect.width);(this.containerHeight!=r||this.containerWidth!=s)&&(this.containerHeight=r,this.containerWidth=s,this.tableHeight=e.element.clientHeight,this.tableWidth=e.element.clientWidth),this.redrawTable()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!e.browserMobile||e.browserMobile&&(!e.modules.edit||e.modules.edit&&!e.modules.edit.currentCell))&&(e.columnManager.rerenderColumns(!0),e.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)}),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}re(rh,"moduleName","resizeTable");function s_(n,e,t){var i=document.createElement("div"),r=n.getRow()._row.modules.responsiveLayout;i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML=`<svg class='tabulator-responsive-collapse-toggle-open' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />
  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />
</svg>

<svg class='tabulator-responsive-collapse-toggle-close' viewbox="0 0 24 24">
  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />
</svg>`,n.getElement().classList.add("tabulator-row-handle");function s(o){var a=r.element;r.open=o,a&&(r.open?(i.classList.add("open"),a.style.display=""):(i.classList.remove("open"),a.style.display="none"))}return i.addEventListener("click",function(o){o.stopImmediatePropagation(),s(!r.open),n.getTable().rowManager.adjustTableSize()}),s(r.open),i}var o_={format:{formatters:{responsiveCollapse:s_}}};class No extends Se{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),this.table.options.responsiveLayout==="collapse"&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){["fitColumns","fitDataStretch"].indexOf(this.layoutMode())===-1&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.collapseFormatter&&(this.collapseFormatter=this.collapseFormatter.bind(this.table)),this.table.columnManager.columnsByIndex.forEach((t,i)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=i,e.push(t),!t.visible&&this.mode==="collapse"&&this.hiddenColumns.push(t))}),e=e.reverse(),e=e.sort((t,i)=>{var r=i.modules.responsive.order-t.modules.responsive.order;return r||i.modules.responsive.index-t.modules.responsive.index}),this.columns=e,this.mode==="collapse"&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if(t.definition.formatter=="responsiveCollapse"){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:typeof t.responsive>"u"?1:t.responsive,visible:t.visible!==!1}}initializeRow(e){var t;e.type!=="calc"&&(t=document.createElement("div"),t.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),this.mode==="collapse"&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),this.mode==="collapse"&&(t=this.hiddenColumns.indexOf(e),t>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var e=!0;e;){let t=this.table.modules.layout.getMode()=="fitColumns"?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),i=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-t;if(i<0){let r=this.columns[this.index];r?(this.hideColumn(r),this.index++):e=!1}else{let r=this.columns[this.index-1];r&&i>0&&i>=r.getWidth()?(this.showColumn(r),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach(t=>{this.generateCollapsedRowContent(t)})}generateCollapsedRowContent(e){var t,i;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);i=this.collapseFormatter(this.generateCollapsedRowData(e)),i&&t.appendChild(i),e.calcHeight(!0)}}generateCollapsedRowData(e){var t=e.getData(),i=[],r;return this.hiddenColumns.forEach(s=>{var o=s.getFieldValue(t);if(s.definition.title&&s.field)if(s.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){let a=function(l){l()};r={value:!1,data:{},getValue:function(){return o},getData:function(){return t},getType:function(){return"cell"},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return s.getComponent()},getTable:()=>this.table},i.push({field:s.field,title:s.definition.title,value:s.modules.format.formatter.call(this.table.modules.format,r,s.modules.format.params,a)})}else i.push({field:s.field,title:s.definition.title,value:o})}),i}formatCollapsedData(e){var t=document.createElement("table");return e.forEach(i=>{var r=document.createElement("tr"),s=document.createElement("td"),o=document.createElement("td"),a,l=document.createElement("strong");s.appendChild(l),this.modules.localize.bind("columns|"+i.field,function(u){l.innerHTML=u||i.title}),i.value instanceof Node?(a=document.createElement("div"),a.appendChild(i.value),o.appendChild(a)):o.innerHTML=i.value,r.appendChild(s),r.appendChild(o),t.appendChild(r)}),Object.keys(e).length?t:""}}re(No,"moduleName","responsiveLayout"),re(No,"moduleExtensions",o_);function a_(n,e,t){var i=document.createElement("input"),r=!1;if(i.type="checkbox",i.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(i.addEventListener("click",o=>{o.stopPropagation()}),typeof n.getRow=="function"){var s=n.getRow();s instanceof cs?(i.addEventListener("change",o=>{this.table.options.selectableRowsRangeMode==="click"&&r?r=!1:s.toggleSelect()}),this.table.options.selectableRowsRangeMode==="click"&&i.addEventListener("click",o=>{r=!0,this.table.modules.selectRow.handleComplexRowClick(s._row,o)}),i.checked=s.isSelected&&s.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(s,i)):i=""}else i.addEventListener("change",o=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(e.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}var l_={format:{formatters:{rowSelection:a_}}};class Io extends Se{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectableRows","highlight"),this.registerTableOption("selectableRowsRangeMode","drag"),this.registerTableOption("selectableRowsRollingSelection",!0),this.registerTableOption("selectableRowsPersistence",!0),this.registerTableOption("selectableRowsCheck",function(t,i){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){this.deprecatedOptionsCheck(),this.table.options.selectableRows==="highlight"&&this.table.options.selectableRange&&(this.table.options.selectableRows=!1),this.table.options.selectableRows!==!1&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectableRows&&!this.table.options.selectableRowsPersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}deprecatedOptionsCheck(){}rowRetrieve(e,t){return e==="selected"?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var t=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t&&e!==!0&&this._rowSelectionChanged()}initializeRow(e){var t=this,i=t.checkRowSelectability(e),r=e.getElement(),s=function(){setTimeout(function(){t.selecting=!1},50),document.body.removeEventListener("mouseup",s)};e.modules.select={selected:!1},r.classList.toggle("tabulator-selectable",i),r.classList.toggle("tabulator-unselectable",!i),t.checkRowSelectability(e)&&t.table.options.selectableRows&&t.table.options.selectableRows!="highlight"&&(t.table.options.selectableRowsRangeMode==="click"?r.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(r.addEventListener("click",function(o){(!t.table.modExists("edit")||!t.table.modules.edit.getCurrentCell())&&t.table._clearSelection(),t.selecting||t.toggleRow(e)}),r.addEventListener("mousedown",function(o){if(o.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",s),document.body.addEventListener("keyup",s),t.toggleRow(e),!1}),r.addEventListener("mouseenter",function(o){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))}),r.addEventListener("mouseout",function(o){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))})))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var i=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),r=this.table.rowManager.getDisplayRowIndex(e),s=i<=r?i:r,o=i>=r?i:r,a=this.table.rowManager.getDisplayRows().slice(0),l=a.splice(s,o-s+1);t.ctrlKey||t.metaKey?(l.forEach(u=>{u!==this.lastClickedRow&&(this.table.options.selectableRows!==!0&&!this.isRowSelected(e)?this.selectedRows.length<this.table.options.selectableRows&&this.toggleRow(u):this.toggleRow(u))}),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.table.options.selectableRows!==!0&&l.length>this.table.options.selectableRows&&(l=l.slice(0,this.table.options.selectableRows)),this.selectRows(l)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return e&&e.type==="row"?this.table.options.selectableRowsCheck.call(this.table,e.getComponent()):!1}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t=[],i,r;switch(typeof e){case"undefined":i=this.table.rowManager.rows;break;case"number":i=this.table.rowManager.findRow(e);break;case"string":i=this.table.rowManager.findRow(e),i||(i=this.table.rowManager.getRows(e));break;default:i=e;break}Array.isArray(i)?i.length&&(i.forEach(s=>{r=this._selectRow(s,!0,!0),r&&t.push(r)}),this._rowSelectionChanged(!1,t)):i&&this._selectRow(i,!1,!0)}_selectRow(e,t,i){if(!isNaN(this.table.options.selectableRows)&&this.table.options.selectableRows!==!0&&!i&&this.selectedRows.length>=this.table.options.selectableRows)if(this.table.options.selectableRowsRollingSelection)this._deselectRow(this.selectedRows[0]);else return!1;var r=this.table.rowManager.findRow(e);if(r){if(this.selectedRows.indexOf(r)==-1)return r.getElement().classList.add("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!0,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!0),this.selectedRows.push(r),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!0),this.dispatchExternal("rowSelected",r.getComponent()),this._rowSelectionChanged(t,r),r}else t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return this.selectedRows.indexOf(e)!==-1}deselectRows(e,t){var i=[],r,s;switch(typeof e){case"undefined":r=Object.assign([],this.selectedRows);break;case"number":r=this.table.rowManager.findRow(e);break;case"string":r=this.table.rowManager.findRow(e),r||(r=this.table.rowManager.getRows(e));break;default:r=e;break}Array.isArray(r)?r.length&&(r.forEach(o=>{s=this._deselectRow(o,!0,!0),s&&i.push(s)}),this._rowSelectionChanged(t,[],i)):r&&this._deselectRow(r,t,!0)}_deselectRow(e,t){var i=this,r=i.table.rowManager.findRow(e),s,o;if(r){if(s=i.selectedRows.findIndex(function(a){return a==r}),s>-1)return o=r.getElement(),o&&o.classList.remove("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!1,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(s,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!1),this.dispatchExternal("rowDeselected",r.getComponent()),i._rowSelectionChanged(t,void 0,r),r}else t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getData())}),e}getSelectedRows(){var e=[];return this.selectedRows.forEach(function(t){e.push(t.getComponent())}),e}_rowSelectionChanged(e,t=[],i=[]){this.headerCheckboxElement&&(this.selectedRows.length===0?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||(Array.isArray(t)||(t=[t]),t=t.map(r=>r.getComponent()),Array.isArray(i)||(i=[i]),i=i.map(r=>r.getComponent()),this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows(),t,i))}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var i=this.table.modules.dataTree.getChildren(e,!0,!0);if(t)for(let r of i)this._selectRow(r,!0);else for(let r of i)this._deselectRow(r,!0)}}re(Io,"moduleName","selectRow"),re(Io,"moduleExtensions",l_);class u_{constructor(e){return this._range=e,new Proxy(this,{get:function(t,i,r){return typeof t[i]<"u"?t[i]:t._range.table.componentFunctionBinder.handle("range",t._range,i)}})}getElement(){return this._range.element}getData(){return this._range.getData()}getCells(){return this._range.getCells(!0,!0)}getStructuredCells(){return this._range.getStructuredCells()}getRows(){return this._range.getRows().map(e=>e.getComponent())}getColumns(){return this._range.getColumns().map(e=>e.getComponent())}getBounds(){return this._range.getBounds()}getTopEdge(){return this._range.top}getBottomEdge(){return this._range.bottom}getLeftEdge(){return this._range.left}getRightEdge(){return this._range.right}setBounds(e,t){this._range.destroyedGuard("setBounds")&&this._range.setBounds(e&&e._cell,t&&t._cell)}setStartBound(e){this._range.destroyedGuard("setStartBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}setEndBound(e){this._range.destroyedGuard("setEndBound")&&(this._range.setEndBound(e&&e._cell),this._range.rangeManager.layoutElement())}clearValues(){this._range.destroyedGuard("clearValues")&&this._range.clearValues()}remove(){this._range.destroyedGuard("remove")&&this._range.destroy(!0)}}class c_ extends et{constructor(e,t,i,r){super(e),this.rangeManager=t,this.element=null,this.initialized=!1,this.initializing={start:!1,end:!1},this.destroyed=!1,this.top=0,this.bottom=0,this.left=0,this.right=0,this.table=e,this.start={row:0,col:0},this.end={row:0,col:0},this.rangeManager.rowHeader&&(this.left=1,this.right=1,this.start.col=1,this.end.col=1),this.initElement(),setTimeout(()=>{this.initBounds(i,r)})}initElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-range")}initBounds(e,t){this._updateMinMax(),e&&this.setBounds(e,t||e)}setStart(e,t){(this.start.row!==e||this.start.col!==t)&&(this.start.row=e,this.start.col=t,this.initializing.start=!0,this._updateMinMax())}setEnd(e,t){(this.end.row!==e||this.end.col!==t)&&(this.end.row=e,this.end.col=t,this.initializing.end=!0,this._updateMinMax())}setBounds(e,t,i){e&&this.setStartBound(e),this.setEndBound(t||e),this.rangeManager.layoutElement(i)}setStartBound(e){var t,i;e.type==="column"?this.rangeManager.columnSelection&&this.setStart(0,e.getPosition()-1):(t=e.row.position-1,i=e.column.getPosition()-1,e.column===this.rangeManager.rowHeader?this.setStart(t,1):this.setStart(t,i))}setEndBound(e){var t=this._getTableRows().length,i,r,s;e.type==="column"?this.rangeManager.columnSelection&&(this.rangeManager.selecting==="column"?this.setEnd(t-1,e.getPosition()-1):this.rangeManager.selecting==="cell"&&this.setEnd(0,e.getPosition()-1)):(i=e.row.position-1,r=e.column.getPosition()-1,s=e.column===this.rangeManager.rowHeader,this.rangeManager.selecting==="row"?this.setEnd(i,this._getTableColumns().length-1):this.rangeManager.selecting!=="row"&&s?this.setEnd(i,0):this.rangeManager.selecting==="column"?this.setEnd(t-1,r):this.setEnd(i,r))}_updateMinMax(){this.top=Math.min(this.start.row,this.end.row),this.bottom=Math.max(this.start.row,this.end.row),this.left=Math.min(this.start.col,this.end.col),this.right=Math.max(this.start.col,this.end.col),this.initialized?this.dispatchExternal("rangeChanged",this.getComponent()):this.initializing.start&&this.initializing.end&&(this.initialized=!0,this.dispatchExternal("rangeAdded",this.getComponent()))}_getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}_getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}layout(){var e=this.table.rowManager.renderer.vDomTop,t=this.table.rowManager.renderer.vDomBottom,i=this.table.columnManager.renderer.leftCol,r=this.table.columnManager.renderer.rightCol,s,o,a,l,u,h,d,c,f,v;this.table.options.renderHorizontal==="virtual"&&this.rangeManager.rowHeader&&(r+=1),e==null&&(e=0),t==null&&(t=1/0),i==null&&(i=0),r==null&&(r=1/0),this.overlaps(i,e,r,t)&&(s=Math.max(this.top,e),o=Math.min(this.bottom,t),a=Math.max(this.left,i),l=Math.min(this.right,r),u=this.rangeManager.getCell(s,a),h=this.rangeManager.getCell(o,l),d=u.getElement(),c=h.getElement(),f=u.row.getElement(),v=h.row.getElement(),this.element.classList.add("tabulator-range-active"),this.table.rtl?(this.element.style.right=f.offsetWidth-d.offsetLeft-d.offsetWidth+"px",this.element.style.width=d.offsetLeft+d.offsetWidth-c.offsetLeft+"px"):(this.element.style.left=f.offsetLeft+d.offsetLeft+"px",this.element.style.width=c.offsetLeft+c.offsetWidth-d.offsetLeft+"px"),this.element.style.top=f.offsetTop+"px",this.element.style.height=v.offsetTop+v.offsetHeight-f.offsetTop+"px")}atTopLeft(e){return e.row.position-1===this.top&&e.column.getPosition()-1===this.left}atBottomRight(e){return e.row.position-1===this.bottom&&e.column.getPosition()-1===this.right}occupies(e){return this.occupiesRow(e.row)&&this.occupiesColumn(e.column)}occupiesRow(e){return this.top<=e.position-1&&e.position-1<=this.bottom}occupiesColumn(e){return this.left<=e.getPosition()-1&&e.getPosition()-1<=this.right}overlaps(e,t,i,r){return!(this.left>i||e>this.right||this.top>r||t>this.bottom)}getData(){var e=[],t=this.getRows(),i=this.getColumns();return t.forEach(r=>{var s=r.getData(),o={};i.forEach(a=>{o[a.field]=s[a.field]}),e.push(o)}),e}getCells(e,t){var i=[],r=this.getRows(),s=this.getColumns();return e?i=r.map(o=>{var a=[];return o.getCells().forEach(l=>{s.includes(l.column)&&a.push(t?l.getComponent():l)}),a}):r.forEach(o=>{o.getCells().forEach(a=>{s.includes(a.column)&&i.push(t?a.getComponent():a)})}),i}getStructuredCells(){return this.getCells(!0,!0)}getRows(){return this._getTableRows().slice(this.top,this.bottom+1)}getColumns(){return this._getTableColumns().slice(this.left,this.right+1)}clearValues(){var e=this.getCells(),t=this.table.options.selectableRangeClearCellsValue;this.table.blockRedraw(),e.forEach(i=>{i.setValue(t)}),this.table.restoreRedraw()}getBounds(e){var t=this.getCells(!1,e),i={start:null,end:null};return t.length?(i.start=t[0],i.end=t[t.length-1]):console.warn("No bounds defined on range"),i}getComponent(){return this.component||(this.component=new u_(this)),this.component}destroy(e){this.destroyed=!0,this.element.remove(),e&&this.rangeManager.rangeRemoved(this),this.initialized&&this.dispatchExternal("rangeRemoved",this.getComponent())}destroyedGuard(e){return this.destroyed&&console.warn("You cannot call the "+e+" function on a destroyed range"),!this.destroyed}}var h_={rangeJumpUp:["ctrl + 38","meta + 38"],rangeJumpDown:["ctrl + 40","meta + 40"],rangeJumpLeft:["ctrl + 37","meta + 37"],rangeJumpRight:["ctrl + 39","meta + 39"],rangeExpandUp:"shift + 38",rangeExpandDown:"shift + 40",rangeExpandLeft:"shift + 37",rangeExpandRight:"shift + 39",rangeExpandJumpUp:["ctrl + shift + 38","meta + shift + 38"],rangeExpandJumpDown:["ctrl + shift + 40","meta + shift + 40"],rangeExpandJumpLeft:["ctrl + shift + 37","meta + shift + 37"],rangeExpandJumpRight:["ctrl + shift + 39","meta + shift + 39"]},d_={rangeJumpLeft:function(n){this.dispatch("keybinding-nav-range",n,"left",!0,!1)},rangeJumpRight:function(n){this.dispatch("keybinding-nav-range",n,"right",!0,!1)},rangeJumpUp:function(n){this.dispatch("keybinding-nav-range",n,"up",!0,!1)},rangeJumpDown:function(n){this.dispatch("keybinding-nav-range",n,"down",!0,!1)},rangeExpandLeft:function(n){this.dispatch("keybinding-nav-range",n,"left",!1,!0)},rangeExpandRight:function(n){this.dispatch("keybinding-nav-range",n,"right",!1,!0)},rangeExpandUp:function(n){this.dispatch("keybinding-nav-range",n,"up",!1,!0)},rangeExpandDown:function(n){this.dispatch("keybinding-nav-range",n,"down",!1,!0)},rangeExpandJumpLeft:function(n){this.dispatch("keybinding-nav-range",n,"left",!0,!0)},rangeExpandJumpRight:function(n){this.dispatch("keybinding-nav-range",n,"right",!0,!0)},rangeExpandJumpUp:function(n){this.dispatch("keybinding-nav-range",n,"up",!0,!0)},rangeExpandJumpDown:function(n){this.dispatch("keybinding-nav-range",n,"down",!0,!0)}},f_={range:function(n){var e=[],t=this.table.modules.selectRange.activeRange,i=!1,r,s,o,a,l;return l=n.length,t&&(r=t.getBounds(),s=r.start,r.start===r.end&&(i=!0),s&&(e=this.table.rowManager.activeRows.slice(),o=e.indexOf(s.row),i?a=n.length:a=e.indexOf(r.end.row)-o+1,o>-1&&(this.table.blockRedraw(),e=e.slice(o,o+a),e.forEach((u,h)=>{u.updateData(n[h%l])}),this.table.restoreRedraw()))),e}},p_={range:function(n){var e=[],t=[],i=this.table.modules.selectRange.activeRange,r=!1,s,o,a,l,u;return i&&(s=i.getBounds(),o=s.start,s.start===s.end&&(r=!0),o&&(n=n.split(`
`),n.forEach(function(h){e.push(h.split("	"))}),e.length&&(l=this.table.columnManager.getVisibleColumnsByIndex(),u=l.indexOf(o.column),u>-1)))?(r?a=e[0].length:a=l.indexOf(s.end.column)-u+1,l=l.slice(u,u+a),e.forEach(h=>{var d={},c=h.length;l.forEach(function(f,v){d[f.field]=h[v%c]}),t.push(d)}),t):!1}},g_={range:function(){var n=this.modules.selectRange.selectedColumns();return this.columnManager.rowHeader&&n.unshift(this.columnManager.rowHeader),n}},m_={range:function(){return this.modules.selectRange.selectedRows()}},b_={keybindings:{bindings:h_,actions:d_},clipboard:{pasteActions:f_,pasteParsers:p_},export:{columnLookups:g_,rowLookups:m_}};class Or extends Se{constructor(e){super(e),this.selecting="cell",this.mousedown=!1,this.ranges=[],this.overlay=null,this.rowHeader=null,this.layoutChangeTimeout=null,this.columnSelection=!1,this.rowSelection=!1,this.maxRanges=0,this.activeRange=!1,this.blockKeydown=!1,this.keyDownEvent=this._handleKeyDown.bind(this),this.mouseUpEvent=this._handleMouseUp.bind(this),this.registerTableOption("selectableRange",!1),this.registerTableOption("selectableRangeColumns",!1),this.registerTableOption("selectableRangeRows",!1),this.registerTableOption("selectableRangeClearCells",!1),this.registerTableOption("selectableRangeClearCellsValue",void 0),this.registerTableFunction("getRangesData",this.getRangesData.bind(this)),this.registerTableFunction("getRanges",this.getRanges.bind(this)),this.registerTableFunction("addRange",this.addRangeFromComponent.bind(this)),this.registerComponentFunction("cell","getRanges",this.cellGetRanges.bind(this)),this.registerComponentFunction("row","getRanges",this.rowGetRanges.bind(this)),this.registerComponentFunction("column","getRanges",this.colGetRanges.bind(this))}initialize(){this.options("selectableRange")&&(this.options("selectableRows")?console.warn("SelectRange functionality cannot be used in conjunction with row selection"):(this.maxRanges=this.options("selectableRange"),this.initializeTable(),this.initializeWatchers()),this.options("columns").findIndex(e=>e.frozen)>0&&console.warn("Having frozen column in arbitrary position with selectRange option may result in unpredictable behavior."),this.options("columns").filter(e=>e.frozen)>1&&console.warn("Having multiple frozen columns with selectRange option may result in unpredictable behavior."))}initializeTable(){this.overlay=document.createElement("div"),this.overlay.classList.add("tabulator-range-overlay"),this.rangeContainer=document.createElement("div"),this.rangeContainer.classList.add("tabulator-range-container"),this.activeRangeCellElement=document.createElement("div"),this.activeRangeCellElement.classList.add("tabulator-range-cell-active"),this.overlay.appendChild(this.rangeContainer),this.overlay.appendChild(this.activeRangeCellElement),this.table.rowManager.element.addEventListener("keydown",this.keyDownEvent),this.resetRanges(),this.table.rowManager.element.appendChild(this.overlay),this.table.columnManager.element.setAttribute("tabindex",0),this.table.element.classList.add("tabulator-ranges")}initializeWatchers(){this.columnSelection=this.options("selectableRangeColumns"),this.rowSelection=this.options("selectableRangeRows"),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-mousedown",this.handleColumnMouseDown.bind(this)),this.subscribe("column-mousemove",this.handleColumnMouseMove.bind(this)),this.subscribe("column-resized",this.handleColumnResized.bind(this)),this.subscribe("column-moving",this.handleColumnMoving.bind(this)),this.subscribe("column-moved",this.handleColumnMoved.bind(this)),this.subscribe("column-width",this.layoutChange.bind(this)),this.subscribe("column-height",this.layoutChange.bind(this)),this.subscribe("column-resized",this.layoutChange.bind(this)),this.subscribe("columns-loaded",this.updateHeaderColumn.bind(this)),this.subscribe("cell-height",this.layoutChange.bind(this)),this.subscribe("cell-rendered",this.renderCell.bind(this)),this.subscribe("cell-mousedown",this.handleCellMouseDown.bind(this)),this.subscribe("cell-mousemove",this.handleCellMouseMove.bind(this)),this.subscribe("cell-click",this.handleCellClick.bind(this)),this.subscribe("cell-editing",this.handleEditingCell.bind(this)),this.subscribe("page-changed",this.redraw.bind(this)),this.subscribe("scroll-vertical",this.layoutChange.bind(this)),this.subscribe("scroll-horizontal",this.layoutChange.bind(this)),this.subscribe("data-destroy",this.tableDestroyed.bind(this)),this.subscribe("data-processed",this.resetRanges.bind(this)),this.subscribe("table-layout",this.layoutElement.bind(this)),this.subscribe("table-redraw",this.redraw.bind(this)),this.subscribe("table-destroy",this.tableDestroyed.bind(this)),this.subscribe("edit-editor-clear",this.finishEditingCell.bind(this)),this.subscribe("edit-blur",this.restoreFocus.bind(this)),this.subscribe("keybinding-nav-prev",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-next",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-left",this.keyNavigate.bind(this,"left")),this.subscribe("keybinding-nav-right",this.keyNavigate.bind(this,"right")),this.subscribe("keybinding-nav-up",this.keyNavigate.bind(this,"up")),this.subscribe("keybinding-nav-down",this.keyNavigate.bind(this,"down")),this.subscribe("keybinding-nav-range",this.keyNavigateRange.bind(this))}initializeColumn(e){this.columnSelection&&e.definition.headerSort&&this.options("headerSortClickElement")!=="icon"&&console.warn("Using column headerSort with selectableRangeColumns option may result in unpredictable behavior. Consider using headerSortClickElement: 'icon'."),e.modules.edit}updateHeaderColumn(){var e;this.rowSelection&&(this.rowHeader=this.table.columnManager.getVisibleColumnsByIndex()[0],this.rowHeader&&(this.rowHeader.definition.cssClass=this.rowHeader.definition.cssClass+" tabulator-range-row-header",this.rowHeader.definition.headerSort&&console.warn("Using column headerSort with selectableRangeRows option may result in unpredictable behavior"),this.rowHeader.definition.editor&&console.warn("Using column editor with selectableRangeRows option may result in unpredictable behavior"))),this.table.modules.frozenColumns&&this.table.modules.frozenColumns.active&&(e=this.table.modules.frozenColumns.getFrozenColumns(),(e.length>1||e.length===1&&e[0]!==this.rowHeader)&&console.warn("Using frozen columns that are not the range header in combination with the selectRange option may result in unpredictable behavior"))}getRanges(){return this.ranges.map(e=>e.getComponent())}getRangesData(){return this.ranges.map(e=>e.getData())}addRangeFromComponent(e,t){return e=e?e._cell:null,t=t?t._cell:null,this.addRange(e,t)}cellGetRanges(e){var t=[];return e.column===this.rowHeader?t=this.ranges.filter(i=>i.occupiesRow(e.row)):t=this.ranges.filter(i=>i.occupies(e)),t.map(i=>i.getComponent())}rowGetRanges(e){var t=this.ranges.filter(i=>i.occupiesRow(e));return t.map(i=>i.getComponent())}colGetRanges(e){var t=this.ranges.filter(i=>i.occupiesColumn(e));return t.map(i=>i.getComponent())}_handleMouseUp(e){this.mousedown=!1,document.removeEventListener("mouseup",this.mouseUpEvent)}_handleKeyDown(e){if(!this.blockKeydown&&(!this.table.modules.edit||this.table.modules.edit&&!this.table.modules.edit.currentCell)){if(e.key==="Enter"){if(this.table.modules.edit&&this.table.modules.edit.currentCell)return;this.table.modules.edit.editCell(this.getActiveCell()),e.preventDefault()}(e.key==="Backspace"||e.key==="Delete")&&this.options("selectableRangeClearCells")&&this.activeRange&&this.activeRange.clearValues()}}initializeFocus(e){var t;this.restoreFocus();try{document.selection?(t=document.body.createTextRange(),t.moveToElementText(e.getElement()),t.select()):window.getSelection&&(t=document.createRange(),t.selectNode(e.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(t))}catch{}}restoreFocus(e){return this.table.rowManager.element.focus(),!0}handleColumnResized(e){var t;this.selecting!=="column"&&this.selecting!=="all"||(t=this.ranges.some(i=>i.occupiesColumn(e)),t&&this.ranges.forEach(i=>{var r=i.getColumns(!0);r.forEach(s=>{s!==e&&s.setWidth(e.width)})}))}handleColumnMoving(e,t){this.resetRanges().setBounds(t),this.overlay.style.visibility="hidden"}handleColumnMoved(e,t,i){this.activeRange.setBounds(e),this.layoutElement()}handleColumnMouseDown(e,t){e.button===2&&(this.selecting==="column"||this.selecting==="all")&&this.activeRange.occupiesColumn(t)||this.table.options.movableColumns&&this.selecting==="column"&&this.activeRange.occupiesColumn(t)||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,t))}handleColumnMouseMove(e,t){t===this.rowHeader||!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,t,!0)}renderCell(e){var t=e.getElement(),i=this.ranges.findIndex(r=>r.occupies(e));t.classList.toggle("tabulator-range-selected",i!==-1),t.classList.toggle("tabulator-range-only-cell-selected",this.ranges.length===1&&this.ranges[0].atTopLeft(e)&&this.ranges[0].atBottomRight(e)),t.dataset.range=i}handleCellMouseDown(e,t){e.button===2&&(this.activeRange.occupies(t)||(this.selecting==="row"||this.selecting==="all")&&this.activeRange.occupiesRow(t.row))||(this.mousedown=!0,document.addEventListener("mouseup",this.mouseUpEvent),this.newSelection(e,t))}handleCellMouseMove(e,t){!this.mousedown||this.selecting==="all"||this.activeRange.setBounds(!1,t,!0)}handleCellClick(e,t){this.initializeFocus(t)}handleEditingCell(e){this.activeRange&&this.activeRange.setBounds(e)}finishEditingCell(){this.blockKeydown=!0,this.table.rowManager.element.focus(),setTimeout(()=>{this.blockKeydown=!1},10)}keyNavigate(e,t){this.navigate(!1,!1,e),t.preventDefault()}keyNavigateRange(e,t,i,r){this.navigate(i,r,t),e.preventDefault()}navigate(e,t,i){var r=!1,s,o,a,l,u,h;if(this.table.modules.edit&&this.table.modules.edit.currentCell)return!1;if(this.ranges.length>1&&(this.ranges=this.ranges.filter(d=>d===this.activeRange?(d.setEnd(d.start.row,d.start.col),!0):(d.destroy(),!1))),s=this.activeRange,o=t?s.end:s.start,a=o.row,l=o.col,e)switch(i){case"left":l=this.findJumpCellLeft(s.start.row,o.col);break;case"right":l=this.findJumpCellRight(s.start.row,o.col);break;case"up":a=this.findJumpCellUp(o.row,s.start.col);break;case"down":a=this.findJumpCellDown(o.row,s.start.col);break}else{if(t&&(this.selecting==="row"&&(i==="left"||i==="right")||this.selecting==="column"&&(i==="up"||i==="down")))return;switch(i){case"left":l=Math.max(l-1,0);break;case"right":l=Math.min(l+1,this.getTableColumns().length-1);break;case"up":a=Math.max(a-1,0);break;case"down":a=Math.min(a+1,this.getTableRows().length-1);break}}if(this.rowHeader&&l===0&&(l=1),r=l!==o.col||a!==o.row,t||s.setStart(a,l),s.setEnd(a,l),t||(this.selecting="cell"),r)return u=this.getRowByRangePos(s.end.row),h=this.getColumnByRangePos(s.end.col),(i==="left"||i==="right")&&h.getElement().parentNode===null?h.getComponent().scrollTo(void 0,!1):(i==="up"||i==="down")&&u.getElement().parentNode===null?u.getComponent().scrollTo(void 0,!1):this.autoScroll(s,u.getElement(),h.getElement()),this.layoutElement(),!0}rangeRemoved(e){this.ranges=this.ranges.filter(t=>t!==e),this.activeRange===e&&(this.ranges.length?this.activeRange=this.ranges[this.ranges.length-1]:this.addRange()),this.layoutElement()}findJumpRow(e,t,i,r,s){return i&&(t=t.reverse()),this.findJumpItem(r,s,t,function(o){return o.getData()[e.getField()]})}findJumpCol(e,t,i,r,s){return i&&(t=t.reverse()),this.findJumpItem(r,s,t,function(o){return e.getData()[o.getField()]})}findJumpItem(e,t,i,r){var s;for(let o of i){let a=r(o);if(e){if(s=o,a)break}else if(t){if(s=o,a)break}else if(a)s=o;else break}return s}findJumpCellLeft(e,t){var i=this.getRowByRangePos(e),r=this.getTableColumns(),s=this.isEmpty(i.getData()[r[t].getField()]),o=r[t-1]?this.isEmpty(i.getData()[r[t-1].getField()]):!1,a=this.rowHeader?r.slice(1,t):r.slice(0,t),l=this.findJumpCol(i,a,!0,s,o);return l?l.getPosition()-1:t}findJumpCellRight(e,t){var i=this.getRowByRangePos(e),r=this.getTableColumns(),s=this.isEmpty(i.getData()[r[t].getField()]),o=r[t+1]?this.isEmpty(i.getData()[r[t+1].getField()]):!1,a=this.findJumpCol(i,r.slice(t+1,r.length),!1,s,o);return a?a.getPosition()-1:t}findJumpCellUp(e,t){var i=this.getColumnByRangePos(t),r=this.getTableRows(),s=this.isEmpty(r[e].getData()[i.getField()]),o=r[e-1]?this.isEmpty(r[e-1].getData()[i.getField()]):!1,a=this.findJumpRow(i,r.slice(0,e),!0,s,o);return a?a.position-1:e}findJumpCellDown(e,t){var i=this.getColumnByRangePos(t),r=this.getTableRows(),s=this.isEmpty(r[e].getData()[i.getField()]),o=r[e+1]?this.isEmpty(r[e+1].getData()[i.getField()]):!1,a=this.findJumpRow(i,r.slice(e+1,r.length),!1,s,o);return a?a.position-1:e}newSelection(e,t){var i;if(t.type==="column"){if(!this.columnSelection)return;if(t===this.rowHeader){i=this.resetRanges(),this.selecting="all";var r,s=this.getCell(-1,-1);this.rowHeader?r=this.getCell(0,1):r=this.getCell(0,0),i.setBounds(r,s);return}else this.selecting="column"}else t.column===this.rowHeader?this.selecting="row":this.selecting="cell";e.shiftKey?this.activeRange.setBounds(!1,t):e.ctrlKey?this.addRange().setBounds(t):this.resetRanges().setBounds(t)}autoScroll(e,t,i){var r=this.table.rowManager.element,s,o,a,l,u;typeof t>"u"&&(t=this.getRowByRangePos(e.end.row).getElement()),typeof i>"u"&&(i=this.getColumnByRangePos(e.end.col).getElement()),this.rowHeader&&(s=this.rowHeader.getElement()),o={left:i.offsetLeft,right:i.offsetLeft+i.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight},a={left:r.scrollLeft,right:Math.ceil(r.scrollLeft+r.clientWidth),top:r.scrollTop,bottom:r.scrollTop+r.offsetHeight-this.table.rowManager.scrollbarWidth},s&&(a.left+=s.offsetWidth),l=a.left<o.left&&o.left<a.right&&a.left<o.right&&o.right<a.right,u=a.top<o.top&&o.top<a.bottom&&a.top<o.bottom&&o.bottom<a.bottom,l||(o.left<a.left?(r.scrollLeft=o.left,s&&(r.scrollLeft-=s.offsetWidth)):o.right>a.right&&(r.scrollLeft=o.right-r.clientWidth)),u||(o.top<a.top?r.scrollTop=o.top:o.bottom>a.bottom&&(r.scrollTop=o.bottom-r.clientHeight))}layoutChange(){this.overlay.style.visibility="hidden",clearTimeout(this.layoutChangeTimeout),this.layoutChangeTimeout=setTimeout(this.layoutRanges.bind(this),200)}redraw(e){e&&(this.selecting="cell",this.resetRanges(),this.layoutElement())}layoutElement(e){var t;e?t=this.table.rowManager.getVisibleRows(!0):t=this.table.rowManager.getRows(),t.forEach(i=>{i.type==="row"&&(this.layoutRow(i),i.cells.forEach(r=>this.renderCell(r)))}),this.getTableColumns().forEach(i=>{this.layoutColumn(i)}),this.layoutRanges()}layoutRow(e){var t=e.getElement(),i=!1,r=this.ranges.some(s=>s.occupiesRow(e));this.selecting==="row"?i=r:this.selecting==="all"&&(i=!0),t.classList.toggle("tabulator-range-selected",i),t.classList.toggle("tabulator-range-highlight",r)}layoutColumn(e){var t=e.getElement(),i=!1,r=this.ranges.some(s=>s.occupiesColumn(e));this.selecting==="column"?i=r:this.selecting==="all"&&(i=!0),t.classList.toggle("tabulator-range-selected",i),t.classList.toggle("tabulator-range-highlight",r)}layoutRanges(){var e,t,i;this.table.initialized&&(e=this.getActiveCell(),e&&(t=e.getElement(),i=e.row.getElement(),this.table.rtl?this.activeRangeCellElement.style.right=i.offsetWidth-t.offsetLeft-t.offsetWidth+"px":this.activeRangeCellElement.style.left=i.offsetLeft+t.offsetLeft+"px",this.activeRangeCellElement.style.top=i.offsetTop+"px",this.activeRangeCellElement.style.width=t.offsetWidth+"px",this.activeRangeCellElement.style.height=i.offsetHeight+"px",this.ranges.forEach(r=>r.layout()),this.overlay.style.visibility="visible"))}getCell(e,t){var i;return t<0&&(t=this.getTableColumns().length+t,t<0)?null:(e<0&&(e=this.getTableRows().length+e),i=this.table.rowManager.getRowFromPosition(e+1),i?i.getCells(!1,!0).filter(r=>r.column.visible)[t]:null)}getActiveCell(){return this.getCell(this.activeRange.start.row,this.activeRange.start.col)}getRowByRangePos(e){return this.getTableRows()[e]}getColumnByRangePos(e){return this.getTableColumns()[e]}getTableRows(){return this.table.rowManager.getDisplayRows().filter(e=>e.type==="row")}getTableColumns(){return this.table.columnManager.getVisibleColumnsByIndex()}addRange(e,t){var i;return this.maxRanges!==!0&&this.ranges.length>=this.maxRanges&&this.ranges.shift().destroy(),i=new c_(this.table,this,e,t),this.activeRange=i,this.ranges.push(i),this.rangeContainer.appendChild(i.element),i}resetRanges(){var e,t,i;return this.ranges.forEach(r=>r.destroy()),this.ranges=[],e=this.addRange(),this.table.rowManager.activeRows.length&&(i=this.table.rowManager.activeRows[0].cells.filter(r=>r.column.visible),t=i[this.rowHeader?1:0],t&&(e.setBounds(t),this.initializeFocus(t))),e}tableDestroyed(){document.removeEventListener("mouseup",this.mouseUpEvent),this.table.rowManager.element.removeEventListener("keydown",this.keyDownEvent)}selectedRows(e){return e?this.activeRange.getRows().map(t=>t.getComponent()):this.activeRange.getRows()}selectedColumns(e){return e?this.activeRange.getColumns().map(t=>t.getComponent()):this.activeRange.getColumns()}isEmpty(e){return e==null||e===""}}re(Or,"moduleName","selectRange"),re(Or,"moduleInitOrder",1),re(Or,"moduleExtensions",b_);function v_(n,e,t,i,r,s,o){var a=o.alignEmptyValues,l=o.decimalSeparator,u=o.thousandSeparator,h=0;if(n=String(n),e=String(e),u&&(n=n.split(u).join(""),e=e.split(u).join("")),l&&(n=n.split(l).join("."),e=e.split(l).join(".")),n=parseFloat(n),e=parseFloat(e),isNaN(n))h=isNaN(e)?0:-1;else if(isNaN(e))h=1;else return n-e;return(a==="top"&&s==="desc"||a==="bottom"&&s==="asc")&&(h*=-1),h}function y_(n,e,t,i,r,s,o){var a=o.alignEmptyValues,l=0,u;if(!n)l=e?-1:0;else if(!e)l=1;else{switch(typeof o.locale){case"boolean":o.locale&&(u=this.langLocale());break;case"string":u=o.locale;break}return String(n).toLowerCase().localeCompare(String(e).toLowerCase(),u)}return(a==="top"&&s==="desc"||a==="bottom"&&s==="asc")&&(l*=-1),l}function va(n,e,t,i,r,s,o){var a=window.DateTime||luxon.DateTime,l=o.format||"dd/MM/yyyy HH:mm:ss",u=o.alignEmptyValues,h=0;if(typeof a<"u"){if(a.isDateTime(n)||(l==="iso"?n=a.fromISO(String(n)):n=a.fromFormat(String(n),l)),a.isDateTime(e)||(l==="iso"?e=a.fromISO(String(e)):e=a.fromFormat(String(e),l)),!n.isValid)h=e.isValid?-1:0;else if(!e.isValid)h=1;else return n-e;return(u==="top"&&s==="desc"||u==="bottom"&&s==="asc")&&(h*=-1),h}else console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function w_(n,e,t,i,r,s,o){return o.format||(o.format="dd/MM/yyyy"),va.call(this,n,e,t,i,r,s,o)}function C_(n,e,t,i,r,s,o){return o.format||(o.format="HH:mm"),va.call(this,n,e,t,i,r,s,o)}function E_(n,e,t,i,r,s,o){var a=n===!0||n==="true"||n==="True"||n===1?1:0,l=e===!0||e==="true"||e==="True"||e===1?1:0;return a-l}function x_(n,e,t,i,r,s,o){var a=o.type||"length",l=o.alignEmptyValues,u=0;function h(d){var c;switch(a){case"length":c=d.length;break;case"sum":c=d.reduce(function(f,v){return f+v});break;case"max":c=Math.max.apply(null,d);break;case"min":c=Math.min.apply(null,d);break;case"avg":c=d.reduce(function(f,v){return f+v})/d.length;break}return c}if(!Array.isArray(n))u=Array.isArray(e)?-1:0;else if(!Array.isArray(e))u=1;else return h(e)-h(n);return(l==="top"&&s==="desc"||l==="bottom"&&s==="asc")&&(u*=-1),u}function S_(n,e,t,i,r,s,o){var a=typeof n>"u"?0:1,l=typeof e>"u"?0:1;return a-l}function __(n,e,t,i,r,s,o){var a,l,u,h,d=0,c,f=/(\d+)|(\D+)/g,v=/\d/,y=o.alignEmptyValues,b=0;if(!n&&n!==0)b=!e&&e!==0?0:-1;else if(!e&&e!==0)b=1;else{if(isFinite(n)&&isFinite(e))return n-e;if(a=String(n).toLowerCase(),l=String(e).toLowerCase(),a===l)return 0;if(!(v.test(a)&&v.test(l)))return a>l?1:-1;for(a=a.match(f),l=l.match(f),c=a.length>l.length?l.length:a.length;d<c;)if(u=a[d],h=l[d++],u!==h)return isFinite(u)&&isFinite(h)?(u.charAt(0)==="0"&&(u="."+u),h.charAt(0)==="0"&&(h="."+h),u-h):u>h?1:-1;return a.length>l.length}return(y==="top"&&s==="desc"||y==="bottom"&&s==="asc")&&(b*=-1),b}var R_={number:v_,string:y_,date:w_,time:C_,datetime:va,boolean:E_,array:x_,exists:S_,alphanum:__};const Ri=class Ri extends Se{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),this.table.options.sortMode==="remote"&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,i,r){var s=this.getSort();return s.forEach(o=>{delete o.column}),r.sort=s,r}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var t=!1,i,r;switch(typeof e.definition.sorter){case"string":Ri.sorters[e.definition.sorter]?t=Ri.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":t=e.definition.sorter;break}if(e.modules.sort={sorter:t,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},e.definition.headerSort!==!1){switch(i=e.getElement(),i.classList.add("tabulator-sortable"),r=document.createElement("div"),r.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":r.classList.add("tabulator-col-sorter-element");break;case"header":i.classList.add("tabulator-col-sorter-element");break;default:i.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":r.appendChild(this.table.options.headerSortElement);break;default:r.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(r),e.modules.sort.element=r,this.setColumnHeaderSortIcon(e,"none"),this.table.options.headerSortClickElement==="icon"&&r.addEventListener("mousedown",s=>{s.stopPropagation()}),(this.table.options.headerSortClickElement==="icon"?r:i).addEventListener("click",s=>{var o="",a=[],l=!1;if(e.modules.sort){if(e.modules.sort.tristate)e.modules.sort.dir=="none"?o=e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?o=e.modules.sort.dir=="asc"?"desc":"asc":o="none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(s.shiftKey||s.ctrlKey)?(a=this.getSort(),l=a.findIndex(u=>u.field===e.getField()),l>-1?(a[l].dir=o,l=a.splice(l,1)[0],o!="none"&&a.push(l)):o!="none"&&a.push({column:e,dir:o}),this.setSort(a)):o=="none"?this.clear():this.setSort(e,o),this.refreshSort()}})}}refreshSort(){this.table.options.sortMode==="remote"?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,t=[];return e.sortList.forEach(function(i){i.column&&t.push({column:i.column.getComponent(),field:i.column.getField(),dir:i.dir})}),t}setSort(e,t){var i=this,r=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach(function(s){var o;o=i.table.columnManager.findColumn(s.column),o?(s.column=o,r.push(s),i.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",s.column)}),i.sortList=r,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var t=this.table.rowManager.activeRows[0],i="string",r,s;if(t&&(t=t.getData(),r=e.getField(),r))switch(s=e.getFieldValue(t),typeof s){case"undefined":i="string";break;case"boolean":i="boolean";break;default:!isNaN(s)&&s!==""?i="number":s.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum");break}return Ri.sorters[i]}sort(e,t){var i=this,r=this.table.options.sortOrderReverse?i.sortList.slice().reverse():i.sortList,s=[],o=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",i.getSort()),t||i.clearColumnHeaders(),this.table.options.sortMode!=="remote"?(r.forEach(function(a,l){var u;a.column&&(u=a.column.modules.sort,u&&(u.sorter||(u.sorter=i.findSorter(a.column)),a.params=typeof u.params=="function"?u.params(a.column.getComponent(),a.dir):u.params,s.push(a)),t||i.setColumnHeader(a.column,a.dir))}),s.length&&i._sortItems(e,s)):t||r.forEach(function(a,l){i.setColumnHeader(a.column,a.dir)}),this.subscribedExternal("dataSorted")&&(e.forEach(a=>{o.push(a.getComponent())}),this.dispatchExternal("dataSorted",i.getSort(),o)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))})}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t==="asc"?"ascending":"descending"),this.setColumnHeaderSortIcon(e,t)}setColumnHeaderSortIcon(e,t){var i=e.modules.sort.element,r;if(e.definition.headerSort&&typeof this.table.options.headerSortElement=="function"){for(;i.firstChild;)i.removeChild(i.firstChild);r=this.table.options.headerSortElement.call(this.table,e.getComponent(),t),typeof r=="object"?i.appendChild(r):i.innerHTML=r}}_sortItems(e,t){var i=t.length-1;e.sort((r,s)=>{for(var o,a=i;a>=0;a--){let l=t[a];if(o=this._sortRow(r,s,l.column,l.dir,l.params),o!==0)break}return o})}_sortRow(e,t,i,r,s){var o,a,l=r=="asc"?e:t,u=r=="asc"?t:e;return e=i.getFieldValue(l.getData()),t=i.getFieldValue(u.getData()),e=typeof e<"u"?e:"",t=typeof t<"u"?t:"",o=l.getComponent(),a=u.getComponent(),i.modules.sort.sorter.call(this,e,t,o,a,i.getComponent(),r,s)}};re(Ri,"moduleName","sort"),re(Ri,"sorters",R_);let $o=Ri;class T_{constructor(e,t){this.columnCount=e,this.rowCount=t,this.columnString=[],this.columns=[],this.rows=[]}genColumns(e){var t=Math.max(this.columnCount,Math.max(...e.map(i=>i.length)));this.columnString=[],this.columns=[];for(let i=1;i<=t;i++)this.incrementChar(this.columnString.length-1),this.columns.push(this.columnString.join(""));return this.columns}genRows(e){var t=Math.max(this.rowCount,e.length);this.rows=[];for(let i=1;i<=t;i++)this.rows.push(i);return this.rows}incrementChar(e){let t=this.columnString[e];t?t!=="Z"?this.columnString[e]=String.fromCharCode(this.columnString[e].charCodeAt(0)+1):(this.columnString[e]="A",e?this.incrementChar(e-1):this.columnString.push("A")):this.columnString.push("A")}setRowCount(e){this.rowCount=e}setColumnCount(e){this.columnCount=e}}class sh{constructor(e){return this._sheet=e,new Proxy(this,{get:function(t,i,r){return typeof t[i]<"u"?t[i]:t._sheet.table.componentFunctionBinder.handle("sheet",t._sheet,i)}})}getTitle(){return this._sheet.title}getKey(){return this._sheet.key}getDefinition(){return this._sheet.getDefinition()}getData(){return this._sheet.getData()}setData(e){return this._sheet.setData(e)}clear(){return this._sheet.clear()}remove(){return this._sheet.remove()}active(){return this._sheet.active()}setTitle(e){return this._sheet.setTitle(e)}setRows(e){return this._sheet.setRows(e)}setColumns(e){return this._sheet.setColumns(e)}}class jl extends et{constructor(e,t){super(e.table),this.spreadsheetManager=e,this.definition=t,this.title=this.definition.title||"",this.key=this.definition.key||this.definition.title,this.rowCount=this.definition.rows,this.columnCount=this.definition.columns,this.data=this.definition.data||[],this.element=null,this.isActive=!1,this.grid=new T_(this.columnCount,this.rowCount),this.defaultColumnDefinition={width:100,headerHozAlign:"center",headerSort:!1},this.columnDefinition=Object.assign(this.defaultColumnDefinition,this.options("spreadsheetColumnDefinition")),this.columnDefs=[],this.rowDefs=[],this.columnFields=[],this.columns=[],this.rows=[],this.scrollTop=null,this.scrollLeft=null,this.initialize(),this.dispatchExternal("sheetAdded",this.getComponent())}initialize(){this.initializeElement(),this.initializeColumns(),this.initializeRows()}reinitialize(){this.initializeColumns(),this.initializeRows()}initializeElement(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tab"),this.element.innerText=this.title,this.element.addEventListener("click",()=>{this.spreadsheetManager.loadSheet(this)})}initializeColumns(){this.grid.setColumnCount(this.columnCount),this.columnFields=this.grid.genColumns(this.data),this.columnDefs=[],this.columnFields.forEach(e=>{var t=Object.assign({},this.columnDefinition);t.field=e,t.title=e,this.columnDefs.push(t)})}initializeRows(){var e;this.grid.setRowCount(this.rowCount),e=this.grid.genRows(this.data),this.rowDefs=[],e.forEach((t,i)=>{var r={_id:t},s=this.data[i];s&&s.forEach((o,a)=>{var l=this.columnFields[a];l&&(r[l]=o)}),this.rowDefs.push(r)})}unload(){this.isActive=!1,this.scrollTop=this.table.rowManager.scrollTop,this.scrollLeft=this.table.rowManager.scrollLeft,this.data=this.getData(!0),this.element.classList.remove("tabulator-spreadsheet-tab-active")}load(){var e=!this.isActive;this.isActive=!0,this.table.blockRedraw(),this.table.setData([]),this.table.setColumns(this.columnDefs),this.table.setData(this.rowDefs),this.table.restoreRedraw(),e&&this.scrollTop!==null&&(this.table.rowManager.element.scrollLeft=this.scrollLeft,this.table.rowManager.element.scrollTop=this.scrollTop),this.element.classList.add("tabulator-spreadsheet-tab-active"),this.dispatchExternal("sheetLoaded",this.getComponent())}getComponent(){return new sh(this)}getDefinition(){return{title:this.title,key:this.key,rows:this.rowCount,columns:this.columnCount,data:this.getData()}}getData(e){var t=[],i,r,s;return this.rowDefs.forEach(o=>{var a=[];this.columnFields.forEach(l=>{a.push(o[l])}),t.push(a)}),!e&&!this.options("spreadsheetOutputFull")&&(i=t.map(o=>o.findLastIndex(a=>typeof a<"u")+1),r=Math.max(...i),s=i.findLastIndex(o=>o>0)+1,t=t.slice(0,s),t=t.map(o=>o.slice(0,r))),t}setData(e){this.data=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}clear(){this.setData([])}setTitle(e){this.title=e,this.element.innerText=e,this.dispatchExternal("sheetUpdated",this.getComponent())}setRows(e){this.rowCount=e,this.initializeRows(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}setColumns(e){this.columnCount=e,this.reinitialize(),this.dispatchExternal("sheetUpdated",this.getComponent()),this.isActive&&this.load()}remove(){this.spreadsheetManager.removeSheet(this)}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispatchExternal("sheetRemoved",this.getComponent())}active(){this.spreadsheetManager.loadSheet(this)}}class oh extends Se{constructor(e){super(e),this.sheets=[],this.element=null,this.registerTableOption("spreadsheet",!1),this.registerTableOption("spreadsheetRows",50),this.registerTableOption("spreadsheetColumns",50),this.registerTableOption("spreadsheetColumnDefinition",{}),this.registerTableOption("spreadsheetOutputFull",!1),this.registerTableOption("spreadsheetData",!1),this.registerTableOption("spreadsheetSheets",!1),this.registerTableOption("spreadsheetSheetTabs",!1),this.registerTableOption("spreadsheetSheetTabsElement",!1),this.registerTableFunction("setSheets",this.setSheets.bind(this)),this.registerTableFunction("addSheet",this.addSheet.bind(this)),this.registerTableFunction("getSheets",this.getSheets.bind(this)),this.registerTableFunction("getSheetDefinitions",this.getSheetDefinitions.bind(this)),this.registerTableFunction("setSheetData",this.setSheetData.bind(this)),this.registerTableFunction("getSheet",this.getSheet.bind(this)),this.registerTableFunction("getSheetData",this.getSheetData.bind(this)),this.registerTableFunction("clearSheet",this.clearSheet.bind(this)),this.registerTableFunction("removeSheet",this.removeSheetFunc.bind(this)),this.registerTableFunction("activeSheet",this.activeSheetFunc.bind(this))}initialize(){this.options("spreadsheet")&&(this.subscribe("table-initialized",this.tableInitialized.bind(this)),this.subscribe("data-loaded",this.loadRemoteData.bind(this)),this.table.options.index="_id",this.options("spreadsheetData")&&this.options("spreadsheetSheets")&&(console.warn("You cannot use spreadsheetData and spreadsheetSheets at the same time, ignoring spreadsheetData"),this.table.options.spreadsheetData=!1),this.compatibilityCheck(),this.options("spreadsheetSheetTabs")&&this.initializeTabset())}compatibilityCheck(){this.options("data")&&console.warn("Do not use the data option when working with spreadsheets, use either spreadsheetData or spreadsheetSheets to pass data into the table"),this.options("pagination")&&console.warn("The spreadsheet module is not compatible with the pagination module"),this.options("groupBy")&&console.warn("The spreadsheet module is not compatible with the row grouping module"),this.options("responsiveCollapse")&&console.warn("The spreadsheet module is not compatible with the responsive collapse module")}initializeTabset(){this.element=document.createElement("div"),this.element.classList.add("tabulator-spreadsheet-tabs");var e=this.options("spreadsheetSheetTabsElement");e&&!(e instanceof HTMLElement)&&(e=document.querySelector(e),e||console.warn("Unable to find element matching spreadsheetSheetTabsElement selector:",this.options("spreadsheetSheetTabsElement"))),e?e.appendChild(this.element):this.footerAppend(this.element)}tableInitialized(){this.sheets.length?this.loadSheet(this.sheets[0]):this.options("spreadsheetSheets")?this.loadSheets(this.options("spreadsheetSheets")):this.options("spreadsheetData")&&this.loadData(this.options("spreadsheetData"))}loadRemoteData(e,t,i){return console.log("data",e,t,i),Array.isArray(e)?(this.table.dataLoader.clearAlert(),this.dispatchExternal("dataLoaded",e),!e.length||Array.isArray(e[0])?this.loadData(e):this.loadSheets(e)):console.error(`Spreadsheet Loading Error - Unable to process remote data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e),!1}loadData(e){var t={data:e};this.loadSheet(this.newSheet(t))}destroySheets(){this.sheets.forEach(e=>{e.destroy()}),this.sheets=[],this.activeSheet=null}loadSheets(e){Array.isArray(e)||(e=[]),this.destroySheets(),e.forEach(t=>{this.newSheet(t)}),this.loadSheet(this.sheets[0])}loadSheet(e){this.activeSheet!==e&&(this.activeSheet&&this.activeSheet.unload(),this.activeSheet=e,e.load())}newSheet(e={}){var t;return e.rows||(e.rows=this.options("spreadsheetRows")),e.columns||(e.columns=this.options("spreadsheetColumns")),t=new jl(this,e),this.sheets.push(t),this.element&&this.element.appendChild(t.element),t}removeSheet(e){var t=this.sheets.indexOf(e),i;this.sheets.length>1?t>-1&&(this.sheets.splice(t,1),e.destroy(),this.activeSheet===e&&(i=this.sheets[t-1]||this.sheets[0],i?this.loadSheet(i):this.activeSheet=null)):console.warn("Unable to remove sheet, at least one sheet must be active")}lookupSheet(e){return e?e instanceof jl?e:e instanceof sh?e._sheet:this.sheets.find(t=>t.key===e)||!1:this.activeSheet}setSheets(e){return this.loadSheets(e),this.getSheets()}addSheet(e){return this.newSheet(e).getComponent()}getSheetDefinitions(){return this.sheets.map(e=>e.getDefinition())}getSheets(){return this.sheets.map(e=>e.getComponent())}getSheet(e){var t=this.lookupSheet(e);return t?t.getComponent():!1}setSheetData(e,t){e&&!t&&(t=e,e=!1);var i=this.lookupSheet(e);return i?i.setData(t):!1}getSheetData(e){var t=this.lookupSheet(e);return t?t.getData():!1}clearSheet(e){var t=this.lookupSheet(e);return t?t.clear():!1}removeSheetFunc(e){var t=this.lookupSheet(e);t&&this.removeSheet(t)}activeSheetFunc(e){var t=this.lookupSheet(e);return t?this.loadSheet(t):!1}}re(oh,"moduleName","spreadsheet");class ah extends Se{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,t,i){var r=e==="tooltip"?i.column.definition.tooltip:i.definition.headerTooltip;r&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,t,i,r),this.table.options.tooltipDelay))}mouseoutCheck(e,t,i){this.popupInstance||this.clearPopup()}clearPopup(e,t,i){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,t,i){var r,s,o;function a(l){s=l}typeof i=="function"&&(i=i(e,t.getComponent(),a)),i instanceof HTMLElement?r=i:(r=document.createElement("div"),i===!0&&(t instanceof sr?i=t.value:t.definition.field?this.langBind("columns|"+t.definition.field,l=>{r.innerHTML=i=l||t.definition.title}):i=t.definition.title),r.innerHTML=i),(i||i===0||i===!1)&&(r.classList.add("tabulator-tooltip"),r.addEventListener("mousemove",l=>l.preventDefault()),this.popupInstance=this.popup(r),typeof s=="function"&&this.popupInstance.renderCallback(s),o=this.popupInstance.containerEventCoords(e),this.popupInstance.show(o.x+15,o.y+15).hideOnBlur(()=>{this.dispatchExternal("TooltipClosed",t.getComponent()),this.popupInstance=null}),this.dispatchExternal("TooltipOpened",t.getComponent()))}}re(ah,"moduleName","tooltip");var O_={integer:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&Math.floor(e)===e)},float:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:(e=Number(e),!isNaN(e)&&isFinite(e)&&e%1!==0)},numeric:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:!isNaN(e)},string:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:isNaN(e)},alphanumeric:function(n,e,t){if(e===""||e===null||typeof e>"u")return!0;var i=new RegExp(/^[a-z0-9]+$/i);return i.test(e)},max:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)<=t},min:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:parseFloat(e)>=t},starts:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().startsWith(String(t).toLowerCase())},ends:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).toLowerCase().endsWith(String(t).toLowerCase())},minLength:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length>=t},maxLength:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:String(e).length<=t},in:function(n,e,t){return e===""||e===null||typeof e>"u"?!0:(typeof t=="string"&&(t=t.split("|")),t.indexOf(e)>-1)},regex:function(n,e,t){if(e===""||e===null||typeof e>"u")return!0;var i=new RegExp(t);return i.test(e)},unique:function(n,e,t){if(e===""||e===null||typeof e>"u")return!0;var i=!0,r=n.getData(),s=n.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(o){var a=o.getData();a!==r&&e==s.getFieldValue(a)&&(i=!1)}),i},required:function(n,e,t){return e!==""&&e!==null&&typeof e<"u"}};const qn=class qn extends Se{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,t,i){var r=this.table.options.validationMode!=="manual"?this.validate(e.column.modules.validate,e,t):!0;return r!==!0&&setTimeout(()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),t,r)}),r}editorClear(e,t){t&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&t.push(i.getComponent())}),t.length?t:!0}rowValidate(e){var t=[];return e.cells.forEach(i=>{this.cellValidate(i)!==!0&&t.push(i.getComponent())}),t.length?t:!0}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach(t=>{this.clearValidation(t._getSelf())})}userValidate(e){var t=[];return this.table.rowManager.rows.forEach(i=>{i=i.getComponent();var r=i.validate();r!==!0&&(t=t.concat(r))}),t.length?t:!0}initializeColumnCheck(e){typeof e.definition.validator<"u"&&this.initializeColumn(e)}initializeColumn(e){var t=this,i=[],r;e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(s=>{r=t._extractValidator(s),r&&i.push(r)}):(r=this._extractValidator(e.definition.validator),r&&i.push(r)),e.modules.validate=i.length?i:!1)}_extractValidator(e){var t,i,r;switch(typeof e){case"string":return r=e.indexOf(":"),r>-1?(t=e.substring(0,r),i=e.substring(r+1)):t=e,this._buildValidator(t,i);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var i=typeof e=="function"?e:qn.validators[e];return i?{type:typeof e=="function"?"function":e,func:i,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,i){var r=this,s=[],o=this.invalidCells.indexOf(t);return e&&e.forEach(a=>{a.func.call(r,t.getComponent(),i,a.params)||s.push({type:a.type,parameters:a.params})}),t.modules.validate||(t.modules.validate={}),s.length?(t.modules.validate.invalid=s,this.table.options.validationMode!=="manual"&&t.getElement().classList.add("tabulator-validation-fail"),o==-1&&this.invalidCells.push(t)):(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),o>-1&&this.invalidCells.splice(o,1)),s.length?s:!0}getInvalidCells(){var e=[];return this.invalidCells.forEach(t=>{e.push(t.getComponent())}),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,t=this.invalidCells.indexOf(e),t>-1&&this.invalidCells.splice(t,1))}};re(qn,"moduleName","validate"),re(qn,"validators",O_);let zo=qn;var Qs=Object.freeze({__proto__:null,AccessorModule:vo,AjaxModule:Co,ClipboardModule:Eo,ColumnCalcsModule:xo,DataTreeModule:qc,DownloadModule:So,EditModule:_o,ExportModule:Ro,FilterModule:To,FormatModule:Oo,FrozenColumnsModule:Gc,FrozenRowsModule:Uc,GroupRowsModule:Kc,HistoryModule:ko,HtmlTableImportModule:Xc,ImportModule:Mo,InteractionModule:Yc,KeybindingsModule:Lo,MenuModule:Jc,MoveColumnsModule:Zc,MoveRowsModule:Ao,MutatorModule:Do,PageModule:Po,PersistenceModule:Fo,PopupModule:Qc,PrintModule:eh,ReactiveDataModule:th,ResizeColumnsModule:ih,ResizeRowsModule:nh,ResizeTableModule:rh,ResponsiveLayoutModule:No,SelectRangeModule:Or,SelectRowModule:Io,SortModule:$o,SpreadsheetModule:oh,TooltipModule:ah,ValidateModule:zo}),k_={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},rowHeader:!1,data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class lh{constructor(e,t,i={}){this.table=e,this.msgType=t,this.registeredDefaults=Object.assign({},i)}register(e,t){this.registeredDefaults[e]=t}generate(e,t={}){var i=Object.assign({},this.registeredDefaults),r=this.table.options.debugInvalidOptions||t.debugInvalidOptions===!0;Object.assign(i,e);for(let s in t)i.hasOwnProperty(s)||(r&&console.warn("Invalid "+this.msgType+" option:",s),i[s]=t.key);for(let s in i)s in t?i[s]=t[s]:Array.isArray(i[s])?i[s]=Object.assign([],i[s]):typeof i[s]=="object"&&i[s]!==null?i[s]=Object.assign({},i[s]):typeof i[s]>"u"&&delete i[s];return i}}class ds extends et{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,t){}renderRowCells(e){}rerenderRowCells(e,t){}scrollColumns(e,t){}scrollRows(e,t){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,t){var i=e.getElement();t%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,t,i){var r=this.rows().indexOf(e),s=e.getElement(),o=0;return new Promise((a,l)=>{if(r>-1){if(typeof i>"u"&&(i=this.table.options.scrollToRowIfVisible),!i&&He.elVisible(s)&&(o=He.elOffset(s).top-He.elOffset(this.elementVertical).top,o>0&&o<this.elementVertical.clientHeight-s.offsetHeight))return a(),!1;switch(typeof t>"u"&&(t=this.table.options.scrollToRowPosition),t==="nearest"&&(t=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),t){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(s.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-s.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-s.offsetTop)+s.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+s.offsetHeight;break;case"top":this.elementVertical.scrollTop=s.offsetTop;break}a()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")})}}class M_ extends ds{constructor(e){super(e)}renderRowCells(e,t){const i=document.createDocumentFragment();e.cells.forEach(r=>{i.appendChild(r.getElement())}),e.element.appendChild(i),t||e.cells.forEach(r=>{r.cellRendered()})}reinitializeColumnWidths(e){e.forEach(function(t){t.reinitializeWidth()})}}class L_ extends ds{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){this.options("layout")=="fitDataTable"&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,t){this.dataChange()}scrollColumns(e,t){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach(t=>{if(t.visible){var i=t.getWidth();i>e&&(e=i)}}),this.windowBuffer=e*2}rerenderColumns(e,t){var i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},r=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach(s=>{var o={},a;s.visible&&(s.modules.frozen||(a=s.getWidth(),o.leftPos=r,o.rightPos=r+a,o.width=a,this.isFitData&&(o.fitDataCheck=s.modules.vdomHoz?s.modules.vdomHoz.fitDataCheck:!0),r+a>this.vDomScrollPosLeft&&r<this.vDomScrollPosRight?(this.leftCol==-1&&(this.leftCol=this.columns.length,this.vDomPadLeft=r),this.rightCol=this.columns.length):this.leftCol!==-1&&(this.vDomPadRight+=a),this.columns.push(s),s.modules.vdomHoz=o,r+=a))}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||(!e||this.reinitChanged(i))&&this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){if(this.initialized)this.initializeRow(e);else{const t=document.createDocumentFragment();e.cells.forEach(i=>{t.appendChild(i.getElement())}),e.element.appendChild(t),e.cells.forEach(i=>{i.cellRendered()})}}rerenderRowCells(e,t){this.reinitializeRow(e,t)}reinitializeColumnWidths(e){for(let t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e=!1,t,i;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach(r=>{!r.definition.width&&r.visible&&(e=!0)}),e&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,t=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows())[0],t)){i=t.getElement(),t.generateCells(),this.tableElement.appendChild(i);for(let r=0;r<t.cells.length;r++){let s=t.cells[r];i.appendChild(s.getElement()),s.column.reinitializeWidth()}i.parentNode.removeChild(i),this.rerenderColumns(!1,!0)}}else this.options("layout")==="fitColumns"&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var t=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol?!0:(e.cols.forEach((i,r)=>{i!==this.columns[r]&&(t=!1)}),!t)}reinitializeRows(){var e=this.getVisibleRows(),t=this.table.rowManager.getRows().filter(i=>!e.includes(i));e.forEach(i=>{this.reinitializeRow(i,!0)}),t.forEach(i=>{i.deinitialize()})}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,t,i){for(let r=e;r<t;r++){let s=this.columns[r];s.modules.vdomHoz.leftPos+=i,s.modules.vdomHoz.rightPos+=i}}addColRight(){for(var e=!1,t=!0;t;){let i=this.columns[this.rightCol+1];i&&i.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var s=r.getCell(i);r.getElement().insertBefore(s.getElement(),r.getCell(this.columns[this.rightCol]).getElement().nextSibling),s.cellRendered()}}),this.fitDataColActualWidthCheck(i),this.rightCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)}),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=i.getWidth()):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){for(var e=!1,t=!0;t;){let i=this.columns[this.leftCol-1];if(i)if(i.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach(s=>{if(s.type!=="group"){var o=s.getCell(i);s.getElement().insertBefore(o.getElement(),s.getCell(this.columns[this.leftCol]).getElement()),o.cellRendered()}}),this.leftCol--,this.getVisibleRows().forEach(s=>{s.type!=="group"&&(s.modules.vdomHoz.leftCol=this.leftCol)}),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=i.getWidth();let r=this.fitDataColActualWidthCheck(i);r&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+r,this.vDomPadRight-=r)}else t=!1;else t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){for(var e=!1,t=!0;t;){let i=this.columns[this.rightCol];i&&i.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var s=r.getCell(i);try{r.getElement().removeChild(s.getElement())}catch(o){console.warn("Could not removeColRight",o.message)}}}),this.vDomPadRight+=i.getWidth(),this.rightCol--,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.rightCol=this.rightCol)})):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){for(var e=!1,t=!0;t;){let i=this.columns[this.leftCol];i&&i.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach(r=>{if(r.type!=="group"){var s=r.getCell(i);try{r.getElement().removeChild(s.getElement())}catch(o){console.warn("Could not removeColLeft",o.message)}}}),this.vDomPadLeft+=i.getWidth(),this.leftCol++,this.getVisibleRows().forEach(r=>{r.type!=="group"&&(r.modules.vdomHoz.leftCol=this.leftCol)})):t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var t,i;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),t=e.getWidth(),i=t-e.modules.vdomHoz.width,i&&(e.modules.vdomHoz.rightPos+=i,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,i)),e.modules.vdomHoz.fitDataCheck=!1),i}initializeRow(e){if(e.type!=="group"){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach(t=>{this.appendCell(e,t)});for(let t=this.leftCol;t<=this.rightCol;t++)this.appendCell(e,this.columns[t]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach(t=>{this.appendCell(e,t)})}}appendCell(e,t){if(t&&t.visible){let i=e.getCell(t);e.getElement().appendChild(i.getElement()),i.cellRendered()}}reinitializeRow(e,t){if(e.type!=="group"&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var i=e.getElement();i.firstChild;)i.removeChild(i.firstChild);this.initializeRow(e)}}}class A_ extends et{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.rowHeader=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new lh(this.table,"column definition",Wc),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.initializeScrollWheelWatcher(),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,t={virtual:L_,basic:M_};typeof this.table.options.renderHorizontal=="string"?e=t[this.table.options.renderHorizontal]:e=this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}initializeScrollWheelWatcher(){this.contentsElement.addEventListener("wheel",e=>{var t;e.deltaX&&(t=this.contentsElement.scrollLeft+e.deltaX,this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t))})}generateColumnsFromRowData(e){var t=[],i={},r=this.table.options.autoColumns==="full"?e:[e[0]],s=this.table.options.autoColumnsDefinitions;if(e&&e.length){if(r.forEach(o=>{Object.keys(o).forEach((a,l)=>{let u=o[a],h;i[a]?i[a]!==!0&&typeof u<"u"&&(i[a].sorter=this.calculateSorterFromValue(u),i[a]=!0):(h={field:a,title:a,sorter:this.calculateSorterFromValue(u)},t.splice(l,0,h),i[a]=typeof u>"u"?h:!0)})}),s)switch(typeof s){case"function":this.table.options.columns=s.call(this.table,t);break;case"object":Array.isArray(s)?t.forEach(o=>{var a=s.find(l=>l.field===o.field);a&&Object.assign(o,a)}):t.forEach(o=>{s[o.field]&&Object.assign(o,s[o.field])}),this.table.options.columns=t;break}else this.table.options.columns=t;this.setColumns(this.table.options.columns)}}calculateSorterFromValue(e){var t;switch(typeof e){case"undefined":t="string";break;case"boolean":t="boolean";break;case"number":t="number";break;case"object":Array.isArray(e)?t="array":t="string";break;default:!isNaN(e)&&e!==""?t="number":e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?t="alphanum":t="string";break}return t}setColumns(e,t){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),this.dispatchExternal("columnsLoading"),this.table.options.rowHeader&&(this.rowHeader=new Oi(this.table.options.rowHeader===!0?{}:this.table.options.rowHeader,this,!0),this.columns.push(this.rowHeader),this.headersElement.appendChild(this.rowHeader.getElement()),this.rowHeader.columnRendered()),e.forEach((i,r)=>{this._addColumn(i)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.subscribedExternal("columnsLoaded")&&this.dispatchExternal("columnsLoaded",this.getComponents()),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,t,i){var r=new Oi(e,this),s=r.getElement(),o=i&&this.findColumnIndex(i);if(t&&this.rowHeader&&(!i||i===this.rowHeader)&&(t=!1,i=this.rowHeader,o=0),i&&o>-1){var a=i.getTopColumn(),l=this.columns.indexOf(a),u=a.getElement();t?(this.columns.splice(l,0,r),u.parentNode.insertBefore(s,u)):(this.columns.splice(l+1,0,r),u.parentNode.insertBefore(s,u.nextSibling))}else t?(this.columns.unshift(r),this.headersElement.insertBefore(r.getElement(),this.headersElement.firstChild)):(this.columns.push(r),this.headersElement.appendChild(r.getElement()));return r.columnRendered(),r}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach(t=>{t.clearVerticalAlign()}),this.columns.forEach(t=>{var i=t.getHeight();i>e&&(e=i)}),this.headersElement.style.height=e+"px",this.columns.forEach(t=>{t.verticalAlign(this.table.options.columnHeaderVertAlign,e)}),this.table.rowManager.adjustTableSize())}findColumn(e){var t;if(typeof e=="object"){if(e instanceof Oi)return e;if(e instanceof Vc)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return t=[],this.columns.forEach(r=>{t.push(r),t=t.concat(r.getColumns(!0))}),t.find(r=>r.element===e)||!1}else return this.columnsByField[e]||!1;return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var t=[];return Object.keys(this.columnsByField).forEach(i=>{var r=this.table.options.nestedFieldSeparator?i.split(this.table.options.nestedFieldSeparator)[0]:i;r===e&&t.push(this.columnsByField[i])}),t}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex(t=>t.visible);return e>-1?this.columnsByIndex[e]:!1}getVisibleColumnsByIndex(){return this.columnsByIndex.filter(e=>e.visible)}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex(t=>e===t)}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach((t,i)=>{e(t,i)})}getDefinitions(e){var t=[];return this.columnsByIndex.forEach(i=>{(!e||e&&i.visible)&&t.push(i.getDefinition())}),t}getDefinitionTree(){var e=[];return this.columns.forEach(t=>{e.push(t.getDefinition(!0))}),e}getComponents(e){var t=[],i=e?this.columns:this.columnsByIndex;return i.forEach(r=>{t.push(r.getComponent())}),t}getWidth(){var e=0;return this.columnsByIndex.forEach(t=>{t.visible&&(e+=t.getWidth())}),e}moveColumn(e,t,i){t.element.parentNode.insertBefore(e.element,t.element),i&&t.element.parentNode.insertBefore(t.element,e.element),this.moveColumnActual(e,t,i),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,t,i){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,i):this._moveColumnInArray(this.columns,e,t,i),this._moveColumnInArray(this.columnsByIndex,e,t,i,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,t,i),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,t,i,r,s){var o=e.indexOf(t),a,l=[];o>-1&&(e.splice(o,1),a=e.indexOf(i),a>-1?r&&(a=a+1):a=o,e.splice(a,0,t),s&&(l=this.chain("column-moving-rows",[t,i,r],null,[])||[],l=l.concat(this.table.rowManager.rows),l.forEach(function(u){if(u.cells.length){var h=u.cells.splice(o,1)[0];u.cells.splice(a,0,h)}})))}scrollToColumn(e,t,i){var r=0,s=e.getLeftOffset(),o=0,a=e.getElement();return new Promise((l,u)=>{if(typeof t>"u"&&(t=this.table.options.scrollToColumnPosition),typeof i>"u"&&(i=this.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":o=-this.element.clientWidth/2;break;case"right":o=a.clientWidth-this.headersElement.clientWidth;break}if(!i&&s>0&&s+a.offsetWidth<this.element.clientWidth)return!1;r=s+o,r=Math.max(Math.min(r,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(r),this.scrollHorizontal(r),l()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")})}generateCells(e){var t=[];return this.columnsByIndex.forEach(i=>{t.push(i.generateCell(e))}),t}getFlexBaseWidth(){var e=this.table.element.clientWidth,t=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(i){var r,s,o;i.visible&&(r=i.definition.width||0,s=parseInt(i.minWidth),typeof r=="string"?r.indexOf("%")>-1?o=e/100*parseInt(r):o=parseInt(r):o=r,t+=o>s?o:s)}),t}addColumn(e,t,i){return new Promise((r,s)=>{var o=this._addColumn(e,t,i);this._reIndexColumns(),this.dispatch("column-add",e,t,i),this.layoutMode()!="fitColumns"&&o.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),r(o)})}deregisterColumn(e){var t=e.getField(),i;t&&delete this.columnsByField[t],i=this.columnsByIndex.indexOf(e),i>-1&&this.columnsByIndex.splice(i,1),i=this.columns.indexOf(e),i>-1&&this.columns.splice(i,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,t){this.redrawBlock?(e===!1||e===!0&&this.redrawBlockUpdate===null)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,t)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){He.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class D_ extends ds{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,t=!0,i=document.createDocumentFragment(),r=this.rows();r.forEach((s,o)=>{this.styleRow(s,o),s.initialize(!1,!0),s.type!=="group"&&(t=!1),i.appendChild(s.getElement())}),e.appendChild(i),r.forEach(s=>{s.rendered(),s.heightInitialized||s.calcHeight(!0)}),r.forEach(s=>{s.heightInitialized||s.setCellHeight()}),t?e.style.minWidth=this.table.columnManager.getWidth()+"px":e.style.minWidth=""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows(),this.rows().length||this.table.rowManager.tableEmpty()}scrollToRowNearestTop(e){var t=He.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-t)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-t))}scrollToRow(e){var t=e.getElement();this.elementVertical.scrollTop=He.elOffset(t).top-He.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class P_ extends ds{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var t=this.elementVertical.scrollTop,i=!1,r=!1,s=this.table.rowManager.scrollLeft,o=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(o[a]){var l=t-o[a].getElement().offsetTop;if(r===!1||Math.abs(l)<r)r=l,i=a;else break}o.forEach(u=>{u.deinitializeHeight()}),e&&e(),this.rows().length?this._virtualRenderFill(i===!1?this.rows.length-1:i,!0,r||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(s)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,t){var i=e-this.vDomScrollPosTop,r=e-this.vDomScrollPosBottom,s=this.vDomWindowBuffer*2,o=this.rows();if(this.scrollTop=e,-i>s||r>s){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*o.length)),this.scrollColumns(a)}else t?(i<0&&this._addTopRow(o,-i),r<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(o,-r):this.vDomScrollPosBottom=this.scrollTop)):(r>=0&&this._addBottomRow(o,r),i>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(o,i):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var t=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-t)>Math.abs(this.vDomBottom-t))}scrollToRow(e){var t=this.rows().indexOf(e);t>-1&&this._virtualRenderFill(t,!0)}visibleRows(e){var t=this.elementVertical.scrollTop,i=this.elementVertical.clientHeight+t,r=!1,s=0,o=0,a=this.rows();if(e)s=this.vDomTop,o=this.vDomBottom;else for(var l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l])if(r)if(i-a[l].getElement().offsetTop>=0)o=l;else break;else if(t-a[l].getElement().offsetTop>=0)s=l;else if(r=!0,i-a[l].getElement().offsetTop>=0)o=l;else break;return a.slice(s,o+1)}_virtualRenderFill(e,t,i){var r=this.tableElement,s=this.elementVertical,o=0,a=0,l=0,u=0,h=0,d=0,c=this.rows(),f=c.length,v=0,y,b,p=[],m=0,w=0,g=this.table.rowManager.fixedHeight,S=this.elementVertical.clientHeight,R=this.table.options.rowHeight,T=!0;if(e=e||0,i=i||0,!e)this.clear();else{for(;r.firstChild;)r.removeChild(r.firstChild);u=(f-e+1)*this.vDomRowHeight,u<S&&(e-=Math.ceil((S-u)/this.vDomRowHeight),e<0&&(e=0)),o=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=o}if(f&&He.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1,g||this.table.options.maxHeight?(R&&(w=S/R+this.vDomWindowBuffer/R),w=Math.max(this.vDomWindowMinTotalRows,Math.ceil(w))):w=f;(w==f||a<=S+this.vDomWindowBuffer||m<this.vDomWindowMinTotalRows)&&this.vDomBottom<f-1;){for(p=[],b=document.createDocumentFragment(),d=0;d<w&&this.vDomBottom<f-1;)v=this.vDomBottom+1,y=c[v],this.styleRow(y,v),y.initialize(!1,!0),!y.heightInitialized&&!this.table.options.rowHeight&&y.clearCellHeight(),b.appendChild(y.getElement()),p.push(y),this.vDomBottom++,d++;if(!p.length)break;r.appendChild(b),p.forEach(E=>{E.rendered(),E.heightInitialized||E.calcHeight(!0)}),p.forEach(E=>{E.heightInitialized||E.setCellHeight()}),p.forEach(E=>{l=E.getHeight(),m<o?h+=l:a+=l,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=l*2),m++}),T=this.table.rowManager.adjustTableSize(),S=this.elementVertical.clientHeight,T&&(g||this.table.options.maxHeight)&&(R=a/m,w=Math.max(this.vDomWindowMinTotalRows,Math.ceil(S/R+this.vDomWindowBuffer/R)))}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+i:this.scrollTop-h,this.vDomBottomPad=this.vDomBottom==f-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-h,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+h)/m),this.vDomBottomPad=this.vDomRowHeight*(f-this.vDomBottom-1),this.vDomScrollHeight=h+a+this.vDomBottomPad-S),r.style.paddingTop=this.vDomTopPad+"px",r.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+h+i-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-S:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-S),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&t&&(this.scrollTop+=this.elementVertical.offsetHeight-S),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,s.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,t){for(var i=this.tableElement,r=[],s=0,o=this.vDomTop-1,a=0,l=!0;l;)if(this.vDomTop){let u=e[o],h,d;u&&a<this.vDomMaxRenderChain?(h=u.getHeight()||this.vDomRowHeight,d=u.initialized,t>=h?(this.styleRow(u,o),i.insertBefore(u.getElement(),i.firstChild),(!u.initialized||!u.heightInitialized)&&r.push(u),u.initialize(),d||(h=u.getElement().offsetHeight,h>this.vDomWindowBuffer&&(this.vDomWindowBuffer=h*2)),t-=h,s+=h,this.vDomTop--,o--,a++):l=!1):l=!1}else l=!1;for(let u of r)u.clearCellHeight();this._quickNormalizeRowHeight(r),s&&(this.vDomTopPad-=s,this.vDomTopPad<0&&(this.vDomTopPad=o*this.vDomRowHeight),o<1&&(this.vDomTopPad=0),i.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=s)}_removeTopRow(e,t){for(var i=[],r=0,s=0,o=!0;o;){let a=e[this.vDomTop],l;a&&s<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,t>=l?(this.vDomTop++,t-=l,r+=l,i.push(a),s++):o=!1):o=!1}for(let a of i){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}r&&(this.vDomTopPad+=r,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?r:r+this.vDomWindowBuffer)}_addBottomRow(e,t){for(var i=this.tableElement,r=[],s=0,o=this.vDomBottom+1,a=0,l=!0;l;){let u=e[o],h,d;u&&a<this.vDomMaxRenderChain?(h=u.getHeight()||this.vDomRowHeight,d=u.initialized,t>=h?(this.styleRow(u,o),i.appendChild(u.getElement()),(!u.initialized||!u.heightInitialized)&&r.push(u),u.initialize(),d||(h=u.getElement().offsetHeight,h>this.vDomWindowBuffer&&(this.vDomWindowBuffer=h*2)),t-=h,s+=h,this.vDomBottom++,o++,a++):l=!1):l=!1}for(let u of r)u.clearCellHeight();this._quickNormalizeRowHeight(r),s&&(this.vDomBottomPad-=s,(this.vDomBottomPad<0||o==e.length-1)&&(this.vDomBottomPad=0),i.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=s)}_removeBottomRow(e,t){for(var i=[],r=0,s=0,o=!0;o;){let a=e[this.vDomBottom],l;a&&s<this.vDomMaxRenderChain?(l=a.getHeight()||this.vDomRowHeight,t>=l?(this.vDomBottom--,t-=l,r+=l,i.push(a),s++):o=!1):o=!1}for(let a of i){let l=a.getElement();l.parentNode&&l.parentNode.removeChild(l)}r&&(this.vDomBottomPad+=r,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=r)}_quickNormalizeRowHeight(e){for(let t of e)t.calcHeight();for(let t of e)t.setCellHeight()}}class F_ extends et{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(typeof e=="function"&&(e=e.call(this.table)),e=this.chain("placeholder",[e],e,e)||e,e){let t=document.createElement("div");if(t.classList.add("tabulator-placeholder"),typeof e=="string"){let i=document.createElement("div");i.classList.add("tabulator-placeholder-contents"),i.innerHTML=e,t.appendChild(i),this.placeholderContents=i}else typeof HTMLElement<"u"&&e instanceof HTMLElement?(t.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=t}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var e=this.element.scrollLeft,t=this.scrollLeft>e,i=this.element.scrollTop,r=this.scrollTop>i;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,t),this.dispatchExternal("scrollHorizontal",e,t),this._positionPlaceholder()),this.scrollTop!=i&&(this.scrollTop=i,this.renderer.scrollRows(i,r),this.dispatch("scroll-vertical",i,r),this.dispatchExternal("scrollVertical",i,r))})}findRow(e){if(typeof e=="object"){if(e instanceof rt)return e;if(e instanceof cs)return e._getSelf()||!1;if(typeof HTMLElement<"u"&&e instanceof HTMLElement)return this.rows.find(i=>i.getElement()===e)||!1;if(e===null)return!1}else return typeof e>"u"?!1:this.rows.find(i=>i.data[this.table.options.index]==e)||!1;return!1}getRowFromDataObject(e){var t=this.rows.find(i=>i.data===e);return t||!1}getRowFromPosition(e){return this.getDisplayRows().find(t=>t.type==="row"&&t.getPosition()===e&&t.isDisplayed())}scrollToRow(e,t,i){return this.renderer.scrollToRowPosition(e,t,i)}setData(e,t,i){return new Promise((r,s)=>{t&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition(()=>{this._setDataActual(e)}):(this.table.options.autoColumns&&i&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),r()})}_setDataActual(e,t){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((i,r)=>{if(i&&typeof i=="object"){var s=new rt(i,this);this.rows.push(s)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",i)}),this.refreshActiveData(!1,!1,t),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error(`Data Loading Error - Unable to process data due to invalid data type 
Expecting: array 
Received: `,typeof e,`
Data:     `,e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach(e=>{e.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,t){var i=this.rows.indexOf(e),r=this.activeRows.indexOf(e);r>-1&&this.activeRows.splice(r,1),i>-1&&this.rows.splice(i,1),this.setActiveRows(this.activeRows),this.displayRowIterator(s=>{var o=s.indexOf(e);o>-1&&s.splice(o,1)}),t||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,t,i,r){var s=this.addRowActual(e,t,i,r);return s}addRows(e,t,i,r){var s=[];return new Promise((o,a)=>{t=this.findAddRowPos(t),Array.isArray(e)||(e=[e]),(typeof i>"u"&&t||typeof i<"u"&&!t)&&e.reverse(),e.forEach((l,u)=>{var h=this.addRow(l,t,i,!0);s.push(h),this.dispatch("row-added",h,l,t,i)}),this.refreshActiveData(r?"displayPipeline":!1,!1,!0),this.regenerateRowPositions(),this.displayRowsCount&&this._clearPlaceholder(),o(s)})}findAddRowPos(e){return typeof e>"u"&&(e=this.table.options.addRowPos),e==="pos"&&(e=!0),e==="bottom"&&(e=!1),e}addRowActual(e,t,i,r){var s=e instanceof rt?e:new rt(e||{},this),o=this.findAddRowPos(t),a=-1,l,u;return i||(u=this.chain("row-adding-position",[s,o],null,{index:i,top:o}),i=u.index,o=u.top),typeof i<"u"&&(i=this.findRow(i)),i=this.chain("row-adding-index",[s,i,o],null,i),i&&(a=this.rows.indexOf(i)),i&&a>-1?(l=this.activeRows.indexOf(i),this.displayRowIterator(function(h){var d=h.indexOf(i);d>-1&&h.splice(o?d:d+1,0,s)}),l>-1&&this.activeRows.splice(o?l:l+1,0,s),this.rows.splice(o?a:a+1,0,s)):o?(this.displayRowIterator(function(h){h.unshift(s)}),this.activeRows.unshift(s),this.rows.unshift(s)):(this.displayRowIterator(function(h){h.push(s)}),this.activeRows.push(s),this.rows.push(s)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",s.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),r||this.reRenderInPosition(),s}moveRow(e,t,i){this.dispatch("row-move",e,t,i),this.moveRowActual(e,t,i),this.regenerateRowPositions(),this.dispatch("row-moved",e,t,i),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,t,i){this.moveRowInArray(this.rows,e,t,i),this.moveRowInArray(this.activeRows,e,t,i),this.displayRowIterator(r=>{this.moveRowInArray(r,e,t,i)}),this.dispatch("row-moving",e,t,i)}moveRowInArray(e,t,i,r){var s,o,a,l;if(t!==i&&(s=e.indexOf(t),s>-1&&(e.splice(s,1),o=e.indexOf(i),o>-1?r?e.splice(o+1,0,t):e.splice(o,0,t):e.splice(s,0,t)),e===this.getDisplayRows())){a=s<o?s:o,l=o>s?o:s+1;for(let u=a;u<=l;u++)e[u]&&this.styleRow(e[u],u)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var t=this.getDisplayRows().indexOf(e);return t>-1?t:!1}nextDisplayRow(e,t){var i=this.getDisplayRowIndex(e),r=!1;return i!==!1&&i<this.displayRowsCount-1&&(r=this.getDisplayRows()[i+1]),r&&(!(r instanceof rt)||r.type!="row")?this.nextDisplayRow(r,t):r}prevDisplayRow(e,t){var i=this.getDisplayRowIndex(e),r=!1;return i&&(r=this.getDisplayRows()[i-1]),t&&r&&(!(r instanceof rt)||r.type!="row")?this.prevDisplayRow(r,t):r}findRowIndex(e,t){var i;return e=this.findRow(e),e&&(i=t.indexOf(e),i>-1)?i:!1}getData(e,t){var i=[],r=this.getRows(e);return r.forEach(function(s){s.type=="row"&&i.push(s.getData(t||"data"))}),i}getComponents(e){var t=[],i=this.getRows(e);return i.forEach(function(r){t.push(r.getComponent())}),t}getDataCount(e){var t=this.getRows(e);return t.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,t){typeof t<"u"?(this.dataPipeline.push({handler:e,priority:t}),this.dataPipeline.sort((i,r)=>i.priority-r.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,t){typeof t<"u"?(this.displayPipeline.push({handler:e,priority:t}),this.displayPipeline.sort((i,r)=>i.priority-r.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,t,i){var r=this.table,s="",o=0,a=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if(typeof e=="function")if(o=this.dataPipeline.findIndex(l=>l.handler===e),o>-1)s="dataPipeline",t&&(o==this.dataPipeline.length-1?s="display":o++);else if(o=this.displayPipeline.findIndex(l=>l.handler===e),o>-1)s="displayPipeline",t&&(o==this.displayPipeline.length-1?s="end":o++);else{console.error("Unable to refresh data, invalid handler provided",e);return}else s=e||"all",o=0;if(this.redrawBlock){(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===s&&o<this.redrawBlockRestoreConfig.index||a.indexOf(s)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:t,renderInPosition:i,stage:s,index:o});return}else He.elVisible(this.element)?i?this.reRenderInPosition(this.refreshPipelines.bind(this,e,s,o,i)):(this.refreshPipelines(e,s,o,i),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),r.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,s,o,i),this.dispatch("data-refreshed")}}refreshPipelines(e,t,i,r){switch(this.dispatch("data-refreshing"),(!e||!this.activeRowsPipeline[0])&&(this.activeRowsPipeline[0]=this.rows.slice(0)),t){case"all":case"dataPipeline":for(let s=i;s<this.dataPipeline.length;s++){let o=this.dataPipeline[s].handler(this.activeRowsPipeline[s].slice(0));this.activeRowsPipeline[s+1]=o||this.activeRowsPipeline[s].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":i=0,this.resetDisplayRows();case"displayPipeline":for(let s=i;s<this.displayPipeline.length;s++){let o=this.displayPipeline[s].handler((s?this.getDisplayRows(s-1):this.activeRows).slice(0),r);this.setDisplayRows(o||this.getDisplayRows(s-1).slice(0),s)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),t=1;e.forEach(i=>{i.type==="row"&&(i.setPosition(t),t++)})}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,t){this.displayRows[t]=e,t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return typeof e>"u"?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,t){var i=Object.assign([],this.renderer.visibleRows(!t));return e&&(i=this.chain("rows-visible",[t],i,i)),i}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var t=[];switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!1,!0);break;default:t=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return t}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,t={virtual:P_,basic:D_};typeof this.table.options.renderVertical=="string"?e=t[this.table.options.renderVertical]:e=this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),(this.table.element.clientHeight||this.table.options.height)&&!(this.table.options.minHeight&&this.table.options.maxHeight)?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}checkPlaceholder(){this.displayRowsCount?this._clearPlaceholder():this.tableEmpty()}_showPlaceholder(){this.placeholder&&(this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.initializePlaceholder(),this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder(),this.adjustTableSize())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,t){var i=e.getElement();t%2?(i.classList.add("tabulator-row-even"),i.classList.remove("tabulator-row-odd")):(i.classList.add("tabulator-row-odd"),i.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(e){e.normalizeHeight()})}adjustTableSize(){let e=this.element.clientHeight,t,i=!1;if(this.renderer.verticalFillMode==="fill"){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));if(this.fixedHeight){t=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px";const s="calc(100% - "+r+"px)";this.element.style.minHeight=t||"calc(100% - "+r+"px)",this.element.style.height=s,this.element.style.maxHeight=s}else this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop;this.renderer.resize(),!this.fixedHeight&&e!=this.element.clientHeight&&(i=!0,this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}return this._positionPlaceholder(),i}reinitialize(){this.rows.forEach(function(e){e.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(this.scrollLeft))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,this.table.browser==="ie"){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class N_ extends et{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":this.table.options.footerElement[0]==="<"?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){(!this.element.firstChild||e)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class I_ extends et{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach(t=>{e[t]={handler:null,components:[]}}),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach(e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)}),this.pseudoTracking=!0}pseudoMouseEnter(e,t,i){this.pseudoTrackers[e].target!==i&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",t,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,t),this.pseudoTrackers[e].target=i,this.dispatch(e+"-mouseenter",t,i))}pseudoMouseLeave(e,t){var i=Object.keys(this.pseudoTrackers),r={row:["cell"],cell:["row"]};i=i.filter(s=>{var o=r[e];return s!==e&&(!o||o&&!o.includes(s))}),i.forEach(s=>{var o=this.pseudoTrackers[s].target;this.pseudoTrackers[s].target&&(this.dispatch(s+"-mouseleave",t,o),this.pseudoTrackers[s].target=null)})}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),t=Object.values(this.componentMap);for(let i of t)for(let r of e){let s=i+"-"+r;this.subscriptionChange(s,this.subscriptionChanged.bind(this,i,r))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,t,i){var r=this.listeners[t].components,s=r.indexOf(e),o=!1;i?s===-1&&(r.push(e),o=!0):this.subscribed(e+"-"+t)||s>-1&&(r.splice(s,1),o=!0),(t==="mouseenter"||t==="mouseleave")&&!this.pseudoTracking&&this.bindPseudoEvents(),o&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let t=this.listeners[e];t.components.length?t.handler||(t.handler=this.track.bind(this,e),this.el.addEventListener(e,t.handler)):t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}track(e,t){var i=t.composedPath&&t.composedPath()||t.path,r=this.findTargets(i);r=this.bindComponents(e,r),this.triggerEvents(e,t,r),this.pseudoTracking&&(e=="mouseover"||e=="mouseleave")&&!Object.keys(r).length&&this.pseudoMouseLeave("none",t)}findTargets(e){var t={};let i=Object.keys(this.componentMap);for(let r of e){let s=r.classList?[...r.classList]:[];if(s.filter(l=>this.abortClasses.includes(l)).length)break;let a=s.filter(l=>i.includes(l));for(let l of a)t[this.componentMap[l]]||(t[this.componentMap[l]]=r)}return t.group&&t.group===t.row&&delete t.row,t}bindComponents(e,t){var i=Object.keys(t).reverse(),r=this.listeners[e],s={},o={};for(let a of i){let l,u=t[a],h=this.previousTargets[a];if(h&&h.target===u)l=h.component;else switch(a){case"row":case"group":(r.components.includes("row")||r.components.includes("cell")||r.components.includes("group"))&&(l=this.table.rowManager.getVisibleRows(!0).find(c=>c.getElement()===u),t.row&&t.row.parentNode&&t.row.parentNode.closest(".tabulator-row")&&(t[a]=!1));break;case"column":r.components.includes("column")&&(l=this.table.columnManager.findColumn(u));break;case"cell":r.components.includes("cell")&&(s.row instanceof rt?l=s.row.findCell(u):t.row&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}l&&(s[a]=l,o[a]={target:u,component:l})}return this.previousTargets=o,s}triggerEvents(e,t,i){var r=this.listeners[e];for(let s in i)i[s]&&r.components.includes(s)&&this.dispatch(s+"-"+e,t,i[s])}clearWatchers(){for(let e in this.listeners){let t=this.listeners[e];t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}}class $_{constructor(e){this.table=e,this.bindings={}}bind(e,t,i){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][t]?console.warn("Unable to bind component handler, a matching function name is already bound",e,t,i):this.bindings[e][t]=i}handle(e,t,i){if(this.bindings[e]&&this.bindings[e][i]&&typeof this.bindings[e][i].bind=="function")return this.bindings[e][i].bind(null,t);i!=="then"&&typeof i=="string"&&!i.startsWith("_")&&this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+i+" function, have you checked that you have the correct Tabulator module installed?")}}class z_ extends et{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,t,i,r,s,o){var a=++this.requestOrder;if(this.table.destroyed)return Promise.resolve();if(this.dispatchExternal("dataLoading",e),e&&(e.indexOf("{")==0||e.indexOf("[")==0)&&(e=JSON.parse(e)),this.confirm("data-loading",[e,t,i,s])){this.loading=!0,s||this.alertLoader(),t=this.chain("data-params",[e,i,s],t||{},t||{}),t=this.mapParams(t,this.table.options.dataSendParams);var l=this.chain("data-load",[e,t,i,s],!1,Promise.resolve([]));return l.then(u=>{if(this.table.destroyed)console.warn("Data Load Response Blocked - Table has been destroyed");else{!Array.isArray(u)&&typeof u=="object"&&(u=this.mapParams(u,this.objectInvert(this.table.options.dataReceiveParams)));var h=this.chain("data-loaded",[u],null,u);a==this.requestOrder?(this.clearAlert(),h!==!1&&(this.dispatchExternal("dataLoaded",h),this.table.rowManager.setData(h,r,typeof o>"u"?!r:o))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}}).catch(u=>{console.error("Data Load Error: ",u),this.dispatchExternal("dataLoadError",u),s||this.alertError(),setTimeout(()=>{this.clearAlert()},this.table.options.dataLoaderErrorTimeout)}).finally(()=>{this.loading=!1})}else return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,r,typeof o>"u"?!r:o),Promise.resolve()}mapParams(e,t){var i={};for(let r in e)i[t.hasOwnProperty(r)?t[r]:r]=e[r];return i}objectInvert(e){var t={};for(let i in e)t[e[i]]=i;return t}blockActiveLoad(){this.requestOrder++}alertLoader(){var e=typeof this.table.options.dataLoader=="function"?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class B_{constructor(e,t,i){this.table=e,this.events={},this.optionsList=t||{},this.subscriptionNotifiers={},this.dispatch=i?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=i}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var i;if(this.events[e])if(t)if(i=this.events[e].findIndex(r=>r===t),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}else delete this.events[e];else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,t){var i=this.subscriptionNotifiers[e];i&&i.forEach(r=>{r(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift(),i;return this.events[t]&&this.events[t].forEach((r,s)=>{let o=r.apply(this.table,e);s||(i=o)}),i}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="ExternalEvent:"+e[0],(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}}class H_{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t,i=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:t,priority:i}),this.events[e].sort((r,s)=>r.priority-s.priority),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var i;if(this.events[e]){if(t)if(i=this.events[e].findIndex(r=>r.callback===t),i>-1)this.events[e].splice(i,1);else{console.warn("Cannot remove event, no matching event found:",e,t);return}}else{console.warn("Cannot remove event, no events set on:",e);return}this._notifySubscriptionChange(e,!1)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,t,i,r){var s=i;return Array.isArray(t)||(t=[t]),this.subscribed(e)?(this.events[e].forEach((o,a)=>{s=o.callback.apply(this,t.concat([s]))}),s):typeof r=="function"?r():r}_confirm(e,t){var i=!1;return Array.isArray(t)||(t=[t]),this.subscribed(e)&&this.events[e].forEach((r,s)=>{r.callback.apply(this,t)&&(i=!0)}),i}_notifySubscriptionChange(e,t){var i=this.subscriptionNotifiers[e];i&&i.forEach(r=>{r(t)})}_dispatch(){var e=Array.from(arguments),t=e.shift();this.events[t]&&this.events[t].forEach(i=>{i.callback.apply(this,e)})}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(this.debug===!0||this.debug.includes(t))&&console.log(...e),this._confirm(...arguments)}}class j_ extends et{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,t,i){var r="";return typeof this.options(e)<"u"?(r="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",t?(r=r+", Please use the %c"+t+"%c option instead",this._warnUser(r,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;"),i&&(this.table.options[t]=this.table.options[e])):this._warnUser(r,"font-weight: bold;","font-weight: normal;"),!1):!0}checkMsg(e,t){return typeof this.options(e)<"u"?(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+t,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1):!0}msg(e){this._warnUser(e)}}function V_(n,e){e&&this.table.columnManager.renderer.reinitializeColumnWidths(n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Vl(n,e){n.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function W_(n,e){var t=0,i=this.table.rowManager.element.clientWidth,r=0,s=!1;n.forEach((o,a)=>{o.widthFixed||o.reinitializeWidth(),(this.table.options.responsiveLayout?o.modules.responsive.visible:o.visible)&&(s=o),o.visible&&(t+=o.getWidth())}),s?(r=i-t+s.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(s.setWidth(0),this.table.modules.responsiveLayout.update()),r>0?s.setWidth(r):s.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function q_(n,e){var t=this.table.rowManager.element.getBoundingClientRect().width,i=0,r=0,s=0,o=0,a=[],l=[],u=0,h=0,d=0;function c(v){var y;return typeof v=="string"?v.indexOf("%")>-1?y=t/100*parseInt(v):y=parseInt(v):y=v,y}function f(v,y,b,p){var m=[],w=0,g=0,S=0,R=s,T=0,E=0,O=[];function C(_){return b*(_.column.definition.widthGrow||1)}function x(_){return c(_.width)-b*(_.column.definition.widthShrink||0)}return v.forEach(function(_,L){var M=p?x(_):C(_);_.column.minWidth>=M?m.push(_):_.column.maxWidth&&_.column.maxWidth<M?(_.width=_.column.maxWidth,y-=_.column.maxWidth,R-=p?_.column.definition.widthShrink||1:_.column.definition.widthGrow||1,R&&(b=Math.floor(y/R))):(O.push(_),E+=p?_.column.definition.widthShrink||1:_.column.definition.widthGrow||1)}),m.length?(m.forEach(function(_){w+=p?_.width-_.column.minWidth:_.column.minWidth,_.width=_.column.minWidth}),g=y-w,S=E?Math.floor(g/E):g,T=f(O,g,S,p)):(T=E?y-Math.floor(y/E)*E:y,O.forEach(function(_){_.width=p?x(_):C(_)})),T}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(t-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),n.forEach(function(v){var y,b,p;v.visible&&(y=v.definition.width,b=parseInt(v.minWidth),y?(p=c(y),i+=p>b?p:b,v.definition.widthShrink&&(l.push({column:v,width:p>b?p:b}),u+=v.definition.widthShrink)):(a.push({column:v,width:0}),s+=v.definition.widthGrow||1))}),r=t-i,o=Math.floor(r/s),d=f(a,r,o,!1),a.length&&d>0&&(a[a.length-1].width+=d),a.forEach(function(v){r-=v.width}),h=Math.abs(d)+r,h>0&&u&&(d=f(l,h,Math.floor(h/u),!0)),d&&l.length&&(l[l.length-1].width-=d),a.forEach(function(v){v.column.setWidth(v.width)}),l.forEach(function(v){v.column.setWidth(v.width)})}var G_={fitData:V_,fitDataFill:Vl,fitDataTable:Vl,fitDataStretch:W_,fitColumns:q_};const an=class an extends Se{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;an.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode),this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){e.definition.widthGrow&&(e.definition.widthGrow=Number(e.definition.widthGrow)),e.definition.widthShrink&&(e.definition.widthShrink=Number(e.definition.widthShrink))}getMode(){return this.mode}layout(e){this.dispatch("layout-refreshing"),an.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),this.dispatch("layout-refreshed")}};re(an,"moduleName","layout"),re(an,"modes",G_);let Bo=an;var U_={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};const Gn=class Gn extends Se{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=He.deepClone(Gn.langs),this.table.options.columnDefaults.headerFilterPlaceholder!==!1&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let i in t)e[i]&&typeof e[i]=="object"?this._setLangProp(e[i],t[i]):e[i]=t[i]}setLocale(e){e=e||"default";function t(i,r){for(var s in i)typeof i[s]=="object"?(r[s]||(r[s]={}),t(i[s],r[s])):r[s]=i[s]}if(e===!0&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let i=e.split("-")[0];this.langList[i]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,i),e=i):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=He.deepClone(this.langList.default||{}),e!="default"&&t(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,t){var i=t?e+"|"+t:e,r=i.split("|"),s=this._getLangElement(r,this.locale);return s||""}_getLangElement(e,t){var i=this.lang;return e.forEach(function(r){var s;i&&(s=i[r],typeof s<"u"?i=s:i=!1)}),i}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach(t=>{t(this.getText(e),this.lang)})}};re(Gn,"moduleName","localize"),re(Gn,"langs",U_);let Ho=Gn;class uh extends Se{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t=[],i;return i=this.table.constructor.registry.lookupTable(e),i.forEach(r=>{this.table!==r&&t.push(r)}),t}send(e,t,i,r){var s=this.getConnections(e);s.forEach(o=>{o.tableComms(this.table.element,t,i,r)}),!s.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,i,r){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,i,r);console.warn("Inter-table Comms Error - no such module:",t)}}re(uh,"moduleName","comms");var K_=Object.freeze({__proto__:null,CommsModule:uh,LayoutModule:Bo,LocalizeModule:Ho});const ft=class ft{static findTable(e){var t=ft.registry.lookupTable(e,!0);return Array.isArray(t)&&!t.length?!1:t}};re(ft,"registry",{tables:[],register(e){ft.registry.tables.push(e)},deregister(e){var t=ft.registry.tables.indexOf(e);t>-1&&ft.registry.tables.splice(t,1)},lookupTable(e,t){var i=[],r,s;if(typeof e=="string"){if(r=document.querySelectorAll(e),r.length)for(var o=0;o<r.length;o++)s=ft.registry.matchElement(r[o]),s&&i.push(s)}else typeof HTMLElement<"u"&&e instanceof HTMLElement||e instanceof ft?(s=ft.registry.matchElement(e),s&&i.push(s)):Array.isArray(e)?e.forEach(function(a){i=i.concat(ft.registry.lookupTable(a))}):t||console.warn("Table Connection Error - Invalid Selector",e);return i},matchElement(e){return ft.registry.tables.find(function(t){return e instanceof ft?t===e:t.element===e})}});let jo=ft;const Ae=class Ae extends jo{constructor(){super()}static initializeModuleBinder(e){Ae.modulesRegistered||(Ae.modulesRegistered=!0,Ae._registerModules(K_,!0),e&&Ae._registerModules(e))}static _extendModule(e,t,i){if(Ae.moduleBindings[e]){var r=Ae.moduleBindings[e][t];if(r)if(typeof i=="object")for(let s in i)r[s]=i[s];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)}static _registerModules(e,t){var i=Object.values(e);t&&i.forEach(r=>{r.prototype.moduleCore=!0}),Ae._registerModule(i)}static _registerModule(e){Array.isArray(e)||(e=[e]),e.forEach(t=>{Ae._registerModuleBinding(t),Ae._registerModuleExtensions(t)})}static _registerModuleBinding(e){e.moduleName?Ae.moduleBindings[e.moduleName]=e:console.error("Unable to bind module, no moduleName defined",e.moduleName)}static _registerModuleExtensions(e){var t=e.moduleExtensions;if(e.moduleExtensions)for(let i in t){let r=t[i];if(Ae.moduleBindings[i])for(let s in r)Ae._extendModule(i,s,r[s]);else{Ae.moduleExtensions[i]||(Ae.moduleExtensions[i]={});for(let s in r)Ae.moduleExtensions[i][s]||(Ae.moduleExtensions[i][s]={}),Object.assign(Ae.moduleExtensions[i][s],r[s])}}Ae._extendModuleFromQueue(e)}static _extendModuleFromQueue(e){var t=Ae.moduleExtensions[e.moduleName];if(t)for(let i in t)Ae._extendModule(e.moduleName,i,t[i])}_bindModules(){var e=[],t=[],i=[];this.modules={};for(var r in Ae.moduleBindings){let s=Ae.moduleBindings[r],o=new s(this);this.modules[r]=o,s.prototype.moduleCore?this.modulesCore.push(o):s.moduleInitOrder?s.moduleInitOrder<0?e.push(o):t.push(o):i.push(o)}e.sort((s,o)=>s.moduleInitOrder>o.moduleInitOrder?1:-1),t.sort((s,o)=>s.moduleInitOrder>o.moduleInitOrder?1:-1),this.modulesRegular=e.concat(i.concat(t))}};re(Ae,"moduleBindings",{}),re(Ae,"moduleExtensions",{}),re(Ae,"modulesRegistered",!1),re(Ae,"defaultModules",!1);let Vo=Ae;class X_ extends et{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,t="msg"){if(e){for(this.clear(),this.dispatch("alert-show",t),this.type=t;this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),typeof e=="function"&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.dispatch("alert-hide",this.type),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}const Gt=class Gt extends Vo{static extendModule(){Gt.initializeModuleBinder(),Gt._extendModule(...arguments)}static registerModule(){Gt.initializeModuleBinder(),Gt._registerModule(...arguments)}constructor(e,t,i){super(),Gt.initializeModuleBinder(i),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new $_(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new j_(this),this.optionsList=new lh(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout(()=>{this._create()})),this.constructor.registry.register(this)}initializeElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement?(this.element=e,!0):typeof e=="string"?(this.element=document.querySelector(e),this.element?!0:(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new A_(this),this.rowManager=new F_(this),this.footerManager=new N_(this),this.dataLoader=new z_(this),this.alertManager=new X_(this),this._bindModules(),this.options=this.optionsList.generate(Gt.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new B_(this,this.options,this.options.debugEventsExternal),this.eventBus=new H_(this.options.debugEventsInternal),this.interactionMonitor=new I_(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this.initialized=!0,this._loadInitialData().finally(()=>{this.eventBus.dispatch("table-initialized"),this.externalEvents.dispatch("tableBuilt")})}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if(e.direction!=="rtl")break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e=this.element,t=this.options,i;if(e.tagName==="TABLE"){this.originalElement=this.element,i=document.createElement("div");var r=e.attributes;for(var s in r)typeof r[s]=="object"&&i.setAttribute(r[s].name,r[s].value);e.parentNode.replaceChild(i,e),this.element=e=i}for(e.classList.add("tabulator"),e.setAttribute("role","grid");e.firstChild;)e.removeChild(e.firstChild);t.height&&(t.height=isNaN(t.height)?t.height:t.height+"px",e.style.height=t.height),t.minHeight!==!1&&(t.minHeight=isNaN(t.minHeight)?t.minHeight:t.minHeight+"px",e.style.minHeight=t.minHeight),t.maxHeight!==!1&&(t.maxHeight=isNaN(t.maxHeight)?t.maxHeight:t.maxHeight+"px",e.style.maxHeight=t.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach(i=>{i.initialize()}),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach(i=>{i.initialize()}),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){return this.dataLoader.load(this.options.data).finally(()=>{this.columnManager.verticalAlignHeaders()})}destroy(){var e=this.element;for(this.destroyed=!0,this.constructor.registry.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,t){var i,r;return this.options.debugInitialization&&!this.initialized&&(e||(i=new Error().stack.split(`
`),r=i[0]=="Error"?i[2]:i[1],r[0]==" "?e=r.trim().split(" ")[1].split(".")[1]:e=r.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(t?" "+t:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,t,i){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,t,i,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,i){return this.initGuard(),this.dataLoader.load(e,t,i,!0,!0)}updateData(e){var t=0;return this.initGuard(),new Promise((i,r)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(s=>{var o=this.rowManager.findRow(s[this.options.index]);o?(t++,o.updateData(s).then(()=>{t--,t||i()}).catch(a=>{r("Update Error - Unable to update row",s,a)})):r("Update Error - Unable to find row",s)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})}addData(e,t,i){return this.initGuard(),new Promise((r,s)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,i).then(o=>{var a=[];o.forEach(function(l){a.push(l.getComponent())}),r(a)}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}updateOrAddData(e){var t=[],i=0;return this.initGuard(),new Promise((r,s)=>{this.dataLoader.blockActiveLoad(),typeof e=="string"&&(e=JSON.parse(e)),e&&e.length>0?e.forEach(o=>{var a=this.rowManager.findRow(o[this.options.index]);i++,a?a.updateData(o).then(()=>{i--,t.push(a.getComponent()),i||r(t)}):this.rowManager.addRows(o).then(l=>{i--,t.push(l[0].getComponent()),i||r(t)})}):(console.warn("Update Error - No data provided"),s("Update Error - No data provided"))})}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var t=this.rowManager.getRowFromPosition(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let i of e){let r=this.rowManager.findRow(i,!0);if(r)t.push(r);else return console.error("Delete Error - No matching row found:",i),Promise.reject("Delete Error - No matching row found")}return t.sort((i,r)=>this.rowManager.rows.indexOf(i)>this.rowManager.rows.indexOf(r)?1:-1),t.forEach(i=>{i.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,i){return this.initGuard(),typeof e=="string"&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,i,!0).then(r=>r[0].getComponent())}updateOrAddRow(e,t){var i=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),i?i.updateData(t).then(()=>i.getComponent()):this.rowManager.addRows(t).then(r=>r[0].getComponent())}updateRow(e,t){var i=this.rowManager.findRow(e);return this.initGuard(),typeof t=="string"&&(t=JSON.parse(t)),i?i.updateData(t).then(()=>Promise.resolve(i.getComponent())):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,i){var r=this.rowManager.findRow(e);return r?this.rowManager.scrollToRow(r,t,i):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,i){var r=this.rowManager.findRow(e);this.initGuard(),r?r.moveToRow(t,i):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var t=this.rowManager.findRow(e);return t?t.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.show();else return console.warn("Column Show Error - No matching column found:",e),!1}hideColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.hide();else return console.warn("Column Hide Error - No matching column found:",e),!1}toggleColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),t)t.visible?t.hide():t.show();else return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1}addColumn(e,t,i){var r=this.columnManager.findColumn(i);return this.initGuard(),this.columnManager.addColumn(e,t,r).then(s=>s.getComponent())}deleteColumn(e){var t=this.columnManager.findColumn(e);return this.initGuard(),t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var i=this.columnManager.findColumn(e);return this.initGuard(),i?i.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,i){var r=this.columnManager.findColumn(e),s=this.columnManager.findColumn(t);this.initGuard(),r?s?this.columnManager.moveColumn(r,s,i):console.warn("Move Error - No matching column found:",s):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,i){return new Promise((r,s)=>{var o=this.columnManager.findColumn(e);return o?this.columnManager.scrollToColumn(o,t,i):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))})}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw(!0)}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,t){this.initGuard(),this.alertManager.alert(e,t)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,t){return this.modules[e]?!0:(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}};re(Gt,"defaultOptions",k_);let Wo=Gt;var Nn=Wo;class Y_ extends Nn{static extendModule(){Nn.initializeModuleBinder(Qs),Nn._extendModule(...arguments)}static registerModule(){Nn.initializeModuleBinder(Qs),Nn._registerModule(...arguments)}constructor(e,t,i){super(e,t,Qs)}}var kr=Y_;class ch extends Se{constructor(t){super(t);re(this,"table");re(this,"activeRow");this.table=t;const i=this;i.registerTableOption("multiSelect",!0),i.registerTableOption("selectionMode",!1),i.registerTableFunction("getFirstRow",this.getFirstRow.bind(this)),i.registerTableFunction("getLastRow",this.getLastRow.bind(this)),i.registerTableFunction("setActiveRow",this.setActiveRow.bind(this)),i.registerTableFunction("setActiveRowByKey",this.setActiveRowByKey.bind(this)),i.registerTableFunction("getActiveRowKey",this.getActiveRowKey.bind(this)),i.registerTableFunction("getActiveRow",this.getActiveRow.bind(this)),i.registerTableFunction("getActiveRowData",this.getActiveRowData.bind(this)),i.registerTableFunction("setTableBodyFocus",this.setTableBodyFocus.bind(this)),i.registerComponentFunction("row","isActive",this.isRowActive.bind(this)),i.registerComponentFunction("row","setActive",this.setRowActive.bind(this))}initialize(){const t=this;t.subscribe("row-click",this.rowClickHandler.bind(this)),this.bindEvents(),t.subscribe("table-destroy",this.unbindEvents.bind(this))}rowClickHandler(t,i){const r=this.table.options;if(r.selectionMode)return;const s=i.getComponent();if(s){if(!r.multiSelect||!t.ctrlKey&&!t.shiftKey){t.preventDefault(),this.setActiveRow(s,!0,"nearest");return}if(t.ctrlKey&&!t.shiftKey)if(t.preventDefault(),s===this.getActiveRow()){const o=this.findNewActiveRowInSelection(s);s.deselect(),this.setActiveRow(o,!1)}else s.isSelected()?s.deselect():this.setActiveRow(s,!1);else if(!t.ctrlKey&&t.shiftKey){t.preventDefault();const o=this.getActiveRow();o&&this.selectRowsFromTo(o,s,"select"),this.setActiveRow(s,!1)}}}setActiveRow(t,i,r){var a,l,u,h;const s=this,o=this.activeRow;this.activeRow=t||void 0,o!==this.activeRow&&((i||!t)&&this.table.deselectRow(),o==null||o.reformat(),t!==!1&&(t==null||t.reformat(),t==null||t.select(),(l=(a=t==null?void 0:t.getElement())==null?void 0:a.classList)==null||l.add("tabulator-active")),(h=(u=o==null?void 0:o.getElement())==null?void 0:u.classList)==null||h.remove("tabulator-active"),s.dispatchExternal("activeRowChanged",t)),r&&t&&!t.isFrozen()&&this.table.scrollToRow(t,r,!1).then()}setActiveRowByKey(t,i,r){const s=t?this.table.getRow(t):void 0;this.setActiveRow(s,i,r)}getActiveRowKey(){var t;return(t=this.activeRow)==null?void 0:t.getIndex()}getActiveRow(){return this.activeRow}getActiveRowData(){var t;return(t=this.getActiveRow())==null?void 0:t.getData()}isRowActive(t){return t===this.activeRow}setRowActive(t,i,r){this.setActiveRow(t,i,r)}getFirstRow(){const t=this.table.getRows("active");if(!(!t||t.length===0)){for(const i of t)if(!i.isFrozen())return i}}getLastRow(){const t=this.table.getRows("active");if(!(!t||t.length===0))return t[t.length-1]}getNextPageRow(t){if(!t)return this.getFirstRow();let i=this.table.rowManager.element.clientHeight-t._row.getHeight(),r=t,s=t;for(;i>0&&r&&(r=r.getNextRow(),!!r);)i=i-r._row.getHeight(),s=r;return s}getPrevPageRow(t){if(!t)return this.getFirstRow();let i=this.table.rowManager.element.clientHeight-t._row.getHeight(),r=t,s=t;for(;i>0&&r&&(r=r.getPrevRow(),!!r);)i=i-r._row.getHeight(),s=r;return s}findNewActiveRowInSelection(t){const i=this.table.getSelectedRows();if(i.length===1)return;let r,s=!1;for(const o of i){if(o===t){s=!0;continue}if(r=o,s&&r)break}return r}selectRowsFromTo(t,i,r){if(r=r??"select",!t||!i)return;if(t===i){t.select();return}const s=this.table.getRows("active");this.recursiveSelectNode(t,i,s,void 0,r,this.table.options.dataTree)}recursiveSelectNode(t,i,r,s,o,a){for(const l of r){if((l===t||l===i)&&(typeof s>"u"?s=!0:(this.selectNode(l,o),s=!1)),s&&this.selectNode(l,o),s===!1)return!1;a&&(s=this.recursiveSelectNode(t,i,l.getTreeChildren(),s,o,a))}return s}selectNode(t,i){i==="select"||i==="invert"&&!t.isSelected()?t.select():(i==="deselect"||i==="invert"&&t.isSelected())&&t.deselect()}bindEvents(){this.table.element.addEventListener("keydown",this.onKeyDownHandler.bind(this)),this.table.element.addEventListener("keyup",this.onKeyUpHandler.bind(this))}unbindEvents(){this.table.element.removeEventListener("keydown",this.onKeyDownHandler.bind(this)),this.table.element.removeEventListener("keyup",this.onKeyUpHandler.bind(this))}onKeyDownHandler(t){if(this.table.options.selectionMode)return;switch(this.dispatchExternal("keyDown",t),t.key){case"Shift":return this.onShiftKeyDown();case"ArrowUp":return this.onKeyPressArrowUp(t);case"ArrowDown":return this.onKeyPressArrowDown(t);case"ArrowRight":return this.onKeyPressArrowRight(t);case"ArrowLeft":return this.onKeyPressArrowLeft(t);case"PageDown":return this.onKeyPressPageDown(t);case"PageUp":return this.onKeyPressPageUp(t);case"Home":return this.onKeyPressHome(t);case"End":return this.onKeyPressEnd(t);case"a":case"A":case"ф":case"Ф":return this.onKeyPressA(t)}}onKeyUpHandler(t){if(this.table.options.selectionMode)return;this.dispatchExternal("keyUp",t),t.key==="Shift"&&this.onShiftKeyUp()}onKeyPressArrowUp(t){if(t.ctrlKey){this.onKeyPressHome(t);return}t.preventDefault(),t.stopPropagation();let i;const r=this.getActiveRow();r?i=r.getPrevRow()||this.getFirstRow():i=this.getFirstRow(),!this.table.options.multiSelect||!t.shiftKey?this.setActiveRow(i,!0,"top"):(r!==i&&(i!=null&&i.isSelected())&&(r==null||r.deselect()),this.setActiveRow(i,!1,"top"))}onKeyPressArrowDown(t){if(t.ctrlKey){this.onKeyPressEnd(t);return}t.preventDefault(),t.stopPropagation();let i;const r=this.getActiveRow();r?i=r.getNextRow()||this.getLastRow():i=this.getFirstRow(),!this.table.options.multiSelect||!t.shiftKey?this.setActiveRow(i,!0,"bottom"):(r!==i&&(i!=null&&i.isSelected())&&(r==null||r.deselect()),this.setActiveRow(i,!1,"bottom"))}onKeyPressArrowLeft(t){if(!this.table.options.dataTree)return;t.preventDefault(),t.stopPropagation();const i=this.getActiveRow();i&&i.isTreeExpanded()&&i.treeCollapse()}onKeyPressArrowRight(t){if(!this.table.options.dataTree)return;t.preventDefault(),t.stopPropagation();const i=this.getActiveRow();i&&(i.isTreeExpanded()||i==null||i.treeExpand())}onKeyPressPageDown(t){t.preventDefault(),t.stopPropagation();const i=this.getActiveRow()??this.getLastRow(),r=this.getNextPageRow(i);!this.table.options.multiSelect||!t.shiftKey?this.setActiveRow(r,!0,"bottom"):(this.selectRowsFromTo(i,r,"select"),this.setActiveRow(r,!1,"bottom"))}onKeyPressPageUp(t){t.preventDefault(),t.stopPropagation();const i=this.getActiveRow()??this.getFirstRow(),r=this.getPrevPageRow(i);!this.table.options.multiSelect||!t.shiftKey?this.setActiveRow(r,!0,"top"):(this.selectRowsFromTo(i,r,"select"),this.setActiveRow(r,!1,"top"))}onKeyPressHome(t){t.preventDefault(),t.stopPropagation();const i=this.getActiveRow()??this.getFirstRow(),r=this.getFirstRow();!this.table.options.multiSelect||!t.shiftKey?this.setActiveRow(r,!0,"top"):(this.selectRowsFromTo(i,r,"select"),this.setActiveRow(r,!1,"top"))}onKeyPressEnd(t){t.preventDefault(),t.stopPropagation();const i=this.getActiveRow()??this.getLastRow(),r=this.getLastRow();!this.table.options.multiSelect||!t.shiftKey?this.setActiveRow(r,!0,"bottom"):(this.selectRowsFromTo(i,r,"select"),this.setActiveRow(r,!1,"bottom"))}onKeyPressA(t){!this.table.options.multiSelect||!t.ctrlKey||(t.preventDefault(),t.stopPropagation(),this.selectRowsFromTo(this.getFirstRow(),this.getLastRow(),"select"))}onShiftKeyDown(){this.table.element.style.userSelect="none"}onShiftKeyUp(){this.table.element.style.userSelect="initial"}setTableBodyFocus(){const t=this.table.element.querySelector(".tabulator-tableholder");t&&setTimeout(()=>{t.focus({preventScroll:!0})},300)}}re(ch,"moduleName","activeSelection");class hh extends Se{constructor(t){super(t);re(this,"table");re(this,"headerFilterStatus",!1);re(this,"curHeaderFilterValues",{});re(this,"filteredCacheMap",{});re(this,"lastFilteredField");this.table=t;const i=this;i.registerTableOption("dataTreeParentField",void 0),i.registerTableOption("showHeaderFilter",void 0),i.registerTableFunction("getBaseTreeDataFilter",this.getBaseTreeDataFilter.bind(this)),i.registerTableFunction("toggleHeaderFilter",this.toggleHeaderFilter.bind(this)),i.registerTableFunction("isHeaderFilterVisible",this.isHeaderFilterVisible.bind(this)),i.registerTableFunction("isHeaderFilterAvailable",this.isHeaderFilterAvailable.bind(this))}initialize(){if(this.subscribe("filter-changed",this.onFilterChanged.bind(this)),this.table.options.dataTree){const i=this.wrapDefaultFilters();kr.extendModule("filter","filters",i)}this.table.on("tableBuilt",this.onTableBuiltHandler.bind(this))}onTableBuiltHandler(){this.table.options.dataTree&&this.wrapUserFilters(),this.table.options.showHeaderFilter?this.headerFilterStatus=!0:this.toggleHeaderFilter(!1,!0)}wrapDefaultFilters(){const t={};for(const i in Wl)t[i]=this.getBaseTreeDataFilter(Wl[i]);return t}wrapUserFilters(){var i;const t=this.table.modules.filter.headerFilterColumns;for(const r of t)typeof((i=r.definition)==null?void 0:i.headerFilterFunc)=="function"&&(r.definition.headerFilterFunc=this.getBaseTreeDataFilter(r.definition.headerFilterFunc))}getBaseTreeDataFilter(t){if(!t)return;const i=(r,s,o,a,l)=>{const u=this.getFilterFieldName(r,s,o,a),h=this.table.options.index??"id",d=this.table.options.dataTreeChildField??"children";if(l===!0){this.setFilterCache(u,o[h],!0);for(const f of o[d]||[])i(r,f[u],f,a,!0);return!0}if(this.getFilterCache(u,o[h]))return!0;if(t(r,s,o,a)){this.setFilterCache(u,o[h],!0);for(const f of o[d]||[])i(r,f[u],f,a,!0);return!0}let c=!1;for(const f of o[d]||[])i(r,f[u],f,a)&&(c=!0);return c?(this.setFilterCache(u,o[h],!0),!0):!1};return i}getFilterFieldName(t,i,r,s){if(s!=null&&s.fieldName)return s==null?void 0:s.fieldName;const o=this.table.getHeaderFilters();for(const a of o)if(t===a.value&&i===r[a.field])return a.field;return this.getLastFilterField()}getFilterCache(t,i){var r;return(r=this.filteredCacheMap[t])==null?void 0:r[i]}setFilterCache(t,i,r){let s=this.filteredCacheMap[t];s||(s={},this.filteredCacheMap[t]=s),s[i]=r}onFilterChanged(){const t=this.table.getHeaderFilters(),i={};for(const r of t)this.curHeaderFilterValues[r.field]!==r.value&&(this.filteredCacheMap[r.field]={},this.lastFilteredField=r.field),i[r.field]=r.value;this.curHeaderFilterValues=i}getLastFilterField(){return this.lastFilteredField??""}toggleHeaderFilter(t,i){var s;!t&&!i&&((s=this.table.getData())!=null&&s.length)&&this.table.clearHeaderFilter();const r=this.table.element.querySelectorAll(".tabulator-header-filter");return r?(typeof t>"u"&&(t=!this.headerFilterStatus),this.headerFilterStatus=t,r.forEach(o=>{o.style.display=t?"block":"none"}),this.table.columnManager.verticalAlignHeaders(),this.table.rowManager.adjustTableSize(),this.headerFilterStatus):this.headerFilterStatus}parseHeight(t){const i=t.split("-");if(!i[1])return 0;const r=parseInt(i[1].trim(),10);return isNaN(r)?0:r}isHeaderFilterVisible(){return this.isHeaderFilterAvailable()?this.headerFilterStatus:!1}isHeaderFilterAvailable(){return this.table.columnManager.columns.filter(i=>{var r;return!!((r=i==null?void 0:i.definition)!=null&&r.headerFilter)}).length>0}}re(hh,"moduleName","advancedHeaderFilter");const Wl={"=":function(n,e){return e==n},"<":function(n,e){return e<n},"<=":function(n,e){return e<=n},">":function(n,e){return e>n},">=":function(n,e){return e>=n},"!=":function(n,e){return e!=n},regex:function(n,e){return typeof n=="string"&&(n=new RegExp(n)),n.test(e)},like:function(n,e){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().indexOf(n.toLowerCase())>-1:!1},keywords:function(n,e,t,i){var a;const r=n.toLowerCase().split(typeof i.separator>"u"?" ":(a=i.separator)==null?void 0:a.toString()),s=String(e===null||typeof e>"u"?"":e).toLowerCase(),o=[];return r.forEach(l=>{s.includes(l)&&o.push(!0)}),i.matchAll?o.length===r.length:!!o.length},starts:function(n,e){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().startsWith(n.toLowerCase()):!1},ends:function(n,e){return n===null||typeof n>"u"?e===n:typeof e<"u"&&e!==null?String(e).toLowerCase().endsWith(n.toLowerCase()):!1},in:function(n,e){return Array.isArray(n)?n.length?n.indexOf(e)>-1:!0:(console.warn("Filter Error - filter value is not an array:",n),!1)}},J_='<button type="button" class="tree-row-button expand-button" aria-label="Expand row" aria-expanded="false">+</button>',Z_='<button type="button" class="tree-row-button collapse-button" aria-label="Expand row" aria-expanded="false">-</button>';let dh;const Q_=n=>{dh=n.rowManager.findRow,n.rowManager.findRow=eR},eR=function(n){return!this.table.options.dataTree||typeof n>"u"||typeof n=="object"?dh.call(this,n):fh(this.table,this.rows,n)},fh=(n,e,t)=>{let i;for(const r of e){const s=tR(r)==="rowComponent"?r:r.getComponent();if(s.getData()[n.options.index]===t)return s._getSelf();const o=s.getTreeChildren();if(o&&o.length>0&&(i=fh(n,o,t),i))return i}return!1},tR=n=>{var e,t;if(n){if(((t=(e=n._getSelf)==null?void 0:e.call(n))==null?void 0:t.type)==="row")return"rowComponent";if(n.type==="row")return"row"}},iR=n=>{n.dataLoader.alertError=nR},nR=function(){this.table.options.dataLoader&&this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")},rR=n=>{n.modules.ajax.requestDataCheck=sR},sR=function(n){return Array.isArray(n)&&n.length>0?!1:!!(!n&&this.url||typeof n=="string"||this.table.options.ajaxRequestFunc)},oR=n=>{Q_(n),iR(n),rR(n)},aR=n=>(N.useEffect(()=>{var e;(e=n.onEffect)==null||e.call(n)},[n]),se.jsx(se.Fragment,{children:n.children})),lR=({props:n,events:e,containerRef:t,tableRef:i,onTableRef:r})=>{Ee.useEffect(()=>(uR({props:n,events:e,containerRef:t,tableRef:i,onTableRef:r}).then(),()=>{var s,o;for(const a in e){const l=e[a];(s=i.current)==null||s.off(a,l)}(o=i.current)==null||o.destroy()}),[n,r,t,i,e])},uR=async({props:n,events:e,containerRef:t,tableRef:i,onTableRef:r})=>{const s=t.current,o=await cR(n);await dR(s,i,r,o,n,e)},ph=async(n,e)=>new Promise(t=>{$d(e).render(se.jsx(aR,{onEffect:()=>{t(e)},children:n}))}),cR=async n=>{const e={...n},t=await hR(n);if(typeof n.footerElement=="object"){const i=await ph(n.footerElement,document.createElement("div"));e.footerElement=i.innerHTML}return e.columnDefaults=n.columnDefaults??{},e.data=n.data??[],n.persistence&&!n.id&&!n.persistenceID&&so()&&console.warn("For Tabulator persistence to work correctly, you must specify an ID or persistenceID"),n.dataTreeChildField||(e.dataTreeChildField="children"),n.dataTreeParentField||(e.dataTreeParentField="parent"),n.dataTreeChildIndent||(e.dataTreeChildIndent=22),e.dataTreeBranchElement=!1,n.selectionMode?(e.selectableRows=n.multiSelect===!1?1:!0,e.columns=[{title:"",formatter:"rowSelection",titleFormatter:"rowSelection",titleFormatterParams:{rowRange:"active"},hozAlign:"center",headerSort:!1,width:35},...t]):(e.selectableRows=!1,e.columns=t),e.selectableRowsRangeMode=void 0,e.dataTreeCollapseElement=n.dataTreeCollapseElement??Z_,e.dataTreeExpandElement=n.dataTreeExpandElement??J_,e.keybindings={navUp:!1,navDown:!1,scrollPageUp:!1,scrollPageDown:!1,scrollToStart:!1,scrollToEnd:!1},e},hR=async n=>{if(!n.columns)return;const e=async t=>{var r;const i=[];for(const s of t){const o={...s};if(s.visible!==!1&&(o.visible=!0),Ee.isValidElement(o.headerPopup)){const a=await ph(o.headerPopup,document.createElement("div"));o.headerPopup=a.innerHTML}(r=o.columns)!=null&&r.length&&(o.columns=await e(o.columns)),i.push(o)}return i};return await e(n.columns)},dR=async(n,e,t,i,r,s)=>(kr.registerModule(ch),kr.registerModule(hh),new Promise(o=>{const a=new kr(n,i);e.current=a,t==null||t(e),oR(a),s||(s={});for(const l in s){const u=s[l];u&&(a==null||a.on(l,u))}a==null||a.on("tableBuilt",()=>{o(a)})})),{useToken:fR}=Gr,pR=xc`
  .tabulator {
    color: ${n=>n.colorText};
    background-color: ${n=>n.colorBgContainer};
    border-color: ${n=>n.colorBorder};
    border-style: solid;
    border-width: thin;
    border-radius: ${n=>n.borderRadius}px;

    .tabulator-header {
      //background-color: transparent;
      background-color: ${n=>n.colorBgLayout};
      border-bottom-color: ${n=>n.colorBorder};

      /** left frozen column header border */

      .tabulator-calcs-holder {
        border: 0;
        border-top: 1px solid ${n=>n.colorBorder};
        background-color: ${n=>n.colorBgLayout} !important;

        .tabulator-calcs-top {
          color: ${n=>n.colorText};
          background-color: ${n=>n.colorBgLayout} !important;
          border: 0;

          .tabulator-cell {
            border-right: 1px solid ${n=>n.colorBorder};
          }
        }

        .tabulator-frozen.tabulator-frozen-left {
          border-right: 2px solid ${n=>n.colorBorder};
        }

        .tabulator-frozen.tabulator-frozen-right {
          border-left: 2px solid ${n=>n.colorBorder};
        }
      }

      .tabulator-col-resize-handle {
        transition: background-color 0.5s ease;

        &:hover {
          background-color: ${n=>n.colorPrimaryHover};
        }
      }

      .tabulator-col {
        background-color: ${n=>n.colorBgLayout};
        border-right-color: ${n=>n.colorBorder};

        &.tabulator-frozen.tabulator-frozen-left {
          border-right: 2px solid ${n=>n.colorBorder};
        }

        &.tabulator-frozen.tabulator-frozen-right {
          border-left: 2px solid ${n=>n.colorBorder};
        }

        &.tabulator-sortable {
          &.tabulator-col-sorter-element:hover {
            background-color: ${n=>n.colorFillQuaternary};
          }
        }

        .tabulator-col-title {
          color: ${n=>n.colorText};
          font-size: ${n=>n.fontSize}px;
        }

        .tabulator-col-sorter {
          color: ${n=>n.colorText};
        }

        &.tabulator-col-group .tabulator-col-group-cols {
          border-top: 1px solid ${n=>n.colorBorder};
        }

        .tabulator-header-filter {
          height: 27px;
          max-height: 27px;

          & input, textarea {
            max-height: 27px;
            color: ${n=>n.colorText};
            font-size: ${n=>n.fontSize}px;
            border-color: ${n=>n.colorBorder};
            border-radius: ${n=>n.borderRadius}px;
            background-color: ${n=>n.colorBgContainer};
            padding-left: 11px !important;
            padding-right: 11px !important;
            border-style: solid;
            border-width: 1px;

            &:focus {
              border-color: ${n=>n.colorPrimaryHover};
              box-shadow: 0 0 0 2px ${n=>n.controlOutline};
              border-inline-end-width: 1px;
              outline: 0;
            }

            &:hover {
              border-color: ${n=>n.colorPrimaryHover};
            }
          }
        }


      }
    }

    .tabulator-tableholder {
      .tabulator-table {
        background-color: transparent;
        color: ${n=>n.colorText};
        font-size: ${n=>n.fontSize}px;

        .tabulator-row {
          background-color: transparent;
          border-bottom-color: ${n=>n.colorBorderSecondary};

          &.tabulator-selectable:hover {
            background-color: ${n=>n.colorFillQuaternary};
          }

          &:hover {
              //background-color: ${n=>n.colorPrimaryBgHover};
          }

          &.tabulator-selected .tabulator-cell {
            background-color: ${n=>n.colorPrimaryBg};
          }

          &.tabulator-selected.tabulator-row-even .tabulator-cell {
            background-color: ${n=>n.colorPrimaryBg};
          }

          &.tabulator-selected:hover .tabulator-cell {
              //background-color: ${n=>n.colorPrimaryBgHover};
          }

          &.tabulator-active .tabulator-cell {
            background-color: ${n=>n.colorPrimaryBgHover};
          }

          &.tabulator-active.tabulator-row-even .tabulator-cell {
            background-color: ${n=>n.colorPrimaryBgHover};
          }

          &.tabulator-row-odd .tabulator-cell {
            //background-color: transparent;
          }


          &.tabulator-row-even .tabulator-cell {
            background-color: ${n=>n.striped?n.colorBgLayout:"transparent"};
          }

          /** Highlight row resize handler  */

          .tabulator-row-resize-handle {
            transition: background-color 0.5s ease;

            &:hover {
              background-color: ${n=>n.colorPrimaryHover};
            }
          }

          .tabulator-cell {
            background-color: ${n=>n.colorBgContainer};
            border-right-color: ${n=>n.colorBorderSecondary};

            &.tabulator-frozen.tabulator-frozen-left {
              border-right: 2px solid ${n=>n.colorBorder};
            }

            &.tabulator-frozen.tabulator-frozen-right {
              border-left: 2px solid ${n=>n.colorBorder};
            }
          }
        }
      }
    }

    .tabulator-footer {
      color: ${n=>n.colorText};
      font-size: ${n=>n.fontSize}px;
      background-color: ${n=>n.colorBgLayout};
      border-top-color: ${n=>n.colorBorder};

      .tabulator-calcs-holder {
        background-color: ${n=>n.colorBgLayout} !important;
        border: 0;
        border-bottom: ${n=>n.colorBorder};
        border-bottom-style: solid;
        border-bottom-width: thin;

        .tabulator-calcs-bottom {
          border: 0;
          background-color: ${n=>n.colorBgLayout} !important;

          .tabulator-cell {
            border-color: ${n=>n.colorBorder};
          }

          .tabulator-frozen.tabulator-frozen-left {
            border-right: 2px solid ${n=>n.colorBorder};
          }

          .tabulator-frozen.tabulator-frozen-right {
            border-left: 2px solid ${n=>n.colorBorder};
          }
        }
      }

      .tabulator-paginator {
        color: ${n=>n.colorText};

        button.tabulator-page {
          color: ${n=>n.colorText};
          transition: all 0.2s;
          border-radius: ${n=>n.borderRadius}px;
          padding: 0;
          min-width: 32px;
          height: 32px;
          margin-inline-end: 8px;
          text-align: center;
          vertical-align: middle;
          cursor: pointer;
          user-select: none;
          line-height: 30px;

          &.active:not(:disabled) {
            color: ${n=>n.colorText};
            border: 1px solid ${n=>n.colorPrimary};
            font-weight: 600;
          }

          &:not(:disabled) {
            background-color: ${n=>n.colorBgLayout};
            border-style: hidden;

            &:hover {
              background-color: ${n=>n.colorBgTextHover};
            }
          }

          &:disabled {
            border-style: hidden;
            background-color: transparent;
            color: ${n=>n.colorTextQuaternary};
            opacity: 1;
            cursor: not-allowed;
          }
        }

        select.tabulator-page-size {
          min-width: 32px;
          height: 32px;
          border-radius: ${n=>n.borderRadius}px;
          border-color: ${n=>n.colorBorder};
          color: ${n=>n.colorText};
          background-color: ${n=>n.colorBgContainer};
          border-style: solid;
          border-width: 1px;

          &:focus {
            border-color: ${n=>n.colorPrimaryHover};
            box-shadow: 0 0 0 2px ${n=>n.controlOutline};
            border-inline-end-width: 1px;
            outline: 0;
          }


          &:hover {
            border: 1px solid ${n=>n.colorPrimaryHover};
          }
        }
      }
    }

    /** Collapse/expand button style */

    .tree-row-button {
      width: 17px;
      height: 17px;
      padding: 0;
      margin-right: 5px;
      font-size: ${n=>n.fontSize}px;
      text-decoration: none;
      outline: none;
      cursor: pointer;
      transition: all .3s;
      box-sizing: border-box;
      color: ${n=>n.colorText};
      background-color: ${n=>n.colorBgContainer};
      border-color: ${n=>n.colorBorder};
      border-radius: ${n=>n.borderRadius}px;
      border-style: solid;
      border-width: 1px;
      transform: scale(.9411764705882353);
      user-select: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;

      &:hover {
        color: ${n=>n.colorPrimaryHover};
        border-color: ${n=>n.colorPrimaryHover};
      }
    }

    .collapse-button button {
    }

    .expand-button button {
    }
  }
`,gR=({striped:n})=>{const{token:e}=fR();return se.jsx(pR,{striped:n,...e})},mR=({onTableRef:n,events:e,containerClassName:t,width:i,minWidth:r,maxWidth:s,...o})=>{const a=Ee.useRef(null),l=Ee.useRef(),[u]=Ee.useState(o.id??Yn());lR({props:o,events:e,containerRef:a,tableRef:l,onTableRef:n});const h={width:i,maxWidth:s,minWidth:r,userSelect:o.allowTextSelection?void 0:"none"};return se.jsxs(se.Fragment,{children:[se.jsx(gR,{striped:!0}),se.jsx("div",{ref:a,id:u,"data-instance":u,className:t,style:h})]})},bR=Ee.memo(mR),UR=n=>{var o,a;const e={...n},t=N.useRef(n),i=vR(n,t.current),r=N.useRef(n.data),s=Ee.useRef();return e.onTableRef=N.useCallback(l=>{var u;s.current=l.current,(u=n.onTableRef)==null||u.call(n,l)},[n.onTableRef]),i||(r.current!==n.data&&((o=s.current)==null||o.deselectRow(),(a=s.current)==null||a.setData(n.data)),e.data=t.current.data),r.current=n.data,t.current=e,se.jsx(bR,{...e})},vR=(n,e)=>{const t=Object.keys(n),i=Object.keys(e),r=[...new Set([...t,...i])];for(const s of r)if(!(s==="data"||s==="onTableRef")&&n[s]!==e[s])return!0;return!1};var yR="Expected a function",ql=NaN,wR="[object Symbol]",CR=/^\s+|\s+$/g,ER=/^[-+]0x[0-9a-f]+$/i,xR=/^0b[01]+$/i,SR=/^0o[0-7]+$/i,_R=parseInt,RR=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe,TR=typeof self=="object"&&self&&self.Object===Object&&self,OR=RR||TR||Function("return this")(),kR=Object.prototype,MR=kR.toString,LR=Math.max,AR=Math.min,eo=function(){return OR.Date.now()};function DR(n,e,t){var i,r,s,o,a,l,u=0,h=!1,d=!1,c=!0;if(typeof n!="function")throw new TypeError(yR);e=Gl(e)||0,qo(t)&&(h=!!t.leading,d="maxWait"in t,s=d?LR(Gl(t.maxWait)||0,e):s,c="trailing"in t?!!t.trailing:c);function f(R){var T=i,E=r;return i=r=void 0,u=R,o=n.apply(E,T),o}function v(R){return u=R,a=setTimeout(p,e),h?f(R):o}function y(R){var T=R-l,E=R-u,O=e-T;return d?AR(O,s-E):O}function b(R){var T=R-l,E=R-u;return l===void 0||T>=e||T<0||d&&E>=s}function p(){var R=eo();if(b(R))return m(R);a=setTimeout(p,y(R))}function m(R){return a=void 0,c&&i?f(R):(i=r=void 0,o)}function w(){a!==void 0&&clearTimeout(a),u=0,i=l=r=a=void 0}function g(){return a===void 0?o:m(eo())}function S(){var R=eo(),T=b(R);if(i=arguments,r=this,l=R,T){if(a===void 0)return v(l);if(d)return a=setTimeout(p,e),f(l)}return a===void 0&&(a=setTimeout(p,e)),o}return S.cancel=w,S.flush=g,S}function qo(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function PR(n){return!!n&&typeof n=="object"}function FR(n){return typeof n=="symbol"||PR(n)&&MR.call(n)==wR}function Gl(n){if(typeof n=="number")return n;if(FR(n))return ql;if(qo(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=qo(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(CR,"");var t=xR.test(n);return t||SR.test(n)?_R(n.slice(2),t?2:8):ER.test(n)?ql:+n}var NR=DR;const KR=ir(NR);export{oa as B,ci as C,WR as D,Kb as F,Yn as G,Om as H,Is as I,Yb as L,ln as M,BR as O,_f as R,na as S,bu as T,xm as a,Kg as b,so as c,$n as d,Hm as e,jR as f,tf as g,Hu as h,Lt as i,Wm as j,HR as k,ju as l,Zn as m,jb as n,Ta as o,uu as p,Oa as q,KR as r,qR as s,UR as t,Qb as u,ro as v,Ef as w};
