import{r as f,k as z,h as b,U as Ut,i as te,f as ee,e as V,v as He,M as pe,bh as lt,bi as st,bs as Dn,ar as Ee,d as Ve,Q as kt,b as Dt,w as De,q as wn,o as $n,n as Oe,x as qt,y as Wt,B as Ge,bt as Gt,z as ve,L as Ae,bu as Xt,bv as Yt,bw as K,s as Qt,p as Rn,K as _e,A as Mn,aD as On,ap as Pn,I as wt,j as Te}from"./index-DQhjKTAX.js";import{R as Tn,m as In,n as Ln}from"./index-BoiGZk6f.js";import{R as _n}from"./dForm-CrwAE8Nv.js";var Zt=f.forwardRef(function(t,r){var i=t.height,e=t.offsetY,l=t.offsetX,c=t.children,p=t.prefixCls,n=t.onInnerResize,a=t.innerProps,o=t.rtl,s=t.extra,d={},u={display:"flex",flexDirection:"column"};return e!==void 0&&(d={height:i,position:"relative",overflow:"hidden"},u=z(z({},u),{},b(b(b(b(b({transform:"translateY(".concat(e,"px)")},o?"marginRight":"marginLeft",-l),"position","absolute"),"left",0),"right",0),"top",0))),f.createElement("div",{style:d},f.createElement(Ut,{onResize:function(y){var g=y.offsetHeight;g&&n&&n()}},f.createElement("div",te({style:u,className:ee(b({},"".concat(p,"-holder-inner"),p)),ref:r},a),c,s)))});Zt.displayName="Filler";function Hn(t){var r=t.children,i=t.setRef,e=f.useCallback(function(l){i(l)},[]);return f.cloneElement(r,{ref:e})}function An(t,r,i,e,l,c,p,n){var a=n.getKey;return t.slice(r,i+1).map(function(o,s){var d=r+s,u=p(o,d,{style:{width:e},offsetX:l}),v=a(o);return f.createElement(Hn,{key:v,setRef:function(g){return c(o,g)}},u)})}function zn(t,r,i){var e=t.length,l=r.length,c,p;if(e===0&&l===0)return null;e<l?(c=t,p=r):(c=r,p=t);var n={__EMPTY_ITEM__:!0};function a(y){return y!==void 0?i(y):n}for(var o=null,s=Math.abs(e-l)!==1,d=0;d<p.length;d+=1){var u=a(c[d]),v=a(p[d]);if(u!==v){o=d,s=s||u!==a(p[d+1]);break}}return o===null?null:{index:o,multiple:s}}function Bn(t,r,i){var e=f.useState(t),l=V(e,2),c=l[0],p=l[1],n=f.useState(null),a=V(n,2),o=a[0],s=a[1];return f.useEffect(function(){var d=zn(c||[],t||[],r);(d==null?void 0:d.index)!==void 0&&s(t[d.index]),p(t)},[t]),[o]}var $t=(typeof navigator>"u"?"undefined":He(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Jt=function(t,r,i,e){var l=f.useRef(!1),c=f.useRef(null);function p(){clearTimeout(c.current),l.current=!0,c.current=setTimeout(function(){l.current=!1},50)}var n=f.useRef({top:t,bottom:r,left:i,right:e});return n.current.top=t,n.current.bottom=r,n.current.left=i,n.current.right=e,function(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=a?o<0&&n.current.left||o>0&&n.current.right:o<0&&n.current.top||o>0&&n.current.bottom;return s&&d?(clearTimeout(c.current),l.current=!1):(!d||l.current)&&p(),!l.current&&d}};function Fn(t,r,i,e,l,c,p){var n=f.useRef(0),a=f.useRef(null),o=f.useRef(null),s=f.useRef(!1),d=Jt(r,i,e,l);function u(x,S){pe.cancel(a.current),n.current+=S,o.current=S,!d(!1,S)&&($t||x.preventDefault(),a.current=pe(function(){var E=s.current?10:1;p(n.current*E),n.current=0}))}function v(x,S){p(S,!0),$t||x.preventDefault()}var y=f.useRef(null),g=f.useRef(null);function h(x){if(t){pe.cancel(g.current),g.current=pe(function(){y.current=null},2);var S=x.deltaX,E=x.deltaY,C=x.shiftKey,R=S,N=E;(y.current==="sx"||!y.current&&C&&E&&!S)&&(R=E,N=0,y.current="sx");var k=Math.abs(R),D=Math.abs(N);y.current===null&&(y.current=c&&k>D?"x":"y"),y.current==="y"?u(x,N):v(x,R)}}function m(x){t&&(s.current=x.detail===o.current)}return[h,m]}function jn(t,r,i,e){var l=f.useMemo(function(){return[new Map,[]]},[t,i.id,e]),c=V(l,2),p=c[0],n=c[1],a=function(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,u=p.get(s),v=p.get(d);if(u===void 0||v===void 0)for(var y=t.length,g=n.length;g<y;g+=1){var h,m=t[g],x=r(m);p.set(x,g);var S=(h=i.get(x))!==null&&h!==void 0?h:e;if(n[g]=(n[g-1]||0)+S,x===s&&(u=g),x===d&&(v=g),u!==void 0&&v!==void 0)break}return{top:n[u-1]||0,bottom:n[v]}};return a}var Vn=function(){function t(){st(this,t),b(this,"maps",void 0),b(this,"id",0),this.maps=Object.create(null)}return lt(t,[{key:"set",value:function(i,e){this.maps[i]=e,this.id+=1}},{key:"get",value:function(i){return this.maps[i]}}]),t}();function Un(t,r,i){var e=f.useState(0),l=V(e,2),c=l[0],p=l[1],n=f.useRef(new Map),a=f.useRef(new Vn),o=f.useRef();function s(){pe.cancel(o.current)}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;s();var y=function(){n.current.forEach(function(h,m){if(h&&h.offsetParent){var x=Dn(h),S=x.offsetHeight;a.current.get(m)!==S&&a.current.set(m,x.offsetHeight)}}),p(function(h){return h+1})};v?y():o.current=pe(y)}function u(v,y){var g=t(v);n.current.get(g),y?(n.current.set(g,y),d()):n.current.delete(g)}return f.useEffect(function(){return s},[]),[u,d,a.current,c]}var Rt=14/15;function qn(t,r,i){var e=f.useRef(!1),l=f.useRef(0),c=f.useRef(0),p=f.useRef(null),n=f.useRef(null),a,o=function(v){if(e.current){var y=Math.ceil(v.touches[0].pageX),g=Math.ceil(v.touches[0].pageY),h=l.current-y,m=c.current-g,x=Math.abs(h)>Math.abs(m);x?l.current=y:c.current=g,i(x,x?h:m)&&v.preventDefault(),clearInterval(n.current),n.current=setInterval(function(){x?h*=Rt:m*=Rt;var S=Math.floor(x?h:m);(!i(x,S,!0)||Math.abs(S)<=.1)&&clearInterval(n.current)},16)}},s=function(){e.current=!1,a()},d=function(v){a(),v.touches.length===1&&!e.current&&(e.current=!0,l.current=Math.ceil(v.touches[0].pageX),c.current=Math.ceil(v.touches[0].pageY),p.current=v.target,p.current.addEventListener("touchmove",o,{passive:!1}),p.current.addEventListener("touchend",s,{passive:!0}))};a=function(){p.current&&(p.current.removeEventListener("touchmove",o),p.current.removeEventListener("touchend",s))},Ee(function(){return t&&r.current.addEventListener("touchstart",d,{passive:!0}),function(){var u;(u=r.current)===null||u===void 0||u.removeEventListener("touchstart",d),a(),clearInterval(n.current)}},[t])}var Wn=10;function Gn(t,r,i,e,l,c,p,n){var a=f.useRef(),o=f.useState(null),s=V(o,2),d=s[0],u=s[1];return Ee(function(){if(d&&d.times<Wn){if(!t.current){u(function(W){return z({},W)});return}c();var v=d.targetAlign,y=d.originAlign,g=d.index,h=d.offset,m=t.current.clientHeight,x=!1,S=v,E=null;if(m){for(var C=v||y,R=0,N=0,k=0,D=Math.min(r.length-1,g),$=0;$<=D;$+=1){var P=l(r[$]);N=R;var O=i.get(P);k=N+(O===void 0?e:O),R=k}for(var A=C==="top"?h:m-h,I=D;I>=0;I-=1){var j=l(r[I]),L=i.get(j);if(L===void 0){x=!0;break}if(A-=L,A<=0)break}switch(C){case"top":E=N-h;break;case"bottom":E=k-m+h;break;default:{var H=t.current.scrollTop,U=H+m;N<H?S="top":k>U&&(S="bottom")}}E!==null&&p(E),E!==d.lastTop&&(x=!0)}x&&u(z(z({},d),{},{times:d.times+1,targetAlign:S,lastTop:E}))}},[d,t.current]),function(v){if(v==null){n();return}if(pe.cancel(a.current),typeof v=="number")p(v);else if(v&&He(v)==="object"){var y,g=v.align;"index"in v?y=v.index:y=r.findIndex(function(x){return l(x)===v.key});var h=v.offset,m=h===void 0?0:h;u({times:0,index:y,offset:m,originAlign:g})}}}function Mt(t,r){var i="touches"in t?t.touches[0]:t;return i[r?"pageX":"pageY"]}var Ot=f.forwardRef(function(t,r){var i=t.prefixCls,e=t.rtl,l=t.scrollOffset,c=t.scrollRange,p=t.onStartMove,n=t.onStopMove,a=t.onScroll,o=t.horizontal,s=t.spinSize,d=t.containerSize,u=t.style,v=t.thumbStyle,y=f.useState(!1),g=V(y,2),h=g[0],m=g[1],x=f.useState(null),S=V(x,2),E=S[0],C=S[1],R=f.useState(null),N=V(R,2),k=N[0],D=N[1],$=!e,P=f.useRef(),O=f.useRef(),A=f.useState(!1),I=V(A,2),j=I[0],L=I[1],H=f.useRef(),U=function(){clearTimeout(H.current),L(!0),H.current=setTimeout(function(){L(!1)},3e3)},W=c-d||0,ue=d-s||0,T=f.useMemo(function(){if(l===0||W===0)return 0;var G=l/W;return G*ue},[l,W,ue]),Y=function(B){B.stopPropagation(),B.preventDefault()},ae=f.useRef({top:T,dragging:h,pageY:E,startTop:k});ae.current={top:T,dragging:h,pageY:E,startTop:k};var de=function(B){m(!0),C(Mt(B,o)),D(ae.current.top),p(),B.stopPropagation(),B.preventDefault()};f.useEffect(function(){var G=function(Ke){Ke.preventDefault()},B=P.current,oe=O.current;return B.addEventListener("touchstart",G,{passive:!1}),oe.addEventListener("touchstart",de,{passive:!1}),function(){B.removeEventListener("touchstart",G),oe.removeEventListener("touchstart",de)}},[]);var ge=f.useRef();ge.current=W;var ye=f.useRef();ye.current=ue,f.useEffect(function(){if(h){var G,B=function(Ke){var me=ae.current,$e=me.dragging,Ce=me.pageY,Ie=me.startTop;pe.cancel(G);var Re=P.current.getBoundingClientRect(),F=d/(o?Re.width:Re.height);if($e){var ie=(Mt(Ke,o)-Ce)*F,se=Ie;!$&&o?se-=ie:se+=ie;var be=ge.current,he=ye.current,Me=he?se/he:0,re=Math.ceil(Me*be);re=Math.max(re,0),re=Math.min(re,be),G=pe(function(){a(re,o)})}},oe=function(){m(!1),n()};return window.addEventListener("mousemove",B,{passive:!0}),window.addEventListener("touchmove",B,{passive:!0}),window.addEventListener("mouseup",oe,{passive:!0}),window.addEventListener("touchend",oe,{passive:!0}),function(){window.removeEventListener("mousemove",B),window.removeEventListener("touchmove",B),window.removeEventListener("mouseup",oe),window.removeEventListener("touchend",oe),pe.cancel(G)}}},[h]),f.useEffect(function(){return U(),function(){clearTimeout(H.current)}},[l]),f.useImperativeHandle(r,function(){return{delayHidden:U}});var q="".concat(i,"-scrollbar"),J={position:"absolute",visibility:j?null:"hidden"},ne={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return o?(J.height=8,J.left=0,J.right=0,J.bottom=0,ne.height="100%",ne.width=s,$?ne.left=T:ne.right=T):(J.width=8,J.top=0,J.bottom=0,$?J.right=0:J.left=0,ne.width="100%",ne.height=s,ne.top=T),f.createElement("div",{ref:P,className:ee(q,b(b(b({},"".concat(q,"-horizontal"),o),"".concat(q,"-vertical"),!o),"".concat(q,"-visible"),j)),style:z(z({},J),u),onMouseDown:Y,onMouseMove:U},f.createElement("div",{ref:O,className:ee("".concat(q,"-thumb"),b({},"".concat(q,"-thumb-moving"),h)),style:z(z({},ne),v),onMouseDown:de}))}),Xn=20;function Pt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=t/r*t;return isNaN(i)&&(i=0),i=Math.max(i,Xn),Math.floor(i)}var Yn=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Qn=[],Zn={overflowY:"auto",overflowAnchor:"none"};function Jn(t,r){var i=t.prefixCls,e=i===void 0?"rc-virtual-list":i,l=t.className,c=t.height,p=t.itemHeight,n=t.fullHeight,a=n===void 0?!0:n,o=t.style,s=t.data,d=t.children,u=t.itemKey,v=t.virtual,y=t.direction,g=t.scrollWidth,h=t.component,m=h===void 0?"div":h,x=t.onScroll,S=t.onVirtualScroll,E=t.onVisibleChange,C=t.innerProps,R=t.extraRender,N=t.styles,k=Ve(t,Yn),D=f.useCallback(function(M){return typeof u=="function"?u(M):M==null?void 0:M[u]},[u]),$=Un(D),P=V($,4),O=P[0],A=P[1],I=P[2],j=P[3],L=!!(v!==!1&&c&&p),H=f.useMemo(function(){return Object.values(I.maps).reduce(function(M,w){return M+w},0)},[I.id,I.maps]),U=L&&s&&(Math.max(p*s.length,H)>c||!!g),W=y==="rtl",ue=ee(e,b({},"".concat(e,"-rtl"),W),l),T=s||Qn,Y=f.useRef(),ae=f.useRef(),de=f.useRef(),ge=f.useState(0),ye=V(ge,2),q=ye[0],J=ye[1],ne=f.useState(0),G=V(ne,2),B=G[0],oe=G[1],we=f.useState(!1),Ke=V(we,2),me=Ke[0],$e=Ke[1],Ce=function(){$e(!0)},Ie=function(){$e(!1)},Re={getKey:D};function F(M){J(function(w){var _;typeof M=="function"?_=M(w):_=M;var Q=gn(_);return Y.current.scrollTop=Q,Q})}var ie=f.useRef({start:0,end:T.length}),se=f.useRef(),be=Bn(T,D),he=V(be,1),Me=he[0];se.current=Me;var re=f.useMemo(function(){if(!L)return{scrollHeight:void 0,start:0,end:T.length-1,offset:void 0};if(!U){var M;return{scrollHeight:((M=ae.current)===null||M===void 0?void 0:M.offsetHeight)||0,start:0,end:T.length-1,offset:void 0}}for(var w=0,_,Q,Ne,Cn=T.length,Be=0;Be<Cn;Be+=1){var Nn=T[Be],kn=D(Nn),Nt=I.get(kn),nt=w+(Nt===void 0?p:Nt);nt>=q&&_===void 0&&(_=Be,Q=w),nt>q+c&&Ne===void 0&&(Ne=Be),w=nt}return _===void 0&&(_=0,Q=0,Ne=Math.ceil(c/p)),Ne===void 0&&(Ne=T.length-1),Ne=Math.min(Ne+1,T.length-1),{scrollHeight:w,start:_,end:Ne,offset:Q}},[U,L,q,T,j,c]),ce=re.scrollHeight,fe=re.start,Le=re.end,ut=re.offset;ie.current.start=fe,ie.current.end=Le;var un=f.useState({width:0,height:c}),ft=V(un,2),Se=ft[0],fn=ft[1],vn=function(w){fn({width:w.offsetWidth,height:w.offsetHeight})},vt=f.useRef(),ht=f.useRef(),hn=f.useMemo(function(){return Pt(Se.width,g)},[Se.width,g]),pn=f.useMemo(function(){return Pt(Se.height,ce)},[Se.height,ce]),Ye=ce-c,Qe=f.useRef(Ye);Qe.current=Ye;function gn(M){var w=M;return Number.isNaN(Qe.current)||(w=Math.min(w,Qe.current)),w=Math.max(w,0),w}var pt=q<=0,gt=q>=Ye,yt=B<=0,mt=B>=g,yn=Jt(pt,gt,yt,mt),Ze=function(){return{x:W?-B:B,y:q}},Je=f.useRef(Ze()),qe=kt(function(M){if(S){var w=z(z({},Ze()),M);(Je.current.x!==w.x||Je.current.y!==w.y)&&(S(w),Je.current=w)}});function bt(M,w){var _=M;w?(Dt.flushSync(function(){oe(_)}),qe()):F(_)}function mn(M){var w=M.currentTarget.scrollTop;w!==q&&F(w),x==null||x(M),qe()}var et=function(w){var _=w,Q=g?g-Se.width:0;return _=Math.max(_,0),_=Math.min(_,Q),_},bn=kt(function(M,w){w?(Dt.flushSync(function(){oe(function(_){var Q=_+(W?-M:M);return et(Q)})}),qe()):F(function(_){var Q=_+M;return Q})}),Sn=Fn(L,pt,gt,yt,mt,!!g,bn),St=V(Sn,2),tt=St[0],xt=St[1];qn(L,Y,function(M,w,_){return yn(M,w,_)?!1:(tt({preventDefault:function(){},deltaX:M?w:0,deltaY:M?0:w}),!0)}),Ee(function(){function M(_){L&&_.preventDefault()}var w=Y.current;return w.addEventListener("wheel",tt,{passive:!1}),w.addEventListener("DOMMouseScroll",xt,{passive:!0}),w.addEventListener("MozMousePixelScroll",M,{passive:!1}),function(){w.removeEventListener("wheel",tt),w.removeEventListener("DOMMouseScroll",xt),w.removeEventListener("MozMousePixelScroll",M)}},[L]),Ee(function(){if(g){var M=et(B);oe(M),qe({x:M})}},[Se.width,g]);var Et=function(){var w,_;(w=vt.current)===null||w===void 0||w.delayHidden(),(_=ht.current)===null||_===void 0||_.delayHidden()},Kt=Gn(Y,T,I,p,D,function(){return A(!0)},F,Et);f.useImperativeHandle(r,function(){return{nativeElement:de.current,getScrollInfo:Ze,scrollTo:function(w){function _(Q){return Q&&He(Q)==="object"&&("left"in Q||"top"in Q)}_(w)?(w.left!==void 0&&oe(et(w.left)),Kt(w.top)):Kt(w)}}}),Ee(function(){if(E){var M=T.slice(fe,Le+1);E(M,T)}},[fe,Le,T]);var xn=jn(T,D,I,p),En=R==null?void 0:R({start:fe,end:Le,virtual:U,offsetX:B,offsetY:ut,rtl:W,getSize:xn}),Kn=An(T,fe,Le,g,B,O,d,Re),ze=null;c&&(ze=z(b({},a?"height":"maxHeight",c),Zn),L&&(ze.overflowY="hidden",g&&(ze.overflowX="hidden"),me&&(ze.pointerEvents="none")));var Ct={};return W&&(Ct.dir="rtl"),f.createElement("div",te({ref:de,style:z(z({},o),{},{position:"relative"}),className:ue},Ct,k),f.createElement(Ut,{onResize:vn},f.createElement(m,{className:"".concat(e,"-holder"),style:ze,ref:Y,onScroll:mn,onMouseEnter:Et},f.createElement(Zt,{prefixCls:e,height:ce,offsetX:B,offsetY:ut,scrollWidth:g,onInnerResize:A,ref:ae,innerProps:C,rtl:W,extra:En},Kn))),U&&ce>c&&f.createElement(Ot,{ref:vt,prefixCls:e,scrollOffset:q,scrollRange:ce,rtl:W,onScroll:bt,onStartMove:Ce,onStopMove:Ie,spinSize:pn,containerSize:Se.height,style:N==null?void 0:N.verticalScrollBar,thumbStyle:N==null?void 0:N.verticalScrollBarThumb}),U&&g>Se.width&&f.createElement(Ot,{ref:ht,prefixCls:e,scrollOffset:B,scrollRange:g,rtl:W,onScroll:bt,onStartMove:Ce,onStopMove:Ie,spinSize:hn,containerSize:Se.width,horizontal:!0,style:N==null?void 0:N.horizontalScrollBar,thumbStyle:N==null?void 0:N.horizontalScrollBarThumb}))}var en=f.forwardRef(Jn);en.displayName="List";function le(t,r){return t[r]}var er=["children"];function tn(t,r){return"".concat(t,"-").concat(r)}function tr(t){return t&&t.type&&t.type.isTreeNode}function Ue(t,r){return t??r}function Xe(t){var r=t||{},i=r.title,e=r._title,l=r.key,c=r.children,p=i||"title";return{title:p,_title:e||[p],key:l||"key",children:c||"children"}}function nr(t){function r(i){var e=wn(i);return e.map(function(l){if(!tr(l))return De(!l,"Tree/TreeNode can only accept TreeNode as children."),null;var c=l.key,p=l.props,n=p.children,a=Ve(p,er),o=z({key:c},a),s=r(n);return s.length&&(o.children=s),o}).filter(function(l){return l})}return r(t)}function rt(t,r,i){var e=Xe(i),l=e._title,c=e.key,p=e.children,n=new Set(r===!0?[]:r),a=[];function o(s){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return s.map(function(u,v){for(var y=tn(d?d.pos:"0",v),g=Ue(u[c],y),h,m=0;m<l.length;m+=1){var x=l[m];if(u[x]!==void 0){h=u[x];break}}var S=Object.assign($n(u,[].concat(Oe(l),[c,p])),{title:h,key:g,parent:d,pos:y,children:null,data:u,isStart:[].concat(Oe(d?d.isStart:[]),[v===0]),isEnd:[].concat(Oe(d?d.isEnd:[]),[v===s.length-1])});return a.push(S),r===!0||n.has(g)?S.children=o(u[p]||[],S):S.children=[],S})}return o(t),a}function rr(t,r,i){var e={};He(i)==="object"?e=i:e={externalGetKey:i},e=e||{};var l=e,c=l.childrenPropName,p=l.externalGetKey,n=l.fieldNames,a=Xe(n),o=a.key,s=a.children,d=c||s,u;p?typeof p=="string"?u=function(g){return g[p]}:typeof p=="function"&&(u=function(g){return p(g)}):u=function(g,h){return Ue(g[o],h)};function v(y,g,h,m){var x=y?y[d]:t,S=y?tn(h.pos,g):"0",E=y?[].concat(Oe(m),[y]):[];if(y){var C=u(y,S),R={node:y,index:g,pos:S,key:C,parentPos:h.node?h.pos:null,level:h.level+1,nodes:E};r(R)}x&&x.forEach(function(N,k){v(N,k,{node:y,pos:S,level:h?h.level+1:-1},E)})}v(null)}function ar(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.initWrapper,e=r.processEntity,l=r.onProcessFinished,c=r.externalGetKey,p=r.childrenPropName,n=r.fieldNames,a=arguments.length>2?arguments[2]:void 0,o=c||a,s={},d={},u={posEntities:s,keyEntities:d};return i&&(u=i(u)||u),rr(t,function(v){var y=v.node,g=v.index,h=v.pos,m=v.key,x=v.parentPos,S=v.level,E=v.nodes,C={node:y,nodes:E,index:g,key:m,pos:h,level:S},R=Ue(m,h);s[h]=C,d[R]=C,C.parent=s[x],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),e&&e(C,u)},{externalGetKey:o,childrenPropName:p,fieldNames:n}),l&&l(u),u}function Fe(t,r){var i=r.expandedKeys,e=r.selectedKeys,l=r.loadedKeys,c=r.loadingKeys,p=r.checkedKeys,n=r.halfCheckedKeys,a=r.dragOverNodeKey,o=r.dropPosition,s=r.keyEntities,d=le(s,t),u={eventKey:t,expanded:i.indexOf(t)!==-1,selected:e.indexOf(t)!==-1,loaded:l.indexOf(t)!==-1,loading:c.indexOf(t)!==-1,checked:p.indexOf(t)!==-1,halfChecked:n.indexOf(t)!==-1,pos:String(d?d.pos:""),dragOver:a===t&&o===0,dragOverGapTop:a===t&&o===-1,dragOverGapBottom:a===t&&o===1};return u}function X(t){var r=t.data,i=t.expanded,e=t.selected,l=t.checked,c=t.loaded,p=t.loading,n=t.halfChecked,a=t.dragOver,o=t.dragOverGapTop,s=t.dragOverGapBottom,d=t.pos,u=t.active,v=t.eventKey,y=z(z({},r),{},{expanded:i,selected:e,checked:l,loaded:c,loading:p,halfChecked:n,dragOver:a,dragOverGapTop:o,dragOverGapBottom:s,pos:d,active:u,key:v});return"props"in y||Object.defineProperty(y,"props",{get:function(){return De(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),y}function nn(t,r){var i=new Set;return t.forEach(function(e){r.has(e)||i.add(e)}),i}function or(t){var r=t||{},i=r.disabled,e=r.disableCheckbox,l=r.checkable;return!!(i||e)||l===!1}function ir(t,r,i,e){for(var l=new Set(t),c=new Set,p=0;p<=i;p+=1){var n=r.get(p)||new Set;n.forEach(function(d){var u=d.key,v=d.node,y=d.children,g=y===void 0?[]:y;l.has(u)&&!e(v)&&g.filter(function(h){return!e(h.node)}).forEach(function(h){l.add(h.key)})})}for(var a=new Set,o=i;o>=0;o-=1){var s=r.get(o)||new Set;s.forEach(function(d){var u=d.parent,v=d.node;if(!(e(v)||!d.parent||a.has(d.parent.key))){if(e(d.parent.node)){a.add(u.key);return}var y=!0,g=!1;(u.children||[]).filter(function(h){return!e(h.node)}).forEach(function(h){var m=h.key,x=l.has(m);y&&!x&&(y=!1),!g&&(x||c.has(m))&&(g=!0)}),y&&l.add(u.key),g&&c.add(u.key),a.add(u.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(nn(c,l))}}function lr(t,r,i,e,l){for(var c=new Set(t),p=new Set(r),n=0;n<=e;n+=1){var a=i.get(n)||new Set;a.forEach(function(u){var v=u.key,y=u.node,g=u.children,h=g===void 0?[]:g;!c.has(v)&&!p.has(v)&&!l(y)&&h.filter(function(m){return!l(m.node)}).forEach(function(m){c.delete(m.key)})})}p=new Set;for(var o=new Set,s=e;s>=0;s-=1){var d=i.get(s)||new Set;d.forEach(function(u){var v=u.parent,y=u.node;if(!(l(y)||!u.parent||o.has(u.parent.key))){if(l(u.parent.node)){o.add(v.key);return}var g=!0,h=!1;(v.children||[]).filter(function(m){return!l(m.node)}).forEach(function(m){var x=m.key,S=c.has(x);g&&!S&&(g=!1),!h&&(S||p.has(x))&&(h=!0)}),g||c.delete(v.key),h&&p.add(v.key),o.add(v.key)}})}return{checkedKeys:Array.from(c),halfCheckedKeys:Array.from(nn(p,c))}}function at(t,r,i,e){var l=[],c;c=or;var p=new Set(t.filter(function(s){var d=!!le(i,s);return d||l.push(s),d})),n=new Map,a=0;Object.keys(i).forEach(function(s){var d=i[s],u=d.level,v=n.get(u);v||(v=new Set,n.set(u,v)),v.add(d),a=Math.max(a,u)}),De(!l.length,"Tree missing follow keys: ".concat(l.slice(0,100).map(function(s){return"'".concat(s,"'")}).join(", ")));var o;return r===!0?o=ir(p,n,a,c):o=lr(p,r.halfCheckedKeys,n,a,c),o}const sr=t=>{const{checkboxCls:r}=t,i=`${r}-wrapper`;return[{[`${r}-group`]:Object.assign(Object.assign({},Ge(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[i]:Object.assign(Object.assign({},Ge(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${i}`]:{marginInlineStart:0},[`&${i}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[r]:Object.assign(Object.assign({},Ge(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${r}-inner`]:Object.assign({},Gt(t))},[`${r}-inner`]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${ve(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:`${ve(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[`
        ${i}:not(${i}-disabled),
        ${r}:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{borderColor:t.colorPrimary}},[`${i}:not(${i}-disabled)`]:{[`&:hover ${r}-checked:not(${r}-disabled) ${r}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${r}-checked:not(${r}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${r}-checked`]:{[`${r}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}}},[`
        ${i}-checked:not(${i}-disabled),
        ${r}-checked:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[r]:{"&-indeterminate":{[`${r}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${r}-inner`]:{backgroundColor:`${t.colorBgContainer} !important`,borderColor:`${t.colorPrimary} !important`}}}},{[`${i}-disabled`]:{cursor:"not-allowed"},[`${r}-disabled`]:{[`&, ${r}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${r}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${r}-indeterminate ${r}-inner::after`]:{background:t.colorTextDisabled}}}]};function rn(t,r){const i=Wt(r,{checkboxCls:`.${t}`,checkboxSize:r.controlInteractiveSize});return[sr(i)]}const oa=qt("Checkbox",(t,r)=>{let{prefixCls:i}=r;return[rn(i,t)]});var dr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},cr=function(r,i){return f.createElement(Ae,te({},r,{ref:i,icon:dr}))},ur=f.forwardRef(cr),fr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},vr=function(r,i){return f.createElement(Ae,te({},r,{ref:i,icon:fr}))},hr=f.forwardRef(vr),pr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},gr=function(r,i){return f.createElement(Ae,te({},r,{ref:i,icon:pr}))},yr=f.forwardRef(gr),mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"},br=function(r,i){return f.createElement(Ae,te({},r,{ref:i,icon:mr}))},Sr=f.forwardRef(br),xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Er=function(r,i){return f.createElement(Ae,te({},r,{ref:i,icon:xr}))},Kr=f.forwardRef(Er),Cr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Nr=function(r,i){return f.createElement(Ae,te({},r,{ref:i,icon:Cr}))},an=f.forwardRef(Nr),dt=f.createContext(null),kr=function(r){for(var i=r.prefixCls,e=r.level,l=r.isStart,c=r.isEnd,p="".concat(i,"-indent-unit"),n=[],a=0;a<e;a+=1)n.push(f.createElement("span",{key:a,className:ee(p,b(b({},"".concat(p,"-start"),l[a]),"".concat(p,"-end"),c[a]))}));return f.createElement("span",{"aria-hidden":"true",className:"".concat(i,"-indent")},n)};const Dr=f.memo(kr);var wr=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Tt="open",It="close",$r="---",Rr=function(t){Xt(i,t);var r=Yt(i);function i(){var e;st(this,i);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return e=r.call.apply(r,[this].concat(c)),b(K(e),"state",{dragNodeHighlight:!1}),b(K(e),"selectHandle",void 0),b(K(e),"cacheIndent",void 0),b(K(e),"onSelectorClick",function(n){var a=e.props.context.onNodeClick;a(n,X(e.props)),e.isSelectable()?e.onSelect(n):e.onCheck(n)}),b(K(e),"onSelectorDoubleClick",function(n){var a=e.props.context.onNodeDoubleClick;a(n,X(e.props))}),b(K(e),"onSelect",function(n){if(!e.isDisabled()){var a=e.props.context.onNodeSelect;a(n,X(e.props))}}),b(K(e),"onCheck",function(n){if(!e.isDisabled()){var a=e.props,o=a.disableCheckbox,s=a.checked,d=e.props.context.onNodeCheck;if(!(!e.isCheckable()||o)){var u=!s;d(n,X(e.props),u)}}}),b(K(e),"onMouseEnter",function(n){var a=e.props.context.onNodeMouseEnter;a(n,X(e.props))}),b(K(e),"onMouseLeave",function(n){var a=e.props.context.onNodeMouseLeave;a(n,X(e.props))}),b(K(e),"onContextMenu",function(n){var a=e.props.context.onNodeContextMenu;a(n,X(e.props))}),b(K(e),"onDragStart",function(n){var a=e.props.context.onNodeDragStart;n.stopPropagation(),e.setState({dragNodeHighlight:!0}),a(n,K(e));try{n.dataTransfer.setData("text/plain","")}catch{}}),b(K(e),"onDragEnter",function(n){var a=e.props.context.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),a(n,K(e))}),b(K(e),"onDragOver",function(n){var a=e.props.context.onNodeDragOver;n.preventDefault(),n.stopPropagation(),a(n,K(e))}),b(K(e),"onDragLeave",function(n){var a=e.props.context.onNodeDragLeave;n.stopPropagation(),a(n,K(e))}),b(K(e),"onDragEnd",function(n){var a=e.props.context.onNodeDragEnd;n.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(n,K(e))}),b(K(e),"onDrop",function(n){var a=e.props.context.onNodeDrop;n.preventDefault(),n.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(n,K(e))}),b(K(e),"onExpand",function(n){var a=e.props,o=a.loading,s=a.context.onNodeExpand;o||s(n,X(e.props))}),b(K(e),"setSelectHandle",function(n){e.selectHandle=n}),b(K(e),"getNodeState",function(){var n=e.props.expanded;return e.isLeaf()?null:n?Tt:It}),b(K(e),"hasChildren",function(){var n=e.props.eventKey,a=e.props.context.keyEntities,o=le(a,n)||{},s=o.children;return!!(s||[]).length}),b(K(e),"isLeaf",function(){var n=e.props,a=n.isLeaf,o=n.loaded,s=e.props.context.loadData,d=e.hasChildren();return a===!1?!1:a||!s&&!d||s&&o&&!d}),b(K(e),"isDisabled",function(){var n=e.props.disabled,a=e.props.context.disabled;return!!(a||n)}),b(K(e),"isCheckable",function(){var n=e.props.checkable,a=e.props.context.checkable;return!a||n===!1?!1:a}),b(K(e),"syncLoadData",function(n){var a=n.expanded,o=n.loading,s=n.loaded,d=e.props.context,u=d.loadData,v=d.onNodeLoad;o||u&&a&&!e.isLeaf()&&!s&&v(X(e.props))}),b(K(e),"isDraggable",function(){var n=e.props,a=n.data,o=n.context.draggable;return!!(o&&(!o.nodeDraggable||o.nodeDraggable(a)))}),b(K(e),"renderDragHandler",function(){var n=e.props.context,a=n.draggable,o=n.prefixCls;return a!=null&&a.icon?f.createElement("span",{className:"".concat(o,"-draggable-icon")},a.icon):null}),b(K(e),"renderSwitcherIconDom",function(n){var a=e.props.switcherIcon,o=e.props.context.switcherIcon,s=a||o;return typeof s=="function"?s(z(z({},e.props),{},{isLeaf:n})):s}),b(K(e),"renderSwitcher",function(){var n=e.props.expanded,a=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return o!==!1?f.createElement("span",{className:ee("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},o):null}var s=ee("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(n?Tt:It)),d=e.renderSwitcherIconDom(!1);return d!==!1?f.createElement("span",{onClick:e.onExpand,className:s},d):null}),b(K(e),"renderCheckbox",function(){var n=e.props,a=n.checked,o=n.halfChecked,s=n.disableCheckbox,d=e.props.context.prefixCls,u=e.isDisabled(),v=e.isCheckable();if(!v)return null;var y=typeof v!="boolean"?v:null;return f.createElement("span",{className:ee("".concat(d,"-checkbox"),a&&"".concat(d,"-checkbox-checked"),!a&&o&&"".concat(d,"-checkbox-indeterminate"),(u||s)&&"".concat(d,"-checkbox-disabled")),onClick:e.onCheck},y)}),b(K(e),"renderIcon",function(){var n=e.props.loading,a=e.props.context.prefixCls;return f.createElement("span",{className:ee("".concat(a,"-iconEle"),"".concat(a,"-icon__").concat(e.getNodeState()||"docu"),n&&"".concat(a,"-icon_loading"))})}),b(K(e),"renderSelector",function(){var n=e.state.dragNodeHighlight,a=e.props,o=a.title,s=o===void 0?$r:o,d=a.selected,u=a.icon,v=a.loading,y=a.data,g=e.props.context,h=g.prefixCls,m=g.showIcon,x=g.icon,S=g.loadData,E=g.titleRender,C=e.isDisabled(),R="".concat(h,"-node-content-wrapper"),N;if(m){var k=u||x;N=k?f.createElement("span",{className:ee("".concat(h,"-iconEle"),"".concat(h,"-icon__customize"))},typeof k=="function"?k(e.props):k):e.renderIcon()}else S&&v&&(N=e.renderIcon());var D;typeof s=="function"?D=s(y):E?D=E(y):D=s;var $=f.createElement("span",{className:"".concat(h,"-title")},D);return f.createElement("span",{ref:e.setSelectHandle,title:typeof s=="string"?s:"",className:ee("".concat(R),"".concat(R,"-").concat(e.getNodeState()||"normal"),!C&&(d||n)&&"".concat(h,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},N,$,e.renderDropIndicator())}),b(K(e),"renderDropIndicator",function(){var n=e.props,a=n.disabled,o=n.eventKey,s=e.props.context,d=s.draggable,u=s.dropLevelOffset,v=s.dropPosition,y=s.prefixCls,g=s.indent,h=s.dropIndicatorRender,m=s.dragOverNodeKey,x=s.direction,S=!!d,E=!a&&S&&m===o,C=g??e.cacheIndent;return e.cacheIndent=g,E?h({dropPosition:v,dropLevelOffset:u,indent:C,prefixCls:y,direction:x}):null}),e}return lt(i,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var l=this.props.selectable,c=this.props.context.selectable;return typeof l=="boolean"?l:c}},{key:"render",value:function(){var l,c=this.props,p=c.eventKey,n=c.className,a=c.style,o=c.dragOver,s=c.dragOverGapTop,d=c.dragOverGapBottom,u=c.isLeaf,v=c.isStart,y=c.isEnd,g=c.expanded,h=c.selected,m=c.checked,x=c.halfChecked,S=c.loading,E=c.domRef,C=c.active;c.data;var R=c.onMouseMove,N=c.selectable,k=Ve(c,wr),D=this.props.context,$=D.prefixCls,P=D.filterTreeNode,O=D.keyEntities,A=D.dropContainerKey,I=D.dropTargetKey,j=D.draggingNodeKey,L=this.isDisabled(),H=Qt(k,{aria:!0,data:!0}),U=le(O,p)||{},W=U.level,ue=y[y.length-1],T=this.isDraggable(),Y=!L&&T,ae=j===p,de=N!==void 0?{"aria-selected":!!N}:void 0;return f.createElement("div",te({ref:E,className:ee(n,"".concat($,"-treenode"),(l={},b(b(b(b(b(b(b(b(b(b(l,"".concat($,"-treenode-disabled"),L),"".concat($,"-treenode-switcher-").concat(g?"open":"close"),!u),"".concat($,"-treenode-checkbox-checked"),m),"".concat($,"-treenode-checkbox-indeterminate"),x),"".concat($,"-treenode-selected"),h),"".concat($,"-treenode-loading"),S),"".concat($,"-treenode-active"),C),"".concat($,"-treenode-leaf-last"),ue),"".concat($,"-treenode-draggable"),T),"dragging",ae),b(b(b(b(b(b(l,"drop-target",I===p),"drop-container",A===p),"drag-over",!L&&o),"drag-over-gap-top",!L&&s),"drag-over-gap-bottom",!L&&d),"filter-node",P&&P(X(this.props))))),style:a,draggable:Y,"aria-grabbed":ae,onDragStart:Y?this.onDragStart:void 0,onDragEnter:T?this.onDragEnter:void 0,onDragOver:T?this.onDragOver:void 0,onDragLeave:T?this.onDragLeave:void 0,onDrop:T?this.onDrop:void 0,onDragEnd:T?this.onDragEnd:void 0,onMouseMove:R},de,H),f.createElement(Dr,{prefixCls:$,level:W,isStart:v,isEnd:y}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),i}(f.Component),je=function(r){return f.createElement(dt.Consumer,null,function(i){return f.createElement(Rr,te({},r,{context:i}))})};je.displayName="TreeNode";je.isTreeNode=1;function xe(t,r){if(!t)return[];var i=t.slice(),e=i.indexOf(r);return e>=0&&i.splice(e,1),i}function ke(t,r){var i=(t||[]).slice();return i.indexOf(r)===-1&&i.push(r),i}function ct(t){return t.split("-")}function Mr(t,r){var i=[],e=le(r,t);function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.forEach(function(p){var n=p.key,a=p.children;i.push(n),l(a)})}return l(e.children),i}function Or(t){if(t.parent){var r=ct(t.pos);return Number(r[r.length-1])===t.parent.children.length-1}return!1}function Pr(t){var r=ct(t.pos);return Number(r[r.length-1])===0}function Lt(t,r,i,e,l,c,p,n,a,o){var s,d=t.clientX,u=t.clientY,v=t.target.getBoundingClientRect(),y=v.top,g=v.height,h=(o==="rtl"?-1:1)*(((l==null?void 0:l.x)||0)-d),m=(h-12)/e,x=a.filter(function(L){var H;return(H=n[L])===null||H===void 0||(H=H.children)===null||H===void 0?void 0:H.length}),S=le(n,i.props.eventKey);if(u<y+g/2){var E=p.findIndex(function(L){return L.key===S.key}),C=E<=0?0:E-1,R=p[C].key;S=le(n,R)}var N=S.key,k=S,D=S.key,$=0,P=0;if(!x.includes(N))for(var O=0;O<m&&Or(S);O+=1)S=S.parent,P+=1;var A=r.props.data,I=S.node,j=!0;return Pr(S)&&S.level===0&&u<y+g/2&&c({dragNode:A,dropNode:I,dropPosition:-1})&&S.key===i.props.eventKey?$=-1:(k.children||[]).length&&x.includes(D)?c({dragNode:A,dropNode:I,dropPosition:0})?$=0:j=!1:P===0?m>-1.5?c({dragNode:A,dropNode:I,dropPosition:1})?$=1:j=!1:c({dragNode:A,dropNode:I,dropPosition:0})?$=0:c({dragNode:A,dropNode:I,dropPosition:1})?$=1:j=!1:c({dragNode:A,dropNode:I,dropPosition:1})?$=1:j=!1,{dropPosition:$,dropLevelOffset:P,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:D,dropContainerKey:$===0?null:((s=S.parent)===null||s===void 0?void 0:s.key)||null,dropAllowed:j}}function _t(t,r){if(t){var i=r.multiple;return i?t.slice():t.length?[t[0]]:t}}function ot(t){if(!t)return null;var r;if(Array.isArray(t))r={checkedKeys:t,halfCheckedKeys:void 0};else if(He(t)==="object")r={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return De(!1,"`checkedKeys` is not an array or an object"),null;return r}function Ht(t,r){var i=new Set;function e(l){if(!i.has(l)){var c=le(r,l);if(c){i.add(l);var p=c.parent,n=c.node;n.disabled||p&&e(p.key)}}}return(t||[]).forEach(function(l){e(l)}),Oe(i)}function Tr(t){var r=t.dropPosition,i=t.dropLevelOffset,e=t.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:l.top=0,l.left=-i*e;break;case 1:l.bottom=0,l.left=-i*e;break;case 0:l.bottom=0,l.left=e;break}return f.createElement("div",{style:l})}function on(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function Ir(t,r){var i=f.useState(!1),e=V(i,2),l=e[0],c=e[1];Ee(function(){if(l)return t(),function(){r()}},[l]),Ee(function(){return c(!0),function(){c(!1)}},[])}var Lr=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ln=function(r,i){var e=r.className,l=r.style,c=r.motion,p=r.motionNodes,n=r.motionType,a=r.onMotionStart,o=r.onMotionEnd,s=r.active,d=r.treeNodeRequiredProps,u=Ve(r,Lr),v=f.useState(!0),y=V(v,2),g=y[0],h=y[1],m=f.useContext(dt),x=m.prefixCls,S=p&&n!=="hide";Ee(function(){p&&S!==g&&h(S)},[p]);var E=function(){p&&a()},C=f.useRef(!1),R=function(){p&&!C.current&&(C.current=!0,o())};Ir(E,R);var N=function(D){S===D&&R()};return p?f.createElement(Rn,te({ref:i,visible:g},c,{motionAppear:n==="show",onVisibleChanged:N}),function(k,D){var $=k.className,P=k.style;return f.createElement("div",{ref:D,className:ee("".concat(x,"-treenode-motion"),$),style:P},p.map(function(O){var A=Object.assign({},(on(O.data),O.data)),I=O.title,j=O.key,L=O.isStart,H=O.isEnd;delete A.children;var U=Fe(j,d);return f.createElement(je,te({},A,U,{title:I,active:s,data:O.data,key:j,isStart:L,isEnd:H}))}))}):f.createElement(je,te({domRef:i,className:e,style:l},u,{active:s}))};ln.displayName="MotionTreeNode";var _r=f.forwardRef(ln);function Hr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=t.length,e=r.length;if(Math.abs(i-e)!==1)return{add:!1,key:null};function l(c,p){var n=new Map;c.forEach(function(o){n.set(o,!0)});var a=p.filter(function(o){return!n.has(o)});return a.length===1?a[0]:null}return i<e?{add:!0,key:l(t,r)}:{add:!1,key:l(r,t)}}function At(t,r,i){var e=t.findIndex(function(n){return n.key===i}),l=t[e+1],c=r.findIndex(function(n){return n.key===i});if(l){var p=r.findIndex(function(n){return n.key===l.key});return r.slice(c+1,p)}return r.slice(c+1)}var Ar=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],zt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},zr=function(){},Pe="RC_TREE_MOTION_".concat(Math.random()),it={key:Pe},sn={key:Pe,level:0,index:0,pos:"0",node:it,nodes:[it]},Bt={parent:null,children:[],pos:sn.pos,data:it,title:null,key:Pe,isStart:[],isEnd:[]};function Ft(t,r,i,e){return r===!1||!i?t:t.slice(0,Math.ceil(i/e)+1)}function jt(t){var r=t.key,i=t.pos;return Ue(r,i)}function Br(t){for(var r=String(t.data.key),i=t;i.parent;)i=i.parent,r="".concat(i.data.key," > ").concat(r);return r}var dn=f.forwardRef(function(t,r){var i=t.prefixCls,e=t.data;t.selectable,t.checkable;var l=t.expandedKeys,c=t.selectedKeys,p=t.checkedKeys,n=t.loadedKeys,a=t.loadingKeys,o=t.halfCheckedKeys,s=t.keyEntities,d=t.disabled,u=t.dragging,v=t.dragOverNodeKey,y=t.dropPosition,g=t.motion,h=t.height,m=t.itemHeight,x=t.virtual,S=t.focusable,E=t.activeItem,C=t.focused,R=t.tabIndex,N=t.onKeyDown,k=t.onFocus,D=t.onBlur,$=t.onActiveChange,P=t.onListChangeStart,O=t.onListChangeEnd,A=Ve(t,Ar),I=f.useRef(null),j=f.useRef(null);f.useImperativeHandle(r,function(){return{scrollTo:function(ie){I.current.scrollTo(ie)},getIndentWidth:function(){return j.current.offsetWidth}}});var L=f.useState(l),H=V(L,2),U=H[0],W=H[1],ue=f.useState(e),T=V(ue,2),Y=T[0],ae=T[1],de=f.useState(e),ge=V(de,2),ye=ge[0],q=ge[1],J=f.useState([]),ne=V(J,2),G=ne[0],B=ne[1],oe=f.useState(null),we=V(oe,2),Ke=we[0],me=we[1],$e=f.useRef(e);$e.current=e;function Ce(){var F=$e.current;ae(F),q(F),B([]),me(null),O()}Ee(function(){W(l);var F=Hr(U,l);if(F.key!==null)if(F.add){var ie=Y.findIndex(function(ce){var fe=ce.key;return fe===F.key}),se=Ft(At(Y,e,F.key),x,h,m),be=Y.slice();be.splice(ie+1,0,Bt),q(be),B(se),me("show")}else{var he=e.findIndex(function(ce){var fe=ce.key;return fe===F.key}),Me=Ft(At(e,Y,F.key),x,h,m),re=e.slice();re.splice(he+1,0,Bt),q(re),B(Me),me("hide")}else Y!==e&&(ae(e),q(e))},[l,e]),f.useEffect(function(){u||Ce()},[u]);var Ie=g?ye:e,Re={expandedKeys:l,selectedKeys:c,loadedKeys:n,loadingKeys:a,checkedKeys:p,halfCheckedKeys:o,dragOverNodeKey:v,dropPosition:y,keyEntities:s};return f.createElement(f.Fragment,null,C&&E&&f.createElement("span",{style:zt,"aria-live":"assertive"},Br(E)),f.createElement("div",null,f.createElement("input",{style:zt,disabled:S===!1||d,tabIndex:S!==!1?R:null,onKeyDown:N,onFocus:k,onBlur:D,value:"",onChange:zr,"aria-label":"for screen reader"})),f.createElement("div",{className:"".concat(i,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},f.createElement("div",{className:"".concat(i,"-indent")},f.createElement("div",{ref:j,className:"".concat(i,"-indent-unit")}))),f.createElement(en,te({},A,{data:Ie,itemKey:jt,height:h,fullHeight:!1,virtual:x,itemHeight:m,prefixCls:"".concat(i,"-list"),ref:I,onVisibleChange:function(ie){ie.every(function(se){return jt(se)!==Pe})&&Ce()}}),function(F){var ie=F.pos,se=Object.assign({},(on(F.data),F.data)),be=F.title,he=F.key,Me=F.isStart,re=F.isEnd,ce=Ue(he,ie);delete se.key,delete se.children;var fe=Fe(ce,Re);return f.createElement(_r,te({},se,fe,{title:be,active:!!E&&he===E.key,pos:ie,data:F.data,isStart:Me,isEnd:re,motion:g,motionNodes:he===Pe?G:null,motionType:Ke,onMotionStart:P,onMotionEnd:Ce,treeNodeRequiredProps:Re,onMouseMove:function(){$(null)}}))}))});dn.displayName="NodeList";var Fr=10,cn=function(t){Xt(i,t);var r=Yt(i);function i(){var e;st(this,i);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return e=r.call.apply(r,[this].concat(c)),b(K(e),"destroyed",!1),b(K(e),"delayedDragEnterLogic",void 0),b(K(e),"loadingRetryTimes",{}),b(K(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Xe()}),b(K(e),"dragStartMousePosition",null),b(K(e),"dragNode",void 0),b(K(e),"currentMouseOverDroppableNodeKey",null),b(K(e),"listRef",f.createRef()),b(K(e),"onNodeDragStart",function(n,a){var o=e.state,s=o.expandedKeys,d=o.keyEntities,u=e.props.onDragStart,v=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var y=xe(s,v);e.setState({draggingNodeKey:v,dragChildrenKeys:Mr(v,d),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(y),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:n,node:X(a.props)})}),b(K(e),"onNodeDragEnter",function(n,a){var o=e.state,s=o.expandedKeys,d=o.keyEntities,u=o.dragChildrenKeys,v=o.flattenNodes,y=o.indent,g=e.props,h=g.onDragEnter,m=g.onExpand,x=g.allowDrop,S=g.direction,E=a.props,C=E.pos,R=E.eventKey,N=K(e),k=N.dragNode;if(e.currentMouseOverDroppableNodeKey!==R&&(e.currentMouseOverDroppableNodeKey=R),!k){e.resetDragState();return}var D=Lt(n,k,a,y,e.dragStartMousePosition,x,v,d,s,S),$=D.dropPosition,P=D.dropLevelOffset,O=D.dropTargetKey,A=D.dropContainerKey,I=D.dropTargetPos,j=D.dropAllowed,L=D.dragOverNodeKey;if(u.indexOf(O)!==-1||!j){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(H){clearTimeout(e.delayedDragEnterLogic[H])}),k.props.eventKey!==a.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[C]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var H=Oe(s),U=le(d,a.props.eventKey);U&&(U.children||[]).length&&(H=ke(s,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(H),m==null||m(H,{node:X(a.props),expanded:!0,nativeEvent:n.nativeEvent})}},800)),k.props.eventKey===O&&P===0){e.resetDragState();return}e.setState({dragOverNodeKey:L,dropPosition:$,dropLevelOffset:P,dropTargetKey:O,dropContainerKey:A,dropTargetPos:I,dropAllowed:j}),h==null||h({event:n,node:X(a.props),expandedKeys:s})}),b(K(e),"onNodeDragOver",function(n,a){var o=e.state,s=o.dragChildrenKeys,d=o.flattenNodes,u=o.keyEntities,v=o.expandedKeys,y=o.indent,g=e.props,h=g.onDragOver,m=g.allowDrop,x=g.direction,S=K(e),E=S.dragNode;if(E){var C=Lt(n,E,a,y,e.dragStartMousePosition,m,d,u,v,x),R=C.dropPosition,N=C.dropLevelOffset,k=C.dropTargetKey,D=C.dropContainerKey,$=C.dropAllowed,P=C.dropTargetPos,O=C.dragOverNodeKey;s.indexOf(k)!==-1||!$||(E.props.eventKey===k&&N===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():R===e.state.dropPosition&&N===e.state.dropLevelOffset&&k===e.state.dropTargetKey&&D===e.state.dropContainerKey&&P===e.state.dropTargetPos&&$===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:R,dropLevelOffset:N,dropTargetKey:k,dropContainerKey:D,dropTargetPos:P,dropAllowed:$,dragOverNodeKey:O}),h==null||h({event:n,node:X(a.props)}))}}),b(K(e),"onNodeDragLeave",function(n,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;o==null||o({event:n,node:X(a.props)})}),b(K(e),"onWindowDragEnd",function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),b(K(e),"onNodeDragEnd",function(n,a){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),o==null||o({event:n,node:X(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),b(K(e),"onNodeDrop",function(n,a){var o,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=e.state,u=d.dragChildrenKeys,v=d.dropPosition,y=d.dropTargetKey,g=d.dropTargetPos,h=d.dropAllowed;if(h){var m=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),y!==null){var x=z(z({},Fe(y,e.getTreeNodeRequiredProps())),{},{active:((o=e.getActiveItem())===null||o===void 0?void 0:o.key)===y,data:le(e.state.keyEntities,y).node}),S=u.indexOf(y)!==-1;De(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var E=ct(g),C={event:n,node:X(x),dragNode:e.dragNode?X(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(u),dropToGap:v!==0,dropPosition:v+Number(E[E.length-1])};s||m==null||m(C),e.dragNode=null}}}),b(K(e),"cleanDragState",function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),b(K(e),"triggerExpandActionExpand",function(n,a){var o=e.state,s=o.expandedKeys,d=o.flattenNodes,u=a.expanded,v=a.key,y=a.isLeaf;if(!(y||n.shiftKey||n.metaKey||n.ctrlKey)){var g=d.filter(function(m){return m.key===v})[0],h=X(z(z({},Fe(v,e.getTreeNodeRequiredProps())),{},{data:g.data}));e.setExpandedKeys(u?xe(s,v):ke(s,v)),e.onNodeExpand(n,h)}}),b(K(e),"onNodeClick",function(n,a){var o=e.props,s=o.onClick,d=o.expandAction;d==="click"&&e.triggerExpandActionExpand(n,a),s==null||s(n,a)}),b(K(e),"onNodeDoubleClick",function(n,a){var o=e.props,s=o.onDoubleClick,d=o.expandAction;d==="doubleClick"&&e.triggerExpandActionExpand(n,a),s==null||s(n,a)}),b(K(e),"onNodeSelect",function(n,a){var o=e.state.selectedKeys,s=e.state,d=s.keyEntities,u=s.fieldNames,v=e.props,y=v.onSelect,g=v.multiple,h=a.selected,m=a[u.key],x=!h;x?g?o=ke(o,m):o=[m]:o=xe(o,m);var S=o.map(function(E){var C=le(d,E);return C?C.node:null}).filter(function(E){return E});e.setUncontrolledState({selectedKeys:o}),y==null||y(o,{event:"select",selected:x,node:a,selectedNodes:S,nativeEvent:n.nativeEvent})}),b(K(e),"onNodeCheck",function(n,a,o){var s=e.state,d=s.keyEntities,u=s.checkedKeys,v=s.halfCheckedKeys,y=e.props,g=y.checkStrictly,h=y.onCheck,m=a.key,x,S={event:"check",node:a,checked:o,nativeEvent:n.nativeEvent};if(g){var E=o?ke(u,m):xe(u,m),C=xe(v,m);x={checked:E,halfChecked:C},S.checkedNodes=E.map(function(P){return le(d,P)}).filter(function(P){return P}).map(function(P){return P.node}),e.setUncontrolledState({checkedKeys:E})}else{var R=at([].concat(Oe(u),[m]),!0,d),N=R.checkedKeys,k=R.halfCheckedKeys;if(!o){var D=new Set(N);D.delete(m);var $=at(Array.from(D),{checked:!1,halfCheckedKeys:k},d);N=$.checkedKeys,k=$.halfCheckedKeys}x=N,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=k,N.forEach(function(P){var O=le(d,P);if(O){var A=O.node,I=O.pos;S.checkedNodes.push(A),S.checkedNodesPositions.push({node:A,pos:I})}}),e.setUncontrolledState({checkedKeys:N},!1,{halfCheckedKeys:k})}h==null||h(x,S)}),b(K(e),"onNodeLoad",function(n){var a,o=n.key,s=e.state.keyEntities,d=le(s,o);if(!(d!=null&&(a=d.children)!==null&&a!==void 0&&a.length)){var u=new Promise(function(v,y){e.setState(function(g){var h=g.loadedKeys,m=h===void 0?[]:h,x=g.loadingKeys,S=x===void 0?[]:x,E=e.props,C=E.loadData,R=E.onLoad;if(!C||m.indexOf(o)!==-1||S.indexOf(o)!==-1)return null;var N=C(n);return N.then(function(){var k=e.state.loadedKeys,D=ke(k,o);R==null||R(D,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:D}),e.setState(function($){return{loadingKeys:xe($.loadingKeys,o)}}),v()}).catch(function(k){if(e.setState(function($){return{loadingKeys:xe($.loadingKeys,o)}}),e.loadingRetryTimes[o]=(e.loadingRetryTimes[o]||0)+1,e.loadingRetryTimes[o]>=Fr){var D=e.state.loadedKeys;De(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:ke(D,o)}),v()}y(k)}),{loadingKeys:ke(S,o)}})});return u.catch(function(){}),u}}),b(K(e),"onNodeMouseEnter",function(n,a){var o=e.props.onMouseEnter;o==null||o({event:n,node:a})}),b(K(e),"onNodeMouseLeave",function(n,a){var o=e.props.onMouseLeave;o==null||o({event:n,node:a})}),b(K(e),"onNodeContextMenu",function(n,a){var o=e.props.onRightClick;o&&(n.preventDefault(),o({event:n,node:a}))}),b(K(e),"onFocus",function(){var n=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];n==null||n.apply(void 0,o)}),b(K(e),"onBlur",function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];n==null||n.apply(void 0,o)}),b(K(e),"getTreeNodeRequiredProps",function(){var n=e.state,a=n.expandedKeys,o=n.selectedKeys,s=n.loadedKeys,d=n.loadingKeys,u=n.checkedKeys,v=n.halfCheckedKeys,y=n.dragOverNodeKey,g=n.dropPosition,h=n.keyEntities;return{expandedKeys:a||[],selectedKeys:o||[],loadedKeys:s||[],loadingKeys:d||[],checkedKeys:u||[],halfCheckedKeys:v||[],dragOverNodeKey:y,dropPosition:g,keyEntities:h}}),b(K(e),"setExpandedKeys",function(n){var a=e.state,o=a.treeData,s=a.fieldNames,d=rt(o,n,s);e.setUncontrolledState({expandedKeys:n,flattenNodes:d},!0)}),b(K(e),"onNodeExpand",function(n,a){var o=e.state.expandedKeys,s=e.state,d=s.listChanging,u=s.fieldNames,v=e.props,y=v.onExpand,g=v.loadData,h=a.expanded,m=a[u.key];if(!d){var x=o.indexOf(m),S=!h;if(De(h&&x!==-1||!h&&x===-1,"Expand state not sync with index check"),S?o=ke(o,m):o=xe(o,m),e.setExpandedKeys(o),y==null||y(o,{node:a,expanded:S,nativeEvent:n.nativeEvent}),S&&g){var E=e.onNodeLoad(a);E&&E.then(function(){var C=rt(e.state.treeData,o,u);e.setUncontrolledState({flattenNodes:C})}).catch(function(){var C=e.state.expandedKeys,R=xe(C,m);e.setExpandedKeys(R)})}}}),b(K(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),b(K(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),b(K(e),"onActiveChange",function(n){var a=e.state.activeKey,o=e.props,s=o.onActiveChange,d=o.itemScrollOffset,u=d===void 0?0:d;a!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:u}),s==null||s(n))}),b(K(e),"getActiveItem",function(){var n=e.state,a=n.activeKey,o=n.flattenNodes;return a===null?null:o.find(function(s){var d=s.key;return d===a})||null}),b(K(e),"offsetActiveKey",function(n){var a=e.state,o=a.flattenNodes,s=a.activeKey,d=o.findIndex(function(y){var g=y.key;return g===s});d===-1&&n<0&&(d=o.length),d=(d+n+o.length)%o.length;var u=o[d];if(u){var v=u.key;e.onActiveChange(v)}else e.onActiveChange(null)}),b(K(e),"onKeyDown",function(n){var a=e.state,o=a.activeKey,s=a.expandedKeys,d=a.checkedKeys,u=a.fieldNames,v=e.props,y=v.onKeyDown,g=v.checkable,h=v.selectable;switch(n.which){case _e.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case _e.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var m=e.getActiveItem();if(m&&m.data){var x=e.getTreeNodeRequiredProps(),S=m.data.isLeaf===!1||!!(m.data[u.children]||[]).length,E=X(z(z({},Fe(o,x)),{},{data:m.data,active:!0}));switch(n.which){case _e.LEFT:{S&&s.includes(o)?e.onNodeExpand({},E):m.parent&&e.onActiveChange(m.parent.key),n.preventDefault();break}case _e.RIGHT:{S&&!s.includes(o)?e.onNodeExpand({},E):m.children&&m.children.length&&e.onActiveChange(m.children[0].key),n.preventDefault();break}case _e.ENTER:case _e.SPACE:{g&&!E.disabled&&E.checkable!==!1&&!E.disableCheckbox?e.onNodeCheck({},E,!d.includes(o)):!g&&h&&!E.disabled&&E.selectable!==!1&&e.onNodeSelect({},E);break}}}y==null||y(n)}),b(K(e),"setUncontrolledState",function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var s=!1,d=!0,u={};Object.keys(n).forEach(function(v){if(v in e.props){d=!1;return}s=!0,u[v]=n[v]}),s&&(!a||d)&&e.setState(z(z({},u),o))}}),b(K(e),"scrollTo",function(n){e.listRef.current.scrollTo(n)}),e}return lt(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var l=this.props,c=l.activeKey,p=l.itemScrollOffset,n=p===void 0?0:p;c!==void 0&&c!==this.state.activeKey&&(this.setState({activeKey:c}),c!==null&&this.scrollTo({key:c,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var l=this.state,c=l.focused,p=l.flattenNodes,n=l.keyEntities,a=l.draggingNodeKey,o=l.activeKey,s=l.dropLevelOffset,d=l.dropContainerKey,u=l.dropTargetKey,v=l.dropPosition,y=l.dragOverNodeKey,g=l.indent,h=this.props,m=h.prefixCls,x=h.className,S=h.style,E=h.showLine,C=h.focusable,R=h.tabIndex,N=R===void 0?0:R,k=h.selectable,D=h.showIcon,$=h.icon,P=h.switcherIcon,O=h.draggable,A=h.checkable,I=h.checkStrictly,j=h.disabled,L=h.motion,H=h.loadData,U=h.filterTreeNode,W=h.height,ue=h.itemHeight,T=h.virtual,Y=h.titleRender,ae=h.dropIndicatorRender,de=h.onContextMenu,ge=h.onScroll,ye=h.direction,q=h.rootClassName,J=h.rootStyle,ne=Qt(this.props,{aria:!0,data:!0}),G;return O&&(He(O)==="object"?G=O:typeof O=="function"?G={nodeDraggable:O}:G={}),f.createElement(dt.Provider,{value:{prefixCls:m,selectable:k,showIcon:D,icon:$,switcherIcon:P,draggable:G,draggingNodeKey:a,checkable:A,checkStrictly:I,disabled:j,keyEntities:n,dropLevelOffset:s,dropContainerKey:d,dropTargetKey:u,dropPosition:v,dragOverNodeKey:y,indent:g,direction:ye,dropIndicatorRender:ae,loadData:H,filterTreeNode:U,titleRender:Y,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},f.createElement("div",{role:"tree",className:ee(m,x,q,b(b(b({},"".concat(m,"-show-line"),E),"".concat(m,"-focused"),c),"".concat(m,"-active-focused"),o!==null)),style:J},f.createElement(dn,te({ref:this.listRef,prefixCls:m,style:S,data:p,disabled:j,selectable:k,checkable:!!A,motion:L,dragging:a!==null,height:W,itemHeight:ue,virtual:T,focusable:C,focused:c,tabIndex:N,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:de,onScroll:ge},this.getTreeNodeRequiredProps(),ne))))}}],[{key:"getDerivedStateFromProps",value:function(l,c){var p=c.prevProps,n={prevProps:l};function a(N){return!p&&N in l||p&&p[N]!==l[N]}var o,s=c.fieldNames;if(a("fieldNames")&&(s=Xe(l.fieldNames),n.fieldNames=s),a("treeData")?o=l.treeData:a("children")&&(De(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),o=nr(l.children)),o){n.treeData=o;var d=ar(o,{fieldNames:s});n.keyEntities=z(b({},Pe,sn),d.keyEntities)}var u=n.keyEntities||c.keyEntities;if(a("expandedKeys")||p&&a("autoExpandParent"))n.expandedKeys=l.autoExpandParent||!p&&l.defaultExpandParent?Ht(l.expandedKeys,u):l.expandedKeys;else if(!p&&l.defaultExpandAll){var v=z({},u);delete v[Pe];var y=[];Object.keys(v).forEach(function(N){var k=v[N];k.children&&k.children.length&&y.push(k.key)}),n.expandedKeys=y}else!p&&l.defaultExpandedKeys&&(n.expandedKeys=l.autoExpandParent||l.defaultExpandParent?Ht(l.defaultExpandedKeys,u):l.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,o||n.expandedKeys){var g=rt(o||c.treeData,n.expandedKeys||c.expandedKeys,s);n.flattenNodes=g}if(l.selectable&&(a("selectedKeys")?n.selectedKeys=_t(l.selectedKeys,l):!p&&l.defaultSelectedKeys&&(n.selectedKeys=_t(l.defaultSelectedKeys,l))),l.checkable){var h;if(a("checkedKeys")?h=ot(l.checkedKeys)||{}:!p&&l.defaultCheckedKeys?h=ot(l.defaultCheckedKeys)||{}:o&&(h=ot(l.checkedKeys)||{checkedKeys:c.checkedKeys,halfCheckedKeys:c.halfCheckedKeys}),h){var m=h,x=m.checkedKeys,S=x===void 0?[]:x,E=m.halfCheckedKeys,C=E===void 0?[]:E;if(!l.checkStrictly){var R=at(S,!0,u);S=R.checkedKeys,C=R.halfCheckedKeys}n.checkedKeys=S,n.halfCheckedKeys=C}}return a("loadedKeys")&&(n.loadedKeys=l.loadedKeys),n}}]),i}(f.Component);b(cn,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Tr,allowDrop:function(){return!0},expandAction:!1});b(cn,"TreeNode",je);const jr=new On("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Vr=(t,r)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${r.motionDurationSlow}`}}}),Ur=(t,r)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:r.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${ve(r.lineWidthBold)} solid ${r.colorPrimary}`,borderRadius:"50%",content:'""'}}}),qr=(t,r)=>{const{treeCls:i,treeNodeCls:e,treeNodePadding:l,titleHeight:c,nodeSelectedBg:p,nodeHoverBg:n}=r,a=r.paddingXS;return{[i]:Object.assign(Object.assign({},Ge(r)),{background:r.colorBgContainer,borderRadius:r.borderRadius,transition:`background-color ${r.motionDurationSlow}`,[`&${i}-rtl`]:{[`${i}-switcher`]:{"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${i}-active-focused)`]:Object.assign({},Gt(r)),[`${i}-list-holder-inner`]:{alignItems:"flex-start"},[`&${i}-block-node`]:{[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${r.colorPrimary}`,opacity:0,animationName:jr,animationDuration:r.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[e]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${ve(l)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${i}-node-content-wrapper`]:{color:r.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${i}-node-content-wrapper`]:{background:r.controlItemBgHover},[`&:not(${e}-disabled).filter-node ${i}-title`]:{color:r.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${i}-draggable-icon`]:{flexShrink:0,width:c,lineHeight:ve(c),textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${r.motionDurationSlow}`,[`${e}:hover &`]:{opacity:.45}},[`&${e}-disabled`]:{[`${i}-draggable-icon`]:{visibility:"hidden"}}}},[`${i}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:c}},[`${i}-draggable-icon`]:{visibility:"hidden"},[`${i}-switcher`]:Object.assign(Object.assign({},Vr(t,r)),{position:"relative",flex:"none",alignSelf:"stretch",width:c,margin:0,lineHeight:ve(c),textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${r.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:c,height:c,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:r.borderRadius,transition:`all ${r.motionDurationSlow}`},[`&:not(${i}-switcher-noop):hover:before`]:{backgroundColor:r.colorBgTextHover},"&_close":{[`${i}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:r.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r.calc(c).div(2).equal(),bottom:r.calc(l).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${r.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:r.calc(r.calc(c).div(2).equal()).mul(.8).equal(),height:r.calc(c).div(2).equal(),borderBottom:`1px solid ${r.colorBorder}`,content:'""'}}}),[`${i}-checkbox`]:{top:"initial",marginInlineEnd:a,alignSelf:"flex-start",marginTop:r.marginXXS},[`${i}-node-content-wrapper, ${i}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:c,margin:0,padding:`0 ${ve(r.calc(r.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:ve(c),background:"transparent",borderRadius:r.borderRadius,cursor:"pointer",transition:`all ${r.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:n},[`&${i}-node-selected`]:{backgroundColor:p},[`${i}-iconEle`]:{display:"inline-block",width:c,height:c,lineHeight:ve(c),textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${i}-unselectable ${i}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}-node-content-wrapper`]:Object.assign({lineHeight:ve(c),userSelect:"none"},Ur(t,r)),[`${e}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${r.colorPrimary}`}},"&-show-line":{[`${i}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r.calc(c).div(2).equal(),bottom:r.calc(l).mul(-1).equal(),borderInlineEnd:`1px solid ${r.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${i}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last`]:{[`${i}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${ve(r.calc(c).div(2).equal())} !important`}}}}})}},Wr=t=>{const{treeCls:r,treeNodeCls:i,treeNodePadding:e,directoryNodeSelectedBg:l,directoryNodeSelectedColor:c}=t;return{[`${r}${r}-directory`]:{[i]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:e,insetInlineStart:0,transition:`background-color ${t.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:t.controlItemBgHover}},"> *":{zIndex:1},[`${r}-switcher`]:{transition:`color ${t.motionDurationMid}`},[`${r}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${r}-node-selected`]:{color:c,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:l},[`${r}-switcher`]:{color:c},[`${r}-node-content-wrapper`]:{color:c,background:"transparent"}}}}}},Gr=(t,r)=>{const i=`.${t}`,e=`${i}-treenode`,l=r.calc(r.paddingXS).div(2).equal(),c=Wt(r,{treeCls:i,treeNodeCls:e,treeNodePadding:l});return[qr(t,c),Wr(c)]},Xr=t=>{const{controlHeightSM:r}=t;return{titleHeight:r,nodeHoverBg:t.controlItemBgHover,nodeSelectedBg:t.controlItemBgActive}},Yr=t=>{const{colorTextLightSolid:r,colorPrimary:i}=t;return Object.assign(Object.assign({},Xr(t)),{directoryNodeSelectedColor:r,directoryNodeSelectedBg:i})},ia=qt("Tree",(t,r)=>{let{prefixCls:i}=r;return[{[t.componentCls]:rn(`${i}-checkbox`,t)},Gr(i,t),Mn(t)]},Yr),la=t=>{const{prefixCls:r,switcherIcon:i,treeNodeProps:e,showLine:l,switcherLoadingIcon:c}=t,{isLeaf:p,expanded:n,loading:a}=e;if(a)return f.isValidElement(c)?c:f.createElement(Pn,{className:`${r}-switcher-loading-icon`});let o;if(l&&typeof l=="object"&&(o=l.showLeafIcon),p){if(!l)return null;if(typeof o!="boolean"&&o){const u=typeof o=="function"?o(e):o,v=`${r}-switcher-line-custom-icon`;return f.isValidElement(u)?wt(u,{className:ee(u.props.className||"",v)}):u}return o?f.createElement(yr,{className:`${r}-switcher-line-icon`}):f.createElement("span",{className:`${r}-switcher-leaf-line`})}const s=`${r}-switcher-icon`,d=typeof i=="function"?i(e):i;return f.isValidElement(d)?wt(d,{className:ee(d.props.className||"",s)}):d!==void 0?d:l?n?f.createElement(Kr,{className:`${r}-switcher-line-icon`}):f.createElement(an,{className:`${r}-switcher-line-icon`}):f.createElement(ur,{className:s})};let We;const Qr=new Uint8Array(16);function Zr(){if(!We&&(We=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!We))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return We(Qr)}const Z=[];for(let t=0;t<256;++t)Z.push((t+256).toString(16).slice(1));function Jr(t,r=0){return Z[t[r+0]]+Z[t[r+1]]+Z[t[r+2]]+Z[t[r+3]]+"-"+Z[t[r+4]]+Z[t[r+5]]+"-"+Z[t[r+6]]+Z[t[r+7]]+"-"+Z[t[r+8]]+Z[t[r+9]]+"-"+Z[t[r+10]]+Z[t[r+11]]+Z[t[r+12]]+Z[t[r+13]]+Z[t[r+14]]+Z[t[r+15]]}const ea=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Vt={randomUUID:ea};function ta(t,r,i){if(Vt.randomUUID&&!r&&!t)return Vt.randomUUID();t=t||{};const e=t.random||(t.rng||Zr)();return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Jr(e)}const sa=()=>ta(),da={weight:1,type:"element",position:"left"},ca={weight:90,icon:Te.jsx(an,{}),position:"right",hotKeys:[{key:"Insert"}]},ua={weight:100,icon:Te.jsx(Tn,{}),position:"right",hotKeys:[{key:"Enter"}]},fa={weight:110,icon:Te.jsx(_n,{}),position:"right",hotKeys:[{key:"Insert"}]},va={weight:115,icon:Te.jsx(Sr,{}),position:"right"},ha={weight:120,icon:Te.jsx(In,{}),position:"right",hotKeys:[{key:"F9"}]},pa={weight:130,icon:Te.jsx(Ln,{}),position:"right",hotKeys:[{key:"Enter"},{key:"F2"}]},ga={weight:140,icon:Te.jsx(hr,{}),position:"right",colorType:"danger",hotKeys:[{key:"Delete",ctrl:!0}]};export{je as C,en as L,yr as R,la as S,cn as T,ua as a,fa as b,ha as c,da as d,pa as e,ca as f,ga as g,ia as h,Xe as i,ar as j,Ht as k,nr as l,at as m,Xr as n,sa as o,Gr as p,rn as q,va as r,oa as u};
