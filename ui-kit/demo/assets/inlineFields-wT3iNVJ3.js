import{r as s,b as ne,u as ae,d as oe,e as V,f as A,h as se,i as H,W,w as q,C as K,F as ce,k as re,l as le,m as X,T as ue,n as ie,o as de,p as U,j as g,S as me,a as he}from"./index-CtAjfk3U.js";import{D as ve}from"./isArray-Dq3mFmoY.js";import{I as T}from"./inputField-i3gDy1o8.js";import{I as B}from"./inlineGroupField-B-kKho5M.js";import{B as J}from"./baseField-CLOOMrMa.js";import{u as Q}from"./defaultButtonsProps-BFWSm065.js";import{P as be}from"./passwordField-BIusE14l.js";import{N as Ce}from"./numberField-Y6rNbDcV.js";import{T as ge}from"./treeSelectField-n2q6sRnM.js";import{S as xe}from"./selectField-CcZFqXQc.js";var ke=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ye=s.forwardRef(function(t,e){var c=t.prefixCls,o=c===void 0?"rc-checkbox":c,u=t.className,v=t.style,a=t.checked,n=t.disabled,F=t.defaultChecked,f=F===void 0?!1:F,m=t.type,S=m===void 0?"checkbox":m,R=t.title,d=t.onChange,N=ne(t,ke),k=s.useRef(null),h=s.useRef(null),r=ae(f,{value:a}),D=oe(r,2),j=D[0],E=D[1];s.useImperativeHandle(e,function(){return{focus:function(i){var C;(C=k.current)===null||C===void 0||C.focus(i)},blur:function(){var i;(i=k.current)===null||i===void 0||i.blur()},input:k.current,nativeElement:h.current}});var b=V(o,u,A(A({},"".concat(o,"-checked"),j),"".concat(o,"-disabled"),n)),x=function(i){n||("checked"in t||E(i.target.checked),d==null||d({target:H(H({},t),{},{type:S,checked:i.target.checked}),stopPropagation:function(){i.stopPropagation()},preventDefault:function(){i.preventDefault()},nativeEvent:i.nativeEvent}))};return s.createElement("span",{className:b,title:R,style:v,ref:h},s.createElement("input",se({},N,{className:"".concat(o,"-input"),ref:k,onChange:x,disabled:n,checked:!!j,type:S})),s.createElement("span",{className:"".concat(o,"-inner")}))});function pe(t){const e=W.useRef(null),c=()=>{q.cancel(e.current),e.current=null};return[()=>{c(),e.current=q(()=>{e.current=null})},v=>{e.current&&(v.stopPropagation(),c()),t==null||t(v)}]}const Y=W.createContext(null);var _e=function(t,e){var c={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(c[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(t);u<o.length;u++)e.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(t,o[u])&&(c[o[u]]=t[o[u]]);return c};const fe=(t,e)=>{var c;const{prefixCls:o,className:u,rootClassName:v,children:a,indeterminate:n=!1,style:F,onMouseEnter:f,onMouseLeave:m,skipGroup:S=!1,disabled:R}=t,d=_e(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:N,direction:k,checkbox:h}=s.useContext(K),r=s.useContext(Y),{isFormItemInput:D}=s.useContext(ce),j=s.useContext(re),E=(c=(r==null?void 0:r.disabled)||R)!==null&&c!==void 0?c:j,b=s.useRef(d.value),x=s.useRef(null),w=le(e,x);s.useEffect(()=>{r==null||r.registerValue(d.value)},[]),s.useEffect(()=>{if(!S)return d.value!==b.current&&(r==null||r.cancelValue(b.current),r==null||r.registerValue(d.value),b.current=d.value),()=>r==null?void 0:r.cancelValue(d.value)},[d.value]),s.useEffect(()=>{var O;!((O=x.current)===null||O===void 0)&&O.input&&(x.current.input.indeterminate=n)},[n]);const i=N("checkbox",o),C=X(i),[I,M,$]=Q(i,C),y=Object.assign({},d);r&&!S&&(y.onChange=function(){d.onChange&&d.onChange.apply(d,arguments),r.toggleOption&&r.toggleOption({label:a,value:d.value})},y.name=r.name,y.checked=r.value.includes(d.value));const L=V(`${i}-wrapper`,{[`${i}-rtl`]:k==="rtl",[`${i}-wrapper-checked`]:y.checked,[`${i}-wrapper-disabled`]:E,[`${i}-wrapper-in-form-item`]:D},h==null?void 0:h.className,u,v,$,C,M),l=V({[`${i}-indeterminate`]:n},ue,M),[p,_]=pe(y.onClick);return I(s.createElement(ie,{component:"Checkbox",disabled:E},s.createElement("label",{className:L,style:Object.assign(Object.assign({},h==null?void 0:h.style),F),onMouseEnter:f,onMouseLeave:m,onClick:p},s.createElement(ye,Object.assign({},y,{onClick:_,prefixCls:i,className:l,disabled:E,ref:w})),a!==void 0&&s.createElement("span",{className:`${i}-label`},a))))},Z=s.forwardRef(fe);var Se=function(t,e){var c={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(c[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(t);u<o.length;u++)e.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(t,o[u])&&(c[o[u]]=t[o[u]]);return c};const Ee=s.forwardRef((t,e)=>{const{defaultValue:c,children:o,options:u=[],prefixCls:v,className:a,rootClassName:n,style:F,onChange:f}=t,m=Se(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:S,direction:R}=s.useContext(K),[d,N]=s.useState(m.value||c||[]),[k,h]=s.useState([]);s.useEffect(()=>{"value"in m&&N(m.value||[])},[m.value]);const r=s.useMemo(()=>u.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),[u]),D=l=>{h(p=>p.filter(_=>_!==l))},j=l=>{h(p=>[].concat(U(p),[l]))},E=l=>{const p=d.indexOf(l.value),_=U(d);p===-1?_.push(l.value):_.splice(p,1),"value"in m||N(_),f==null||f(_.filter(O=>k.includes(O)).sort((O,P)=>{const ee=r.findIndex(G=>G.value===O),te=r.findIndex(G=>G.value===P);return ee-te}))},b=S("checkbox",v),x=`${b}-group`,w=X(b),[i,C,I]=Q(b,w),M=de(m,["value","disabled"]),$=u.length?r.map(l=>s.createElement(Z,{prefixCls:b,key:l.value.toString(),disabled:"disabled"in l?l.disabled:m.disabled,value:l.value,checked:d.includes(l.value),onChange:l.onChange,className:`${x}-item`,style:l.style,title:l.title,id:l.id,required:l.required},l.label)):o,y={toggleOption:E,value:d,disabled:m.disabled,name:m.name,registerValue:j,cancelValue:D},L=V(x,{[`${x}-rtl`]:R==="rtl"},a,n,I,w,C);return i(s.createElement("div",Object.assign({className:L,style:F},M,{ref:e}),s.createElement(Y.Provider,{value:y},$)))}),z=Z;z.Group=Ee;z.__ANT_CHECKBOX=!0;const we=({field:t})=>{s.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const e=t.getName(),c=t.getProps(),o=t.getValue(),u=s.useCallback(n=>{t.isReady()&&(t.setValue(n.target.checked||!1),t.setTouched(!0),t.setDirty(!0))},[t]);s.useEffect(()=>{t.setReady(!0)},[t,e]);const a={...{width:t.getWidth()},...c.style};return g.jsx(z,{className:c.className,checked:o,disabled:t.isDisabled()||t.isReadOnly(),onChange:u,autoFocus:c.autoFocus,indeterminate:c.indeterminate,style:a})};class Oe extends J{noGrowWidth(){return!0}render(){return g.jsx(we,{field:this})}}const Fe=({field:t})=>{s.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const e=t.getProps(),c=t.getValue(),o=s.useCallback(a=>{var n;t.setTouched(!0),(n=e==null?void 0:e.onClick)==null||n.call(e,a,t)},[t,e]);s.useEffect(()=>{t.setReady(!0)},[t]);const v={...{width:t.getWidth()??"100%"},...e.style};return g.jsx("a",{className:e.className,href:e.href,target:e.target,style:v,onClick:a=>o(a),onContextMenu:a=>{var n;return(n=e==null?void 0:e.onContextMenu)==null?void 0:n.call(e,a,t)},onDoubleClick:a=>{var n;return(n=e==null?void 0:e.onDoubleClick)==null?void 0:n.call(e,a,t)},onDrag:a=>{var n;return(n=e==null?void 0:e.onDrag)==null?void 0:n.call(e,a,t)},onDragEnd:a=>{var n;return(n=e==null?void 0:e.onDragEnd)==null?void 0:n.call(e,a,t)},onDragEnter:a=>{var n;return(n=e==null?void 0:e.onDragEnter)==null?void 0:n.call(e,a,t)},onDragExit:a=>{var n;return(n=e==null?void 0:e.onDragExit)==null?void 0:n.call(e,a,t)},onDragLeave:a=>{var n;return(n=e==null?void 0:e.onDragLeave)==null?void 0:n.call(e,a,t)},onDragOver:a=>{var n;return(n=e==null?void 0:e.onDragOver)==null?void 0:n.call(e,a,t)},onDragStart:a=>{var n;return(n=e==null?void 0:e.onDragStart)==null?void 0:n.call(e,a,t)},onMouseDown:a=>{var n;return(n=e==null?void 0:e.onMouseDown)==null?void 0:n.call(e,a,t)},onMouseEnter:a=>{var n;return(n=e==null?void 0:e.onMouseEnter)==null?void 0:n.call(e,a,t)},onMouseLeave:a=>{var n;return(n=e==null?void 0:e.onMouseLeave)==null?void 0:n.call(e,a,t)},onMouseMove:a=>{var n;return(n=e==null?void 0:e.onMouseMove)==null?void 0:n.call(e,a,t)},onMouseOut:a=>{var n;return(n=e==null?void 0:e.onMouseOut)==null?void 0:n.call(e,a,t)},onMouseOver:a=>{var n;return(n=e==null?void 0:e.onMouseOver)==null?void 0:n.call(e,a,t)},onBlur:a=>{var n;return(n=e==null?void 0:e.onBlur)==null?void 0:n.call(e,a,t)},onFocus:a=>{var n;return(n=e==null?void 0:e.onFocus)==null?void 0:n.call(e,a,t)},onMouseUp:a=>{var n;return(n=e==null?void 0:e.onMouseUp)==null?void 0:n.call(e,a,t)},children:c})};class Ne extends J{render(){return g.jsx(Fe,{field:this})}}const We=()=>{const[t,e]=W.useState(!1),c=De(t);return g.jsxs("div",{children:[g.jsx("h1",{children:"Form example with inline fields"}),g.jsxs("div",{style:{maxWidth:1e3,border:"1px solid gray",padding:5},children:[g.jsx(me,{style:{marginBottom:30},children:g.jsx(he,{checkedChildren:"Horizontal",unCheckedChildren:"Vertical",onChange:()=>e(o=>!o)})}),g.jsx(ve,{...c})]})]})},De=t=>({layout:t?"horizontal":"vertical",fieldsProps:{inline1:{component:B,fieldsProps:{field1_1:{component:T,label:"Field1_1",placeholder:"200px",width:200},field1_2:{component:be,label:"Field1_2",placeholder:"auto (not set)",autoFocus:!0},field1_3:{component:Ce,label:"Field1_3",placeholder:"100px",width:100}}},inline2:{component:B,fieldsProps:{field2_1:{component:ge,label:"Field2_1",placeholder:"50%",width:"50%"},field2_2:{component:xe,label:"Field2_2",placeholder:"auto (not set)"},field2_3:{component:Ne,label:"Field2_3",href:"https://test.ru/link",defaultValue:"https://test.ru/link",placeholder:"20%",width:"20%"}}},inline3:{component:B,fieldsProps:{field3_1:{component:T,label:"Field3_1",placeholder:"auto (not set)"},field3_2:{component:T,label:"Field3_2",placeholder:"100px",width:"100px"},field3_3:{component:Oe,label:"Field3_3",width:50}}}},buttons:{ok:{position:"right"}}});export{We as E,De as u};
