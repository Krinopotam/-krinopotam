import{r as v,B as I,h as P,O as At,_ as J,a as te,f as z,P as he,bx as at,by as ot,bz as mn,M as Ke,l as Te,i as ze,av as xt,br as Kt,w as Re,t as bn,n as Me,x as Sn,m as zt,g as Bt,d as qe,bA as nt,u as pe,bB as Ft,bC as qt,bD as $e,bE as Wt,C as xn,K as Pe,A as Be,p as Kn,ae as Cn,a$ as En,b6 as Ct,y as Et}from"./index-353109d5.js";var jt=v.forwardRef(function(t,r){var o=t.height,e=t.offsetY,l=t.offsetX,s=t.children,p=t.prefixCls,n=t.onInnerResize,a=t.innerProps,i=t.rtl,d=t.extra,c={},u={display:"flex",flexDirection:"column"};if(e!==void 0){var f;c={height:o,position:"relative",overflow:"hidden"},u=I(I({},u),{},(f={transform:"translateY(".concat(e,"px)")},P(f,i?"marginRight":"marginLeft",-l),P(f,"position","absolute"),P(f,"left",0),P(f,"right",0),P(f,"top",0),f))}return v.createElement("div",{style:c},v.createElement(At,{onResize:function(y){var m=y.offsetHeight;m&&n&&n()}},v.createElement("div",J({style:u,className:te(P({},"".concat(p,"-holder-inner"),p)),ref:r},a),s,d)))});jt.displayName="Filler";function Nt(t,r){var o="touches"in t?t.touches[0]:t;return o[r?"pageX":"pageY"]}var kt=v.forwardRef(function(t,r){var o,e=t.prefixCls,l=t.rtl,s=t.scrollOffset,p=t.scrollRange,n=t.onStartMove,a=t.onStopMove,i=t.onScroll,d=t.horizontal,c=t.spinSize,u=t.containerSize,f=t.style,g=t.thumbStyle,y=v.useState(!1),m=z(y,2),h=m[0],b=m[1],S=v.useState(null),x=z(S,2),K=x[0],N=x[1],E=v.useState(null),k=z(E,2),C=k[0],R=k[1],M=!l,O=v.useRef(),D=v.useRef(),T=v.useState(!1),B=z(T,2),F=B[0],A=B[1],_=v.useRef(),ie=function(){clearTimeout(_.current),A(!0),_.current=setTimeout(function(){A(!1)},3e3)},le=p-u||0,V=u-c||0,X=le>0,U=v.useMemo(function(){if(s===0||le===0)return 0;var Y=s/le;return Y*V},[s,le,V]),ge=function(W){W.stopPropagation(),W.preventDefault()},ce=v.useRef({top:U,dragging:h,pageY:K,startTop:C});ce.current={top:U,dragging:h,pageY:K,startTop:C};var ye=function(W){b(!0),N(Nt(W,d)),R(ce.current.top),n(),W.stopPropagation(),W.preventDefault()};v.useEffect(function(){var Y=function(Ee){Ee.preventDefault()},W=O.current,ue=D.current;return W.addEventListener("touchstart",Y),ue.addEventListener("touchstart",ye),function(){W.removeEventListener("touchstart",Y),ue.removeEventListener("touchstart",ye)}},[]);var de=v.useRef();de.current=le;var me=v.useRef();me.current=V,v.useEffect(function(){if(h){var Y,W=function(Ee){var be=ce.current,Le=be.dragging,Se=be.pageY,H=be.startTop;if(he.cancel(Y),Le){var oe=Nt(Ee,d)-Se,ne=H;!M&&d?ne-=oe:ne+=oe;var fe=de.current,re=me.current,Q=re?ne/re:0,ee=Math.ceil(Q*fe);ee=Math.max(ee,0),ee=Math.min(ee,fe),Y=he(function(){i(ee,d)})}},ue=function(){b(!1),a()};return window.addEventListener("mousemove",W),window.addEventListener("touchmove",W),window.addEventListener("mouseup",ue),window.addEventListener("touchend",ue),function(){window.removeEventListener("mousemove",W),window.removeEventListener("touchmove",W),window.removeEventListener("mouseup",ue),window.removeEventListener("touchend",ue),he.cancel(Y)}}},[h]),v.useEffect(function(){ie()},[s]),v.useImperativeHandle(r,function(){return{delayHidden:ie}});var ae="".concat(e,"-scrollbar"),q={position:"absolute",visibility:F&&X?null:"hidden"},G={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return d?(q.height=8,q.left=0,q.right=0,q.bottom=0,G.height="100%",G.width=c,M?G.left=U:G.right=U):(q.width=8,q.top=0,q.bottom=0,M?q.right=0:q.left=0,G.width="100%",G.height=c,G.top=U),v.createElement("div",{ref:O,className:te(ae,(o={},P(o,"".concat(ae,"-horizontal"),d),P(o,"".concat(ae,"-vertical"),!d),P(o,"".concat(ae,"-visible"),F),o)),style:I(I({},q),f),onMouseDown:ge,onMouseMove:ie},v.createElement("div",{ref:D,className:te("".concat(ae,"-thumb"),P({},"".concat(ae,"-thumb-moving"),h)),style:I(I({},G),g),onMouseDown:ye}))});function Nn(t){var r=t.children,o=t.setRef,e=v.useCallback(function(l){o(l)},[]);return v.cloneElement(r,{ref:e})}function kn(t,r,o,e,l,s,p){var n=p.getKey;return t.slice(r,o+1).map(function(a,i){var d=r+i,c=s(a,d,{style:{width:e}}),u=n(a);return v.createElement(Nn,{key:u,setRef:function(g){return l(a,g)}},c)})}var Dn=function(){function t(){ot(this,t),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return at(t,[{key:"set",value:function(o,e){this.maps[o]=e,this.id+=1}},{key:"get",value:function(o){return this.maps[o]}}]),t}();function wn(t,r,o){var e=v.useState(0),l=z(e,2),s=l[0],p=l[1],n=v.useRef(new Map),a=v.useRef(new Dn),i=v.useRef();function d(){he.cancel(i.current)}function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;d();var g=function(){n.current.forEach(function(m,h){if(m&&m.offsetParent){var b=mn(m),S=b.offsetHeight;a.current.get(h)!==S&&a.current.set(h,b.offsetHeight)}}),p(function(m){return m+1})};f?g():i.current=he(g)}function u(f,g){var y=t(f),m=n.current.get(y);g?(n.current.set(y,g),c()):n.current.delete(y),!m!=!g&&(g?r==null||r(f):o==null||o(f))}return v.useEffect(function(){return d},[]),[u,c,a.current,s]}var $n=10;function Rn(t,r,o,e,l,s,p,n){var a=v.useRef(),i=v.useState(null),d=z(i,2),c=d[0],u=d[1];return Ke(function(){if(c&&c.times<$n){if(!t.current){u(function(ie){return I({},ie)});return}s();var f=c.targetAlign,g=c.originAlign,y=c.index,m=c.offset,h=t.current.clientHeight,b=!1,S=f,x=null;if(h){for(var K=f||g,N=0,E=0,k=0,C=Math.min(r.length-1,y),R=0;R<=C;R+=1){var M=l(r[R]);E=N;var O=o.get(M);k=E+(O===void 0?e:O),N=k}for(var D=K==="top"?m:h-m,T=C;T>=0;T-=1){var B=l(r[T]),F=o.get(B);if(F===void 0){b=!0;break}if(D-=F,D<=0)break}switch(K){case"top":x=E-m;break;case"bottom":x=k-h+m;break;default:{var A=t.current.scrollTop,_=A+h;E<A?S="top":k>_&&(S="bottom")}}x!==null&&p(x),x!==c.lastTop&&(b=!0)}b&&u(I(I({},c),{},{times:c.times+1,targetAlign:S,lastTop:x}))}},[c,t.current]),function(f){if(f==null){n();return}if(he.cancel(a.current),typeof f=="number")p(f);else if(f&&Te(f)==="object"){var g,y=f.align;"index"in f?g=f.index:g=r.findIndex(function(b){return l(b)===f.key});var m=f.offset,h=m===void 0?0:m;u({times:0,index:g,offset:h,originAlign:y})}}}function Mn(t,r,o){var e=t.length,l=r.length,s,p;if(e===0&&l===0)return null;e<l?(s=t,p=r):(s=r,p=t);var n={__EMPTY_ITEM__:!0};function a(g){return g!==void 0?o(g):n}for(var i=null,d=Math.abs(e-l)!==1,c=0;c<p.length;c+=1){var u=a(s[c]),f=a(p[c]);if(u!==f){i=c,d=d||u!==a(p[c+1]);break}}return i===null?null:{index:i,multiple:d}}function On(t,r,o){var e=v.useState(t),l=z(e,2),s=l[0],p=l[1],n=v.useState(null),a=z(n,2),i=a[0],d=a[1];return v.useEffect(function(){var c=Mn(s||[],t||[],r);(c==null?void 0:c.index)!==void 0&&(o==null||o(c.index),d(t[c.index])),p(t)},[t]),[i]}var Dt=(typeof navigator>"u"?"undefined":Te(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Vt=function(t,r){var o=v.useRef(!1),e=v.useRef(null);function l(){clearTimeout(e.current),o.current=!0,e.current=setTimeout(function(){o.current=!1},50)}var s=v.useRef({top:t,bottom:r});return s.current.top=t,s.current.bottom=r,function(p){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=p<0&&s.current.top||p>0&&s.current.bottom;return n&&a?(clearTimeout(e.current),o.current=!1):(!a||o.current)&&l(),!o.current&&a}};function Pn(t,r,o,e,l){var s=v.useRef(0),p=v.useRef(null),n=v.useRef(null),a=v.useRef(!1),i=Vt(r,o);function d(m,h){he.cancel(p.current),s.current+=h,n.current=h,!i(h)&&(Dt||m.preventDefault(),p.current=he(function(){var b=a.current?10:1;l(s.current*b),s.current=0}))}function c(m,h){l(h,!0),Dt||m.preventDefault()}var u=v.useRef(null),f=v.useRef(null);function g(m){if(t){he.cancel(f.current),f.current=he(function(){u.current=null},2);var h=m.deltaX,b=m.deltaY,S=m.shiftKey,x=h,K=b;(u.current==="sx"||!u.current&&S&&b&&!h)&&(x=b,K=0,u.current="sx");var N=Math.abs(x),E=Math.abs(K);u.current===null&&(u.current=e&&N>E?"x":"y"),u.current==="y"?d(m,K):c(m,x)}}function y(m){t&&(a.current=m.detail===n.current)}return[g,y]}var Tn=14/15;function Ln(t,r,o){var e=v.useRef(!1),l=v.useRef(0),s=v.useRef(null),p=v.useRef(null),n,a=function(u){if(e.current){var f=Math.ceil(u.touches[0].pageY),g=l.current-f;l.current=f,o(g)&&u.preventDefault(),clearInterval(p.current),p.current=setInterval(function(){g*=Tn,(!o(g,!0)||Math.abs(g)<=.1)&&clearInterval(p.current)},16)}},i=function(){e.current=!1,n()},d=function(u){n(),u.touches.length===1&&!e.current&&(e.current=!0,l.current=Math.ceil(u.touches[0].pageY),s.current=u.target,s.current.addEventListener("touchmove",a),s.current.addEventListener("touchend",i))};n=function(){s.current&&(s.current.removeEventListener("touchmove",a),s.current.removeEventListener("touchend",i))},Ke(function(){return t&&r.current.addEventListener("touchstart",d),function(){var c;(c=r.current)===null||c===void 0||c.removeEventListener("touchstart",d),n(),clearInterval(p.current)}},[t])}var In=20;function wt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=t/r*100;return isNaN(o)&&(o=0),o=Math.max(o,In),o=Math.min(o,t/2),Math.floor(o)}function Hn(t,r,o,e){var l=v.useMemo(function(){return[new Map,[]]},[t,o.id,e]),s=z(l,2),p=s[0],n=s[1],a=function(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,u=p.get(d),f=p.get(c);if(u===void 0||f===void 0)for(var g=t.length,y=n.length;y<g;y+=1){var m,h=t[y],b=r(h);p.set(b,y);var S=(m=o.get(b))!==null&&m!==void 0?m:e;if(n[y]=(n[y-1]||0)+S,b===d&&(u=y),b===c&&(f=y),u!==void 0&&f!==void 0)break}return{top:n[u-1]||0,bottom:n[f]}};return a}var _n=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],An=[],zn={overflowY:"auto",overflowAnchor:"none"};function Bn(t,r){var o=t.prefixCls,e=o===void 0?"rc-virtual-list":o,l=t.className,s=t.height,p=t.itemHeight,n=t.fullHeight,a=n===void 0?!0:n,i=t.style,d=t.data,c=t.children,u=t.itemKey,f=t.virtual,g=t.direction,y=t.scrollWidth,m=t.component,h=m===void 0?"div":m,b=t.onScroll,S=t.onVirtualScroll,x=t.onVisibleChange,K=t.innerProps,N=t.extraRender,E=t.styles,k=ze(t,_n),C=!!(f!==!1&&s&&p),R=C&&d&&(p*d.length>s||!!y),M=g==="rtl",O=te(e,P({},"".concat(e,"-rtl"),M),l),D=d||An,T=v.useRef(),B=v.useRef(),F=v.useState(0),A=z(F,2),_=A[0],ie=A[1],le=v.useState(0),V=z(le,2),X=V[0],U=V[1],ge=v.useState(!1),ce=z(ge,2),ye=ce[0],de=ce[1],me=function(){de(!0)},ae=function(){de(!1)},q=v.useCallback(function(w){return typeof u=="function"?u(w):w==null?void 0:w[u]},[u]),G={getKey:q};function Y(w){ie(function($){var L;typeof w=="function"?L=w($):L=w;var Z=ln(L);return T.current.scrollTop=Z,Z})}var W=v.useRef({start:0,end:D.length}),ue=v.useRef(),Ce=On(D,q),Ee=z(Ce,1),be=Ee[0];ue.current=be;var Le=wn(q,null,null),Se=z(Le,4),H=Se[0],oe=Se[1],ne=Se[2],fe=Se[3],re=v.useMemo(function(){if(!C)return{scrollHeight:void 0,start:0,end:D.length-1,offset:void 0};if(!R){var w;return{scrollHeight:((w=B.current)===null||w===void 0?void 0:w.offsetHeight)||0,start:0,end:D.length-1,offset:void 0}}for(var $=0,L,Z,De,hn=D.length,He=0;He<hn;He+=1){var gn=D[He],yn=q(gn),St=ne.get(yn),Je=$+(St===void 0?p:St);Je>=_&&L===void 0&&(L=He,Z=$),Je>_+s&&De===void 0&&(De=He),$=Je}return L===void 0&&(L=0,Z=0,De=Math.ceil(s/p)),De===void 0&&(De=D.length-1),De=Math.min(De+1,D.length-1),{scrollHeight:$,start:L,end:De,offset:Z}},[R,C,_,D,fe,s]),Q=re.scrollHeight,ee=re.start,ve=re.end,Ne=re.offset;W.current.start=ee,W.current.end=ve;var st=v.useState({width:0,height:s}),dt=z(st,2),ke=dt[0],nn=dt[1],rn=function($){nn({width:$.width||$.offsetWidth,height:$.height||$.offsetHeight})},ct=v.useRef(),ut=v.useRef(),an=v.useMemo(function(){return wt(ke.width,y)},[ke.width,y]),on=v.useMemo(function(){return wt(ke.height,Q)},[ke.height,Q]),je=Q-s,Ve=v.useRef(je);Ve.current=je;function ln(w){var $=w;return Number.isNaN(Ve.current)||($=Math.min($,Ve.current)),$=Math.max($,0),$}var ft=_<=0,vt=_>=je,sn=Vt(ft,vt),Ge=function(){return{x:M?-X:X,y:_}},Xe=v.useRef(Ge()),Ue=xt(function(){if(S){var w=Ge();(Xe.current.x!==w.x||Xe.current.y!==w.y)&&(S(w),Xe.current=w)}});function pt(w,$){var L=w;$?(Kt.flushSync(function(){U(L)}),Ue()):Y(L)}function dn(w){var $=w.currentTarget.scrollTop;$!==_&&Y($),b==null||b(w),Ue()}var Ye=function($){var L=$,Z=y-ke.width;return L=Math.max(L,0),L=Math.min(L,Z),L},cn=xt(function(w,$){$?(Kt.flushSync(function(){U(function(L){var Z=L+(M?-w:w);return Ye(Z)})}),Ue()):Y(function(L){var Z=L+w;return Z})}),un=Pn(C,ft,vt,!!y,cn),ht=z(un,2),Ze=ht[0],gt=ht[1];Ln(C,T,function(w,$){return sn(w,$)?!1:(Ze({preventDefault:function(){},deltaY:w}),!0)}),Ke(function(){function w(L){C&&L.preventDefault()}var $=T.current;return $.addEventListener("wheel",Ze),$.addEventListener("DOMMouseScroll",gt),$.addEventListener("MozMousePixelScroll",w),function(){$.removeEventListener("wheel",Ze),$.removeEventListener("DOMMouseScroll",gt),$.removeEventListener("MozMousePixelScroll",w)}},[C]),Ke(function(){y&&U(function(w){return Ye(w)})},[ke.width,y]);var yt=function(){var $,L;($=ct.current)===null||$===void 0||$.delayHidden(),(L=ut.current)===null||L===void 0||L.delayHidden()},mt=Rn(T,D,ne,p,q,function(){return oe(!0)},Y,yt);v.useImperativeHandle(r,function(){return{getScrollInfo:Ge,scrollTo:function($){function L(Z){return Z&&Te(Z)==="object"&&("left"in Z||"top"in Z)}L($)?($.left!==void 0&&U(Ye($.left)),mt($.top)):mt($)}}}),Ke(function(){if(x){var w=D.slice(ee,ve+1);x(w,D)}},[ee,ve,D]);var fn=Hn(D,q,ne,p),vn=N==null?void 0:N({start:ee,end:ve,virtual:R,offsetX:X,offsetY:Ne,rtl:M,getSize:fn}),pn=kn(D,ee,ve,y,H,c,G),Ie=null;s&&(Ie=I(P({},a?"height":"maxHeight",s),zn),C&&(Ie.overflowY="hidden",y&&(Ie.overflowX="hidden"),ye&&(Ie.pointerEvents="none")));var bt={};return M&&(bt.dir="rtl"),v.createElement("div",J({style:I(I({},i),{},{position:"relative"}),className:O},bt,k),v.createElement(At,{onResize:rn},v.createElement(h,{className:"".concat(e,"-holder"),style:Ie,ref:T,onScroll:dn,onMouseEnter:yt},v.createElement(jt,{prefixCls:e,height:Q,offsetX:X,offsetY:Ne,scrollWidth:y,onInnerResize:oe,ref:B,innerProps:K,rtl:M,extra:vn},pn))),R&&Q>s&&v.createElement(kt,{ref:ct,prefixCls:e,scrollOffset:_,scrollRange:Q,rtl:M,onScroll:pt,onStartMove:me,onStopMove:ae,spinSize:on,containerSize:ke.height,style:E==null?void 0:E.verticalScrollBar,thumbStyle:E==null?void 0:E.verticalScrollBarThumb}),R&&y&&v.createElement(kt,{ref:ut,prefixCls:e,scrollOffset:X,scrollRange:y,rtl:M,onScroll:pt,onStartMove:me,onStopMove:ae,spinSize:an,containerSize:ke.width,horizontal:!0,style:E==null?void 0:E.horizontalScrollBar,thumbStyle:E==null?void 0:E.horizontalScrollBarThumb}))}var Gt=v.forwardRef(Bn);Gt.displayName="List";function se(t,r){return t[r]}var Fn=["children"];function Xt(t,r){return"".concat(t,"-").concat(r)}function qn(t){return t&&t.type&&t.type.isTreeNode}function Fe(t,r){return t??r}function We(t){var r=t||{},o=r.title,e=r._title,l=r.key,s=r.children,p=o||"title";return{title:p,_title:e||[p],key:l||"key",children:s||"children"}}function Wn(t){function r(o){var e=bn(o);return e.map(function(l){if(!qn(l))return Re(!l,"Tree/TreeNode can only accept TreeNode as children."),null;var s=l.key,p=l.props,n=p.children,a=ze(p,Fn),i=I({key:s},a),d=r(n);return d.length&&(i.children=d),i}).filter(function(l){return l})}return r(t)}function Qe(t,r,o){var e=We(o),l=e._title,s=e.key,p=e.children,n=new Set(r===!0?[]:r),a=[];function i(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(u,f){for(var g=Xt(c?c.pos:"0",f),y=Fe(u[s],g),m,h=0;h<l.length;h+=1){var b=l[h];if(u[b]!==void 0){m=u[b];break}}var S=I(I({},Sn(u,[].concat(Me(l),[s,p]))),{},{title:m,key:y,parent:c,pos:g,children:null,data:u,isStart:[].concat(Me(c?c.isStart:[]),[f===0]),isEnd:[].concat(Me(c?c.isEnd:[]),[f===d.length-1])});return a.push(S),r===!0||n.has(y)?S.children=i(u[p]||[],S):S.children=[],S})}return i(t),a}function jn(t,r,o){var e={};Te(o)==="object"?e=o:e={externalGetKey:o},e=e||{};var l=e,s=l.childrenPropName,p=l.externalGetKey,n=l.fieldNames,a=We(n),i=a.key,d=a.children,c=s||d,u;p?typeof p=="string"?u=function(y){return y[p]}:typeof p=="function"&&(u=function(y){return p(y)}):u=function(y,m){return Fe(y[i],m)};function f(g,y,m,h){var b=g?g[c]:t,S=g?Xt(m.pos,y):"0",x=g?[].concat(Me(h),[g]):[];if(g){var K=u(g,S),N={node:g,index:y,pos:S,key:K,parentPos:m.node?m.pos:null,level:m.level+1,nodes:x};r(N)}b&&b.forEach(function(E,k){f(E,k,{node:g,pos:S,level:m?m.level+1:-1},x)})}f(null)}function Vn(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.initWrapper,e=r.processEntity,l=r.onProcessFinished,s=r.externalGetKey,p=r.childrenPropName,n=r.fieldNames,a=arguments.length>2?arguments[2]:void 0,i=s||a,d={},c={},u={posEntities:d,keyEntities:c};return o&&(u=o(u)||u),jn(t,function(f){var g=f.node,y=f.index,m=f.pos,h=f.key,b=f.parentPos,S=f.level,x=f.nodes,K={node:g,nodes:x,index:y,key:h,pos:m,level:S},N=Fe(h,m);d[m]=K,c[N]=K,K.parent=d[b],K.parent&&(K.parent.children=K.parent.children||[],K.parent.children.push(K)),e&&e(K,u)},{externalGetKey:i,childrenPropName:p,fieldNames:n}),l&&l(u),u}function _e(t,r){var o=r.expandedKeys,e=r.selectedKeys,l=r.loadedKeys,s=r.loadingKeys,p=r.checkedKeys,n=r.halfCheckedKeys,a=r.dragOverNodeKey,i=r.dropPosition,d=r.keyEntities,c=se(d,t),u={eventKey:t,expanded:o.indexOf(t)!==-1,selected:e.indexOf(t)!==-1,loaded:l.indexOf(t)!==-1,loading:s.indexOf(t)!==-1,checked:p.indexOf(t)!==-1,halfChecked:n.indexOf(t)!==-1,pos:String(c?c.pos:""),dragOver:a===t&&i===0,dragOverGapTop:a===t&&i===-1,dragOverGapBottom:a===t&&i===1};return u}function j(t){var r=t.data,o=t.expanded,e=t.selected,l=t.checked,s=t.loaded,p=t.loading,n=t.halfChecked,a=t.dragOver,i=t.dragOverGapTop,d=t.dragOverGapBottom,c=t.pos,u=t.active,f=t.eventKey,g=I(I({},r),{},{expanded:o,selected:e,checked:l,loaded:s,loading:p,halfChecked:n,dragOver:a,dragOverGapTop:i,dragOverGapBottom:d,pos:c,active:u,key:f});return"props"in g||Object.defineProperty(g,"props",{get:function(){return Re(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),g}function Ut(t,r){var o=new Set;return t.forEach(function(e){r.has(e)||o.add(e)}),o}function Gn(t){var r=t||{},o=r.disabled,e=r.disableCheckbox,l=r.checkable;return!!(o||e)||l===!1}function Xn(t,r,o,e){for(var l=new Set(t),s=new Set,p=0;p<=o;p+=1){var n=r.get(p)||new Set;n.forEach(function(c){var u=c.key,f=c.node,g=c.children,y=g===void 0?[]:g;l.has(u)&&!e(f)&&y.filter(function(m){return!e(m.node)}).forEach(function(m){l.add(m.key)})})}for(var a=new Set,i=o;i>=0;i-=1){var d=r.get(i)||new Set;d.forEach(function(c){var u=c.parent,f=c.node;if(!(e(f)||!c.parent||a.has(c.parent.key))){if(e(c.parent.node)){a.add(u.key);return}var g=!0,y=!1;(u.children||[]).filter(function(m){return!e(m.node)}).forEach(function(m){var h=m.key,b=l.has(h);g&&!b&&(g=!1),!y&&(b||s.has(h))&&(y=!0)}),g&&l.add(u.key),y&&s.add(u.key),a.add(u.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(Ut(s,l))}}function Un(t,r,o,e,l){for(var s=new Set(t),p=new Set(r),n=0;n<=e;n+=1){var a=o.get(n)||new Set;a.forEach(function(u){var f=u.key,g=u.node,y=u.children,m=y===void 0?[]:y;!s.has(f)&&!p.has(f)&&!l(g)&&m.filter(function(h){return!l(h.node)}).forEach(function(h){s.delete(h.key)})})}p=new Set;for(var i=new Set,d=e;d>=0;d-=1){var c=o.get(d)||new Set;c.forEach(function(u){var f=u.parent,g=u.node;if(!(l(g)||!u.parent||i.has(u.parent.key))){if(l(u.parent.node)){i.add(f.key);return}var y=!0,m=!1;(f.children||[]).filter(function(h){return!l(h.node)}).forEach(function(h){var b=h.key,S=s.has(b);y&&!S&&(y=!1),!m&&(S||p.has(b))&&(m=!0)}),y||s.delete(f.key),m&&p.add(f.key),i.add(f.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Ut(p,s))}}function et(t,r,o,e){var l=[],s;e?s=e:s=Gn;var p=new Set(t.filter(function(d){var c=!!se(o,d);return c||l.push(d),c})),n=new Map,a=0;Object.keys(o).forEach(function(d){var c=o[d],u=c.level,f=n.get(u);f||(f=new Set,n.set(u,f)),f.add(c),a=Math.max(a,u)}),Re(!l.length,"Tree missing follow keys: ".concat(l.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var i;return r===!0?i=Xn(p,n,a,s):i=Un(p,r.halfCheckedKeys,n,a,s),i}const Yn=t=>{const{checkboxCls:r}=t,o=`${r}-wrapper`;return[{[`${r}-group`]:Object.assign(Object.assign({},qe(t)),{display:"inline-flex",flexWrap:"wrap",columnGap:t.marginXS,[`> ${t.antCls}-row`]:{flex:1}}),[o]:Object.assign(Object.assign({},qe(t)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${o}`]:{marginInlineStart:0},[`&${o}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[r]:Object.assign(Object.assign({},qe(t)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:t.borderRadiusSM,alignSelf:"center",[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${r}-inner`]:Object.assign({},nt(t))},[`${r}-inner`]:{boxSizing:"border-box",display:"block",width:t.checkboxSize,height:t.checkboxSize,direction:"ltr",backgroundColor:t.colorBgContainer,border:`${pe(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,borderCollapse:"separate",transition:`all ${t.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:t.calc(t.checkboxSize).div(14).mul(5).equal(),height:t.calc(t.checkboxSize).div(14).mul(8).equal(),border:`${pe(t.lineWidthBold)} solid ${t.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${t.motionDurationFast} ${t.motionEaseInBack}, opacity ${t.motionDurationFast}`}},"& + span":{paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS}})},{[`
        ${o}:not(${o}-disabled),
        ${r}:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{borderColor:t.colorPrimary}},[`${o}:not(${o}-disabled)`]:{[`&:hover ${r}-checked:not(${r}-disabled) ${r}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${r}-checked:not(${r}-disabled):after`]:{borderColor:t.colorPrimaryHover}}},{[`${r}-checked`]:{[`${r}-inner`]:{backgroundColor:t.colorPrimary,borderColor:t.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${t.motionDurationMid} ${t.motionEaseOutBack} ${t.motionDurationFast}`}}},[`
        ${o}-checked:not(${o}-disabled),
        ${r}-checked:not(${r}-disabled)
      `]:{[`&:hover ${r}-inner`]:{backgroundColor:t.colorPrimaryHover,borderColor:"transparent"}}},{[r]:{"&-indeterminate":{[`${r}-inner`]:{backgroundColor:t.colorBgContainer,borderColor:t.colorBorder,"&:after":{top:"50%",insetInlineStart:"50%",width:t.calc(t.fontSizeLG).div(2).equal(),height:t.calc(t.fontSizeLG).div(2).equal(),backgroundColor:t.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${o}-disabled`]:{cursor:"not-allowed"},[`${r}-disabled`]:{[`&, ${r}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${r}-inner`]:{background:t.colorBgContainerDisabled,borderColor:t.colorBorder,"&:after":{borderColor:t.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:t.colorTextDisabled},[`&${r}-indeterminate ${r}-inner::after`]:{background:t.colorTextDisabled}}}]};function Yt(t,r){const o=zt(r,{checkboxCls:`.${t}`,checkboxSize:r.controlInteractiveSize});return[Yn(o)]}Bt("Checkbox",(t,r)=>{let{prefixCls:o}=r;return[Yt(o,t)]});var it=v.createContext(null),Zn=function(r){for(var o=r.prefixCls,e=r.level,l=r.isStart,s=r.isEnd,p="".concat(o,"-indent-unit"),n=[],a=0;a<e;a+=1){var i;n.push(v.createElement("span",{key:a,className:te(p,(i={},P(i,"".concat(p,"-start"),l[a]),P(i,"".concat(p,"-end"),s[a]),i))}))}return v.createElement("span",{"aria-hidden":"true",className:"".concat(o,"-indent")},n)};const Jn=v.memo(Zn);var Qn=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],$t="open",Rt="close",er="---",tr=function(t){Ft(o,t);var r=qt(o);function o(){var e;ot(this,o);for(var l=arguments.length,s=new Array(l),p=0;p<l;p++)s[p]=arguments[p];return e=r.call.apply(r,[this].concat(s)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(n){var a=e.props.context.onNodeClick;a(n,j(e.props)),e.isSelectable()?e.onSelect(n):e.onCheck(n)},e.onSelectorDoubleClick=function(n){var a=e.props.context.onNodeDoubleClick;a(n,j(e.props))},e.onSelect=function(n){if(!e.isDisabled()){var a=e.props.context.onNodeSelect;a(n,j(e.props))}},e.onCheck=function(n){if(!e.isDisabled()){var a=e.props,i=a.disableCheckbox,d=a.checked,c=e.props.context.onNodeCheck;if(!(!e.isCheckable()||i)){var u=!d;c(n,j(e.props),u)}}},e.onMouseEnter=function(n){var a=e.props.context.onNodeMouseEnter;a(n,j(e.props))},e.onMouseLeave=function(n){var a=e.props.context.onNodeMouseLeave;a(n,j(e.props))},e.onContextMenu=function(n){var a=e.props.context.onNodeContextMenu;a(n,j(e.props))},e.onDragStart=function(n){var a=e.props.context.onNodeDragStart;n.stopPropagation(),e.setState({dragNodeHighlight:!0}),a(n,$e(e));try{n.dataTransfer.setData("text/plain","")}catch{}},e.onDragEnter=function(n){var a=e.props.context.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),a(n,$e(e))},e.onDragOver=function(n){var a=e.props.context.onNodeDragOver;n.preventDefault(),n.stopPropagation(),a(n,$e(e))},e.onDragLeave=function(n){var a=e.props.context.onNodeDragLeave;n.stopPropagation(),a(n,$e(e))},e.onDragEnd=function(n){var a=e.props.context.onNodeDragEnd;n.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(n,$e(e))},e.onDrop=function(n){var a=e.props.context.onNodeDrop;n.preventDefault(),n.stopPropagation(),e.setState({dragNodeHighlight:!1}),a(n,$e(e))},e.onExpand=function(n){var a=e.props,i=a.loading,d=a.context.onNodeExpand;i||d(n,j(e.props))},e.setSelectHandle=function(n){e.selectHandle=n},e.getNodeState=function(){var n=e.props.expanded;return e.isLeaf()?null:n?$t:Rt},e.hasChildren=function(){var n=e.props.eventKey,a=e.props.context.keyEntities,i=se(a,n)||{},d=i.children;return!!(d||[]).length},e.isLeaf=function(){var n=e.props,a=n.isLeaf,i=n.loaded,d=e.props.context.loadData,c=e.hasChildren();return a===!1?!1:a||!d&&!c||d&&i&&!c},e.isDisabled=function(){var n=e.props.disabled,a=e.props.context.disabled;return!!(a||n)},e.isCheckable=function(){var n=e.props.checkable,a=e.props.context.checkable;return!a||n===!1?!1:a},e.syncLoadData=function(n){var a=n.expanded,i=n.loading,d=n.loaded,c=e.props.context,u=c.loadData,f=c.onNodeLoad;i||u&&a&&!e.isLeaf()&&!e.hasChildren()&&!d&&f(j(e.props))},e.isDraggable=function(){var n=e.props,a=n.data,i=n.context.draggable;return!!(i&&(!i.nodeDraggable||i.nodeDraggable(a)))},e.renderDragHandler=function(){var n=e.props.context,a=n.draggable,i=n.prefixCls;return a!=null&&a.icon?v.createElement("span",{className:"".concat(i,"-draggable-icon")},a.icon):null},e.renderSwitcherIconDom=function(n){var a=e.props.switcherIcon,i=e.props.context.switcherIcon,d=a||i;return typeof d=="function"?d(I(I({},e.props),{},{isLeaf:n})):d},e.renderSwitcher=function(){var n=e.props.expanded,a=e.props.context.prefixCls;if(e.isLeaf()){var i=e.renderSwitcherIconDom(!0);return i!==!1?v.createElement("span",{className:te("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},i):null}var d=te("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(n?$t:Rt)),c=e.renderSwitcherIconDom(!1);return c!==!1?v.createElement("span",{onClick:e.onExpand,className:d},c):null},e.renderCheckbox=function(){var n=e.props,a=n.checked,i=n.halfChecked,d=n.disableCheckbox,c=e.props.context.prefixCls,u=e.isDisabled(),f=e.isCheckable();if(!f)return null;var g=typeof f!="boolean"?f:null;return v.createElement("span",{className:te("".concat(c,"-checkbox"),a&&"".concat(c,"-checkbox-checked"),!a&&i&&"".concat(c,"-checkbox-indeterminate"),(u||d)&&"".concat(c,"-checkbox-disabled")),onClick:e.onCheck},g)},e.renderIcon=function(){var n=e.props.loading,a=e.props.context.prefixCls;return v.createElement("span",{className:te("".concat(a,"-iconEle"),"".concat(a,"-icon__").concat(e.getNodeState()||"docu"),n&&"".concat(a,"-icon_loading"))})},e.renderSelector=function(){var n=e.state.dragNodeHighlight,a=e.props,i=a.title,d=i===void 0?er:i,c=a.selected,u=a.icon,f=a.loading,g=a.data,y=e.props.context,m=y.prefixCls,h=y.showIcon,b=y.icon,S=y.loadData,x=y.titleRender,K=e.isDisabled(),N="".concat(m,"-node-content-wrapper"),E;if(h){var k=u||b;E=k?v.createElement("span",{className:te("".concat(m,"-iconEle"),"".concat(m,"-icon__customize"))},typeof k=="function"?k(e.props):k):e.renderIcon()}else S&&f&&(E=e.renderIcon());var C;typeof d=="function"?C=d(g):x?C=x(g):C=d;var R=v.createElement("span",{className:"".concat(m,"-title")},C);return v.createElement("span",{ref:e.setSelectHandle,title:typeof d=="string"?d:"",className:te("".concat(N),"".concat(N,"-").concat(e.getNodeState()||"normal"),!K&&(c||n)&&"".concat(m,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},E,R,e.renderDropIndicator())},e.renderDropIndicator=function(){var n=e.props,a=n.disabled,i=n.eventKey,d=e.props.context,c=d.draggable,u=d.dropLevelOffset,f=d.dropPosition,g=d.prefixCls,y=d.indent,m=d.dropIndicatorRender,h=d.dragOverNodeKey,b=d.direction,S=!!c,x=!a&&S&&h===i,K=y??e.cacheIndent;return e.cacheIndent=y,x?m({dropPosition:f,dropLevelOffset:u,indent:K,prefixCls:g,direction:b}):null},e}return at(o,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var l=this.props.selectable,s=this.props.context.selectable;return typeof l=="boolean"?l:s}},{key:"render",value:function(){var l,s=this.props,p=s.eventKey,n=s.className,a=s.style,i=s.dragOver,d=s.dragOverGapTop,c=s.dragOverGapBottom,u=s.isLeaf,f=s.isStart,g=s.isEnd,y=s.expanded,m=s.selected,h=s.checked,b=s.halfChecked,S=s.loading,x=s.domRef,K=s.active;s.data;var N=s.onMouseMove,E=s.selectable,k=ze(s,Qn),C=this.props.context,R=C.prefixCls,M=C.filterTreeNode,O=C.keyEntities,D=C.dropContainerKey,T=C.dropTargetKey,B=C.draggingNodeKey,F=this.isDisabled(),A=Wt(k,{aria:!0,data:!0}),_=se(O,p)||{},ie=_.level,le=g[g.length-1],V=this.isDraggable(),X=!F&&V,U=B===p,ge=E!==void 0?{"aria-selected":!!E}:void 0;return v.createElement("div",J({ref:x,className:te(n,"".concat(R,"-treenode"),(l={},P(l,"".concat(R,"-treenode-disabled"),F),P(l,"".concat(R,"-treenode-switcher-").concat(y?"open":"close"),!u),P(l,"".concat(R,"-treenode-checkbox-checked"),h),P(l,"".concat(R,"-treenode-checkbox-indeterminate"),b),P(l,"".concat(R,"-treenode-selected"),m),P(l,"".concat(R,"-treenode-loading"),S),P(l,"".concat(R,"-treenode-active"),K),P(l,"".concat(R,"-treenode-leaf-last"),le),P(l,"".concat(R,"-treenode-draggable"),V),P(l,"dragging",U),P(l,"drop-target",T===p),P(l,"drop-container",D===p),P(l,"drag-over",!F&&i),P(l,"drag-over-gap-top",!F&&d),P(l,"drag-over-gap-bottom",!F&&c),P(l,"filter-node",M&&M(j(this.props))),l)),style:a,draggable:X,"aria-grabbed":U,onDragStart:X?this.onDragStart:void 0,onDragEnter:V?this.onDragEnter:void 0,onDragOver:V?this.onDragOver:void 0,onDragLeave:V?this.onDragLeave:void 0,onDrop:V?this.onDrop:void 0,onDragEnd:V?this.onDragEnd:void 0,onMouseMove:N},ge,A),v.createElement(Jn,{prefixCls:R,level:ie,isStart:f,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),o}(v.Component),Ae=function(r){return v.createElement(it.Consumer,null,function(o){return v.createElement(tr,J({},r,{context:o}))})};Ae.displayName="TreeNode";Ae.isTreeNode=1;function xe(t,r){if(!t)return[];var o=t.slice(),e=o.indexOf(r);return e>=0&&o.splice(e,1),o}function we(t,r){var o=(t||[]).slice();return o.indexOf(r)===-1&&o.push(r),o}function lt(t){return t.split("-")}function nr(t,r){var o=[],e=se(r,t);function l(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(p){var n=p.key,a=p.children;o.push(n),l(a)})}return l(e.children),o}function rr(t){if(t.parent){var r=lt(t.pos);return Number(r[r.length-1])===t.parent.children.length-1}return!1}function ar(t){var r=lt(t.pos);return Number(r[r.length-1])===0}function Mt(t,r,o,e,l,s,p,n,a,i){var d,c=t.clientX,u=t.clientY,f=t.target.getBoundingClientRect(),g=f.top,y=f.height,m=(i==="rtl"?-1:1)*(((l==null?void 0:l.x)||0)-c),h=(m-12)/e,b=se(n,o.props.eventKey);if(u<g+y/2){var S=p.findIndex(function(B){return B.key===b.key}),x=S<=0?0:S-1,K=p[x].key;b=se(n,K)}var N=b.key,E=b,k=b.key,C=0,R=0;if(!a.includes(N))for(var M=0;M<h&&rr(b);M+=1)b=b.parent,R+=1;var O=r.props.data,D=b.node,T=!0;return ar(b)&&b.level===0&&u<g+y/2&&s({dragNode:O,dropNode:D,dropPosition:-1})&&b.key===o.props.eventKey?C=-1:(E.children||[]).length&&a.includes(k)?s({dragNode:O,dropNode:D,dropPosition:0})?C=0:T=!1:R===0?h>-1.5?s({dragNode:O,dropNode:D,dropPosition:1})?C=1:T=!1:s({dragNode:O,dropNode:D,dropPosition:0})?C=0:s({dragNode:O,dropNode:D,dropPosition:1})?C=1:T=!1:s({dragNode:O,dropNode:D,dropPosition:1})?C=1:T=!1,{dropPosition:C,dropLevelOffset:R,dropTargetKey:b.key,dropTargetPos:b.pos,dragOverNodeKey:k,dropContainerKey:C===0?null:((d=b.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:T}}function Ot(t,r){if(t){var o=r.multiple;return o?t.slice():t.length?[t[0]]:t}}function tt(t){if(!t)return null;var r;if(Array.isArray(t))r={checkedKeys:t,halfCheckedKeys:void 0};else if(Te(t)==="object")r={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return Re(!1,"`checkedKeys` is not an array or an object"),null;return r}function Pt(t,r){var o=new Set;function e(l){if(!o.has(l)){var s=se(r,l);if(s){o.add(l);var p=s.parent,n=s.node;n.disabled||p&&e(p.key)}}}return(t||[]).forEach(function(l){e(l)}),Me(o)}function or(t){var r=t.dropPosition,o=t.dropLevelOffset,e=t.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:l.top=0,l.left=-o*e;break;case 1:l.bottom=0,l.left=-o*e;break;case 0:l.bottom=0,l.left=e;break}return v.createElement("div",{style:l})}function Zt(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function ir(t,r){var o=v.useState(!1),e=z(o,2),l=e[0],s=e[1];Ke(function(){if(l)return t(),function(){r()}},[l]),Ke(function(){return s(!0),function(){s(!1)}},[])}var lr=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Jt=function(r,o){var e=r.className,l=r.style,s=r.motion,p=r.motionNodes,n=r.motionType,a=r.onMotionStart,i=r.onMotionEnd,d=r.active,c=r.treeNodeRequiredProps,u=ze(r,lr),f=v.useState(!0),g=z(f,2),y=g[0],m=g[1],h=v.useContext(it),b=h.prefixCls,S=p&&n!=="hide";Ke(function(){p&&S!==y&&m(S)},[p]);var x=function(){p&&a()},K=v.useRef(!1),N=function(){p&&!K.current&&(K.current=!0,i())};ir(x,N);var E=function(C){S===C&&N()};return p?v.createElement(xn,J({ref:o,visible:y},s,{motionAppear:n==="show",onVisibleChanged:E}),function(k,C){var R=k.className,M=k.style;return v.createElement("div",{ref:C,className:te("".concat(b,"-treenode-motion"),R),style:M},p.map(function(O){var D=J({},(Zt(O.data),O.data)),T=O.title,B=O.key,F=O.isStart,A=O.isEnd;delete D.children;var _=_e(B,c);return v.createElement(Ae,J({},D,_,{title:T,active:d,data:O.data,key:B,isStart:F,isEnd:A}))}))}):v.createElement(Ae,J({domRef:o,className:e,style:l},u,{active:d}))};Jt.displayName="MotionTreeNode";var sr=v.forwardRef(Jt);function dr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=t.length,e=r.length;if(Math.abs(o-e)!==1)return{add:!1,key:null};function l(s,p){var n=new Map;s.forEach(function(i){n.set(i,!0)});var a=p.filter(function(i){return!n.has(i)});return a.length===1?a[0]:null}return o<e?{add:!0,key:l(t,r)}:{add:!1,key:l(r,t)}}function Tt(t,r,o){var e=t.findIndex(function(n){return n.key===o}),l=t[e+1],s=r.findIndex(function(n){return n.key===o});if(l){var p=r.findIndex(function(n){return n.key===l.key});return r.slice(s+1,p)}return r.slice(s+1)}var cr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Lt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ur=function(){},Oe="RC_TREE_MOTION_".concat(Math.random()),rt={key:Oe},Qt={key:Oe,level:0,index:0,pos:"0",node:rt,nodes:[rt]},It={parent:null,children:[],pos:Qt.pos,data:rt,title:null,key:Oe,isStart:[],isEnd:[]};function Ht(t,r,o,e){return r===!1||!o?t:t.slice(0,Math.ceil(o/e)+1)}function _t(t){var r=t.key,o=t.pos;return Fe(r,o)}function fr(t){for(var r=String(t.data.key),o=t;o.parent;)o=o.parent,r="".concat(o.data.key," > ").concat(r);return r}var en=v.forwardRef(function(t,r){var o=t.prefixCls,e=t.data;t.selectable,t.checkable;var l=t.expandedKeys,s=t.selectedKeys,p=t.checkedKeys,n=t.loadedKeys,a=t.loadingKeys,i=t.halfCheckedKeys,d=t.keyEntities,c=t.disabled,u=t.dragging,f=t.dragOverNodeKey,g=t.dropPosition,y=t.motion,m=t.height,h=t.itemHeight,b=t.virtual,S=t.focusable,x=t.activeItem,K=t.focused,N=t.tabIndex,E=t.onKeyDown,k=t.onFocus,C=t.onBlur,R=t.onActiveChange,M=t.onListChangeStart,O=t.onListChangeEnd,D=ze(t,cr),T=v.useRef(null),B=v.useRef(null);v.useImperativeHandle(r,function(){return{scrollTo:function(oe){T.current.scrollTo(oe)},getIndentWidth:function(){return B.current.offsetWidth}}});var F=v.useState(l),A=z(F,2),_=A[0],ie=A[1],le=v.useState(e),V=z(le,2),X=V[0],U=V[1],ge=v.useState(e),ce=z(ge,2),ye=ce[0],de=ce[1],me=v.useState([]),ae=z(me,2),q=ae[0],G=ae[1],Y=v.useState(null),W=z(Y,2),ue=W[0],Ce=W[1],Ee=v.useRef(e);Ee.current=e;function be(){var H=Ee.current;U(H),de(H),G([]),Ce(null),O()}Ke(function(){ie(l);var H=dr(_,l);if(H.key!==null)if(H.add){var oe=X.findIndex(function(ve){var Ne=ve.key;return Ne===H.key}),ne=Ht(Tt(X,e,H.key),b,m,h),fe=X.slice();fe.splice(oe+1,0,It),de(fe),G(ne),Ce("show")}else{var re=e.findIndex(function(ve){var Ne=ve.key;return Ne===H.key}),Q=Ht(Tt(e,X,H.key),b,m,h),ee=e.slice();ee.splice(re+1,0,It),de(ee),G(Q),Ce("hide")}else X!==e&&(U(e),de(e))},[l,e]),v.useEffect(function(){u||be()},[u]);var Le=y?ye:e,Se={expandedKeys:l,selectedKeys:s,loadedKeys:n,loadingKeys:a,checkedKeys:p,halfCheckedKeys:i,dragOverNodeKey:f,dropPosition:g,keyEntities:d};return v.createElement(v.Fragment,null,K&&x&&v.createElement("span",{style:Lt,"aria-live":"assertive"},fr(x)),v.createElement("div",null,v.createElement("input",{style:Lt,disabled:S===!1||c,tabIndex:S!==!1?N:null,onKeyDown:E,onFocus:k,onBlur:C,value:"",onChange:ur,"aria-label":"for screen reader"})),v.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},v.createElement("div",{className:"".concat(o,"-indent")},v.createElement("div",{ref:B,className:"".concat(o,"-indent-unit")}))),v.createElement(Gt,J({},D,{data:Le,itemKey:_t,height:m,fullHeight:!1,virtual:b,itemHeight:h,prefixCls:"".concat(o,"-list"),ref:T,onVisibleChange:function(oe,ne){var fe=new Set(oe),re=ne.filter(function(Q){return!fe.has(Q)});re.some(function(Q){return _t(Q)===Oe})&&be()}}),function(H){var oe=H.pos,ne=J({},(Zt(H.data),H.data)),fe=H.title,re=H.key,Q=H.isStart,ee=H.isEnd,ve=Fe(re,oe);delete ne.key,delete ne.children;var Ne=_e(ve,Se);return v.createElement(sr,J({},ne,Ne,{title:fe,active:!!x&&re===x.key,pos:oe,data:H.data,isStart:Q,isEnd:ee,motion:y,motionNodes:re===Oe?q:null,motionType:ue,onMotionStart:M,onMotionEnd:be,treeNodeRequiredProps:Se,onMouseMove:function(){R(null)}}))}))});en.displayName="NodeList";var vr=10,tn=function(t){Ft(o,t);var r=qt(o);function o(){var e;ot(this,o);for(var l=arguments.length,s=new Array(l),p=0;p<l;p++)s[p]=arguments[p];return e=r.call.apply(r,[this].concat(s)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:We()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=v.createRef(),e.onNodeDragStart=function(n,a){var i=e.state,d=i.expandedKeys,c=i.keyEntities,u=e.props.onDragStart,f=a.props.eventKey;e.dragNode=a,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var g=xe(d,f);e.setState({draggingNodeKey:f,dragChildrenKeys:nr(f,c),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:n,node:j(a.props)})},e.onNodeDragEnter=function(n,a){var i=e.state,d=i.expandedKeys,c=i.keyEntities,u=i.dragChildrenKeys,f=i.flattenNodes,g=i.indent,y=e.props,m=y.onDragEnter,h=y.onExpand,b=y.allowDrop,S=y.direction,x=a.props,K=x.pos,N=x.eventKey,E=$e(e),k=E.dragNode;if(e.currentMouseOverDroppableNodeKey!==N&&(e.currentMouseOverDroppableNodeKey=N),!k){e.resetDragState();return}var C=Mt(n,k,a,g,e.dragStartMousePosition,b,f,c,d,S),R=C.dropPosition,M=C.dropLevelOffset,O=C.dropTargetKey,D=C.dropContainerKey,T=C.dropTargetPos,B=C.dropAllowed,F=C.dragOverNodeKey;if(u.indexOf(O)!==-1||!B){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(A){clearTimeout(e.delayedDragEnterLogic[A])}),k.props.eventKey!==a.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[K]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var A=Me(d),_=se(c,a.props.eventKey);_&&(_.children||[]).length&&(A=we(d,a.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(A),h==null||h(A,{node:j(a.props),expanded:!0,nativeEvent:n.nativeEvent})}},800)),k.props.eventKey===O&&M===0){e.resetDragState();return}e.setState({dragOverNodeKey:F,dropPosition:R,dropLevelOffset:M,dropTargetKey:O,dropContainerKey:D,dropTargetPos:T,dropAllowed:B}),m==null||m({event:n,node:j(a.props),expandedKeys:d})},e.onNodeDragOver=function(n,a){var i=e.state,d=i.dragChildrenKeys,c=i.flattenNodes,u=i.keyEntities,f=i.expandedKeys,g=i.indent,y=e.props,m=y.onDragOver,h=y.allowDrop,b=y.direction,S=$e(e),x=S.dragNode;if(x){var K=Mt(n,x,a,g,e.dragStartMousePosition,h,c,u,f,b),N=K.dropPosition,E=K.dropLevelOffset,k=K.dropTargetKey,C=K.dropContainerKey,R=K.dropAllowed,M=K.dropTargetPos,O=K.dragOverNodeKey;d.indexOf(k)!==-1||!R||(x.props.eventKey===k&&E===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():N===e.state.dropPosition&&E===e.state.dropLevelOffset&&k===e.state.dropTargetKey&&C===e.state.dropContainerKey&&M===e.state.dropTargetPos&&R===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:N,dropLevelOffset:E,dropTargetKey:k,dropContainerKey:C,dropTargetPos:M,dropAllowed:R,dragOverNodeKey:O}),m==null||m({event:n,node:j(a.props)}))}},e.onNodeDragLeave=function(n,a){e.currentMouseOverDroppableNodeKey===a.props.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var i=e.props.onDragLeave;i==null||i({event:n,node:j(a.props)})},e.onWindowDragEnd=function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(n,a){var i=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),i==null||i({event:n,node:j(a.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(n,a){var i,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e.state,u=c.dragChildrenKeys,f=c.dropPosition,g=c.dropTargetKey,y=c.dropTargetPos,m=c.dropAllowed;if(m){var h=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var b=I(I({},_e(g,e.getTreeNodeRequiredProps())),{},{active:((i=e.getActiveItem())===null||i===void 0?void 0:i.key)===g,data:se(e.state.keyEntities,g).node}),S=u.indexOf(g)!==-1;Re(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var x=lt(y),K={event:n,node:j(b),dragNode:e.dragNode?j(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(u),dropToGap:f!==0,dropPosition:f+Number(x[x.length-1])};d||h==null||h(K),e.dragNode=null}}},e.cleanDragState=function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(n,a){var i=e.state,d=i.expandedKeys,c=i.flattenNodes,u=a.expanded,f=a.key,g=a.isLeaf;if(!(g||n.shiftKey||n.metaKey||n.ctrlKey)){var y=c.filter(function(h){return h.key===f})[0],m=j(I(I({},_e(f,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(u?xe(d,f):we(d,f)),e.onNodeExpand(n,m)}},e.onNodeClick=function(n,a){var i=e.props,d=i.onClick,c=i.expandAction;c==="click"&&e.triggerExpandActionExpand(n,a),d==null||d(n,a)},e.onNodeDoubleClick=function(n,a){var i=e.props,d=i.onDoubleClick,c=i.expandAction;c==="doubleClick"&&e.triggerExpandActionExpand(n,a),d==null||d(n,a)},e.onNodeSelect=function(n,a){var i=e.state.selectedKeys,d=e.state,c=d.keyEntities,u=d.fieldNames,f=e.props,g=f.onSelect,y=f.multiple,m=a.selected,h=a[u.key],b=!m;b?y?i=we(i,h):i=[h]:i=xe(i,h);var S=i.map(function(x){var K=se(c,x);return K?K.node:null}).filter(function(x){return x});e.setUncontrolledState({selectedKeys:i}),g==null||g(i,{event:"select",selected:b,node:a,selectedNodes:S,nativeEvent:n.nativeEvent})},e.onNodeCheck=function(n,a,i){var d=e.state,c=d.keyEntities,u=d.checkedKeys,f=d.halfCheckedKeys,g=e.props,y=g.checkStrictly,m=g.onCheck,h=a.key,b,S={event:"check",node:a,checked:i,nativeEvent:n.nativeEvent};if(y){var x=i?we(u,h):xe(u,h),K=xe(f,h);b={checked:x,halfChecked:K},S.checkedNodes=x.map(function(M){return se(c,M)}).filter(function(M){return M}).map(function(M){return M.node}),e.setUncontrolledState({checkedKeys:x})}else{var N=et([].concat(Me(u),[h]),!0,c),E=N.checkedKeys,k=N.halfCheckedKeys;if(!i){var C=new Set(E);C.delete(h);var R=et(Array.from(C),{checked:!1,halfCheckedKeys:k},c);E=R.checkedKeys,k=R.halfCheckedKeys}b=E,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=k,E.forEach(function(M){var O=se(c,M);if(O){var D=O.node,T=O.pos;S.checkedNodes.push(D),S.checkedNodesPositions.push({node:D,pos:T})}}),e.setUncontrolledState({checkedKeys:E},!1,{halfCheckedKeys:k})}m==null||m(b,S)},e.onNodeLoad=function(n){var a=n.key,i=new Promise(function(d,c){e.setState(function(u){var f=u.loadedKeys,g=f===void 0?[]:f,y=u.loadingKeys,m=y===void 0?[]:y,h=e.props,b=h.loadData,S=h.onLoad;if(!b||g.indexOf(a)!==-1||m.indexOf(a)!==-1)return null;var x=b(n);return x.then(function(){var K=e.state.loadedKeys,N=we(K,a);S==null||S(N,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:N}),e.setState(function(E){return{loadingKeys:xe(E.loadingKeys,a)}}),d()}).catch(function(K){if(e.setState(function(E){return{loadingKeys:xe(E.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=vr){var N=e.state.loadedKeys;Re(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:we(N,a)}),d()}c(K)}),{loadingKeys:we(m,a)}})});return i.catch(function(){}),i},e.onNodeMouseEnter=function(n,a){var i=e.props.onMouseEnter;i==null||i({event:n,node:a})},e.onNodeMouseLeave=function(n,a){var i=e.props.onMouseLeave;i==null||i({event:n,node:a})},e.onNodeContextMenu=function(n,a){var i=e.props.onRightClick;i&&(n.preventDefault(),i({event:n,node:a}))},e.onFocus=function(){var n=e.props.onFocus;e.setState({focused:!0});for(var a=arguments.length,i=new Array(a),d=0;d<a;d++)i[d]=arguments[d];n==null||n.apply(void 0,i)},e.onBlur=function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var a=arguments.length,i=new Array(a),d=0;d<a;d++)i[d]=arguments[d];n==null||n.apply(void 0,i)},e.getTreeNodeRequiredProps=function(){var n=e.state,a=n.expandedKeys,i=n.selectedKeys,d=n.loadedKeys,c=n.loadingKeys,u=n.checkedKeys,f=n.halfCheckedKeys,g=n.dragOverNodeKey,y=n.dropPosition,m=n.keyEntities;return{expandedKeys:a||[],selectedKeys:i||[],loadedKeys:d||[],loadingKeys:c||[],checkedKeys:u||[],halfCheckedKeys:f||[],dragOverNodeKey:g,dropPosition:y,keyEntities:m}},e.setExpandedKeys=function(n){var a=e.state,i=a.treeData,d=a.fieldNames,c=Qe(i,n,d);e.setUncontrolledState({expandedKeys:n,flattenNodes:c},!0)},e.onNodeExpand=function(n,a){var i=e.state.expandedKeys,d=e.state,c=d.listChanging,u=d.fieldNames,f=e.props,g=f.onExpand,y=f.loadData,m=a.expanded,h=a[u.key];if(!c){var b=i.indexOf(h),S=!m;if(Re(m&&b!==-1||!m&&b===-1,"Expand state not sync with index check"),S?i=we(i,h):i=xe(i,h),e.setExpandedKeys(i),g==null||g(i,{node:a,expanded:S,nativeEvent:n.nativeEvent}),S&&y){var x=e.onNodeLoad(a);x&&x.then(function(){var K=Qe(e.state.treeData,i,u);e.setUncontrolledState({flattenNodes:K})}).catch(function(){var K=e.state.expandedKeys,N=xe(K,h);e.setExpandedKeys(N)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(n){var a=e.state.activeKey,i=e.props,d=i.onActiveChange,c=i.itemScrollOffset,u=c===void 0?0:c;a!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:u}),d==null||d(n))},e.getActiveItem=function(){var n=e.state,a=n.activeKey,i=n.flattenNodes;return a===null?null:i.find(function(d){var c=d.key;return c===a})||null},e.offsetActiveKey=function(n){var a=e.state,i=a.flattenNodes,d=a.activeKey,c=i.findIndex(function(g){var y=g.key;return y===d});c===-1&&n<0&&(c=i.length),c=(c+n+i.length)%i.length;var u=i[c];if(u){var f=u.key;e.onActiveChange(f)}else e.onActiveChange(null)},e.onKeyDown=function(n){var a=e.state,i=a.activeKey,d=a.expandedKeys,c=a.checkedKeys,u=a.fieldNames,f=e.props,g=f.onKeyDown,y=f.checkable,m=f.selectable;switch(n.which){case Pe.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case Pe.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var h=e.getActiveItem();if(h&&h.data){var b=e.getTreeNodeRequiredProps(),S=h.data.isLeaf===!1||!!(h.data[u.children]||[]).length,x=j(I(I({},_e(i,b)),{},{data:h.data,active:!0}));switch(n.which){case Pe.LEFT:{S&&d.includes(i)?e.onNodeExpand({},x):h.parent&&e.onActiveChange(h.parent.key),n.preventDefault();break}case Pe.RIGHT:{S&&!d.includes(i)?e.onNodeExpand({},x):h.children&&h.children.length&&e.onActiveChange(h.children[0].key),n.preventDefault();break}case Pe.ENTER:case Pe.SPACE:{y&&!x.disabled&&x.checkable!==!1&&!x.disableCheckbox?e.onNodeCheck({},x,!c.includes(i)):!y&&m&&!x.disabled&&x.selectable!==!1&&e.onNodeSelect({},x);break}}}g==null||g(n)},e.setUncontrolledState=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,c=!0,u={};Object.keys(n).forEach(function(f){if(f in e.props){c=!1;return}d=!0,u[f]=n[f]}),d&&(!a||c)&&e.setState(I(I({},u),i))}},e.scrollTo=function(n){e.listRef.current.scrollTo(n)},e}return at(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var l=this.props,s=l.activeKey,p=l.itemScrollOffset,n=p===void 0?0:p;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var l,s=this.state,p=s.focused,n=s.flattenNodes,a=s.keyEntities,i=s.draggingNodeKey,d=s.activeKey,c=s.dropLevelOffset,u=s.dropContainerKey,f=s.dropTargetKey,g=s.dropPosition,y=s.dragOverNodeKey,m=s.indent,h=this.props,b=h.prefixCls,S=h.className,x=h.style,K=h.showLine,N=h.focusable,E=h.tabIndex,k=E===void 0?0:E,C=h.selectable,R=h.showIcon,M=h.icon,O=h.switcherIcon,D=h.draggable,T=h.checkable,B=h.checkStrictly,F=h.disabled,A=h.motion,_=h.loadData,ie=h.filterTreeNode,le=h.height,V=h.itemHeight,X=h.virtual,U=h.titleRender,ge=h.dropIndicatorRender,ce=h.onContextMenu,ye=h.onScroll,de=h.direction,me=h.rootClassName,ae=h.rootStyle,q=Wt(this.props,{aria:!0,data:!0}),G;return D&&(Te(D)==="object"?G=D:typeof D=="function"?G={nodeDraggable:D}:G={}),v.createElement(it.Provider,{value:{prefixCls:b,selectable:C,showIcon:R,icon:M,switcherIcon:O,draggable:G,draggingNodeKey:i,checkable:T,checkStrictly:B,disabled:F,keyEntities:a,dropLevelOffset:c,dropContainerKey:u,dropTargetKey:f,dropPosition:g,dragOverNodeKey:y,indent:m,direction:de,dropIndicatorRender:ge,loadData:_,filterTreeNode:ie,titleRender:U,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},v.createElement("div",{role:"tree",className:te(b,S,me,(l={},P(l,"".concat(b,"-show-line"),K),P(l,"".concat(b,"-focused"),p),P(l,"".concat(b,"-active-focused"),d!==null),l)),style:ae},v.createElement(en,J({ref:this.listRef,prefixCls:b,style:x,data:n,disabled:F,selectable:C,checkable:!!T,motion:A,dragging:i!==null,height:le,itemHeight:V,virtual:X,focusable:N,focused:p,tabIndex:k,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ce,onScroll:ye},this.getTreeNodeRequiredProps(),q))))}}],[{key:"getDerivedStateFromProps",value:function(l,s){var p=s.prevProps,n={prevProps:l};function a(N){return!p&&N in l||p&&p[N]!==l[N]}var i,d=s.fieldNames;if(a("fieldNames")&&(d=We(l.fieldNames),n.fieldNames=d),a("treeData")?i=l.treeData:a("children")&&(Re(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),i=Wn(l.children)),i){n.treeData=i;var c=Vn(i,{fieldNames:d});n.keyEntities=I(P({},Oe,Qt),c.keyEntities)}var u=n.keyEntities||s.keyEntities;if(a("expandedKeys")||p&&a("autoExpandParent"))n.expandedKeys=l.autoExpandParent||!p&&l.defaultExpandParent?Pt(l.expandedKeys,u):l.expandedKeys;else if(!p&&l.defaultExpandAll){var f=I({},u);delete f[Oe],n.expandedKeys=Object.keys(f).map(function(N){return f[N].key})}else!p&&l.defaultExpandedKeys&&(n.expandedKeys=l.autoExpandParent||l.defaultExpandParent?Pt(l.defaultExpandedKeys,u):l.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,i||n.expandedKeys){var g=Qe(i||s.treeData,n.expandedKeys||s.expandedKeys,d);n.flattenNodes=g}if(l.selectable&&(a("selectedKeys")?n.selectedKeys=Ot(l.selectedKeys,l):!p&&l.defaultSelectedKeys&&(n.selectedKeys=Ot(l.defaultSelectedKeys,l))),l.checkable){var y;if(a("checkedKeys")?y=tt(l.checkedKeys)||{}:!p&&l.defaultCheckedKeys?y=tt(l.defaultCheckedKeys)||{}:i&&(y=tt(l.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),y){var m=y,h=m.checkedKeys,b=h===void 0?[]:h,S=m.halfCheckedKeys,x=S===void 0?[]:S;if(!l.checkStrictly){var K=et(b,!0,u);b=K.checkedKeys,x=K.halfCheckedKeys}n.checkedKeys=b,n.halfCheckedKeys=x}}return a("loadedKeys")&&(n.loadedKeys=l.loadedKeys),n}}]),o}(v.Component);tn.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:or,allowDrop:function(){return!0},expandAction:!1};tn.TreeNode=Ae;var pr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const hr=pr;var gr=function(r,o){return v.createElement(Be,J({},r,{ref:o,icon:hr}))};const yr=v.forwardRef(gr),mr=new Cn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),br=(t,r)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${r.motionDurationSlow}`}}}),Sr=(t,r)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:r.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${pe(r.lineWidthBold)} solid ${r.colorPrimary}`,borderRadius:"50%",content:'""'}}}),xr=(t,r)=>{const{treeCls:o,treeNodeCls:e,treeNodePadding:l,titleHeight:s,nodeSelectedBg:p,nodeHoverBg:n}=r,a=r.paddingXS;return{[o]:Object.assign(Object.assign({},qe(r)),{background:r.colorBgContainer,borderRadius:r.borderRadius,transition:`background-color ${r.motionDurationSlow}`,[`&${o}-rtl`]:{[`${o}-switcher`]:{"&_close":{[`${o}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${o}-active-focused)`]:Object.assign({},nt(r)),[`${o}-list-holder-inner`]:{alignItems:"flex-start"},[`&${o}-block-node`]:{[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:l,insetInlineStart:0,border:`1px solid ${r.colorPrimary}`,opacity:0,animationName:mr,animationDuration:r.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${e}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${pe(l)} 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${o}-node-content-wrapper`]:{color:r.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${o}-node-content-wrapper`]:Object.assign({},nt(r)),[`&:not(${e}-disabled).filter-node ${o}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${o}-draggable-icon`]:{flexShrink:0,width:s,lineHeight:`${pe(s)}`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${r.motionDurationSlow}`,[`${e}:hover &`]:{opacity:.45}},[`&${e}-disabled`]:{[`${o}-draggable-icon`]:{visibility:"hidden"}}}},[`${o}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${o}-draggable-icon`]:{visibility:"hidden"},[`${o}-switcher`]:Object.assign(Object.assign({},br(t,r)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${pe(s)}`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${o}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:r.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r.calc(s).div(2).equal(),bottom:r.calc(l).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${r.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:r.calc(r.calc(s).div(2).equal()).mul(.8).equal(),height:r.calc(s).div(2).equal(),borderBottom:`1px solid ${r.colorBorder}`,content:'""'}}}),[`${o}-checkbox`]:{top:"initial",marginInlineEnd:a,alignSelf:"flex-start",marginTop:r.marginXXS},[`${o}-node-content-wrapper, ${o}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${pe(r.calc(r.paddingXS).div(2).equal())}`,color:"inherit",lineHeight:`${pe(s)}`,background:"transparent",borderRadius:r.borderRadius,cursor:"pointer",transition:`all ${r.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:n},[`&${o}-node-selected`]:{backgroundColor:p},[`${o}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${pe(s)}`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${o}-unselectable ${o}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}-node-content-wrapper`]:Object.assign({lineHeight:`${pe(s)}`,userSelect:"none"},Sr(t,r)),[`${e}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${r.colorPrimary}`}},"&-show-line":{[`${o}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r.calc(s).div(2).equal(),bottom:r.calc(l).mul(-1).equal(),borderInlineEnd:`1px solid ${r.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${o}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last`]:{[`${o}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${pe(r.calc(s).div(2).equal())} !important`}}}}})}},Kr=t=>{const{treeCls:r,treeNodeCls:o,treeNodePadding:e,directoryNodeSelectedBg:l,directoryNodeSelectedColor:s}=t;return{[`${r}${r}-directory`]:{[o]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:e,insetInlineStart:0,transition:`background-color ${t.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:t.controlItemBgHover}},"> *":{zIndex:1},[`${r}-switcher`]:{transition:`color ${t.motionDurationMid}`},[`${r}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${r}-node-selected`]:{color:s,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:l},[`${r}-switcher`]:{color:s},[`${r}-node-content-wrapper`]:{color:s,background:"transparent"}}}}}},Cr=(t,r)=>{const o=`.${t}`,e=`${o}-treenode`,l=r.calc(r.paddingXS).div(2).equal(),s=zt(r,{treeCls:o,treeNodeCls:e,treeNodePadding:l});return[xr(t,s),Kr(s)]},Er=t=>{const{controlHeightSM:r}=t;return{titleHeight:r,nodeHoverBg:t.controlItemBgHover,nodeSelectedBg:t.controlItemBgActive}},Nr=t=>{const{colorTextLightSolid:r,colorPrimary:o}=t;return Object.assign(Object.assign({},Er(t)),{directoryNodeSelectedColor:r,directoryNodeSelectedBg:o})},qr=Bt("Tree",(t,r)=>{let{prefixCls:o}=r;return[{[t.componentCls]:Yt(`${o}-checkbox`,t)},Cr(o,t),Kn(t)]},Nr);var kr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const Dr=kr;var wr=function(r,o){return v.createElement(Be,J({},r,{ref:o,icon:Dr}))};const $r=v.forwardRef(wr);var Rr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Mr=Rr;var Or=function(r,o){return v.createElement(Be,J({},r,{ref:o,icon:Mr}))};const Pr=v.forwardRef(Or);var Tr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Lr=Tr;var Ir=function(r,o){return v.createElement(Be,J({},r,{ref:o,icon:Lr}))};const Hr=v.forwardRef(Ir),_r=t=>{const{prefixCls:r,switcherIcon:o,treeNodeProps:e,showLine:l}=t,{isLeaf:s,expanded:p,loading:n}=e;if(n)return v.createElement(En,{className:`${r}-switcher-loading-icon`});let a;if(l&&typeof l=="object"&&(a=l.showLeafIcon),s){if(!l)return null;if(typeof a!="boolean"&&a){const c=typeof a=="function"?a(e):a,u=`${r}-switcher-line-custom-icon`;return Ct(c)?Et(c,{className:te(c.props.className||"",u)}):c}return a?v.createElement(yr,{className:`${r}-switcher-line-icon`}):v.createElement("span",{className:`${r}-switcher-leaf-line`})}const i=`${r}-switcher-icon`,d=typeof o=="function"?o(e):o;return Ct(d)?Et(d,{className:te(d.props.className||"",i)}):d!==void 0?d:l?p?v.createElement(Pr,{className:`${r}-switcher-line-icon`}):v.createElement(Hr,{className:`${r}-switcher-line-icon`}):v.createElement($r,{className:i})},Wr=_r;var Ar={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const zr=Ar;var Br=function(r,o){return v.createElement(Be,J({},r,{ref:o,icon:zr}))};const jr=v.forwardRef(Br);export{Ae as C,jr as D,yr as F,Gt as L,Hr as P,Wr as S,tn as T,Vn as a,Yt as b,et as c,Pt as d,Wn as e,We as f,Cr as g,Er as i,qr as u};
