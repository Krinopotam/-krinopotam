import{r as s,b as te,u as ae,d as ce,e as V,f as A,h as se,i as H,R as W,w as q,C as K,F as re,k as oe,l as ue,m as X,T as le,W as ie,o as de,n as U,j as x,S as he,a as me}from"./index-B5poLpDm.js";import{B as J,D as be,I as T}from"./dForm-vrGhQ6Lh.js";import{I as B}from"./inputField-Bxibjdcf.js";import{u as Q}from"./defaultButtonsProps-DtqWhfDr.js";import{P as Ce}from"./passwordField-DdAaiKn-.js";import{N as ge}from"./numberField-QPb425aV.js";import{T as xe}from"./treeSelectField-B_h9TBfM.js";import{S as ve}from"./selectField-qU98sbBL.js";var fe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ke=s.forwardRef(function(n,e){var r=n.prefixCls,c=r===void 0?"rc-checkbox":r,l=n.className,b=n.style,a=n.checked,t=n.disabled,F=n.defaultChecked,_=F===void 0?!1:F,h=n.type,S=h===void 0?"checkbox":h,j=n.title,d=n.onChange,N=te(n,fe),f=s.useRef(null),m=s.useRef(null),o=ae(_,{value:a}),R=ce(o,2),D=R[0],E=R[1];s.useImperativeHandle(e,function(){return{focus:function(i){var g;(g=f.current)===null||g===void 0||g.focus(i)},blur:function(){var i;(i=f.current)===null||i===void 0||i.blur()},input:f.current,nativeElement:m.current}});var C=V(c,l,A(A({},"".concat(c,"-checked"),D),"".concat(c,"-disabled"),t)),v=function(i){t||("checked"in n||E(i.target.checked),d==null||d({target:H(H({},n),{},{type:S,checked:i.target.checked}),stopPropagation:function(){i.stopPropagation()},preventDefault:function(){i.preventDefault()},nativeEvent:i.nativeEvent}))};return s.createElement("span",{className:C,title:j,style:b,ref:m},s.createElement("input",se({},N,{className:"".concat(c,"-input"),ref:f,onChange:v,disabled:t,checked:!!D,type:S})),s.createElement("span",{className:"".concat(c,"-inner")}))});function ye(n){const e=W.useRef(null),r=()=>{q.cancel(e.current),e.current=null};return[()=>{r(),e.current=q(()=>{e.current=null})},b=>{e.current&&(b.stopPropagation(),r()),n==null||n(b)}]}const Y=W.createContext(null);var pe=function(n,e){var r={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&e.indexOf(c)<0&&(r[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,c=Object.getOwnPropertySymbols(n);l<c.length;l++)e.indexOf(c[l])<0&&Object.prototype.propertyIsEnumerable.call(n,c[l])&&(r[c[l]]=n[c[l]]);return r};const _e=(n,e)=>{var r;const{prefixCls:c,className:l,rootClassName:b,children:a,indeterminate:t=!1,style:F,onMouseEnter:_,onMouseLeave:h,skipGroup:S=!1,disabled:j}=n,d=pe(n,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:N,direction:f,checkbox:m}=s.useContext(K),o=s.useContext(Y),{isFormItemInput:R}=s.useContext(re),D=s.useContext(oe),E=(r=(o==null?void 0:o.disabled)||j)!==null&&r!==void 0?r:D,C=s.useRef(d.value),v=s.useRef(null),w=ue(e,v);s.useEffect(()=>{o==null||o.registerValue(d.value)},[]),s.useEffect(()=>{if(!S)return d.value!==C.current&&(o==null||o.cancelValue(C.current),o==null||o.registerValue(d.value),C.current=d.value),()=>o==null?void 0:o.cancelValue(d.value)},[d.value]),s.useEffect(()=>{var O;!((O=v.current)===null||O===void 0)&&O.input&&(v.current.input.indeterminate=t)},[t]);const i=N("checkbox",c),g=X(i),[I,M,$]=Q(i,g),k=Object.assign({},d);o&&!S&&(k.onChange=function(){d.onChange&&d.onChange.apply(d,arguments),o.toggleOption&&o.toggleOption({label:a,value:d.value})},k.name=o.name,k.checked=o.value.includes(d.value));const L=V(`${i}-wrapper`,{[`${i}-rtl`]:f==="rtl",[`${i}-wrapper-checked`]:k.checked,[`${i}-wrapper-disabled`]:E,[`${i}-wrapper-in-form-item`]:R},m==null?void 0:m.className,l,b,$,g,M),u=V({[`${i}-indeterminate`]:t},le,M),[y,p]=ye(k.onClick);return I(s.createElement(ie,{component:"Checkbox",disabled:E},s.createElement("label",{className:L,style:Object.assign(Object.assign({},m==null?void 0:m.style),F),onMouseEnter:_,onMouseLeave:h,onClick:y},s.createElement(ke,Object.assign({},k,{onClick:p,prefixCls:i,className:u,disabled:E,ref:w})),a!==void 0&&s.createElement("span",null,a))))},Z=s.forwardRef(_e);var Se=function(n,e){var r={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&e.indexOf(c)<0&&(r[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,c=Object.getOwnPropertySymbols(n);l<c.length;l++)e.indexOf(c[l])<0&&Object.prototype.propertyIsEnumerable.call(n,c[l])&&(r[c[l]]=n[c[l]]);return r};const Ee=s.forwardRef((n,e)=>{const{defaultValue:r,children:c,options:l=[],prefixCls:b,className:a,rootClassName:t,style:F,onChange:_}=n,h=Se(n,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:S,direction:j}=s.useContext(K),[d,N]=s.useState(h.value||r||[]),[f,m]=s.useState([]);s.useEffect(()=>{"value"in h&&N(h.value||[])},[h.value]);const o=s.useMemo(()=>l.map(u=>typeof u=="string"||typeof u=="number"?{label:u,value:u}:u),[l]),R=u=>{m(y=>y.filter(p=>p!==u))},D=u=>{m(y=>[].concat(U(y),[u]))},E=u=>{const y=d.indexOf(u.value),p=U(d);y===-1?p.push(u.value):p.splice(y,1),"value"in h||N(p),_==null||_(p.filter(O=>f.includes(O)).sort((O,P)=>{const ee=o.findIndex(G=>G.value===O),ne=o.findIndex(G=>G.value===P);return ee-ne}))},C=S("checkbox",b),v=`${C}-group`,w=X(C),[i,g,I]=Q(C,w),M=de(h,["value","disabled"]),$=l.length?o.map(u=>s.createElement(Z,{prefixCls:C,key:u.value.toString(),disabled:"disabled"in u?u.disabled:h.disabled,value:u.value,checked:d.includes(u.value),onChange:u.onChange,className:`${v}-item`,style:u.style,title:u.title,id:u.id,required:u.required},u.label)):c,k={toggleOption:E,value:d,disabled:h.disabled,name:h.name,registerValue:D,cancelValue:R},L=V(v,{[`${v}-rtl`]:j==="rtl"},a,t,I,w,g);return i(s.createElement("div",Object.assign({className:L,style:F},M,{ref:e}),s.createElement(Y.Provider,{value:k},$)))}),z=Z;z.Group=Ee;z.__ANT_CHECKBOX=!0;const we=({field:n})=>{s.useSyncExternalStore(n.subscribe.bind(n),n.getSnapshot.bind(n));const e=n.getName(),r=n.getProps(),c=n.getValue(),l=s.useCallback(t=>{n.isReady()&&(n.setValue(t.target.checked||!1),n.setTouched(!0),n.setDirty(!0))},[n]);s.useEffect(()=>{n.setReady(!0)},[n,e]);const a={...{width:n.getWidth()},...r.style};return x.jsx(z,{className:r.className,checked:c,disabled:n.isDisabled()||n.isReadOnly(),onChange:l,autoFocus:r.autoFocus,indeterminate:r.indeterminate,style:a})};class Oe extends J{noGrowWidth(){return!0}render(){return x.jsx(we,{field:this})}}const Fe=({field:n})=>{s.useSyncExternalStore(n.subscribe.bind(n),n.getSnapshot.bind(n));const e=n.getProps(),r=n.getValue(),c=s.useCallback(a=>{var t;n.setTouched(!0),(t=e==null?void 0:e.onClick)==null||t.call(e,a,n)},[n,e]);s.useEffect(()=>{n.setReady(!0)},[n]);const b={...{width:n.getWidth()??"100%"},...e.style};return x.jsx("a",{className:e.className,href:e.href,target:e.target,style:b,onClick:a=>c(a),onContextMenu:a=>{var t;return(t=e==null?void 0:e.onContextMenu)==null?void 0:t.call(e,a,n)},onDoubleClick:a=>{var t;return(t=e==null?void 0:e.onDoubleClick)==null?void 0:t.call(e,a,n)},onDrag:a=>{var t;return(t=e==null?void 0:e.onDrag)==null?void 0:t.call(e,a,n)},onDragEnd:a=>{var t;return(t=e==null?void 0:e.onDragEnd)==null?void 0:t.call(e,a,n)},onDragEnter:a=>{var t;return(t=e==null?void 0:e.onDragEnter)==null?void 0:t.call(e,a,n)},onDragExit:a=>{var t;return(t=e==null?void 0:e.onDragExit)==null?void 0:t.call(e,a,n)},onDragLeave:a=>{var t;return(t=e==null?void 0:e.onDragLeave)==null?void 0:t.call(e,a,n)},onDragOver:a=>{var t;return(t=e==null?void 0:e.onDragOver)==null?void 0:t.call(e,a,n)},onDragStart:a=>{var t;return(t=e==null?void 0:e.onDragStart)==null?void 0:t.call(e,a,n)},onMouseDown:a=>{var t;return(t=e==null?void 0:e.onMouseDown)==null?void 0:t.call(e,a,n)},onMouseEnter:a=>{var t;return(t=e==null?void 0:e.onMouseEnter)==null?void 0:t.call(e,a,n)},onMouseLeave:a=>{var t;return(t=e==null?void 0:e.onMouseLeave)==null?void 0:t.call(e,a,n)},onMouseMove:a=>{var t;return(t=e==null?void 0:e.onMouseMove)==null?void 0:t.call(e,a,n)},onMouseOut:a=>{var t;return(t=e==null?void 0:e.onMouseOut)==null?void 0:t.call(e,a,n)},onMouseOver:a=>{var t;return(t=e==null?void 0:e.onMouseOver)==null?void 0:t.call(e,a,n)},onBlur:a=>{var t;return(t=e==null?void 0:e.onBlur)==null?void 0:t.call(e,a,n)},onFocus:a=>{var t;return(t=e==null?void 0:e.onFocus)==null?void 0:t.call(e,a,n)},onMouseUp:a=>{var t;return(t=e==null?void 0:e.onMouseUp)==null?void 0:t.call(e,a,n)},children:r})};class Ne extends J{render(){return x.jsx(Fe,{field:this})}}const Te=()=>{const[n,e]=W.useState(!1),r=Re(n);return x.jsxs("div",{children:[x.jsx("h1",{children:"Form example with inline fields"}),x.jsxs("div",{style:{maxWidth:1e3,border:"1px solid gray",padding:5},children:[x.jsx(he,{style:{marginBottom:30},children:x.jsx(me,{checkedChildren:"Horizontal",unCheckedChildren:"Vertical",onChange:()=>e(c=>!c)})}),x.jsx(be,{...r})]})]})},Re=n=>({layout:n?"horizontal":"vertical",fieldsProps:{inline1:{component:T,fieldsProps:{field1_1:{component:B,label:"Field1_1",placeholder:"200px",width:200},field1_2:{component:Ce,label:"Field1_2",placeholder:"auto (not set)",autoFocus:!0},field1_3:{component:ge,label:"Field1_3",placeholder:"100px",width:100}}},inline2:{component:T,fieldsProps:{field2_1:{component:xe,label:"Field2_1",placeholder:"50%",width:"50%"},field2_2:{component:ve,label:"Field2_2",placeholder:"auto (not set)"},field2_3:{component:Ne,label:"Field2_3",href:"https://test.ru/link",defaultValue:"https://test.ru/link",placeholder:"20%",width:"20%"}}},inline3:{component:T,fieldsProps:{field3_1:{component:B,label:"Field3_1",placeholder:"auto (not set)"},field3_2:{component:B,label:"Field3_2",placeholder:"100px",width:"100px"},field3_3:{component:Oe,label:"Field3_3",width:50}}}},buttons:{ok:{position:"right"}}});export{Te as E,Re as u};
