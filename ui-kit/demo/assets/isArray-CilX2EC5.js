var e=Object.defineProperty,t=(t,r,n)=>((t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n)(t,"symbol"!=typeof r?r+"":r,n);import{z as r,G as n,B as o,r as i,J as l,e as s,x as a,q as c,l as u,al as d,am as m,an as f,ao as h,ap as p,aq as g,ar as b,as as y,at as v,au as C,av as $,aw as _,g as S,E as F,ax as x,A as w,ay as k,m as M,N as O,p as E,az as j,aA as I,aB as P,k as A,L as D,aC as R,aD as N,aE as H,aF as T,aG as B,aH as L,aI as V,s as z,F as W,w as q,X as Y,aJ as U,aK as X,aL as G,aM as Q,aN as K,ak as J,aO as Z,aP as ee,aQ as te,o as re,aR as ne,C as oe,aS as ie,a8 as le,aT as se,aU as ae,aV as ce,Y as ue,M as de,aW as me,aX as fe,aY as he,j as pe,S as ge,W as be}from"./index-DEKOHtjL.js";import{C as ye,R as ve,u as Ce,t as $e,c as _e,d as Se,e as Fe,f as xe,b as we,B as ke,a as Me,m as Oe,P as Ee}from"./buttonsRow-CRmAST--.js";import{R as je,m as Ie,S as Pe}from"./messageBox-DiSTOwiN.js";import{T as Ae}from"./index-B4134D_s.js";import{C as De}from"./pageLayout-BAEqcME3.js";const Re=(e,t,r,n,i)=>({background:e,border:`${o(n.lineWidth)} ${n.lineType} ${t}`,[`${i}-icon`]:{color:r}}),Ne=e=>{const{componentCls:t,motionDurationSlow:r,marginXS:o,marginSM:i,fontSize:l,fontSizeLG:s,lineHeight:a,borderRadiusLG:c,motionEaseInOutCirc:u,withDescriptionIconSize:d,colorText:m,colorTextHeading:f,withDescriptionPadding:h,defaultPadding:p}=e;return{[t]:Object.assign(Object.assign({},n(e)),{position:"relative",display:"flex",alignItems:"center",padding:p,wordWrap:"break-word",borderRadius:c,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:l,lineHeight:a},"&-message":{color:f},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${r} ${u}, opacity ${r} ${u},\n        padding-top ${r} ${u}, padding-bottom ${r} ${u},\n        margin-bottom ${r} ${u}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:h,[`${t}-icon`]:{marginInlineEnd:i,fontSize:d,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:f,fontSize:s},[`${t}-description`]:{display:"block",color:m}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},He=e=>{const{componentCls:t,colorSuccess:r,colorSuccessBorder:n,colorSuccessBg:o,colorWarning:i,colorWarningBorder:l,colorWarningBg:s,colorError:a,colorErrorBorder:c,colorErrorBg:u,colorInfo:d,colorInfoBorder:m,colorInfoBg:f}=e;return{[t]:{"&-success":Re(o,n,r,e,t),"&-info":Re(f,m,d,e,t),"&-warning":Re(s,l,i,e,t),"&-error":Object.assign(Object.assign({},Re(u,c,a,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Te=e=>{const{componentCls:t,iconCls:r,motionDurationMid:n,marginXS:i,fontSizeIcon:l,colorIcon:s,colorIconHover:a}=e;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:l,lineHeight:o(l),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${r}-close`]:{color:s,transition:`color ${n}`,"&:hover":{color:a}}},"&-close-text":{color:s,transition:`color ${n}`,"&:hover":{color:a}}}}},Be=r("Alert",(e=>[Ne(e),He(e),Te(e)]),(e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`})));var Le=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const Ve={success:p,info:h,error:f,warning:m},ze=e=>{const{icon:t,prefixCls:r,type:n}=e,o=Ve[n]||null;return t?d(t,i.createElement("span",{className:`${r}-icon`},t),(()=>({className:s(`${r}-icon`,t.props.className)}))):i.createElement(o,{className:`${r}-icon`})},We=e=>{const{isClosable:t,prefixCls:r,closeIcon:n,handleClose:o,ariaProps:l}=e,s=!0===n||void 0===n?i.createElement(g,null):n;return t?i.createElement("button",Object.assign({type:"button",onClick:o,className:`${r}-close-icon`,tabIndex:0},l),s):null},qe=i.forwardRef(((e,t)=>{const{description:r,prefixCls:n,message:o,banner:d,className:m,rootClassName:f,style:h,onMouseEnter:p,onMouseLeave:g,onClick:b,afterClose:y,showIcon:v,closable:C,closeText:$,closeIcon:_,action:S,id:F}=e,x=Le(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[w,k]=i.useState(!1),M=i.useRef(null);i.useImperativeHandle(t,(()=>({nativeElement:M.current})));const{getPrefixCls:O,direction:E,closable:j,closeIcon:I,className:P,style:A}=l("alert"),D=O("alert",n),[R,N,H]=Be(D),T=t=>{var r;k(!0),null===(r=e.onClose)||void 0===r||r.call(e,t)},B=i.useMemo((()=>void 0!==e.type?e.type:d?"warning":"info"),[e.type,d]),L=i.useMemo((()=>!("object"!=typeof C||!C.closeIcon)||(!!$||("boolean"==typeof C?C:!1!==_&&null!=_||!!j))),[$,_,C,j]),V=!(!d||void 0!==v)||v,z=s(D,`${D}-${B}`,{[`${D}-with-description`]:!!r,[`${D}-no-icon`]:!V,[`${D}-banner`]:!!d,[`${D}-rtl`]:"rtl"===E},P,m,f,H,N),W=a(x,{aria:!0,data:!0}),q=i.useMemo((()=>"object"==typeof C&&C.closeIcon?C.closeIcon:$||(void 0!==_?_:"object"==typeof j&&j.closeIcon?j.closeIcon:I)),[_,C,$,I]),Y=i.useMemo((()=>{const e=null!=C?C:j;if("object"==typeof e){const{closeIcon:t}=e;return Le(e,["closeIcon"])}return{}}),[C,j]);return R(i.createElement(c,{visible:!w,motionName:`${D}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:y},((t,n)=>{let{className:l,style:a}=t;return i.createElement("div",Object.assign({id:F,ref:u(M,n),"data-show":!w,className:s(z,l),style:Object.assign(Object.assign(Object.assign({},A),h),a),onMouseEnter:p,onMouseLeave:g,onClick:b,role:"alert"},W),V?i.createElement(ze,{description:r,icon:e.icon,prefixCls:D,type:B}):null,i.createElement("div",{className:`${D}-content`},o?i.createElement("div",{className:`${D}-message`},o):null,r?i.createElement("div",{className:`${D}-description`},r):null),S?i.createElement("div",{className:`${D}-action`},S):null,i.createElement(We,{isClosable:L,prefixCls:D,closeIcon:q,handleClose:T,ariaProps:Y}))})))}));let Ye=function(e){function t(){var e,r,n,o;return _(this,t),r=this,o=arguments,n=y(n=t),(e=b(r,v()?Reflect.construct(n,o||[],y(r).constructor):n.apply(r,o))).state={error:void 0,info:{componentStack:""}},e}return C(t,e),$(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){const{message:e,description:t,id:r,children:n}=this.props,{error:o,info:l}=this.state,s=(null==l?void 0:l.componentStack)||null,a=void 0===e?(o||"").toString():e,c=void 0===t?s:t;return o?i.createElement(qe,{id:r,type:"error",message:a,description:i.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},c)}):n}}])}(i.Component);const Ue=qe;Ue.ErrorBoundary=Ye;const Xe=e=>"object"==typeof e&&null!=e&&1===e.nodeType,Ge=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,Qe=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return Ge(r.overflowY,t)||Ge(r.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(t){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},Ke=(e,t,r,n,o,i,l,s)=>i<e&&l>t||i>e&&l<t?0:i<=e&&s<=r||l>=t&&s>=r?i-e-n:l>t&&s<r||i<e&&s>r?l-t+o:0,Je=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},Ze=(e,t)=>{var r,n,o,i;if("undefined"==typeof document)return[];const{scrollMode:l,block:s,inline:a,boundary:c,skipOverflowHiddenElements:u}=t,d="function"==typeof c?c:e=>e!==c;if(!Xe(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,f=[];let h=e;for(;Xe(h)&&d(h);){if(h=Je(h),h===m){f.push(h);break}null!=h&&h===document.body&&Qe(h)&&!Qe(document.documentElement)||null!=h&&Qe(h,u)&&f.push(h)}const p=null!=(n=null==(r=window.visualViewport)?void 0:r.width)?n:innerWidth,g=null!=(i=null==(o=window.visualViewport)?void 0:o.height)?i:innerHeight,{scrollX:b,scrollY:y}=window,{height:v,width:C,top:$,right:_,bottom:S,left:F}=e.getBoundingClientRect(),{top:x,right:w,bottom:k,left:M}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let O="start"===s||"nearest"===s?$-x:"end"===s?S+k:$+v/2-x+k,E="center"===a?F+C/2-M+w:"end"===a?_+w:F-M;const j=[];for(let I=0;I<f.length;I++){const e=f[I],{height:t,width:r,top:n,right:o,bottom:i,left:c}=e.getBoundingClientRect();if("if-needed"===l&&$>=0&&F>=0&&S<=g&&_<=p&&(e===m&&!Qe(e)||$>=n&&S<=i&&F>=c&&_<=o))return j;const u=getComputedStyle(e),d=parseInt(u.borderLeftWidth,10),h=parseInt(u.borderTopWidth,10),x=parseInt(u.borderRightWidth,10),w=parseInt(u.borderBottomWidth,10);let k=0,M=0;const P="offsetWidth"in e?e.offsetWidth-e.clientWidth-d-x:0,A="offsetHeight"in e?e.offsetHeight-e.clientHeight-h-w:0,D="offsetWidth"in e?0===e.offsetWidth?0:r/e.offsetWidth:0,R="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(m===e)k="start"===s?O:"end"===s?O-g:"nearest"===s?Ke(y,y+g,g,h,w,y+O,y+O+v,v):O-g/2,M="start"===a?E:"center"===a?E-p/2:"end"===a?E-p:Ke(b,b+p,p,d,x,b+E,b+E+C,C),k=Math.max(0,k+y),M=Math.max(0,M+b);else{k="start"===s?O-n-h:"end"===s?O-i+w+A:"nearest"===s?Ke(n,i,t,h,w+A,O,O+v,v):O-(n+t/2)+A/2,M="start"===a?E-c-d:"center"===a?E-(c+r/2)+P/2:"end"===a?E-o+x+P:Ke(c,o,r,d,x+P,E,E+C,C);const{scrollLeft:l,scrollTop:u}=e;k=0===R?0:Math.max(0,Math.min(u+k/R,e.scrollHeight-t/R+A)),M=0===D?0:Math.max(0,Math.min(l+M/D,e.scrollWidth-r/D+P)),O+=u-k,E+=l-M}j.push({el:e,top:k,left:M})}return j};function et(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const r=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if("object"==typeof(n=t)&&"function"==typeof n.behavior)return t.behavior(Ze(e,t));var n;const o="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:i,top:l,left:s}of Ze(e,(e=>{return!1===e?{block:"end",inline:"nearest"}:(t=e)===Object(t)&&0!==Object.keys(t).length?e:{block:"start",inline:"nearest"};var t})(t))){const e=l-r.top+r.bottom,t=s-r.left+r.right;i.scroll({top:e,left:t,behavior:o})}}var tt,rt={exports:{}};function nt(){return tt||(tt=1,rt.exports=function(){var e=1e3,t=6e4,r=36e5,n="millisecond",o="second",i="minute",l="hour",s="day",a="week",c="month",u="quarter",d="year",m="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},b=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:b,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),o=r%60;return(t<=0?"+":"-")+b(n,2,"0")+":"+b(o,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),o=t.clone().add(n,c),i=r-o<0,l=t.clone().add(n+(i?-1:1),c);return+(-(n+(r-o)/(i?o-l:l-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:a,d:s,D:m,h:l,m:i,s:o,ms:n,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",C={};C[v]=g;var $="$isDayjsObject",_=function(e){return e instanceof w||!(!e||!e[$])},S=function e(t,r,n){var o;if(!t)return v;if("string"==typeof t){var i=t.toLowerCase();C[i]&&(o=i),r&&(C[i]=r,o=i);var l=t.split("-");if(!o&&l.length>1)return e(l[0])}else{var s=t.name;C[s]=t,o=s}return!n&&o&&(v=o),o||!n&&v},F=function(e,t){if(_(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new w(r)},x=y;x.l=S,x.i=_,x.w=function(e,t){return F(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[$]=!0}var b=g.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(h);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return x},b.isValid=function(){return!(this.$d.toString()===f)},b.isSame=function(e,t){var r=F(e);return this.startOf(t)<=r&&r<=this.endOf(t)},b.isAfter=function(e,t){return F(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<F(e)},b.$g=function(e,t,r){return x.u(e)?this[t]:this.set(r,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var r=this,n=!!x.u(t)||t,u=x.p(e),f=function(e,t){var o=x.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?o:o.endOf(s)},h=function(e,t){return x.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},p=this.$W,g=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return n?f(1,0):f(31,11);case c:return n?f(1,g):f(0,g+1);case a:var v=this.$locale().weekStart||0,C=(p<v?p+7:p)-v;return f(n?b-C:b+(6-C),g);case s:case m:return h(y+"Hours",0);case l:return h(y+"Minutes",1);case i:return h(y+"Seconds",2);case o:return h(y+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var r,a=x.p(e),u="set"+(this.$u?"UTC":""),f=(r={},r[s]=u+"Date",r[m]=u+"Date",r[c]=u+"Month",r[d]=u+"FullYear",r[l]=u+"Hours",r[i]=u+"Minutes",r[o]=u+"Seconds",r[n]=u+"Milliseconds",r)[a],h=a===s?this.$D+(t-this.$W):t;if(a===c||a===d){var p=this.clone().set(m,1);p.$d[f](h),p.init(),this.$d=p.set(m,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[x.p(e)]()},b.add=function(n,u){var m,f=this;n=Number(n);var h=x.p(u),p=function(e){var t=F(f);return x.w(t.date(t.date()+Math.round(e*n)),f)};if(h===c)return this.set(c,this.$M+n);if(h===d)return this.set(d,this.$y+n);if(h===s)return p(1);if(h===a)return p(7);var g=(m={},m[i]=t,m[l]=r,m[o]=e,m)[h]||1,b=this.$d.getTime()+n*g;return x.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=e||"YYYY-MM-DDTHH:mm:ssZ",o=x.z(this),i=this.$H,l=this.$m,s=this.$M,a=r.weekdays,c=r.months,u=r.meridiem,d=function(e,r,o,i){return e&&(e[r]||e(t,n))||o[r].slice(0,i)},m=function(e){return x.s(i%12||12,e,"0")},h=u||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return x.s(t.$y,4,"0");case"M":return s+1;case"MM":return x.s(s+1,2,"0");case"MMM":return d(r.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return x.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(r.weekdaysMin,t.$W,a,2);case"ddd":return d(r.weekdaysShort,t.$W,a,3);case"dddd":return a[t.$W];case"H":return String(i);case"HH":return x.s(i,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return h(i,l,!0);case"A":return h(i,l,!1);case"m":return String(l);case"mm":return x.s(l,2,"0");case"s":return String(t.$s);case"ss":return x.s(t.$s,2,"0");case"SSS":return x.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,m,f){var h,p=this,g=x.p(m),b=F(n),y=(b.utcOffset()-this.utcOffset())*t,v=this-b,C=function(){return x.m(p,b)};switch(g){case d:h=C()/12;break;case c:h=C();break;case u:h=C()/3;break;case a:h=(v-y)/6048e5;break;case s:h=(v-y)/864e5;break;case l:h=v/r;break;case i:h=v/t;break;case o:h=v/e;break;default:h=v}return f?h:x.a(h)},b.daysInMonth=function(){return this.endOf(c).$D},b.$locale=function(){return C[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=S(e,t,!0);return n&&(r.$L=n),r},b.clone=function(){return x.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},g}(),k=w.prototype;return F.prototype=k,[["$ms",n],["$s",o],["$m",i],["$H",l],["$W",s],["$M",c],["$y",d],["$D",m]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),F.extend=function(e,t){return e.$i||(e(t,w,F),e.$i=!0),F},F.locale=S,F.isDayjs=_,F.unix=function(e){return F(1e3*e)},F.en=C[v],F.Ls=C,F.p={},F}()),rt.exports}const ot=S(nt());function it(e){const[t,r]=i.useState(e);return i.useEffect((()=>{const t=setTimeout((()=>{r(e)}),e.length?0:10);return()=>{clearTimeout(t)}}),[e]),t}const lt=e=>{const{componentCls:t}=e,r=`${t}-show-help`,n=`${t}-show-help-item`;return{[r]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}},st=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${o(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${o(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),at=(e,t)=>{const{formItemCls:r}=e;return{[r]:{[`${r}-label > label`]:{height:t},[`${r}-control-input`]:{minHeight:t}}}},ct=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},n(e)),st(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},at(e,e.controlHeightSM)),"&-large":Object.assign({},at(e,e.controlHeightLG))})}},ut=e=>{const{formItemCls:t,iconCls:r,componentCls:o,rootPrefixCls:i,antCls:l,labelRequiredMarkColor:s,labelColor:a,labelFontSize:c,labelHeight:u,labelColonMarginInlineStart:d,labelColonMarginInlineEnd:m,itemMarginBottom:f}=e;return{[t]:Object.assign(Object.assign({},n(e)),{marginBottom:f,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${l}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:u,color:a,fontSize:c,[`> ${r}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:s,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${o}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${o}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:d,marginInlineEnd:m},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${i}-col-'"]):not([class*="' ${i}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:x,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},dt=(e,t)=>{const{formItemCls:r}=e;return{[`${t}-horizontal`]:{[`${r}-label`]:{flexGrow:0},[`${r}-control`]:{flex:"1 1 0",minWidth:0},[`${r}-label[class$='-24'], ${r}-label[class*='-24 ']`]:{[`& + ${r}-control`]:{minWidth:"unset"}}}}},mt=e=>{const{componentCls:t,formItemCls:r,inlineItemMarginBottom:n}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[r]:{flex:"none",marginInlineEnd:e.margin,marginBottom:n,"&-row":{flexWrap:"nowrap"},[`> ${r}-label,\n        > ${r}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${r}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${r}-has-feedback`]:{display:"inline-block"}}}}},ft=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),ht=e=>{const{componentCls:t,formItemCls:r,rootPrefixCls:n}=e;return{[`${r} ${r}-label`]:ft(e),[`${t}:not(${t}-inline)`]:{[r]:{flexWrap:"wrap",[`${r}-label, ${r}-control`]:{[`&:not([class*=" ${n}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},pt=e=>{const{componentCls:t,formItemCls:r,antCls:n}=e;return{[`${t}-vertical`]:{[`${r}:not(${r}-horizontal)`]:{[`${r}-row`]:{flexDirection:"column"},[`${r}-label > label`]:{height:"auto"},[`${r}-control`]:{width:"100%"},[`${r}-label,\n        ${n}-col-24${r}-label,\n        ${n}-col-xl-24${r}-label`]:ft(e)}},[`@media (max-width: ${o(e.screenXSMax)})`]:[ht(e),{[t]:{[`${r}:not(${r}-horizontal)`]:{[`${n}-col-xs-24${r}-label`]:ft(e)}}}],[`@media (max-width: ${o(e.screenSMMax)})`]:{[t]:{[`${r}:not(${r}-horizontal)`]:{[`${n}-col-sm-24${r}-label`]:ft(e)}}},[`@media (max-width: ${o(e.screenMDMax)})`]:{[t]:{[`${r}:not(${r}-horizontal)`]:{[`${n}-col-md-24${r}-label`]:ft(e)}}},[`@media (max-width: ${o(e.screenLGMax)})`]:{[t]:{[`${r}:not(${r}-horizontal)`]:{[`${n}-col-lg-24${r}-label`]:ft(e)}}}}},gt=e=>{const{formItemCls:t,antCls:r}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,\n      ${r}-col-24${t}-label,\n      ${r}-col-xl-24${t}-label`]:ft(e),[`@media (max-width: ${o(e.screenXSMax)})`]:[ht(e),{[t]:{[`${r}-col-xs-24${t}-label`]:ft(e)}}],[`@media (max-width: ${o(e.screenSMMax)})`]:{[t]:{[`${r}-col-sm-24${t}-label`]:ft(e)}},[`@media (max-width: ${o(e.screenMDMax)})`]:{[t]:{[`${r}-col-md-24${t}-label`]:ft(e)}},[`@media (max-width: ${o(e.screenLGMax)})`]:{[t]:{[`${r}-col-lg-24${t}-label`]:ft(e)}}}},bt=(e,t)=>w(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),yt=r("Form",((e,t)=>{let{rootPrefixCls:r}=t;const n=bt(e,r);return[ct(n),ut(n),lt(n),dt(n,n.componentCls),dt(n,n.formItemCls),mt(n),pt(n),gt(n),F(n),x]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0})),{order:-1e3}),vt=[];function Ct(e,t,r){return{key:"string"==typeof e?e:`${t}-${arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}`,error:e,errorStatus:r}}const $t=e=>{let{help:t,helpStatus:r,errors:n=vt,warnings:o=vt,className:l,fieldId:a,onVisibleChanged:u}=e;const{prefixCls:d}=i.useContext(k),m=`${d}-item-explain`,f=M(d),[h,p,g]=yt(d,f),b=i.useMemo((()=>O(d)),[d]),y=it(n),v=it(o),C=i.useMemo((()=>null!=t?[Ct(t,"help",r)]:[].concat(E(y.map(((e,t)=>Ct(e,"error","error",t)))),E(v.map(((e,t)=>Ct(e,"warning","warning",t)))))),[t,r,y,v]),$=i.useMemo((()=>{const e={};return C.forEach((t=>{let{key:r}=t;e[r]=(e[r]||0)+1})),C.map(((t,r)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${r}`:t.key})))}),[C]),_={};return a&&(_.id=`${a}_help`),h(i.createElement(c,{motionDeadline:b.motionDeadline,motionName:`${d}-show-help`,visible:!!$.length,onVisibleChanged:u},(e=>{const{className:t,style:r}=e;return i.createElement("div",Object.assign({},_,{className:s(m,t,g,f,l,p),style:r}),i.createElement(j,Object.assign({keys:$},O(d),{motionName:`${d}-show-help-item`,component:!1}),(e=>{const{key:t,error:r,errorStatus:n,className:o,style:l}=e;return i.createElement("div",{key:t,className:s(o,{[`${m}-${n}`]:n}),style:l},r)})))})))},_t=["parentNode"];function St(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function Ft(e,t){if(!e.length)return;const r=e.join("_");if(t)return`${t}_${r}`;return _t.includes(r)?`form_item_${r}`:r}function xt(e,t,r,n,o,i){let l=n;return void 0!==i?l=i:r.validating?l="validating":e.length?l="error":t.length?l="warning":(r.touched||o&&r.validated)&&(l="success"),l}function wt(e){return St(e).join("_")}function kt(e,t){const r=t.getFieldInstance(e),n=P(r);if(n)return n;const o=Ft(St(e),t.__INTERNAL__.name);return o?document.getElementById(o):void 0}function Mt(e){const[t]=I(),r=i.useRef({}),n=i.useMemo((()=>null!=e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{const n=wt(e);t?r.current[n]=t:delete r.current[n]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{focus:r}=t,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["focus"]),i=kt(e,n);i&&(et(i,Object.assign({scrollMode:"if-needed",block:"nearest"},o)),r&&n.focusField(e))},focusField:e=>{var t,r;const o=n.getFieldInstance(e);"function"==typeof(null==o?void 0:o.focus)?o.focus():null===(r=null===(t=kt(e,n))||void 0===t?void 0:t.focus)||void 0===r||r.call(t)},getFieldInstance:e=>{const t=wt(e);return r.current[t]}})),[e,t]);return[n]}const Ot=(e,t)=>{const r=i.useContext(A),{getPrefixCls:n,direction:o,requiredMark:a,colon:c,scrollToFirstError:u,className:d,style:m}=l("form"),{prefixCls:f,className:h,rootClassName:p,size:g,disabled:b=r,form:y,colon:v,labelAlign:C,labelWrap:$,labelCol:_,wrapperCol:S,hideRequiredMark:F,layout:x="horizontal",scrollToFirstError:w,requiredMark:k,onFinishFailed:O,name:E,style:j,feedbackIcons:I,variant:P}=e,z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),W=D(g),q=i.useContext(R),Y=i.useMemo((()=>void 0!==k?k:!F&&(void 0===a||a)),[F,k,a]),U=null!=v?v:c,X=n("form",f),G=M(X),[Q,K,J]=yt(X,G),Z=s(X,`${X}-${x}`,{[`${X}-hide-required-mark`]:!1===Y,[`${X}-rtl`]:"rtl"===o,[`${X}-${W}`]:W},J,G,K,d,h,p),[ee]=Mt(y),{__INTERNAL__:te}=ee;te.name=E;const re=i.useMemo((()=>({name:E,labelAlign:C,labelCol:_,labelWrap:$,wrapperCol:S,vertical:"vertical"===x,colon:U,requiredMark:Y,itemRef:te.itemRef,form:ee,feedbackIcons:I})),[E,C,_,S,x,U,Y,ee,I]),ne=i.useRef(null);i.useImperativeHandle(t,(()=>{var e;return Object.assign(Object.assign({},ee),{nativeElement:null===(e=ne.current)||void 0===e?void 0:e.nativeElement})}));const oe=(e,t)=>{if(e){let r={block:"nearest"};"object"==typeof e&&(r=Object.assign(Object.assign({},r),e)),ee.scrollToField(t,r)}};return Q(i.createElement(N.Provider,{value:P},i.createElement(H,{disabled:b},i.createElement(T.Provider,{value:W},i.createElement(B,{validateMessages:q},i.createElement(L.Provider,{value:re},i.createElement(V,Object.assign({id:E},z,{name:E,onFinishFailed:e=>{if(null==O||O(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==w)return void oe(w,t);void 0!==u&&oe(u,t)}},form:ee,ref:ne,style:Object.assign(Object.assign({},m),j),className:Z}))))))))},Et=i.forwardRef(Ot);const jt=()=>{const{status:e,errors:t=[],warnings:r=[]}=i.useContext(W);return{status:e,errors:t,warnings:r}};jt.Context=W;const It=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},Pt=U(["Form","item-item"],((e,t)=>{let{rootPrefixCls:r}=t;const n=bt(e,r);return[It(n)]}));const At=e=>{const{prefixCls:t,status:r,labelCol:n,wrapperCol:o,children:l,errors:a,warnings:c,_internalItemRender:u,extra:d,help:m,fieldId:f,marginBottom:h,onErrorVisibleChanged:p,label:g}=e,b=`${t}-item`,y=i.useContext(L),v=i.useMemo((()=>{let e=Object.assign({},o||y.wrapperCol||{});if(null===g&&!n&&!o&&y.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach((t=>{const r=t?[t]:[],n=X(y.labelCol,r),o="object"==typeof n?n:{},i=X(e,r);"span"in o&&!("offset"in("object"==typeof i?i:{}))&&o.span<24&&(e=G(e,[].concat(r,["offset"]),o.span))}))}return e}),[o,y]),C=s(`${b}-control`,v.className),$=i.useMemo((()=>{const{labelCol:e,wrapperCol:t}=y;return function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(y,["labelCol","wrapperCol"])}),[y]),_=i.useRef(null),[S,F]=i.useState(0);Q((()=>{d&&_.current?F(_.current.clientHeight):F(0)}),[d]);const x=i.createElement("div",{className:`${b}-control-input`},i.createElement("div",{className:`${b}-control-input-content`},l)),w=i.useMemo((()=>({prefixCls:t,status:r})),[t,r]),M=null!==h||a.length||c.length?i.createElement(k.Provider,{value:w},i.createElement($t,{fieldId:f,errors:a,warnings:c,help:m,helpStatus:r,className:`${b}-explain-connected`,onVisibleChanged:p})):null,O={};f&&(O.id=`${f}_extra`);const E=d?i.createElement("div",Object.assign({},O,{className:`${b}-extra`,ref:_}),d):null,j=M||E?i.createElement("div",{className:`${b}-additional`,style:h?{minHeight:h+S}:{}},M,E):null,I=u&&"pro_table_render"===u.mark&&u.render?u.render(e,{input:x,errorList:M,extra:E}):i.createElement(i.Fragment,null,x,j);return i.createElement(L.Provider,{value:$},i.createElement(ye,Object.assign({},v,{className:C}),I),i.createElement(Pt,{prefixCls:t}))};const Dt=e=>{let{prefixCls:t,label:r,htmlFor:n,labelCol:o,labelAlign:l,colon:a,required:c,requiredMark:u,tooltip:d,vertical:m}=e;var f;const[h]=K("Form"),{labelAlign:p,labelCol:g,labelWrap:b,colon:y}=i.useContext(L);if(!r)return null;const v=o||g||{},C=`${t}-item-label`,$=s(C,"left"===(l||p)&&`${C}-left`,v.className,{[`${C}-wrap`]:!!b});let _=r;const S=!0===a||!1!==y&&!1!==a;S&&!m&&"string"==typeof r&&r.trim()&&(_=r.replace(/[:|：]\s*$/,""));const F=function(e){return e?"object"!=typeof e||i.isValidElement(e)?{title:e}:e:null}(d);if(F){const{icon:e=i.createElement(je,null)}=F,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(F,["icon"]),n=i.createElement(J,Object.assign({},r),i.cloneElement(e,{className:`${t}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));_=i.createElement(i.Fragment,null,_,n)}const x="optional"===u,w="function"==typeof u;w?_=u(_,{required:!!c}):x&&!c&&(_=i.createElement(i.Fragment,null,_,i.createElement("span",{className:`${t}-item-optional`,title:""},(null==h?void 0:h.optional)||(null===(f=Z.Form)||void 0===f?void 0:f.optional))));const k=s({[`${t}-item-required`]:c,[`${t}-item-required-mark-optional`]:x||w,[`${t}-item-no-colon`]:!S});return i.createElement(ye,Object.assign({},v,{className:$}),i.createElement("label",{htmlFor:n,className:k,title:"string"==typeof r?r:""},_))},Rt={success:p,warning:m,error:f,validating:ee};function Nt(e){let{children:t,errors:r,warnings:n,hasFeedback:o,validateStatus:l,prefixCls:a,meta:c,noStyle:u}=e;const d=`${a}-item`,{feedbackIcons:m}=i.useContext(L),f=xt(r,n,c,null,!!o,l),{isFormItemInput:h,status:p,hasFeedback:g,feedbackIcon:b}=i.useContext(W),y=i.useMemo((()=>{var e;let t;if(o){const l=!0!==o&&o.icons||m,a=f&&(null===(e=null==l?void 0:l({status:f,errors:r,warnings:n}))||void 0===e?void 0:e[f]),c=f&&Rt[f];t=!1!==a&&c?i.createElement("span",{className:s(`${d}-feedback-icon`,`${d}-feedback-icon-${f}`)},a||i.createElement(c,null)):null}const l={status:f||"",errors:r,warnings:n,hasFeedback:!!o,feedbackIcon:t,isFormItemInput:!0};return u&&(l.status=(null!=f?f:p)||"",l.isFormItemInput=h,l.hasFeedback=!!(null!=o?o:g),l.feedbackIcon=void 0!==o?l.feedbackIcon:b),l}),[f,o,u,h,p]);return i.createElement(W.Provider,{value:y},t)}function Ht(e){const{prefixCls:t,className:r,rootClassName:n,style:o,help:l,errors:a,warnings:c,validateStatus:u,meta:d,hasFeedback:m,hidden:f,children:h,fieldId:p,required:g,isRequired:b,onSubItemMetaChange:y,layout:v}=e,C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),$=`${t}-item`,{requiredMark:_,vertical:S}=i.useContext(L),F=S||"vertical"===v,x=i.useRef(null),w=it(a),k=it(c),M=null!=l,O=!!(M||a.length||c.length),E=!!x.current&&te(x.current),[j,I]=i.useState(null);Q((()=>{if(O&&x.current){const e=getComputedStyle(x.current);I(parseInt(e.marginBottom,10))}}),[O,E]);const P=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return xt(e?w:d.errors,e?k:d.warnings,d,"",!!m,u)}(),A=s($,r,n,{[`${$}-with-help`]:M||w.length||k.length,[`${$}-has-feedback`]:P&&m,[`${$}-has-success`]:"success"===P,[`${$}-has-warning`]:"warning"===P,[`${$}-has-error`]:"error"===P,[`${$}-is-validating`]:"validating"===P,[`${$}-hidden`]:f,[`${$}-${v}`]:v});return i.createElement("div",{className:A,style:o,ref:x},i.createElement(ve,Object.assign({className:`${$}-row`},re(C,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),i.createElement(Dt,Object.assign({htmlFor:p},e,{requiredMark:_,required:null!=g?g:b,prefixCls:t,vertical:F})),i.createElement(At,Object.assign({},e,d,{errors:w,warnings:k,prefixCls:t,status:P,help:l,marginBottom:j,onErrorVisibleChanged:e=>{e||I(null)}}),i.createElement(ne.Provider,{value:y},i.createElement(Nt,{prefixCls:t,meta:d,errors:d.errors,warnings:d.warnings,hasFeedback:m,validateStatus:P},h)))),!!j&&i.createElement("div",{className:`${$}-margin-offset`,style:{marginBottom:-j}}))}const Tt=i.memo((e=>{let{children:t}=e;return t}),((e,t)=>function(e,t){const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every((r=>{const n=e[r],o=t[r];return n===o||"function"==typeof n||"function"==typeof o}))}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,r)=>e===t.childProps[r]))));const Bt=function(e){const{name:t,noStyle:r,className:n,dependencies:o,prefixCls:l,shouldUpdate:a,rules:c,children:d,required:m,label:f,messageVariables:h,trigger:p="onChange",validateTrigger:g,hidden:b,help:y,layout:v}=e,{getPrefixCls:C}=i.useContext(oe),{name:$}=i.useContext(L),_=function(e){if("function"==typeof e)return e;const t=z(e);return t.length<=1?t[0]:t}(d),S="function"==typeof _,F=i.useContext(ne),{validateTrigger:x}=i.useContext(ie),w=void 0!==g?g:x,k=!(null==t),O=C("form",l),j=M(O),[I,P,A]=yt(O,j);le();const D=i.useContext(se),R=i.useRef(null),[N,H]=function(e){const[t,r]=i.useState(e),n=i.useRef(null),o=i.useRef([]),l=i.useRef(!1);return i.useEffect((()=>(l.current=!1,()=>{l.current=!0,q.cancel(n.current),n.current=null})),[]),[t,function(e){l.current||(null===n.current&&(o.current=[],n.current=q((()=>{n.current=null,r((e=>{let t=e;return o.current.forEach((e=>{t=e(t)})),t}))}))),o.current.push(e))}]}({}),[T,B]=ae((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),V=(e,t)=>{H((r=>{const n=Object.assign({},r),o=[].concat(E(e.name.slice(0,-1)),E(t)).join("__SPLIT__");return e.destroy?delete n[o]:n[o]=e,n}))},[W,U]=i.useMemo((()=>{const e=E(T.errors),t=E(T.warnings);return Object.values(N).forEach((r=>{e.push.apply(e,E(r.errors||[])),t.push.apply(t,E(r.warnings||[]))})),[e,t]}),[N,T.errors,T.warnings]),X=function(){const{itemRef:e}=i.useContext(L),t=i.useRef({});return function(r,n){const o=n&&"object"==typeof n&&Y(n),i=r.join("_");return t.current.name===i&&t.current.originRef===o||(t.current.name=i,t.current.originRef=o,t.current.ref=u(e(r),o)),t.current.ref}}();function G(t,o,l){return r&&!b?i.createElement(Nt,{prefixCls:O,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:T,errors:W,warnings:U,noStyle:!0},t):i.createElement(Ht,Object.assign({key:"row"},e,{className:s(n,A,j,P),prefixCls:O,fieldId:o,isRequired:l,errors:W,warnings:U,meta:T,onSubItemMetaChange:V,layout:v}),t)}if(!k&&!S&&!o)return I(G(_));let Q={};return"string"==typeof f?Q.label=f:t&&(Q.label=String(t)),h&&(Q=Object.assign(Object.assign({},Q),h)),I(i.createElement(ce,Object.assign({},e,{messageVariables:Q,trigger:p,validateTrigger:w,onMetaChange:e=>{const t=null==D?void 0:D.getKey(e.name);if(B(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),r&&!1!==y&&F){let r=e.name;if(e.destroy)r=R.current||r;else if(void 0!==t){const[e,n]=t;r=[e].concat(E(n)),R.current=r}F(e,r)}}}),((r,n,l)=>{const s=St(t).length&&n?n.name:[],u=Ft(s,$),d=void 0!==m?m:!!(null==c?void 0:c.some((e=>{if(e&&"object"==typeof e&&e.required&&!e.warningOnly)return!0;if("function"==typeof e){const t=e(l);return(null==t?void 0:t.required)&&!(null==t?void 0:t.warningOnly)}return!1}))),f=Object.assign({},r);let h=null;if(Array.isArray(_)&&k)h=_;else if(S&&(!a&&!o||k));else if(!o||S||k)if(i.isValidElement(_)){const t=Object.assign(Object.assign({},_.props),f);if(t.id||(t.id=u),y||W.length>0||U.length>0||e.extra){const r=[];(y||W.length>0)&&r.push(`${u}_help`),e.extra&&r.push(`${u}_extra`),t["aria-describedby"]=r.join(" ")}W.length>0&&(t["aria-invalid"]="true"),d&&(t["aria-required"]="true"),ue(_)&&(t.ref=X(s,_));new Set([].concat(E(St(p)),E(St(w)))).forEach((e=>{t[e]=function(){for(var t,r,n,o,i,l=arguments.length,s=new Array(l),a=0;a<l;a++)s[a]=arguments[a];null===(n=f[e])||void 0===n||(t=n).call.apply(t,[f].concat(s)),null===(i=(o=_.props)[e])||void 0===i||(r=i).call.apply(r,[o].concat(s))}}));const r=[t["aria-required"],t["aria-invalid"],t["aria-describedby"]];h=i.createElement(Tt,{control:f,update:_,childProps:r},de(_,t))}else h=S&&(a||o)&&!k?_(l):_;else;return G(h,u,d)})))};Bt.useStatus=jt;const Lt=Et;Lt.Item=Bt,Lt.List=e=>{var{prefixCls:t,children:r}=e,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["prefixCls","children"]);const{getPrefixCls:o}=i.useContext(oe),l=o("form",t),s=i.useMemo((()=>({prefixCls:l,status:"error"})),[l]);return i.createElement(me,Object.assign({},n),((e,t,n)=>i.createElement(k.Provider,{value:s},r(e.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),t,{errors:n.errors,warnings:n.warnings}))))},Lt.ErrorList=$t,Lt.useForm=Mt,Lt.useFormInstance=function(){const{form:e}=i.useContext(L);return e},Lt.useWatch=fe,Lt.Provider=B,Lt.create=()=>{};const Vt=e=>!!e&&(e instanceof Promise||e.constructor===Promise||"[object Promise]"===Object.prototype.toString.call(e)||"function"==typeof e.then)
/**
 * @BaseValidator
 * @version 0.0.28.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */;class BaseValidator{validate(e,t,r,n){const o={};if(!e||!r)return o;for(const i in r){if(null==n?void 0:n[i])continue;const l=e[i]?e[i]:null,s=this.validateValue(l,t,r[i]);s&&(o[i]=s)}return o}validateValue(e,t,r){if(!r)return"";for(const n of r)if("string"===n.type){if(e&&"object"==typeof e)return"Неподходящий тип данных";if(!this.validateString(e,n))return n.message}else if("file"===n.type){if(e&&"object"==typeof e)return"Неподходящий тип данных";if(!this.validateFile(e,n))return n.message}else if("number"===n.type){if(e&&"object"==typeof e)return"Неподходящий тип данных";if(!this.validateNumber(e,n))return n.message}else if("date"===n.type){if(!this.validateDate(e,n))return n.message}else if("object"===n.type){if(e&&"object"!=typeof e)return"Неподходящий тип данных";if(!this.validateRowObject(e,n))return n.message}else if("custom"===n.type&&"function"==typeof n.callback)return n.callback(e,t);return""}validateString(e,t){const r="function"==typeof t.parameter?t.parameter(e):t.parameter;if(e=e||""){if("not-empty"===t.rule)return e.length>0;if("max-length"===t.rule)return e.length<=r;if("min-length"===t.rule)return e.length>=r;if("="===t.rule)return e.length===r;if("!="===t.rule)return e.length!==r;if("is-uuid"===t.rule||"is-uuid-or-empty"===t.rule)return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e);if("is-email"===t.rule||"is-email-or-empty"===t.rule)return/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(e)}else{if("not-empty"===t.rule)return!1;if("max-length"===t.rule)return!0;if("min-length"===t.rule)return!r;if("="===t.rule)return!r;if("!="===t.rule)return!!r;if("is-uuid"===t.rule)return!1;if("is-uuid-or-empty"===t.rule)return!0;if("is-email"===t.rule)return!1;if("is-email-or-empty"===t.rule)return!0}return!1}validateFile(e,t){const r="function"==typeof t.parameter?t.parameter(e):t.parameter;if(e){if("not-empty"===t.rule)return e.length>0;if("extension"===t.rule){const t=e.substring(e.lastIndexOf("."));return r.indexOf(t)>=0}}else{if("not-empty"===t.rule)return!1;if("extension"===t.rule)return!1}return!1}validateNumber(e,t){if(!e&&(e="","not-empty"!==t.rule))return!0;if("not-empty"===t.rule)return this.isNumeric(e);if("number-or-empty"===t.rule)return!e||this.isNumeric(e);const r="function"==typeof t.parameter?t.parameter(e):t.parameter,n=+e,o=+r;return!isNaN(n)&&!isNaN(o)&&("="===t.rule?!e&&!r||n===o:"!="===t.rule?n!==o:">"===t.rule?n>o:">="===t.rule?n>=o:"<"===t.rule?n<o:"<="===t.rule&&n<=o)}validateDate(e,t){if(!e&&(e="","not-empty"!==t.rule))return!0;const r=ot(e,"DD.MM.YYYY"),n="function"==typeof t.parameter?t.parameter(e):t.parameter,o=ot(n,"DD.MM.YYYY");return"date-or-empty"===t.rule?!e||r.isValid()&&e.length<=10:"not-empty"===t.rule?r.isValid()&&e.length<=10:!(!r.isValid()||!o.isValid()||e.length>10)&&("="===t.rule?r===o:"!="===t.rule?r!==o:">"===t.rule?r>o:">="===t.rule?r>=o:"<"===t.rule?r<o:"<="===t.rule&&r<=o)}validateRowObject(e,t){var r;if("null"===t.rule)return null==e;if(!e)return!1;const n="function"==typeof t.parameter?t.parameter(e):t.parameter;if("not-empty"===t.rule)return e instanceof Array?e.length>0&&!!(null==(r=e[0])?void 0:r.id):!!(null==e?void 0:e.id);if("="===t.rule){if(!(e instanceof Array))return e.id===n;if(e.length>0)return e[0].id===n}if("!="===t.rule){if(!(e instanceof Array))return e.id!==n;if(e.length>0)return e[0].id!==n}return"contains"===t.rule?e instanceof Array?e.filter((function(e){return e.id===n})):e.id===n:"not-contains"===t.rule&&(e instanceof Array?!e.filter((function(e){return e.id===n})):e.id!==n)}isNumeric(e){const t=parseFloat(e);return!isNaN(t)&&isFinite(t)}}class CallbackControl{constructor(){t(this,"_preventOriginal",!1)}preventOriginal(){this._preventOriginal=!0}isPrevented(){return this._preventOriginal}}
/**
 * @DynamicFormModel
 * @version 0.0.38.17
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class DModel{constructor(e){t(this,"_formApi"),t(this,"_formProps",{}),t(this,"_fieldsMap",{}),t(this,"_rootFields",{}),t(this,"_dataSet"),t(this,"_labels",{}),t(this,"_values",{}),t(this,"_touched",{}),t(this,"_dirty",{}),t(this,"_errors",{}),t(this,"_hidden",{}),t(this,"_readOnly",{}),t(this,"_disabled",{}),t(this,"_ready",{}),t(this,"_fetching",{}),t(this,"_formDisabled",!1),t(this,"_formReadOnly",!1),t(this,"_formDirty",!1),t(this,"_formReadyState"),t(this,"_isFormMounted",!1),t(this,"_formMode","create"),t(this,"_submitCount",0),t(this,"_isSubmitting",!1),t(this,"_isFetching",!1),t(this,"_isFetchingFailed",!1),t(this,"_validator"),t(this,"_formRenderListeners",[]),t(this,"_formRenderSnapshot",{}),t(this,"_readyTimeout"),this._validator=new BaseValidator,this._formApi=e}initModel(e){var t,r;if(this._formProps===e)return;this._formProps=e,this._formMode=e.formMode??"create",this._formReadOnly=!!e.readOnly,this._formDisabled=!!e.disabled;const n=this._fieldsMap;[this._fieldsMap,this._rootFields]=this.prepareFieldCollection(e.fieldsProps);const o=this._dataSet;[this._labels,this._values,this._hidden,this._readOnly,this._disabled]=this.initFieldsParameters({fieldsMap:this._fieldsMap,prevFieldsMap:n,curValues:this._values,curDisabled:this._disabled,curReadOnly:this._readOnly,curHidden:this._hidden,dataSet:o!==e.dataSet?e.dataSet:void 0,mode:e.formMode??"create"}),this._dataSet=e.dataSet,e.disableDepended?this._disabled=this.calculateLockedFields():this._hidden=this.calculateLockedFields(),null==(r=(t=this._formProps).onFormModelInitialized)||r.call(t,this._formApi,new CallbackControl)}prepareFieldCollection(e,t){const r={},n={};if(!e)return[r,n];for(const o in e){const i=e[o];if(r[o]&&console.error(`The form contains duplicate field names  "${o}"!`),!i.component)continue;const l=new i.component(o,i,this,t);r[o]=l,n[o]=l;const[s]=l.initChildrenFields();for(const e in s)r[e]&&console.error(`The form contains duplicate field names  "${e}"!`),r[e]=s[e]}return[r,n]}initFieldsParameters({fieldsMap:e,prevFieldsMap:t,curValues:r,curDisabled:n,curReadOnly:o,curHidden:i,dataSet:l,mode:s}){var a;const c={},u={},d={},m={},f={};for(const h in e){const p=e[h],g=t[h],b=p.getProps();if(f[h]=b.label,g&&p.constructor.name===g.constructor.name){c[h]=r[h],u[h]="boolean"==typeof i[h]?i[h]:b.hidden,m[h]="boolean"==typeof n[h]?n[h]:b.disabled,d[h]="boolean"==typeof o[h]?o[h]:b.readOnly;continue}if(u[h]=!!b.hidden,m[h]=!!b.disabled,d[h]=!!b.readOnly,!p.canHaveValue())continue;let y;y="create"===s?b.defaultValue??(null==(a=this._formProps.defaultValues)?void 0:a[h]):null==l?void 0:l[h],c[h]=y}return[f,c,u,d,m]}calculateLockedFields(){const e={};for(const t in this._fieldsMap)e[t]=this.isFieldMustBeLocked(this._fieldsMap[t]);return e}lockDependedFields(e,t,r){const n=this._formProps.disableDepended,o=e.getName();for(const i in this._fieldsMap){const e=this._fieldsMap[i],l=e.getProps();if(!(null==l?void 0:l.dependsOn)||l.dependsOn.indexOf(o)<0)continue;const s=this.isFieldMustBeLocked(e);n?e.setDisabled(s,t,r):e.setHidden(s,t,r)}}isFieldMustBeLocked(e){var t;const r=e.getProps();if(!(null==(t=r.dependsOn)?void 0:t.length))return e.isHidden();for(const n of r.dependsOn){const e=this._fieldsMap[n];if(!e)continue;if(e.getProps().hidden||e.isHidden()||e.canHaveValue()&&e.isEmptyValue())return!0;if(this.isFieldMustBeLocked(e))return!0}return!1}getFieldsMap(){return this._fieldsMap}getRootFields(){return this._rootFields}getField(e){return this._fieldsMap[e]}getFormId(){return this._formApi.getId()}getFormProps(){return this._formProps}getLabels(){return this._labels}getFormDataSet(){const e=this.getValues();return{...this._dataSet,...e}}getValues(){return this._values}setValues(e,t,r){var n,o;const i=t?e:(null==(o=(n=this._formProps).onDataSetChange)?void 0:o.call(n,e,this._formApi,new CallbackControl))??e;this._dataSet=i;for(const l in this._fieldsMap){const e=this._fieldsMap[l];i&&l in i&&e.setValue(i[l],t,r)}}getTouchedFields(){return this._touched}getDirtyFields(){return this._dirty}getDisabledFields(){return this._disabled}getReadOnlyFields(){return this._readOnly}getHiddenFields(){return this._hidden}getReadyFields(){return this._ready}getErrors(){return this._errors}getValidator(){return this._validator}getFetchingFields(){return this._fetching}getFormApi(){return this._formApi}isFormDirty(){return this._formDirty}setFormDirty(e,t){var r,n;const o=this.isFormDirty();this._formDirty=e,t||o===e||null==(n=null==(r=this._formProps)?void 0:r.onFormDirtyStateChanged)||n.call(r,e,this._formApi,new CallbackControl)}isFormDisabled(){return this._formDisabled}setFormDisabled(e,t,r){var n,o;const i=this.isFormDisabled();this._formDisabled=e,i!==e&&(t||null==(o=null==(n=this._formProps)?void 0:n.onFormDisabledStateChanged)||o.call(n,e,this._formApi,new CallbackControl),r||this.emitFormRender())}isFormReadOnly(){return"view"===this.getFormMode()||this._formReadOnly}setFormReadOnly(e,t,r){var n,o;const i=this.isFormReadOnly();this._formReadOnly=e,i!==e&&(t||null==(o=null==(n=this._formProps)?void 0:n.onFormReadOnlyStateChanged)||o.call(n,e,this._formApi,new CallbackControl),r||this.emitFormRender())}onFormInit(){var e,t;null==(t=null==(e=this._formProps)?void 0:e.onFormInit)||t.call(e,this._formApi,new CallbackControl)}isFormReady(){return!!this._formReadyState}checkFormReadyState(){void 0!==this._readyTimeout&&clearTimeout(this._readyTimeout),this._readyTimeout=setTimeout((()=>{var e,t;this._readyTimeout=void 0;let r=!0;if(this.isFormFetching()||this.isFormFetchingFailed())r=!1;else for(const n in this._fieldsMap){const e=this._fieldsMap[n];e.isHidden()||(e.isReady()||(r=!1))}r!==this._formReadyState&&(this._formReadyState=r,null==(t=null==(e=this._formProps)?void 0:e.onFormReadyChanged)||t.call(e,r,this._formApi,new CallbackControl))}),100)}validateForm(e,t){var r,n;for(const o in this._fieldsMap){this._fieldsMap[o].validate(e,t)}return this.emitFormRender(),null==(n=(r=this._formProps).onFormValidated)||n.call(r,this.getValues(),this.getFormDataSet(),this.getErrors(),this.isFormSubmitting(),this._formApi,new CallbackControl),this.getErrors()}isFormSubmitting(){return this._isSubmitting}setFormSubmitting(e){const t=this.isFormSubmitting();this._isSubmitting=e,t!==e&&this.emitFormRender()}isFormFetching(){return this._isFetching}setFormFetching(e){const t=this.isFormFetching();this._isFetching=e,t!==e&&this.emitFormRender()}setFormFetchingFailed(e){this._isFetchingFailed=e}isFormFetchingFailed(){return this._isFetchingFailed}isFormHasError(){const e=this.getErrors();for(const t in e)if(e[t])return!0;return!1}isFormMounted(){return this._isFormMounted}setFormMounted(e){this._isFormMounted=e}getFormMode(){return this._formMode}onInitialFetch(){const e=this._formProps,t=this._formMode;if(e.fetchOnCreate||"update"===t||"clone"===t||"view"===t){this.fetchData();for(const e in this._fieldsMap){this._fieldsMap[e].onInitialFetch()}}}fetchData(){var e,t;const r=null==(t=(e=this._formProps).onDataFetch)?void 0:t.call(e,this._formApi,new CallbackControl);r&&(this.setFormFetching(!0),this.setFormFetchingFailed(!1),this.checkFormReadyState(),r.then((e=>{var t,r,n,o;if(!this.isFormMounted())return;this.setFormFetching(!1),this.setFormFetchingFailed(!1),null==(r=(t=this._formProps).onDataFetchSuccess)||r.call(t,e,this._formApi,new CallbackControl),null==(o=(n=this._formProps).onDataFetchComplete)||o.call(n,this._formApi,new CallbackControl);const i=e.data;this.setValues(i),this.checkFormReadyState()}),(e=>{var t,r,n,o;this.isFormMounted()&&(this.setFormFetching(!1),this.setFormFetchingFailed(!0),null==(r=(t=this._formProps).onDataFetchError)||r.call(t,e,this._formApi,new CallbackControl),null==(o=(n=this._formProps).onDataFetchComplete)||o.call(n,this._formApi,new CallbackControl),this.checkFormReadyState())})))}submit(e={}){var t,r,n,o,i,l,s,a,c,u,d;if(this.isFormSubmitting())return;this.incrementSubmitCount(),this.setFormSubmitting(!0);const m=this.getValues(),f=this.getFormDataSet();"clone"===this._formMode&&(null==(t=this._formProps.assignExtraValues)?void 0:t.clone)&&(f[this._formProps.assignExtraValues.clone]=f.id),"update"===this._formMode&&(null==(r=this._formProps.assignExtraValues)?void 0:r.update)&&(f[this._formProps.assignExtraValues.update]=!0),"create"!==this._formMode&&"clone"!==this._formMode||((null==(n=this._formProps.assignExtraValues)?void 0:n.create)&&(f[this._formProps.assignExtraValues.create]=!0),delete f.id);const h=this.validateForm();if(null==(i=null==(o=this._formProps)?void 0:o.onSubmitValidation)||i.call(o,m,f,h,this._formApi,new CallbackControl),this.isFormHasError())return this.setFormSubmitting(!1),null==(l=e.onValidationFailed)||l.call(e,h),null==(s=e.onSubmitComplete)||s.call(e,m,f,h,this._formApi,new CallbackControl),void(null==(c=null==(a=this._formProps)?void 0:a.onSubmitComplete)||c.call(a,m,f,h,this._formApi,new CallbackControl));if(!(null==(u=this._formProps)?void 0:u.onSubmit))return this.submitUnhandled(h,e);const p=null==(d=this._formProps)?void 0:d.onSubmit(m,f,this._formApi,new CallbackControl);Vt(p)?this.submitPromise(p,h,e):"object"==typeof p?this.submitObject(p,h,e):"boolean"==typeof p?this.submitBoolean(p,h,e):void 0===p&&this.submitUndefined(h,e)}submitUnhandled(e,t={}){var r,n,o,i,l,s;const a=this.getValues(),c=this.getFormDataSet();this.setFormSubmitting(!1),null==(r=t.onSubmitError)||r.call(t,a,c,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new CallbackControl),null==(n=t.onSubmitComplete)||n.call(t,a,c,e,this._formApi,new CallbackControl),null==(i=null==(o=this._formProps)?void 0:o.onSubmitError)||i.call(o,a,c,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new CallbackControl),null==(s=null==(l=this._formProps)?void 0:l.onSubmitComplete)||s.call(l,a,c,e,this._formApi,new CallbackControl)}submitPromise(e,t,r={}){const n=this.getValues(),o=this.getFormDataSet();e.then((e=>{var i,l,s,a,c,u;this.isFormMounted()&&(this.setFormSubmitting(!1),null==(i=r.onSubmitSuccess)||i.call(r,n,o,(null==e?void 0:e.data)||o,this._formApi,new CallbackControl),null==(l=r.onSubmitComplete)||l.call(r,n,o,t,this._formApi,new CallbackControl),null==(a=null==(s=this._formProps)?void 0:s.onSubmitSuccess)||a.call(s,n,o,(null==e?void 0:e.data)||o,this._formApi,new CallbackControl),null==(u=null==(c=this._formProps)?void 0:c.onSubmitComplete)||u.call(c,n,o,t,this._formApi,new CallbackControl))})).catch((e=>{var i,l,s,a,c,u;this.isFormMounted()&&(this.setFormSubmitting(!1),null==(i=r.onSubmitError)||i.call(r,n,o,e,this._formApi,new CallbackControl),null==(l=r.onSubmitComplete)||l.call(r,n,o,t,this._formApi,new CallbackControl),null==(a=null==(s=this._formProps)?void 0:s.onSubmitError)||a.call(s,n,o,e,this._formApi,new CallbackControl),null==(u=null==(c=this._formProps)?void 0:c.onSubmitComplete)||u.call(c,n,o,t,this._formApi,new CallbackControl))}))}submitObject(e,t,r={}){var n,o,i,l,s,a,c,u,d,m;const f=this.getValues(),h=this.getFormDataSet();this.setFormSubmitting(!1),(null==(n=e.error)?void 0:n.message)?(null==(o=r.onSubmitError)||o.call(r,f,h,{message:e.error.message||"",error:e.error.error,code:e.error.code||400},this._formApi,new CallbackControl),null==(l=null==(i=this._formProps)?void 0:i.onSubmitError)||l.call(i,f,h,{message:e.error.message||"",error:e.error.error,code:e.error.code||400},this._formApi,new CallbackControl)):(null==(s=r.onSubmitSuccess)||s.call(r,f,h,e.data??h,this._formApi,new CallbackControl),null==(c=null==(a=this._formProps)?void 0:a.onSubmitSuccess)||c.call(a,f,h,e.data??h,this._formApi,new CallbackControl)),null==(u=r.onSubmitComplete)||u.call(r,f,h,t,this._formApi,new CallbackControl),null==(m=null==(d=this._formProps)?void 0:d.onSubmitComplete)||m.call(d,f,h,t,this._formApi,new CallbackControl)}submitBoolean(e,t,r={}){var n,o,i,l,s,a,c,u,d;const m=this.getValues(),f=this.getFormDataSet();this.setFormSubmitting(!1),e?(null==(n=r.onSubmitSuccess)||n.call(r,m,f,f,this._formApi,new CallbackControl),null==(i=null==(o=this._formProps)?void 0:o.onSubmitSuccess)||i.call(o,m,f,f,this._formApi,new CallbackControl)):(null==(l=r.onSubmitError)||l.call(r,m,f,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new CallbackControl),null==(a=null==(s=this._formProps)?void 0:s.onSubmitError)||a.call(s,m,f,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new CallbackControl)),null==(c=r.onSubmitComplete)||c.call(r,m,f,t,this._formApi,new CallbackControl),null==(d=null==(u=this._formProps)?void 0:u.onSubmitComplete)||d.call(u,m,f,t,this._formApi,new CallbackControl)}submitUndefined(e,t={}){var r,n,o,i,l,s;this.setFormSubmitting(!1);const a=this.getValues(),c=this.getFormDataSet();null==(r=t.onSubmitSuccess)||r.call(t,a,c,c,this._formApi,new CallbackControl),null==(o=null==(n=this._formProps)?void 0:n.onSubmitSuccess)||o.call(n,a,c,c,this._formApi,new CallbackControl),null==(i=t.onSubmitComplete)||i.call(t,a,c,e,this._formApi,new CallbackControl),null==(s=null==(l=this._formProps)?void 0:l.onSubmitComplete)||s.call(l,a,c,e,this._formApi,new CallbackControl)}getSubmitCount(){return this._submitCount}incrementSubmitCount(){this._submitCount++}subscribeRenderForm(e){return this._formRenderListeners=[...this._formRenderListeners,e],()=>{this._formRenderListeners=this._formRenderListeners.filter((t=>t!==e))}}emitFormRender(){if(this._formRenderSnapshot={},this._formRenderListeners)for(const e of this._formRenderListeners)e()}getFormRenderSnapshot(){return this._formRenderSnapshot}}const zt=e=>{const[t]=i.useState({});return()=>t},Wt=(e,t,r)=>{const n=e??"en_US",[o,l]=qt(n,t,r);return i.useCallback((e=>o[e]??l[e]??e),[o,l])},qt=(e,t,r)=>i.useMemo((()=>[{...t[e??"en_US"]??t.en,...r},{...t.en,...r}]),[r,e,t]),Yt={ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",confirm:"Confirm",fixError:"Fix errors",confirmChangesQs:"Confirm changes made?",tryAgainQt:"Try again?",error:"Error"},Ut={ok:"ОК",cancel:"Отмена",yes:"Да",no:"Нет",confirm:"Подтвердить",fixError:"Необходимо исправить ошибки",confirmChangesQs:"Подтвердить сделанные изменения?",tryAgainQt:"Попробовать снова?",error:"Ошибка"},Xt={ok:"确定",cancel:"取消",yes:"是",no:"否",confirm:"确认",fixError:"需要修复错误",confirmChangesQs:"确认所做的更改？",tryAgainQt:"再试一次？",error:"错误"},Gt={en_US:Yt,ru_RU:Ut,zh_CN:Xt},Qt=()=>{const{modal:e}=he.useApp();Ie.updateThemedModal(e)},Kt=({props:e,setProps:t})=>{var r,n,o,l,s,a,c,u,d;const[m]=i.useState(e.apiRef||{}),f=Ce(e.formId??"dForm-"+$e());(null==(r=e._overriddenApi)?void 0:r.getId)||(m.getId=f);const h=_e(e);(null==(n=e._overriddenApi)?void 0:n.getProps)||(m.getProps=h);const p=Se(t);(null==(o=e._overriddenApi)?void 0:o.setProps)||(m.setProps=p);const g=Fe(e,t);(null==(l=e._overriddenApi)?void 0:l.updateProps)||(m.updateProps=g);const b=xe();(null==(s=e._overriddenApi)?void 0:s.getIsMounted)||(m.getIsMounted=b);const y=(e=>Wt(e.language,Gt,e.translation))(e);(null==(a=e._overriddenApi)?void 0:a.t)||(m.t=y);const v=zt();(null==(c=e._overriddenApi)?void 0:c.getButtonsApi)||(m.getButtonsApi=v);const C=(e=>t=>{const r=e.getProps(),n=e.model.validateForm();if(e.getButtonsApi().disabled("ok",Object.keys(n).length>0),0===Object.keys(n).length||!t)return n;const o=pe.jsx(ge,{style:{marginLeft:5},direction:"vertical",size:0,children:Object.keys(n).map((t=>{const r=e.model.getField(t),o=(null==r?void 0:r.getLabel())||t;return pe.jsxs(Ae.Text,{style:{fontSize:12},type:"secondary",children:[o,": ",n[t]]},t)}))});return Ie.alert({language:r.language,title:e.t("fixError"),content:o,colorType:"danger"}),n})(m);(null==(u=e._overriddenApi)?void 0:u.validateForm)||(m.validateForm=C);const $=(e=>()=>{const t=e.validateForm(!0);if(Object.keys(t).length>0)return;const r=e.model.getFormProps();if(!r.confirmChanges)return e.getButtonsApi().loading("ok",!0),void e.model.submit();const n=Ie.confirmWaiter({language:r.language,content:r.submitConfirmMessage??e.t("confirmChangesQs"),okText:e.t("yes"),cancelText:e.t("cancel"),onOk:()=>{e.model.submit({onSubmitComplete:o})}}),o=()=>{n.destroy()}})(m);return(null==(d=e._overriddenApi)?void 0:d.submitForm)||(m.submitForm=$),m},Jt=({fields:e,subscribe:t,getSnapshot:r,containerStyle:n})=>{t||(t=()=>()=>{}),r||(r=()=>0);const o={height:"100%",display:"flex",flexDirection:"column",...n};return i.useSyncExternalStore(t,r),pe.jsx("div",{className:"dform-fields-container",style:o,children:Object.keys(e).map((t=>{const r=e[t];return pe.jsx(be.Fragment,{children:r.renderField()},"field_"+t)}))})},Zt={en_US:{loadingError:"Data loading error",tryAgain:"Try again",tryReload:"Try reloading the page (press F5)"},ru_RU:{loadingError:"Ошибка загрузки данных",tryAgain:"Повторить попытку",tryReload:"Попробовать перезагрузить страницу (нажмите F5)"},zh_CN:{loadingError:"数据加载错误",tryAgain:"再次尝试",tryReload:"尝试重新加载页面 (按F5)"}},{Text:er}=Ae,tr=({errorMessage:e,children:t,retryHandler:r,style:n,language:o})=>{const l=Wt(o,Zt),s=i.useCallback((()=>{r&&r()}),[r]);return e?pe.jsx(ve,{justify:"center",align:"middle",style:{height:"100%",...n},children:pe.jsx(ye,{children:pe.jsx(Ue,{message:l("loadingError"),showIcon:!0,icon:pe.jsx(f,{}),description:pe.jsxs(pe.Fragment,{children:[e,pe.jsx(ve,{justify:"center",align:"middle",style:{marginTop:16},children:pe.jsx(ye,{style:{marginLeft:-24},children:r?pe.jsx(we,{color:"danger",variant:"solid",onClick:s,children:l("tryAgain")}):pe.jsx(er,{children:l("tryReload")})})})]}),type:"error"})})}):pe.jsx(pe.Fragment,{children:t})},rr=({isLoading:e,error:t,retryHandler:r,children:n,skeleton:o,notHideContent:i,caption:l,spinStyle:s,errorStyle:a,noFullHeight:c,language:u})=>{const d=l??"Please wait...";return pe.jsx(tr,{errorMessage:null==t?void 0:t.message,retryHandler:r,style:a,language:u,children:pe.jsx(Pe,{spinning:e,delay:0,tip:d,style:s,wrapperClassName:c?"":"wrapper-full-height-grid-spinner",children:e&&!i?pe.jsxs(pe.Fragment,{children:[o??null,pe.jsx("div",{style:{display:"none"},children:n})]}):pe.jsx(pe.Fragment,{children:n})})})},nr=({formProps:e,formApi:t,formButtons:r})=>{var n,o;const l=t.model;i.useSyncExternalStore(l.subscribeRenderForm.bind(l),l.getFormRenderSnapshot.bind(l));const s={span:"horizontal"===e.layout?8:24,...e.labelCol};s.style={paddingBottom:2,...null==(n=e.labelCol)?void 0:n.style};const a={span:"horizontal"===e.layout?16:24,...e.wrapperCol};return pe.jsx("div",{className:e.containerClassName??"",style:e.containerStyle,children:pe.jsx(rr,{isLoading:l.isFormFetching()||l.isFormSubmitting()&&!e.confirmChanges,notHideContent:!0,language:e.language,children:pe.jsx(ke,{children:pe.jsxs(Lt,{colon:!1,className:e.className,name:l.getFormId(),labelCol:s,wrapperCol:a,autoComplete:"off",labelAlign:e.labelAlign,layout:"horizontal"===e.layout?"horizontal":"vertical",requiredMark:e.requiredMark,style:e.formStyle,children:[pe.jsx(or,{model:l}),pe.jsx(Jt,{fields:l.getRootFields()}),!(null==(o=e._overriddenApi)?void 0:o.getButtonsApi)&&pe.jsx(Me,{buttons:r,apiRef:t.getButtonsApi(),color:e.colorType,arrowsSelection:e.arrowsButtonsSelection,style:e.buttonsRowStyle,styles:e.buttonsRowStyles,context:t})]})})})})},or=({model:e})=>(i.useEffect((()=>{e.onFormInit()}),[e]),null),ir=()=>!0,{Text:lr}=Ae,sr=({error:e,extraMessage:t})=>pe.jsxs(pe.Fragment,{children:[pe.jsx(lr,{strong:!0,children:e.message}),t&&pe.jsx(lr,{children:t}),e.stack&&pe.jsx(De,{items:[{key:"1",label:"Stack",children:pe.jsx("p",{children:e.stack})}]})]}),ar=e=>{Qt();const t=cr(e),[r,n]=Ee(t),o=(e=>i.useMemo((()=>{const t={onFormReadyChanged:(t,r,n)=>{var o,i,l,s,a;null==(o=null==e?void 0:e.onFormReadyChanged)||o.call(e,t,r,n),n.isPrevented()||(t?null==(l=(i=r.getButtonsApi()).disabled)||l.call(i,"ok",!1):null==(a=(s=r.getButtonsApi()).disabled)||a.call(s,"ok",!0))},onFormHasNoErrors:(t,r,n,o)=>{var i,l,s;null==(i=null==e?void 0:e.onFormHasNoErrors)||i.call(e,t,r,n,o),o.isPrevented()||null==(s=(l=n.getButtonsApi()).disabled)||s.call(l,"ok",!1)},onDataFetchError:(t,r,n)=>{var o;if(null==(o=null==e?void 0:e.onDataFetchError)||o.call(e,t,r,n),n.isPrevented())return;const i=Ie.confirm({language:e.language,title:r.t("error"),content:pe.jsx(sr,{error:t,extraMessage:r.t("tryAgainQt")}),colorType:"danger",buttons:{ok:{onClick:()=>{i.destroy(),r.model.fetchData()}}}})},onSubmit:(t,r,n,o)=>{var i,l,s,a,c;const u=null==(i=null==e?void 0:e.onSubmit)?void 0:i.call(e,t,r,n,o);return o.isPrevented()||(null==(s=(l=n.getButtonsApi()).disabled)||s.call(l,"ok",!0),e.confirmChanges||null==(c=(a=n.getButtonsApi()).loading)||c.call(a,"ok",!0)),u},onSubmitError:(t,r,n,o,i)=>{var l;null==(l=null==e?void 0:e.onSubmitError)||l.call(e,t,r,n,o,i),i.isPrevented()||Ie.alert({language:e.language,title:o.t("error"),content:pe.jsx(sr,{error:n}),colorType:"danger"})},onSubmitComplete:(t,r,n,o,i)=>{var l,s,a,c,u;null==(l=null==e?void 0:e.onSubmitComplete)||l.call(e,t,r,n,o,i),i.isPrevented()||(null==(a=(s=o.getButtonsApi()).disabled)||a.call(s,"ok",!1),null==(u=(c=o.getButtonsApi()).loading)||u.call(c,"ok",!1))}};return{...e,...t}}),[e]))(r),l=Kt({props:o,setProps:n});ur(l,o);const s=((e,t)=>i.useMemo((()=>{if(null===e.buttons)return{};const r={ok:{position:"left",active:!0,title:t.t("confirm"),disabled:!0,hotKeys:[{key:"Enter",ctrl:!0},{key:"S",ctrl:!0},{key:"Ы",ctrl:!0}],onClick:()=>{t.submitForm()}}};return Oe(r,e.buttons)}),[e.buttons,t]))(o,l);return mr(l),dr(l),pe.jsx(nr,{formProps:o,formApi:l,formButtons:s})},cr=e=>{var t;const r=i.useRef(!0);return r.current?(null==(t=null==e?void 0:e.onFirstRender)?void 0:t.call(e,e))??e:(r.current=!1,e)},ur=(e,t)=>{const r=i.useRef(null);return i.useMemo((()=>{var n;return r.current||(r.current=new DModel(e)),(null==(n=t._overriddenApi)?void 0:n.model)||(e.model=r.current),r.current.initModel(t),r.current}),[e,t])},dr=e=>{i.useEffect((()=>(e.model.setFormMounted(!0),()=>{e.model.setFormMounted(!1)})))},mr=e=>{i.useEffect((()=>{e.model.onInitialFetch()}),[e])},fr=e=>Array.isArray(e);export{CallbackControl as C,ar as D,sr as E,Lt as F,ir as I,rr as L,fr as a,Jt as b,zt as c,ot as d,Yt as e,Qt as f,nt as g,Ut as r,Vt as t,Wt as u,Xt as z};
