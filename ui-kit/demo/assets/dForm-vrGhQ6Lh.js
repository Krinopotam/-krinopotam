var Lt=Object.defineProperty;var Ht=(t,e,n)=>e in t?Lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>Ht(t,typeof e!="symbol"?e+"":e,n);import{y as mt,E as Ve,A as te,r as c,C as Me,e as ne,v as Bt,p as ht,l as pt,ak as Wt,al as gt,am as Te,an as zt,ao as yt,ap as kt,aq as qt,ar as Ge,as as Ut,at as Gt,au as Yt,av as Xt,g as Kt,B as Qt,aw as bt,z as Jt,ax as Le,m as He,M as Ye,n as re,ay as Zt,az as en,aA as tn,k as nn,I as rn,aB as sn,aC as on,aD as an,aE as ln,aF as Ft,aG as le,aH as dn,q as cn,F as Ee,w as Xe,V as un,aI as fn,aJ as Ke,aK as mn,aL as St,aM as hn,aj as pn,aN as gn,aO as yn,aP as bn,o as Fn,aQ as Ct,aR as Sn,a7 as Cn,aS as xn,aT as _n,aU as $n,X as En,L as vn,aV as wn,aW as Mn,aX as Nn,R as me,aY as Se,aZ as xt,h as On,j as N,a_ as In,S as Rn}from"./index-B5poLpDm.js";import{C as ve,R as je,u as Pn,t as Dn,c as jn,d as An,e as Vn,f as Tn,b as Ln,B as Hn,a as Bn,m as Wn,P as zn}from"./buttonsRow-aX3TQ5bu.js";import{R as kn,m as be,S as qn}from"./messageBox-1o2XjDyt.js";import{T as Be}from"./index-AMqWlYeY.js";import{C as Un}from"./darcula-DszBWugp.js";const Ce=(t,e,n,r,i)=>({background:t,border:`${te(r.lineWidth)} ${r.lineType} ${e}`,[`${i}-icon`]:{color:n}}),Gn=t=>{const{componentCls:e,motionDurationSlow:n,marginXS:r,marginSM:i,fontSize:s,fontSizeLG:o,lineHeight:a,borderRadiusLG:l,motionEaseInOutCirc:d,withDescriptionIconSize:u,colorText:f,colorTextHeading:b,withDescriptionPadding:_,defaultPadding:S}=t;return{[e]:Object.assign(Object.assign({},Ve(t)),{position:"relative",display:"flex",alignItems:"center",padding:S,wordWrap:"break-word",borderRadius:l,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:s,lineHeight:a},"&-message":{color:b},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${d}, opacity ${n} ${d},
        padding-top ${n} ${d}, padding-bottom ${n} ${d},
        margin-bottom ${n} ${d}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",padding:_,[`${e}-icon`]:{marginInlineEnd:i,fontSize:u,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:r,color:b,fontSize:o},[`${e}-description`]:{display:"block",color:f}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Yn=t=>{const{componentCls:e,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:s,colorWarningBorder:o,colorWarningBg:a,colorError:l,colorErrorBorder:d,colorErrorBg:u,colorInfo:f,colorInfoBorder:b,colorInfoBg:_}=t;return{[e]:{"&-success":Ce(i,r,n,t,e),"&-info":Ce(_,b,f,t,e),"&-warning":Ce(a,o,s,t,e),"&-error":Object.assign(Object.assign({},Ce(u,d,l,t,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},Xn=t=>{const{componentCls:e,iconCls:n,motionDurationMid:r,marginXS:i,fontSizeIcon:s,colorIcon:o,colorIconHover:a}=t;return{[e]:{"&-action":{marginInlineStart:i},[`${e}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:s,lineHeight:te(s),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:o,transition:`color ${r}`,"&:hover":{color:a}}},"&-close-text":{color:o,transition:`color ${r}`,"&:hover":{color:a}}}}},Kn=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),Qn=mt("Alert",t=>[Gn(t),Yn(t),Xn(t)],Kn);var Qe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Jn={success:yt,info:zt,error:Te,warning:gt},Zn=t=>{const{icon:e,prefixCls:n,type:r}=t,i=Jn[r]||null;return e?Wt(e,c.createElement("span",{className:`${n}-icon`},e),()=>({className:ne(`${n}-icon`,e.props.className)})):c.createElement(i,{className:`${n}-icon`})},er=t=>{const{isClosable:e,prefixCls:n,closeIcon:r,handleClose:i,ariaProps:s}=t,o=r===!0||r===void 0?c.createElement(kt,null):r;return e?c.createElement("button",Object.assign({type:"button",onClick:i,className:`${n}-close-icon`,tabIndex:0},s),o):null},_t=c.forwardRef((t,e)=>{const{description:n,prefixCls:r,message:i,banner:s,className:o,rootClassName:a,style:l,onMouseEnter:d,onMouseLeave:u,onClick:f,afterClose:b,showIcon:_,closable:S,closeText:F,closeIcon:E,action:A,id:V}=t,C=Qe(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[D,O]=c.useState(!1),T=c.useRef(null);c.useImperativeHandle(e,()=>({nativeElement:T.current}));const{getPrefixCls:G,direction:z,alert:$}=c.useContext(Me),w=G("alert",r),[M,X,k]=Qn(w),y=I=>{var L;O(!0),(L=t.onClose)===null||L===void 0||L.call(t,I)},p=c.useMemo(()=>t.type!==void 0?t.type:s?"warning":"info",[t.type,s]),h=c.useMemo(()=>typeof S=="object"&&S.closeIcon||F?!0:typeof S=="boolean"?S:E!==!1&&E!==null&&E!==void 0?!0:!!($!=null&&$.closable),[F,E,S,$==null?void 0:$.closable]),m=s&&_===void 0?!0:_,g=ne(w,`${w}-${p}`,{[`${w}-with-description`]:!!n,[`${w}-no-icon`]:!m,[`${w}-banner`]:!!s,[`${w}-rtl`]:z==="rtl"},$==null?void 0:$.className,o,a,k,X),x=Bt(C,{aria:!0,data:!0}),v=c.useMemo(()=>{var I,L;return typeof S=="object"&&S.closeIcon?S.closeIcon:F||(E!==void 0?E:typeof($==null?void 0:$.closable)=="object"&&(!((I=$==null?void 0:$.closable)===null||I===void 0)&&I.closeIcon)?(L=$==null?void 0:$.closable)===null||L===void 0?void 0:L.closeIcon:$==null?void 0:$.closeIcon)},[E,S,F,$==null?void 0:$.closeIcon]),P=c.useMemo(()=>{const I=S??($==null?void 0:$.closable);if(typeof I=="object"){const{closeIcon:L}=I;return Qe(I,["closeIcon"])}return{}},[S,$==null?void 0:$.closable]);return M(c.createElement(ht,{visible:!D,motionName:`${w}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:I=>({maxHeight:I.offsetHeight}),onLeaveEnd:b},(I,L)=>{let{className:U,style:Y}=I;return c.createElement("div",Object.assign({id:V,ref:pt(T,L),"data-show":!D,className:ne(g,U),style:Object.assign(Object.assign(Object.assign({},$==null?void 0:$.style),l),Y),onMouseEnter:d,onMouseLeave:u,onClick:f,role:"alert"},x),m?c.createElement(Zn,{description:n,icon:t.icon,prefixCls:w,type:p}):null,c.createElement("div",{className:`${w}-content`},i?c.createElement("div",{className:`${w}-message`},i):null,n?c.createElement("div",{className:`${w}-description`},n):null),A?c.createElement("div",{className:`${w}-action`},A):null,c.createElement(er,{isClosable:h,prefixCls:w,closeIcon:v,handleClose:y,ariaProps:P}))}))});function tr(t,e,n){return e=Ge(e),qt(t,Ut()?Reflect.construct(e,n||[],Ge(t).constructor):e.apply(t,n))}let nr=function(t){function e(){var n;return Xt(this,e),n=tr(this,e,arguments),n.state={error:void 0,info:{componentStack:""}},n}return Gt(e,t),Yt(e,[{key:"componentDidCatch",value:function(r,i){this.setState({error:r,info:i})}},{key:"render",value:function(){const{message:r,description:i,id:s,children:o}=this.props,{error:a,info:l}=this.state,d=(l==null?void 0:l.componentStack)||null,u=typeof r>"u"?(a||"").toString():r,f=typeof i>"u"?d:i;return a?c.createElement(_t,{id:s,type:"error",message:u,description:c.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},f)}):o}}])}(c.Component);const $t=_t;$t.ErrorBoundary=nr;const Je=t=>typeof t=="object"&&t!=null&&t.nodeType===1,Ze=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",xe=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return Ze(n.overflowY,e)||Ze(n.overflowX,e)||(r=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},_e=(t,e,n,r,i,s,o,a)=>s<t&&o>e||s>t&&o<e?0:s<=t&&a<=n||o>=e&&a>=n?s-t-r:o>e&&a<n||s<t&&a>n?o-e+i:0,rr=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},et=(t,e)=>{var n,r,i,s;if(typeof document>"u")return[];const{scrollMode:o,block:a,inline:l,boundary:d,skipOverflowHiddenElements:u}=e,f=typeof d=="function"?d:h=>h!==d;if(!Je(t))throw new TypeError("Invalid target");const b=document.scrollingElement||document.documentElement,_=[];let S=t;for(;Je(S)&&f(S);){if(S=rr(S),S===b){_.push(S);break}S!=null&&S===document.body&&xe(S)&&!xe(document.documentElement)||S!=null&&xe(S,u)&&_.push(S)}const F=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,E=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:A,scrollY:V}=window,{height:C,width:D,top:O,right:T,bottom:G,left:z}=t.getBoundingClientRect(),{top:$,right:w,bottom:M,left:X}=(h=>{const m=window.getComputedStyle(h);return{top:parseFloat(m.scrollMarginTop)||0,right:parseFloat(m.scrollMarginRight)||0,bottom:parseFloat(m.scrollMarginBottom)||0,left:parseFloat(m.scrollMarginLeft)||0}})(t);let k=a==="start"||a==="nearest"?O-$:a==="end"?G+M:O+C/2-$+M,y=l==="center"?z+D/2-X+w:l==="end"?T+w:z-X;const p=[];for(let h=0;h<_.length;h++){const m=_[h],{height:g,width:x,top:v,right:P,bottom:I,left:L}=m.getBoundingClientRect();if(o==="if-needed"&&O>=0&&z>=0&&G<=E&&T<=F&&(m===b&&!xe(m)||O>=v&&G<=I&&z>=L&&T<=P))return p;const U=getComputedStyle(m),Y=parseInt(U.borderLeftWidth,10),J=parseInt(U.borderTopWidth,10),j=parseInt(U.borderRightWidth,10),q=parseInt(U.borderBottomWidth,10);let B=0,W=0;const K="offsetWidth"in m?m.offsetWidth-m.clientWidth-Y-j:0,Z="offsetHeight"in m?m.offsetHeight-m.clientHeight-J-q:0,ee="offsetWidth"in m?m.offsetWidth===0?0:x/m.offsetWidth:0,ae="offsetHeight"in m?m.offsetHeight===0?0:g/m.offsetHeight:0;if(b===m)B=a==="start"?k:a==="end"?k-E:a==="nearest"?_e(V,V+E,E,J,q,V+k,V+k+C,C):k-E/2,W=l==="start"?y:l==="center"?y-F/2:l==="end"?y-F:_e(A,A+F,F,Y,j,A+y,A+y+D,D),B=Math.max(0,B+V),W=Math.max(0,W+A);else{B=a==="start"?k-v-J:a==="end"?k-I+q+Z:a==="nearest"?_e(v,I,g,J,q+Z,k,k+C,C):k-(v+g/2)+Z/2,W=l==="start"?y-L-Y:l==="center"?y-(L+x/2)+K/2:l==="end"?y-P+j+K:_e(L,P,x,Y,j+K,y,y+D,D);const{scrollLeft:Q,scrollTop:oe}=m;B=ae===0?0:Math.max(0,Math.min(oe+B/ae,m.scrollHeight-g/ae+Z)),W=ee===0?0:Math.max(0,Math.min(Q+W/ee,m.scrollWidth-x/ee+K)),k+=oe-B,y+=Q-W}p.push({el:m,top:B,left:W})}return p},ir=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function sr(t,e){if(!t.isConnected||!(i=>{let s=i;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(t))return;const n=(i=>{const s=window.getComputedStyle(i);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(et(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:s,left:o}of et(t,ir(e))){const a=s-n.top+n.bottom,l=o-n.left+n.right;i.scroll({top:a,left:l,behavior:r})}}var $e={exports:{}},or=$e.exports,tt;function ar(){return tt||(tt=1,function(t,e){(function(n,r){t.exports=r()})(or,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",d="day",u="week",f="month",b="quarter",_="year",S="date",F="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,V={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var p=["th","st","nd","rd"],h=y%100;return"["+y+(p[(h-20)%10]||p[h]||p[0])+"]"}},C=function(y,p,h){var m=String(y);return!m||m.length>=p?y:""+Array(p+1-m.length).join(h)+y},D={s:C,z:function(y){var p=-y.utcOffset(),h=Math.abs(p),m=Math.floor(h/60),g=h%60;return(p<=0?"+":"-")+C(m,2,"0")+":"+C(g,2,"0")},m:function y(p,h){if(p.date()<h.date())return-y(h,p);var m=12*(h.year()-p.year())+(h.month()-p.month()),g=p.clone().add(m,f),x=h-g<0,v=p.clone().add(m+(x?-1:1),f);return+(-(m+(h-g)/(x?g-v:v-g))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:f,y:_,w:u,d,D:S,h:l,m:a,s:o,ms:s,Q:b}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},O="en",T={};T[O]=V;var G="$isDayjsObject",z=function(y){return y instanceof X||!(!y||!y[G])},$=function y(p,h,m){var g;if(!p)return O;if(typeof p=="string"){var x=p.toLowerCase();T[x]&&(g=x),h&&(T[x]=h,g=x);var v=p.split("-");if(!g&&v.length>1)return y(v[0])}else{var P=p.name;T[P]=p,g=P}return!m&&g&&(O=g),g||!m&&O},w=function(y,p){if(z(y))return y.clone();var h=typeof p=="object"?p:{};return h.date=y,h.args=arguments,new X(h)},M=D;M.l=$,M.i=z,M.w=function(y,p){return w(y,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var X=function(){function y(h){this.$L=$(h.locale,null,!0),this.parse(h),this.$x=this.$x||h.x||{},this[G]=!0}var p=y.prototype;return p.parse=function(h){this.$d=function(m){var g=m.date,x=m.utc;if(g===null)return new Date(NaN);if(M.u(g))return new Date;if(g instanceof Date)return new Date(g);if(typeof g=="string"&&!/Z$/i.test(g)){var v=g.match(E);if(v){var P=v[2]-1||0,I=(v[7]||"0").substring(0,3);return x?new Date(Date.UTC(v[1],P,v[3]||1,v[4]||0,v[5]||0,v[6]||0,I)):new Date(v[1],P,v[3]||1,v[4]||0,v[5]||0,v[6]||0,I)}}return new Date(g)}(h),this.init()},p.init=function(){var h=this.$d;this.$y=h.getFullYear(),this.$M=h.getMonth(),this.$D=h.getDate(),this.$W=h.getDay(),this.$H=h.getHours(),this.$m=h.getMinutes(),this.$s=h.getSeconds(),this.$ms=h.getMilliseconds()},p.$utils=function(){return M},p.isValid=function(){return this.$d.toString()!==F},p.isSame=function(h,m){var g=w(h);return this.startOf(m)<=g&&g<=this.endOf(m)},p.isAfter=function(h,m){return w(h)<this.startOf(m)},p.isBefore=function(h,m){return this.endOf(m)<w(h)},p.$g=function(h,m,g){return M.u(h)?this[m]:this.set(g,h)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(h,m){var g=this,x=!!M.u(m)||m,v=M.p(h),P=function(B,W){var K=M.w(g.$u?Date.UTC(g.$y,W,B):new Date(g.$y,W,B),g);return x?K:K.endOf(d)},I=function(B,W){return M.w(g.toDate()[B].apply(g.toDate("s"),(x?[0,0,0,0]:[23,59,59,999]).slice(W)),g)},L=this.$W,U=this.$M,Y=this.$D,J="set"+(this.$u?"UTC":"");switch(v){case _:return x?P(1,0):P(31,11);case f:return x?P(1,U):P(0,U+1);case u:var j=this.$locale().weekStart||0,q=(L<j?L+7:L)-j;return P(x?Y-q:Y+(6-q),U);case d:case S:return I(J+"Hours",0);case l:return I(J+"Minutes",1);case a:return I(J+"Seconds",2);case o:return I(J+"Milliseconds",3);default:return this.clone()}},p.endOf=function(h){return this.startOf(h,!1)},p.$set=function(h,m){var g,x=M.p(h),v="set"+(this.$u?"UTC":""),P=(g={},g[d]=v+"Date",g[S]=v+"Date",g[f]=v+"Month",g[_]=v+"FullYear",g[l]=v+"Hours",g[a]=v+"Minutes",g[o]=v+"Seconds",g[s]=v+"Milliseconds",g)[x],I=x===d?this.$D+(m-this.$W):m;if(x===f||x===_){var L=this.clone().set(S,1);L.$d[P](I),L.init(),this.$d=L.set(S,Math.min(this.$D,L.daysInMonth())).$d}else P&&this.$d[P](I);return this.init(),this},p.set=function(h,m){return this.clone().$set(h,m)},p.get=function(h){return this[M.p(h)]()},p.add=function(h,m){var g,x=this;h=Number(h);var v=M.p(m),P=function(U){var Y=w(x);return M.w(Y.date(Y.date()+Math.round(U*h)),x)};if(v===f)return this.set(f,this.$M+h);if(v===_)return this.set(_,this.$y+h);if(v===d)return P(1);if(v===u)return P(7);var I=(g={},g[a]=r,g[l]=i,g[o]=n,g)[v]||1,L=this.$d.getTime()+h*I;return M.w(L,this)},p.subtract=function(h,m){return this.add(-1*h,m)},p.format=function(h){var m=this,g=this.$locale();if(!this.isValid())return g.invalidDate||F;var x=h||"YYYY-MM-DDTHH:mm:ssZ",v=M.z(this),P=this.$H,I=this.$m,L=this.$M,U=g.weekdays,Y=g.months,J=g.meridiem,j=function(W,K,Z,ee){return W&&(W[K]||W(m,x))||Z[K].slice(0,ee)},q=function(W){return M.s(P%12||12,W,"0")},B=J||function(W,K,Z){var ee=W<12?"AM":"PM";return Z?ee.toLowerCase():ee};return x.replace(A,function(W,K){return K||function(Z){switch(Z){case"YY":return String(m.$y).slice(-2);case"YYYY":return M.s(m.$y,4,"0");case"M":return L+1;case"MM":return M.s(L+1,2,"0");case"MMM":return j(g.monthsShort,L,Y,3);case"MMMM":return j(Y,L);case"D":return m.$D;case"DD":return M.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return j(g.weekdaysMin,m.$W,U,2);case"ddd":return j(g.weekdaysShort,m.$W,U,3);case"dddd":return U[m.$W];case"H":return String(P);case"HH":return M.s(P,2,"0");case"h":return q(1);case"hh":return q(2);case"a":return B(P,I,!0);case"A":return B(P,I,!1);case"m":return String(I);case"mm":return M.s(I,2,"0");case"s":return String(m.$s);case"ss":return M.s(m.$s,2,"0");case"SSS":return M.s(m.$ms,3,"0");case"Z":return v}return null}(W)||v.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(h,m,g){var x,v=this,P=M.p(m),I=w(h),L=(I.utcOffset()-this.utcOffset())*r,U=this-I,Y=function(){return M.m(v,I)};switch(P){case _:x=Y()/12;break;case f:x=Y();break;case b:x=Y()/3;break;case u:x=(U-L)/6048e5;break;case d:x=(U-L)/864e5;break;case l:x=U/i;break;case a:x=U/r;break;case o:x=U/n;break;default:x=U}return g?x:M.a(x)},p.daysInMonth=function(){return this.endOf(f).$D},p.$locale=function(){return T[this.$L]},p.locale=function(h,m){if(!h)return this.$L;var g=this.clone(),x=$(h,m,!0);return x&&(g.$L=x),g},p.clone=function(){return M.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},y}(),k=X.prototype;return w.prototype=k,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",d],["$M",f],["$y",_],["$D",S]].forEach(function(y){k[y[1]]=function(p){return this.$g(p,y[0],y[1])}}),w.extend=function(y,p){return y.$i||(y(p,X,w),y.$i=!0),w},w.locale=$,w.isDayjs=z,w.unix=function(y){return w(1e3*y)},w.en=T[O],w.Ls=T,w.p={},w})}($e)),$e.exports}var lr=ar();const nt=Kt(lr);function we(t){const[e,n]=c.useState(t);return c.useEffect(()=>{const r=setTimeout(()=>{n(t)},t.length?0:10);return()=>{clearTimeout(r)}},[t]),e}const dr=t=>{const{componentCls:e}=t,n=`${e}-show-help`,r=`${e}-show-help-item`;return{[n]:{transition:`opacity ${t.motionDurationFast} ${t.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${t.motionDurationFast} ${t.motionEaseInOut},
                     opacity ${t.motionDurationFast} ${t.motionEaseInOut},
                     transform ${t.motionDurationFast} ${t.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},cr=t=>({legend:{display:"block",width:"100%",marginBottom:t.marginLG,padding:0,color:t.colorTextDescription,fontSize:t.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${te(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${te(t.controlOutlineWidth)} ${t.controlOutline}`},output:{display:"block",paddingTop:15,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight}}),rt=(t,e)=>{const{formItemCls:n}=t;return{[n]:{[`${n}-label > label`]:{height:e},[`${n}-control-input`]:{minHeight:e}}}},ur=t=>{const{componentCls:e}=t;return{[t.componentCls]:Object.assign(Object.assign(Object.assign({},Ve(t)),cr(t)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:t.paddingSM},"&-small":Object.assign({},rt(t,t.controlHeightSM)),"&-large":Object.assign({},rt(t,t.controlHeightLG))})}},fr=t=>{const{formItemCls:e,iconCls:n,componentCls:r,rootPrefixCls:i,antCls:s,labelRequiredMarkColor:o,labelColor:a,labelFontSize:l,labelHeight:d,labelColonMarginInlineStart:u,labelColonMarginInlineEnd:f,itemMarginBottom:b}=t;return{[e]:Object.assign(Object.assign({},Ve(t)),{marginBottom:b,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${s}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:t.colorError}},"&-has-error":{[`${e}-split`]:{color:t.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:t.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:d,color:a,fontSize:l,[`> ${n}`]:{fontSize:t.fontSize,verticalAlign:"top"},[`&${e}-required:not(${e}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:t.marginXXS,color:o,fontSize:t.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:t.marginXXS,color:t.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${e}-tooltip`]:{color:t.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:t.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:u,marginInlineEnd:f},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${i}-col-'"]):not([class*="' ${i}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:t.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[e]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:t.colorTextDescription,fontSize:t.fontSize,lineHeight:t.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:t.controlHeightSM,transition:`color ${t.motionDurationMid} ${t.motionEaseOut}`},"&-explain":{"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:t.fontSize,textAlign:"center",visibility:"visible",animationName:bt,animationDuration:t.motionDurationMid,animationTimingFunction:t.motionEaseOutBack,pointerEvents:"none","&-success":{color:t.colorSuccess},"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning},"&-validating":{color:t.colorPrimary}}})}},it=(t,e)=>{const{formItemCls:n}=t;return{[`${e}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},mr=t=>{const{componentCls:e,formItemCls:n,inlineItemMarginBottom:r}=t;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:t.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},ie=t=>({padding:t.verticalLabelPadding,margin:t.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),Et=t=>{const{componentCls:e,formItemCls:n,rootPrefixCls:r}=t;return{[`${n} ${n}-label`]:ie(t),[`${e}:not(${e}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},hr=t=>{const{componentCls:e,formItemCls:n,antCls:r}=t;return{[`${e}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:ie(t)}},[`@media (max-width: ${te(t.screenXSMax)})`]:[Et(t),{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:ie(t)}}}],[`@media (max-width: ${te(t.screenSMMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:ie(t)}}},[`@media (max-width: ${te(t.screenMDMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:ie(t)}}},[`@media (max-width: ${te(t.screenLGMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:ie(t)}}}}},pr=t=>{const{formItemCls:e,antCls:n}=t;return{[`${e}-vertical`]:{[`${e}-row`]:{flexDirection:"column"},[`${e}-label > label`]:{height:"auto"},[`${e}-control`]:{width:"100%"}},[`${e}-vertical ${e}-label,
      ${n}-col-24${e}-label,
      ${n}-col-xl-24${e}-label`]:ie(t),[`@media (max-width: ${te(t.screenXSMax)})`]:[Et(t),{[e]:{[`${n}-col-xs-24${e}-label`]:ie(t)}}],[`@media (max-width: ${te(t.screenSMMax)})`]:{[e]:{[`${n}-col-sm-24${e}-label`]:ie(t)}},[`@media (max-width: ${te(t.screenMDMax)})`]:{[e]:{[`${n}-col-md-24${e}-label`]:ie(t)}},[`@media (max-width: ${te(t.screenLGMax)})`]:{[e]:{[`${n}-col-lg-24${e}-label`]:ie(t)}}}},gr=t=>({labelRequiredMarkColor:t.colorError,labelColor:t.colorTextHeading,labelFontSize:t.fontSize,labelHeight:t.controlHeight,labelColonMarginInlineStart:t.marginXXS/2,labelColonMarginInlineEnd:t.marginXS,itemMarginBottom:t.marginLG,verticalLabelPadding:`0 0 ${t.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),vt=(t,e)=>Jt(t,{formItemCls:`${t.componentCls}-item`,rootPrefixCls:e}),We=mt("Form",(t,e)=>{let{rootPrefixCls:n}=e;const r=vt(t,n);return[ur(r),fr(r),dr(r),it(r,r.componentCls),it(r,r.formItemCls),mr(r),hr(r),pr(r),Qt(r),bt]},gr,{order:-1e3}),st=[];function Pe(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof t=="string"?t:`${e}-${r}`,error:t,errorStatus:n}}const wt=t=>{let{help:e,helpStatus:n,errors:r=st,warnings:i=st,className:s,fieldId:o,onVisibleChanged:a}=t;const{prefixCls:l}=c.useContext(Le),d=`${l}-item-explain`,u=He(l),[f,b,_]=We(l,u),S=c.useMemo(()=>Ye(l),[l]),F=we(r),E=we(i),A=c.useMemo(()=>e!=null?[Pe(e,"help",n)]:[].concat(re(F.map((D,O)=>Pe(D,"error","error",O))),re(E.map((D,O)=>Pe(D,"warning","warning",O)))),[e,n,F,E]),V=c.useMemo(()=>{const D={};return A.forEach(O=>{let{key:T}=O;D[T]=(D[T]||0)+1}),A.map((O,T)=>Object.assign(Object.assign({},O),{key:D[O.key]>1?`${O.key}-fallback-${T}`:O.key}))},[A]),C={};return o&&(C.id=`${o}_help`),f(c.createElement(ht,{motionDeadline:S.motionDeadline,motionName:`${l}-show-help`,visible:!!V.length,onVisibleChanged:a},D=>{const{className:O,style:T}=D;return c.createElement("div",Object.assign({},C,{className:ne(d,O,_,u,s,b),style:T,role:"alert"}),c.createElement(Zt,Object.assign({keys:V},Ye(l),{motionName:`${l}-show-help-item`,component:!1}),G=>{const{key:z,error:$,errorStatus:w,className:M,style:X}=G;return c.createElement("div",{key:z,className:ne(M,{[`${d}-${w}`]:w}),style:X},$)}))}))},yr=["parentNode"],br="form_item";function ye(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function Mt(t,e){if(!t.length)return;const n=t.join("_");return e?`${e}_${n}`:yr.includes(n)?`${br}_${n}`:n}function Nt(t,e,n,r,i,s){let o=r;return s!==void 0?o=s:n.validating?o="validating":t.length?o="error":e.length?o="warning":(n.touched||i&&n.validated)&&(o="success"),o}function ot(t){return ye(t).join("_")}function at(t,e){const n=e.getFieldInstance(t),r=tn(n);if(r)return r;const i=Mt(ye(t),e.__INTERNAL__.name);if(i)return document.getElementById(i)}function Ot(t){const[e]=en(),n=c.useRef({}),r=c.useMemo(()=>t??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:i=>s=>{const o=ot(i);s?n.current[o]=s:delete n.current[o]}},scrollToField:function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=at(i,r);o&&sr(o,Object.assign({scrollMode:"if-needed",block:"nearest"},s))},focusField:i=>{var s;const o=at(i,r);o&&((s=o.focus)===null||s===void 0||s.call(o))},getFieldInstance:i=>{const s=ot(i);return n.current[s]}}),[t,e]);return[r]}var Fr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sr=(t,e)=>{const n=c.useContext(nn),{getPrefixCls:r,direction:i,form:s}=c.useContext(Me),{prefixCls:o,className:a,rootClassName:l,size:d,disabled:u=n,form:f,colon:b,labelAlign:_,labelWrap:S,labelCol:F,wrapperCol:E,hideRequiredMark:A,layout:V="horizontal",scrollToFirstError:C,requiredMark:D,onFinishFailed:O,name:T,style:G,feedbackIcons:z,variant:$}=t,w=Fr(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),M=rn(d),X=c.useContext(sn),k=c.useMemo(()=>D!==void 0?D:A?!1:s&&s.requiredMark!==void 0?s.requiredMark:!0,[A,D,s]),y=b??(s==null?void 0:s.colon),p=r("form",o),h=He(p),[m,g,x]=We(p,h),v=ne(p,`${p}-${V}`,{[`${p}-hide-required-mark`]:k===!1,[`${p}-rtl`]:i==="rtl",[`${p}-${M}`]:M},x,h,g,s==null?void 0:s.className,a,l),[P]=Ot(f),{__INTERNAL__:I}=P;I.name=T;const L=c.useMemo(()=>({name:T,labelAlign:_,labelCol:F,labelWrap:S,wrapperCol:E,vertical:V==="vertical",colon:y,requiredMark:k,itemRef:I.itemRef,form:P,feedbackIcons:z}),[T,_,F,E,V,y,k,P,z]),U=c.useRef(null);c.useImperativeHandle(e,()=>{var j;return Object.assign(Object.assign({},P),{nativeElement:(j=U.current)===null||j===void 0?void 0:j.nativeElement})});const Y=(j,q)=>{if(j){let B={block:"nearest"};typeof j=="object"&&(B=Object.assign(Object.assign({},B),j)),P.scrollToField(q,B),B.focus&&P.focusField(q)}},J=j=>{if(O==null||O(j),j.errorFields.length){const q=j.errorFields[0].name;if(C!==void 0){Y(C,q);return}s&&s.scrollToFirstError!==void 0&&Y(s.scrollToFirstError,q)}};return m(c.createElement(on.Provider,{value:$},c.createElement(an,{disabled:u},c.createElement(ln.Provider,{value:M},c.createElement(Ft,{validateMessages:X},c.createElement(le.Provider,{value:L},c.createElement(dn,Object.assign({id:T},w,{name:T,onFinishFailed:J,form:P,ref:U,style:Object.assign(Object.assign({},s==null?void 0:s.style),G),className:v}))))))))},Cr=c.forwardRef(Sr);function xr(t){if(typeof t=="function")return t;const e=cn(t);return e.length<=1?e[0]:e}const It=()=>{const{status:t,errors:e=[],warnings:n=[]}=c.useContext(Ee);return{status:t,errors:e,warnings:n}};It.Context=Ee;function _r(t){const[e,n]=c.useState(t),r=c.useRef(null),i=c.useRef([]),s=c.useRef(!1);c.useEffect(()=>(s.current=!1,()=>{s.current=!0,Xe.cancel(r.current),r.current=null}),[]);function o(a){s.current||(r.current===null&&(i.current=[],r.current=Xe(()=>{r.current=null,n(l=>{let d=l;return i.current.forEach(u=>{d=u(d)}),d})})),i.current.push(a))}return[e,o]}function $r(){const{itemRef:t}=c.useContext(le),e=c.useRef({});function n(r,i){const s=i&&typeof i=="object"&&un(i),o=r.join("_");return(e.current.name!==o||e.current.originRef!==s)&&(e.current.name=o,e.current.originRef=s,e.current.ref=pt(t(r),s)),e.current.ref}return n}const Er=t=>{const{formItemCls:e}=t;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},vr=fn(["Form","item-item"],(t,e)=>{let{rootPrefixCls:n}=e;const r=vt(t,n);return[Er(r)]});var wr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Mr=24,Nr=t=>{const{prefixCls:e,status:n,labelCol:r,wrapperCol:i,children:s,errors:o,warnings:a,_internalItemRender:l,extra:d,help:u,fieldId:f,marginBottom:b,onErrorVisibleChanged:_,label:S}=t,F=`${e}-item`,E=c.useContext(le),A=c.useMemo(()=>{let y=Object.assign({},i||E.wrapperCol||{});return S===null&&!r&&!i&&E.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(h=>{const m=h?[h]:[],g=Ke(E.labelCol,m),x=typeof g=="object"?g:{},v=Ke(y,m),P=typeof v=="object"?v:{};"span"in x&&!("offset"in P)&&x.span<Mr&&(y=mn(y,[].concat(m,["offset"]),x.span))}),y},[i,E]),V=ne(`${F}-control`,A.className),C=c.useMemo(()=>{const{labelCol:y,wrapperCol:p}=E;return wr(E,["labelCol","wrapperCol"])},[E]),D=c.useRef(null),[O,T]=c.useState(0);St(()=>{d&&D.current?T(D.current.clientHeight):T(0)},[d]);const G=c.createElement("div",{className:`${F}-control-input`},c.createElement("div",{className:`${F}-control-input-content`},s)),z=c.useMemo(()=>({prefixCls:e,status:n}),[e,n]),$=b!==null||o.length||a.length?c.createElement(Le.Provider,{value:z},c.createElement(wt,{fieldId:f,errors:o,warnings:a,help:u,helpStatus:n,className:`${F}-explain-connected`,onVisibleChanged:_})):null,w={};f&&(w.id=`${f}_extra`);const M=d?c.createElement("div",Object.assign({},w,{className:`${F}-extra`,ref:D}),d):null,X=$||M?c.createElement("div",{className:`${F}-additional`,style:b?{minHeight:b+O}:{}},$,M):null,k=l&&l.mark==="pro_table_render"&&l.render?l.render(t,{input:G,errorList:$,extra:M}):c.createElement(c.Fragment,null,G,X);return c.createElement(le.Provider,{value:C},c.createElement(ve,Object.assign({},A,{className:V}),k),c.createElement(vr,{prefixCls:e}))};var Or=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ir(t){return t?typeof t=="object"&&!c.isValidElement(t)?t:{title:t}:null}const Rr=t=>{let{prefixCls:e,label:n,htmlFor:r,labelCol:i,labelAlign:s,colon:o,required:a,requiredMark:l,tooltip:d,vertical:u}=t;var f;const[b]=hn("Form"),{labelAlign:_,labelCol:S,labelWrap:F,colon:E}=c.useContext(le);if(!n)return null;const A=i||S||{},V=s||_,C=`${e}-item-label`,D=ne(C,V==="left"&&`${C}-left`,A.className,{[`${C}-wrap`]:!!F});let O=n;const T=o===!0||E!==!1&&o!==!1;T&&!u&&typeof n=="string"&&n.trim()&&(O=n.replace(/[:|：]\s*$/,""));const z=Ir(d);if(z){const{icon:X=c.createElement(kn,null)}=z,k=Or(z,["icon"]),y=c.createElement(pn,Object.assign({},k),c.cloneElement(X,{className:`${e}-item-tooltip`,title:"",onClick:p=>{p.preventDefault()},tabIndex:null}));O=c.createElement(c.Fragment,null,O,y)}const $=l==="optional",w=typeof l=="function";w?O=l(O,{required:!!a}):$&&!a&&(O=c.createElement(c.Fragment,null,O,c.createElement("span",{className:`${e}-item-optional`,title:""},(b==null?void 0:b.optional)||((f=gn.Form)===null||f===void 0?void 0:f.optional))));const M=ne({[`${e}-item-required`]:a,[`${e}-item-required-mark-optional`]:$||w,[`${e}-item-no-colon`]:!T});return c.createElement(ve,Object.assign({},A,{className:D}),c.createElement("label",{htmlFor:r,className:M,title:typeof n=="string"?n:""},O))},Pr={success:yt,warning:gt,error:Te,validating:yn};function Rt(t){let{children:e,errors:n,warnings:r,hasFeedback:i,validateStatus:s,prefixCls:o,meta:a,noStyle:l}=t;const d=`${o}-item`,{feedbackIcons:u}=c.useContext(le),f=Nt(n,r,a,null,!!i,s),{isFormItemInput:b,status:_,hasFeedback:S,feedbackIcon:F}=c.useContext(Ee),E=c.useMemo(()=>{var A;let V;if(i){const D=i!==!0&&i.icons||u,O=f&&((A=D==null?void 0:D({status:f,errors:n,warnings:r}))===null||A===void 0?void 0:A[f]),T=f&&Pr[f];V=O!==!1&&T?c.createElement("span",{className:ne(`${d}-feedback-icon`,`${d}-feedback-icon-${f}`)},O||c.createElement(T,null)):null}const C={status:f||"",errors:n,warnings:r,hasFeedback:!!i,feedbackIcon:V,isFormItemInput:!0};return l&&(C.status=(f??_)||"",C.isFormItemInput=b,C.hasFeedback=!!(i??S),C.feedbackIcon=i!==void 0?C.feedbackIcon:F),C},[f,i,l,b,_]);return c.createElement(Ee.Provider,{value:E},e)}var Dr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function jr(t){const{prefixCls:e,className:n,rootClassName:r,style:i,help:s,errors:o,warnings:a,validateStatus:l,meta:d,hasFeedback:u,hidden:f,children:b,fieldId:_,required:S,isRequired:F,onSubItemMetaChange:E,layout:A}=t,V=Dr(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),C=`${e}-item`,{requiredMark:D,vertical:O}=c.useContext(le),T=O||A==="vertical",G=c.useRef(null),z=we(o),$=we(a),w=s!=null,M=!!(w||o.length||a.length),X=!!G.current&&bn(G.current),[k,y]=c.useState(null);St(()=>{if(M&&G.current){const x=getComputedStyle(G.current);y(parseInt(x.marginBottom,10))}},[M,X]);const p=x=>{x||y(null)},m=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const v=x?z:d.errors,P=x?$:d.warnings;return Nt(v,P,d,"",!!u,l)}(),g=ne(C,n,r,{[`${C}-with-help`]:w||z.length||$.length,[`${C}-has-feedback`]:m&&u,[`${C}-has-success`]:m==="success",[`${C}-has-warning`]:m==="warning",[`${C}-has-error`]:m==="error",[`${C}-is-validating`]:m==="validating",[`${C}-hidden`]:f,[`${C}-${A}`]:A});return c.createElement("div",{className:g,style:i,ref:G},c.createElement(je,Object.assign({className:`${C}-row`},Fn(V,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),c.createElement(Rr,Object.assign({htmlFor:_},t,{requiredMark:D,required:S??F,prefixCls:e,vertical:T})),c.createElement(Nr,Object.assign({},t,d,{errors:z,warnings:$,prefixCls:e,status:m,help:s,marginBottom:k,onErrorVisibleChanged:p}),c.createElement(Ct.Provider,{value:E},c.createElement(Rt,{prefixCls:e,meta:d,errors:d.errors,warnings:d.warnings,hasFeedback:u,validateStatus:m},b)))),!!k&&c.createElement("div",{className:`${C}-margin-offset`,style:{marginBottom:-k}}))}const Ar="__SPLIT__";function Vr(t,e){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>{const s=t[i],o=e[i];return s===o||typeof s=="function"||typeof o=="function"})}const Tr=c.memo(t=>{let{children:e}=t;return e},(t,e)=>Vr(t.control,e.control)&&t.update===e.update&&t.childProps.length===e.childProps.length&&t.childProps.every((n,r)=>n===e.childProps[r]));function lt(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Lr(t){const{name:e,noStyle:n,className:r,dependencies:i,prefixCls:s,shouldUpdate:o,rules:a,children:l,required:d,label:u,messageVariables:f,trigger:b="onChange",validateTrigger:_,hidden:S,help:F,layout:E}=t,{getPrefixCls:A}=c.useContext(Me),{name:V}=c.useContext(le),C=xr(l),D=typeof C=="function",O=c.useContext(Ct),{validateTrigger:T}=c.useContext(Sn),G=_!==void 0?_:T,z=e!=null,$=A("form",s),w=He($),[M,X,k]=We($,w);Cn();const y=c.useContext(xn),p=c.useRef(null),[h,m]=_r({}),[g,x]=_n(()=>lt()),v=j=>{const q=y==null?void 0:y.getKey(j.name);if(x(j.destroy?lt():j,!0),n&&F!==!1&&O){let B=j.name;if(j.destroy)B=p.current||B;else if(q!==void 0){const[W,K]=q;B=[W].concat(re(K)),p.current=B}O(j,B)}},P=(j,q)=>{m(B=>{const W=Object.assign({},B),Z=[].concat(re(j.name.slice(0,-1)),re(q)).join(Ar);return j.destroy?delete W[Z]:W[Z]=j,W})},[I,L]=c.useMemo(()=>{const j=re(g.errors),q=re(g.warnings);return Object.values(h).forEach(B=>{j.push.apply(j,re(B.errors||[])),q.push.apply(q,re(B.warnings||[]))}),[j,q]},[h,g.errors,g.warnings]),U=$r();function Y(j,q,B){return n&&!S?c.createElement(Rt,{prefixCls:$,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:g,errors:I,warnings:L,noStyle:!0},j):c.createElement(jr,Object.assign({key:"row"},t,{className:ne(r,k,w,X),prefixCls:$,fieldId:q,isRequired:B,errors:I,warnings:L,meta:g,onSubItemMetaChange:P,layout:E}),j)}if(!z&&!D&&!i)return M(Y(C));let J={};return typeof u=="string"?J.label=u:e&&(J.label=String(e)),f&&(J=Object.assign(Object.assign({},J),f)),M(c.createElement($n,Object.assign({},t,{messageVariables:J,trigger:b,validateTrigger:G,onMetaChange:v}),(j,q,B)=>{const W=ye(e).length&&q?q.name:[],K=Mt(W,V),Z=d!==void 0?d:!!(a!=null&&a.some(Q=>{if(Q&&typeof Q=="object"&&Q.required&&!Q.warningOnly)return!0;if(typeof Q=="function"){const oe=Q(B);return(oe==null?void 0:oe.required)&&!(oe!=null&&oe.warningOnly)}return!1})),ee=Object.assign({},j);let ae=null;if(Array.isArray(C)&&z)ae=C;else if(!(D&&(!(o||i)||z))){if(!(i&&!D&&!z))if(c.isValidElement(C)){const Q=Object.assign(Object.assign({},C.props),ee);if(Q.id||(Q.id=K),F||I.length>0||L.length>0||t.extra){const ce=[];(F||I.length>0)&&ce.push(`${K}_help`),t.extra&&ce.push(`${K}_extra`),Q["aria-describedby"]=ce.join(" ")}I.length>0&&(Q["aria-invalid"]="true"),Z&&(Q["aria-required"]="true"),En(C)&&(Q.ref=U(W,C)),new Set([].concat(re(ye(b)),re(ye(G)))).forEach(ce=>{Q[ce]=function(){for(var ze,ke,Oe,qe,Ie,Ue=arguments.length,Re=new Array(Ue),Fe=0;Fe<Ue;Fe++)Re[Fe]=arguments[Fe];(Oe=ee[ce])===null||Oe===void 0||(ze=Oe).call.apply(ze,[ee].concat(Re)),(Ie=(qe=C.props)[ce])===null||Ie===void 0||(ke=Ie).call.apply(ke,[qe].concat(Re))}});const Tt=[Q["aria-required"],Q["aria-invalid"],Q["aria-describedby"]];ae=c.createElement(Tr,{control:ee,update:C,childProps:Tt},vn(C,Q))}else D&&(o||i)&&!z?ae=C(B):ae=C}return Y(ae,K,Z)}))}const Pt=Lr;Pt.useStatus=It;var Hr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Br=t=>{var{prefixCls:e,children:n}=t,r=Hr(t,["prefixCls","children"]);const{getPrefixCls:i}=c.useContext(Me),s=i("form",e),o=c.useMemo(()=>({prefixCls:s,status:"error"}),[s]);return c.createElement(wn,Object.assign({},r),(a,l,d)=>c.createElement(Le.Provider,{value:o},n(a.map(u=>Object.assign(Object.assign({},u),{fieldKey:u.key})),l,{errors:d.errors,warnings:d.warnings})))};function Wr(){const{form:t}=c.useContext(le);return t}const se=Cr;se.Item=Pt;se.List=Br;se.ErrorList=wt;se.useForm=Ot;se.useFormInstance=Wr;se.useWatch=Mn;se.Provider=Ft;se.create=()=>{};const zr=t=>!!t&&(t instanceof Promise||t.constructor===Promise||Object.prototype.toString.call(t)==="[object Promise]"||typeof t.then=="function");/**
 * @BaseValidator
 * @version 0.0.28.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class kr{validate(e,n,r,i){const s={};if(!e||!r)return s;for(const o in r){if(i!=null&&i[o])continue;const a=e[o]?e[o]:null,l=this.validateValue(a,n,r[o]);l&&(s[o]=l)}return s}validateValue(e,n,r){if(!r)return"";for(const i of r)if(i.type==="string"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateString(e,i))return i.message}else if(i.type==="file"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateFile(e,i))return i.message}else if(i.type==="number"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateNumber(e,i))return i.message}else if(i.type==="date"){if(!this.validateDate(e,i))return i.message}else if(i.type==="object"){if(e&&typeof e!="object")return"Неподходящий тип данных";if(!this.validateRowObject(e,i))return i.message}else if(i.type==="custom"&&typeof i.callback=="function")return i.callback(e,n);return""}validateString(e,n){const r=typeof n.parameter=="function"?n.parameter(e):n.parameter;if(e=e||"",e){if(n.rule==="not-empty")return e.length>0;if(n.rule==="max-length")return e.length<=r;if(n.rule==="min-length")return e.length>=r;if(n.rule==="=")return e.length===r;if(n.rule==="!=")return e.length!==r;if(n.rule==="is-uuid"||n.rule==="is-uuid-or-empty")return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e);if(n.rule==="is-email"||n.rule==="is-email-or-empty")return/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(e)}else{if(n.rule==="not-empty")return!1;if(n.rule==="max-length")return!0;if(n.rule==="min-length"||n.rule==="=")return!r;if(n.rule==="!=")return!!r;if(n.rule==="is-uuid")return!1;if(n.rule==="is-uuid-or-empty")return!0;if(n.rule==="is-email")return!1;if(n.rule==="is-email-or-empty")return!0}return!1}validateFile(e,n){const r=typeof n.parameter=="function"?n.parameter(e):n.parameter;if(e){if(n.rule==="not-empty")return e.length>0;if(n.rule==="extension"){const i=e.substring(e.lastIndexOf("."));return r.indexOf(i)>=0}}else if(n.rule==="not-empty"||n.rule==="extension")return!1;return!1}validateNumber(e,n){if(!e&&(e="",n.rule!=="not-empty"))return!0;if(n.rule==="not-empty")return this.isNumeric(e);if(n.rule==="number-or-empty")return!e||this.isNumeric(e);const r=typeof n.parameter=="function"?n.parameter(e):n.parameter,i=+e,s=+r;return isNaN(i)||isNaN(s)?!1:n.rule==="="?!e&&!r||i===s:n.rule==="!="?i!==s:n.rule===">"?i>s:n.rule===">="?i>=s:n.rule==="<"?i<s:n.rule==="<="?i<=s:!1}validateDate(e,n){if(!e&&(e="",n.rule!=="not-empty"))return!0;const r=nt(e,"DD.MM.YYYY"),i=typeof n.parameter=="function"?n.parameter(e):n.parameter,s=nt(i,"DD.MM.YYYY");return n.rule==="date-or-empty"?!e||r.isValid()&&e.length<=10:n.rule==="not-empty"?r.isValid()&&e.length<=10:!r.isValid()||!s.isValid()||e.length>10?!1:n.rule==="="?r===s:n.rule==="!="?r!==s:n.rule===">"?r>s:n.rule===">="?r>=s:n.rule==="<"?r<s:n.rule==="<="?r<=s:!1}validateRowObject(e,n){var i;if(n.rule==="null")return e===null||typeof e>"u";if(!e)return!1;const r=typeof n.parameter=="function"?n.parameter(e):n.parameter;if(n.rule==="not-empty")return e instanceof Array?e.length>0?!!((i=e[0])!=null&&i.id):!1:!!(e!=null&&e.id);if(n.rule==="=")if(e instanceof Array){if(e.length>0)return e[0].id===r}else return e.id===r;if(n.rule==="!=")if(e instanceof Array){if(e.length>0)return e[0].id!==r}else return e.id!==r;return n.rule==="contains"?e instanceof Array?e.filter(function(s){return s.id===r}):e.id===r:n.rule==="not-contains"?e instanceof Array?!e.filter(function(s){return s.id===r}):e.id!==r:!1}isNumeric(e){const n=parseFloat(e);return!isNaN(n)&&isFinite(n)}}const qr=t=>Array.isArray(t);class R{constructor(){H(this,"_preventOriginal",!1)}preventOriginal(){this._preventOriginal=!0}isPrevented(){return this._preventOriginal}}function Dt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Nn(t,e)}function Ur(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Gr(t,e){t.classList?t.classList.add(e):Ur(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function dt(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Yr(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=dt(t.className,e):t.setAttribute("class",dt(t.className&&t.className.baseVal||"",e))}const ct={disabled:!1},jt=me.createContext(null);var At=function(e){return e.scrollTop},ge="unmounted",ue="exited",fe="entering",pe="entered",Ae="exiting",de=function(t){Dt(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ue,s.appearStatus=fe):l=pe:r.unmountOnExit||r.mountOnEnter?l=ge:l=ue,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ge?{status:ue}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==fe&&o!==pe&&(s=fe):(o===fe||o===pe)&&(s=Ae)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===fe){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Se.findDOMNode(this);o&&At(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ue&&this.setState({status:ge})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Se.findDOMNode(this),a],d=l[0],u=l[1],f=this.getTimeouts(),b=a?f.appear:f.enter;if(!i&&!o||ct.disabled){this.safeSetState({status:pe},function(){s.props.onEntered(d)});return}this.props.onEnter(d,u),this.safeSetState({status:fe},function(){s.props.onEntering(d,u),s.onTransitionEnd(b,function(){s.safeSetState({status:pe},function(){s.props.onEntered(d,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Se.findDOMNode(this);if(!s||ct.disabled){this.safeSetState({status:ue},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Ae},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ue},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Se.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=l[0],u=l[1];this.props.addEndListener(d,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ge)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=xt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return me.createElement(jt.Provider,{value:null},typeof o=="function"?o(i,a):me.cloneElement(me.Children.only(o),a))},e}(me.Component);de.contextType=jt;de.propTypes={};function he(){}de.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:he,onEntering:he,onEntered:he,onExit:he,onExiting:he,onExited:he};de.UNMOUNTED=ge;de.EXITED=ue;de.ENTERING=fe;de.ENTERED=pe;de.EXITING=Ae;var Xr=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Gr(e,r)})},De=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Yr(e,r)})},Ne=function(t){Dt(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var d=r.resolveArguments(a,l),u=d[0],f=d[1];r.removeClasses(u,"exit"),r.addClass(u,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var d=r.resolveArguments(a,l),u=d[0],f=d[1],b=f?"appear":"enter";r.addClass(u,b,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var d=r.resolveArguments(a,l),u=d[0],f=d[1],b=f?"appear":"enter";r.removeClasses(u,b),r.addClass(u,b,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),d=l[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),d=l[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),d=l[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,d=typeof l=="string",u=d&&l?l+"-":"",f=d?""+u+a:l[a],b=d?f+"-active":l[a+"Active"],_=d?f+"-done":l[a+"Done"];return{baseClassName:f,activeClassName:b,doneClassName:_}},r}var n=e.prototype;return n.addClass=function(i,s,o){var a=this.getClassNames(s)[o+"ClassName"],l=this.getClassNames("enter"),d=l.doneClassName;s==="appear"&&o==="done"&&d&&(a+=" "+d),o==="active"&&i&&At(i),a&&(this.appliedClasses[s][o]=a,Xr(i,a))},n.removeClasses=function(i,s){var o=this.appliedClasses[s],a=o.base,l=o.active,d=o.done;this.appliedClasses[s]={},a&&De(i,a),l&&De(i,l),d&&De(i,d)},n.render=function(){var i=this.props;i.classNames;var s=xt(i,["classNames"]);return me.createElement(de,On({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(me.Component);Ne.defaultProps={classNames:""};Ne.propTypes={};const Kr=({field:t,altLabel:e,children:n})=>{const r=t.getProps(),i=t.getFormProps();c.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const s=t.getError(),o=t.isHidden(),a={height:"100%",...r.rowStyle};let l;i.layout==="horizontal"&&(l=" ");const d=typeof e<"u"?e:r.label??l,u=c.useRef(null);return N.jsx(Ne,{nodeRef:u,in:!o,timeout:300,classNames:"zoom",unmountOnExit:!0,children:N.jsx("div",{ref:u,className:"dform-field-animation-container",children:N.jsx(se.Item,{label:d,className:r.itemClassName,help:s||void 0,validateStatus:s?"error":void 0,required:!!r.requiredMark,tooltip:r.tooltip,style:a,children:n})})})};class Qr{constructor(e,n,r,i){H(this,"fieldProps");H(this,"fieldName");H(this,"model");H(this,"parent");H(this,"listeners",[]);H(this,"renderSnapshot",{});H(this,"fieldsMap",{});H(this,"rootFields",{});this.fieldName=e,this.fieldProps=n,this.model=r,this.parent=i}initChildrenFields(){return[{},{}]}getProps(){return this.fieldProps}setProps(e,n){this.fieldProps=e,n||this.emitRender()}noGrowWidth(){return!1}managesChildWidth(){return!1}getWidth(){var e;if(!((e=this.parent)!=null&&e.managesChildWidth()))return this.fieldProps.width}updateProps(e,n){const r=this.getProps()??{};this.setProps({...r,...e},n)}getName(){return this.fieldName}getFormProps(){return this.model.getFormProps()}getModel(){return this.model}getParent(){return this.parent}getLabel(){return this.model.getLabels()[this.fieldName]}setLabel(e,n,r){var s,o;const i=this.getLabel();i!==e&&(this.model.getLabels()[this.fieldName]=e,n||(o=(s=this.getProps())==null?void 0:s.onLabelChanged)==null||o.call(s,e,i,this),r||this.emitRender())}getValue(){return this.model.getValues()[this.fieldName]}setValue(e,n,r){var o,a,l,d;const i=this.getValue();if(i===e)return;const s=this.model.getValues();s[this.fieldName]=e,n||((a=(o=this.getProps())==null?void 0:o.onValueChanged)==null||a.call(o,e,i,this),(d=(l=this.model.getFormProps()).onFormValuesChanged)==null||d.call(l,this.fieldName,s,this.model.getFormApi(),new R),this.validate(n,r)),r||this.emitRender(),this.model.lockDependedFields(this,n,r)}isEmptyValue(){const e=this.getValue();return e===null||qr(e)&&e.length===0||typeof e=="object"&&Object.keys(e).length===0?!0:e!==0&&!e}isTouched(){return this.model.getTouchedFields()[this.fieldName]??!1}setTouched(e,n){var i,s;this.isTouched()!==e&&(this.model.getTouchedFields()[this.fieldName]=e,n||(s=(i=this.getProps())==null?void 0:i.onTouchedStateChanged)==null||s.call(i,e,this))}isDirty(){return this.model.getDirtyFields()[this.fieldName]??!1}setDirty(e,n){var s,o;if(this.isDirty()===e)return;this.model.getDirtyFields()[this.fieldName]=e,n||(o=(s=this.getProps())==null?void 0:s.onDirtyStateChanged)==null||o.call(s,e,this);let i=e;if(!e){for(const a in this.model.getDirtyFields())if(this.model.getDirtyFields()[a]){i=!0;break}}this.model.setFormDirty(i,n)}isDisabled(){return this.model.isFormDisabled()||this.getProps().nonEditable==="disabled"&&this.model.getFormMode()==="update"?!0:this.model.getDisabledFields()[this.fieldName]??!1}setDisabled(e,n,r){var s,o;this.isDisabled()!==e&&(this.model.getDisabledFields()[this.fieldName]=e,n||(o=(s=this.getProps())==null?void 0:s.onDisabledStateChanged)==null||o.call(s,e,this),r||this.model.emitFormRender())}isReadOnly(){return this.model.isFormReadOnly()||(this.getProps().nonEditable===!0||this.getProps().nonEditable==="readOnly")&&this.model.getFormMode()==="update"?!0:this.model.getReadOnlyFields()[this.fieldName]??!1}setReadOnly(e,n,r){var s,o;this.model.getReadOnlyFields()[this.fieldName]!==e&&(this.model.getReadOnlyFields()[this.fieldName]=e,n||(o=(s=this.getProps())==null?void 0:s.onReadOnlyStateChanged)==null||o.call(s,e,this),r||this.emitRender())}isHidden(){return this.model.getHiddenFields()[this.fieldName]??!1}setHidden(e,n,r){var s,o;this.isHidden()!==e&&(this.model.getHiddenFields()[this.fieldName]=e,this.model.lockDependedFields(this,n,r),e&&(this.setError("",n,r),this.setReady(!1,!0)),n||(o=(s=this.getProps())==null?void 0:s.onHiddenStateChanged)==null||o.call(s,e,this),r||this.model.emitFormRender())}isReady(){return this.model.isFormFetching()||this.model.isFormFetchingFailed()||this.model.getFetchingFields()[this.fieldName]?!1:this.model.getReadyFields()[this.fieldName]??!1}setReady(e,n){var i,s;this.isReady()!==e&&(this.model.getReadyFields()[this.fieldName]=e,n||(s=(i=this.getProps())==null?void 0:i.onReadyStateChanged)==null||s.call(i,e,this),this.model.checkFormReadyState())}getError(){return this.model.getErrors()[this.fieldName]??""}setError(e,n,r){var o,a,l;if(this.getError()===e)return;const s=this.model.getErrors();if(e?s[this.fieldName]=e:delete s[this.fieldName],!n){const d=this.getProps();(o=d==null?void 0:d.onErrorChanged)==null||o.call(d,e,this);const u=this.model.getFormProps(),f=this.model.getValues(),b=this.model.getFormDataSet();this.model.isFormHasError()?(a=u.onFormHasErrors)==null||a.call(u,f,b,s,this.model.getFormApi(),new R):(l=u.onFormHasNoErrors)==null||l.call(u,f,b,this.model.getFormApi(),new R)}r||this.emitRender()}validate(e,n){var o,a,l;const r=this.getProps().rules??[],i=((o=this.getFormProps().validationRules)==null?void 0:o[this.fieldName])??[],s=this.isHidden()?"":this.model.getValidator().validateValue(this.getValue(),this.model,r.concat(i));return this.setError(s,e),!e&&!this.isHidden()&&((l=(a=this.getProps())==null?void 0:a.onValidated)==null||l.call(a,this.getValue(),s,this.model.isFormSubmitting(),this)),n||this.emitRender(),s}onInitialFetch(){this.fetchData()}isFetching(){return this.model.getFetchingFields()[this.fieldName]===1}isFetchingFailed(){return this.model.getFetchingFields()[this.fieldName]===-1}fetchData(){var r,i;const e=(i=(r=this.fieldProps).onFieldDataFetch)==null?void 0:i.call(r,this);if(!e)return;const n=this.model.getFetchingFields();n[this.fieldName]=1,this.model.checkFormReadyState(),this.emitRender(),e.then(s=>{var a,l;if(!this.model.isFormMounted())return;n[this.fieldName]=0,(l=(a=this.fieldProps).onFieldDataFetchSuccess)==null||l.call(a,s,this);const o=s.data;this.model.setValues(o),this.model.checkFormReadyState(),this.emitRender()},s=>{var o,a;this.model.isFormMounted()&&(n[this.fieldName]=-1,(a=(o=this.fieldProps).onFieldDataFetchError)==null||a.call(o,s,this),this.model.checkFormReadyState(),this.emitRender())})}getFieldsMap(){return this.fieldsMap}getRootFields(){return this.rootFields}isContainer(){return Object.keys(this.rootFields).length>0}hasVisibleChildren(){for(const e in this.rootFields){const n=this.rootFields[e];if(!n.isContainer()&&!n.isHidden()||n.hasVisibleChildren())return!0}return!1}render(){return null}renderField(e){return this.renderFieldWrapper(this.render(),e)}renderFieldWrapper(e,n){return N.jsx(Kr,{field:this,altLabel:n,children:e},this.getName())}canHaveValue(){return!0}subscribe(e){return this.listeners=[...this.listeners,e],()=>{this.listeners=this.listeners.filter(n=>n!==e)}}getSnapshot(){return this.renderSnapshot}emitRender(){this.renderSnapshot={};for(const e of this.listeners)e()}}const Jr=({field:t})=>{c.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t)),c.useEffect(()=>{t.setReady(!0)},[t]);const e=c.useRef(null);if(!t.hasVisibleChildren())return N.jsx(N.Fragment,{children:" "});const r=t.getModel().getFormProps(),i=t.getProps(),s=t.getRootFields();let o;for(const F in s){const E=s[F];E.isHidden()||(o=E)}const a=t.isHidden(),l=t.getLabel();let d="";r.layout==="horizontal"&&(d=l??(o==null?void 0:o.getLabel()));const u={width:t.getWidth(),margin:0,marginBottom:0};i.autoHeightResize&&(u.height="100%");const f={...u,...i.style},b=24,_={display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:b+"px",alignItems:"top",width:"100%"};i.autoHeightResize&&(_.height="100%");const S=Zr(s,b);return N.jsx(Ne,{nodeRef:e,in:!a,timeout:300,classNames:"zoom",unmountOnExit:!0,children:N.jsx("div",{ref:e,className:"dform-field-animation-container",children:N.jsx(se.Item,{label:d,style:f,className:i.className,children:N.jsx("div",{style:_,children:Object.keys(s).map(F=>{const E=s[F],A=E.getProps();if(E.isHidden())return null;const V={flex:A.width||E.noGrowWidth()?"0 0 auto":"1 1 auto",width:ei(E,S)},C=r.layout==="horizontal"&&E===o?null:void 0;return N.jsx("div",{style:V,children:E.renderField(C)},"item_"+E.getName())})})})})})},Zr=(t,e)=>{const n=Object.keys(t).length;return n>0?(n-1)*e/n:0},ei=(t,e)=>{const n=t.getProps();if(n.width)return ti(n.width)?n.width+"px":`calc(${n.width} - ${e}px)`},ti=t=>typeof t=="number"?!0:t.length>0&&!isNaN(Number(t[t.length-1]));class ni extends Qr{initChildrenFields(){const e=this.getProps(),n=e.fieldsProps;return e.fieldsProps?([this.fieldsMap,this.rootFields]=this.getModel().prepareFieldCollection(n,this),[this.fieldsMap,this.rootFields]):[{},{}]}render(){return N.jsx(Jr,{field:this})}renderField(){return this.render()}getFieldsMap(){return this.fieldsMap}getRootFields(){return this.rootFields}getValue(){}setValue(){}canHaveValue(){return!1}managesChildWidth(){return!0}setDisabled(e,n,r){if(this.isDisabled()!==e){for(const s in this.rootFields)this.rootFields[s].setDisabled(e,n,!0);super.setDisabled(e,n,r)}}setReadOnly(e,n,r){if(this.isReadOnly()!==e){for(const s in this.rootFields)this.rootFields[s].setReadOnly(e,n,!0);super.setReadOnly(e,n,r)}}}/**
 * @DynamicFormModel
 * @version 0.0.38.17
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class ri{constructor(e){H(this,"_formApi");H(this,"_formProps",{});H(this,"_fieldsMap",{});H(this,"_rootFields",{});H(this,"_dataSet");H(this,"_labels",{});H(this,"_values",{});H(this,"_touched",{});H(this,"_dirty",{});H(this,"_errors",{});H(this,"_hidden",{});H(this,"_readOnly",{});H(this,"_disabled",{});H(this,"_ready",{});H(this,"_fetching",{});H(this,"_formDisabled",!1);H(this,"_formReadOnly",!1);H(this,"_formDirty",!1);H(this,"_formReadyState");H(this,"_isFormMounted",!1);H(this,"_formMode","create");H(this,"_submitCount",0);H(this,"_isSubmitting",!1);H(this,"_isFetching",!1);H(this,"_isFetchingFailed",!1);H(this,"_validator");H(this,"_formRenderListeners",[]);H(this,"_formRenderSnapshot",{});H(this,"_readyTimeout");this._validator=new kr,this._formApi=e}initModel(e){var i,s;if(this._formProps===e)return;this._formProps=e,this._formMode=e.formMode??"create",this._formReadOnly=!!e.readOnly,this._formDisabled=!!e.disabled;const n=this._fieldsMap;[this._fieldsMap,this._rootFields]=this.prepareFieldCollection(e.fieldsProps);const r=this._dataSet;[this._labels,this._values,this._hidden,this._readOnly,this._disabled]=this.initFieldsParameters({fieldsMap:this._fieldsMap,prevFieldsMap:n,curValues:this._values,curDisabled:this._disabled,curReadOnly:this._readOnly,curHidden:this._hidden,dataSet:r!==e.dataSet?e.dataSet:void 0,mode:e.formMode??"create"}),this._dataSet=e.dataSet,e.disableDepended?this._disabled=this.calculateLockedFields():this._hidden=this.calculateLockedFields(),(s=(i=this._formProps).onFormModelInitialized)==null||s.call(i,this._formApi,new R)}prepareFieldCollection(e,n){const r={},i={};if(!e)return[r,i];const s=this.modifyFieldsProps(e);for(const o in s){const a=s[o];r[o]&&console.error(`The form contains duplicate field names  "${o}"!`);const l=new a.component(o,a,this,n);r[o]=l,i[o]=l;const[d]=l.initChildrenFields();for(const u in d)r[u]&&console.error(`The form contains duplicate field names  "${u}"!`),r[u]=d[u]}return[r,i]}modifyFieldsProps(e){const n={};let r=0;for(const s in e){r++;const o={...e[s]};let a="";o.inlineGroup?(a=o.inlineGroup,o.inlineGroup=void 0):a="[__group__]-"+r,n[a]||(n[a]={}),n[a][s]=o}const i={};for(const s in n){const o=n[s];if(Object.keys(o).length>1)i[s]={component:ni,fieldsProps:o};else{const a=Object.keys(o)[0];i[a]=o[a]}}return i}initFieldsParameters({fieldsMap:e,prevFieldsMap:n,curValues:r,curDisabled:i,curReadOnly:s,curHidden:o,dataSet:a,mode:l}){var S;const d={},u={},f={},b={},_={};for(const F in e){const E=e[F],A=n[F],V=E.getProps();if(_[F]=V.label,A&&E.constructor.name===A.constructor.name){d[F]=r[F],u[F]=typeof o[F]=="boolean"?o[F]:V.hidden,b[F]=typeof i[F]=="boolean"?i[F]:V.disabled,f[F]=typeof s[F]=="boolean"?s[F]:V.readOnly;continue}if(u[F]=!!V.hidden,b[F]=!!V.disabled,f[F]=!!V.readOnly,!E.canHaveValue())continue;let C;l==="create"?C=V.defaultValue??((S=this._formProps.defaultValues)==null?void 0:S[F]):C=a==null?void 0:a[F],d[F]=C}return[_,d,u,f,b]}calculateLockedFields(){const e={};for(const n in this._fieldsMap)e[n]=this.isFieldMustBeLocked(this._fieldsMap[n]);return e}lockDependedFields(e,n,r){const i=this._formProps.disableDepended,s=e.getName();for(const o in this._fieldsMap){const a=this._fieldsMap[o],l=a.getProps();if(!(l!=null&&l.dependsOn)||l.dependsOn.indexOf(s)<0)continue;const d=this.isFieldMustBeLocked(a);i?a.setDisabled(d,n,r):a.setHidden(d,n,r)}}isFieldMustBeLocked(e){var r;const n=e.getProps();if(!((r=n.dependsOn)!=null&&r.length))return e.isHidden();for(const i of n.dependsOn){const s=this._fieldsMap[i];if(!s)continue;if(s.getProps().hidden||s.isHidden()||s.canHaveValue()&&s.isEmptyValue()||this.isFieldMustBeLocked(s))return!0}return!1}getFieldsMap(){return this._fieldsMap}getRootFields(){return this._rootFields}getField(e){return this._fieldsMap[e]}getFormId(){return this._formApi.getId()}getFormProps(){return this._formProps}getLabels(){return this._labels}getFormDataSet(){const e=this.getValues();return{...this._dataSet,...e}}getValues(){return this._values}setValues(e,n,r){var s,o;const i=n?e:((o=(s=this._formProps).onDataSetChange)==null?void 0:o.call(s,e,this._formApi,new R))??e;this._dataSet=i;for(const a in this._fieldsMap){const l=this._fieldsMap[a];!i||!(a in i)||l.setValue(i[a],n,r)}}getTouchedFields(){return this._touched}getDirtyFields(){return this._dirty}getDisabledFields(){return this._disabled}getReadOnlyFields(){return this._readOnly}getHiddenFields(){return this._hidden}getReadyFields(){return this._ready}getErrors(){return this._errors}getValidator(){return this._validator}getFetchingFields(){return this._fetching}getFormApi(){return this._formApi}isFormDirty(){return this._formDirty}setFormDirty(e,n){var i,s;const r=this.isFormDirty();this._formDirty=e,!n&&r!==e&&((s=(i=this._formProps)==null?void 0:i.onFormDirtyStateChanged)==null||s.call(i,e,this._formApi,new R))}isFormDisabled(){return this._formDisabled}setFormDisabled(e,n,r){var s,o;const i=this.isFormDisabled();this._formDisabled=e,i!==e&&(n||(o=(s=this._formProps)==null?void 0:s.onFormDisabledStateChanged)==null||o.call(s,e,this._formApi,new R),r||this.emitFormRender())}isFormReadOnly(){return this.getFormMode()==="view"||this._formReadOnly}setFormReadOnly(e,n,r){var s,o;const i=this.isFormReadOnly();this._formReadOnly=e,i!==e&&(n||(o=(s=this._formProps)==null?void 0:s.onFormReadOnlyStateChanged)==null||o.call(s,e,this._formApi,new R),r||this.emitFormRender())}onFormInit(){var e,n;(n=(e=this._formProps)==null?void 0:e.onFormInit)==null||n.call(e,this._formApi,new R)}isFormReady(){return!!this._formReadyState}checkFormReadyState(){typeof this._readyTimeout<"u"&&clearTimeout(this._readyTimeout),this._readyTimeout=setTimeout(()=>{var n,r;this._readyTimeout=void 0;let e=!0;if(this.isFormFetching()||this.isFormFetchingFailed())e=!1;else for(const i in this._fieldsMap){const s=this._fieldsMap[i];s.isHidden()||s.isReady()||(e=!1)}e!==this._formReadyState&&(this._formReadyState=e,(r=(n=this._formProps)==null?void 0:n.onFormReadyChanged)==null||r.call(n,e,this._formApi,new R))},100)}validateForm(e,n){var r,i;for(const s in this._fieldsMap)this._fieldsMap[s].validate(e,n);return this.emitFormRender(),(i=(r=this._formProps).onFormValidated)==null||i.call(r,this.getValues(),this.getFormDataSet(),this.getErrors(),this.isFormSubmitting(),this._formApi,new R),this.getErrors()}isFormSubmitting(){return this._isSubmitting}setFormSubmitting(e){const n=this.isFormSubmitting();this._isSubmitting=e,n!==e&&this.emitFormRender()}isFormFetching(){return this._isFetching}setFormFetching(e){const n=this.isFormFetching();this._isFetching=e,n!==e&&this.emitFormRender()}setFormFetchingFailed(e){this._isFetchingFailed=e}isFormFetchingFailed(){return this._isFetchingFailed}isFormHasError(){const e=this.getErrors();for(const n in e)if(e[n])return!0;return!1}isFormMounted(){return this._isFormMounted}setFormMounted(e){this._isFormMounted=e}getFormMode(){return this._formMode}onInitialFetch(){const e=this._formProps,n=this._formMode;if(!(!e.fetchOnCreate&&n!=="update"&&n!=="clone"&&n!=="view")){this.fetchData();for(const r in this._fieldsMap)this._fieldsMap[r].onInitialFetch()}}fetchData(){var n,r;const e=(r=(n=this._formProps).onDataFetch)==null?void 0:r.call(n,this._formApi,new R);e&&(this.setFormFetching(!0),this.setFormFetchingFailed(!1),this.checkFormReadyState(),e.then(i=>{var o,a,l,d;if(!this.isFormMounted())return;this.setFormFetching(!1),this.setFormFetchingFailed(!1),(a=(o=this._formProps).onDataFetchSuccess)==null||a.call(o,i,this._formApi,new R),(d=(l=this._formProps).onDataFetchComplete)==null||d.call(l,this._formApi,new R);const s=i.data;this.setValues(s),this.checkFormReadyState()},i=>{var s,o,a,l;this.isFormMounted()&&(this.setFormFetching(!1),this.setFormFetchingFailed(!0),(o=(s=this._formProps).onDataFetchError)==null||o.call(s,i,this._formApi,new R),(l=(a=this._formProps).onDataFetchComplete)==null||l.call(a,this._formApi,new R),this.checkFormReadyState())}))}submit(e={}){var o,a,l,d,u,f,b,_,S,F,E;if(this.isFormSubmitting())return;this.incrementSubmitCount(),this.setFormSubmitting(!0);const n=this.getValues(),r=this.getFormDataSet();this._formMode==="clone"&&((o=this._formProps.assignExtraValues)!=null&&o.clone)&&(r[this._formProps.assignExtraValues.clone]=r.id),this._formMode==="update"&&((a=this._formProps.assignExtraValues)!=null&&a.update)&&(r[this._formProps.assignExtraValues.update]=!0),(this._formMode==="create"||this._formMode==="clone")&&((l=this._formProps.assignExtraValues)!=null&&l.create&&(r[this._formProps.assignExtraValues.create]=!0),delete r.id);const i=this.validateForm();if((u=(d=this._formProps)==null?void 0:d.onSubmitValidation)==null||u.call(d,n,r,i,this._formApi,new R),this.isFormHasError()){this.setFormSubmitting(!1),(f=e.onValidationFailed)==null||f.call(e,i),(b=e.onSubmitComplete)==null||b.call(e,n,r,i,this._formApi,new R),(S=(_=this._formProps)==null?void 0:_.onSubmitComplete)==null||S.call(_,n,r,i,this._formApi,new R);return}if(!((F=this._formProps)!=null&&F.onSubmit))return this.submitUnhandled(i,e);const s=(E=this._formProps)==null?void 0:E.onSubmit(n,r,this._formApi,new R);zr(s)?this.submitPromise(s,i,e):typeof s=="object"?this.submitObject(s,i,e):typeof s=="boolean"?this.submitBoolean(s,i,e):typeof s>"u"&&this.submitUndefined(i,e)}submitUnhandled(e,n={}){var s,o,a,l,d,u;const r=this.getValues(),i=this.getFormDataSet();this.setFormSubmitting(!1),(s=n.onSubmitError)==null||s.call(n,r,i,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new R),(o=n.onSubmitComplete)==null||o.call(n,r,i,e,this._formApi,new R),(l=(a=this._formProps)==null?void 0:a.onSubmitError)==null||l.call(a,r,i,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new R),(u=(d=this._formProps)==null?void 0:d.onSubmitComplete)==null||u.call(d,r,i,e,this._formApi,new R)}submitPromise(e,n,r={}){const i=this.getValues(),s=this.getFormDataSet();e.then(o=>{var a,l,d,u,f,b;this.isFormMounted()&&(this.setFormSubmitting(!1),(a=r.onSubmitSuccess)==null||a.call(r,i,s,(o==null?void 0:o.data)||s,this._formApi,new R),(l=r.onSubmitComplete)==null||l.call(r,i,s,n,this._formApi,new R),(u=(d=this._formProps)==null?void 0:d.onSubmitSuccess)==null||u.call(d,i,s,(o==null?void 0:o.data)||s,this._formApi,new R),(b=(f=this._formProps)==null?void 0:f.onSubmitComplete)==null||b.call(f,i,s,n,this._formApi,new R))}).catch(o=>{var a,l,d,u,f,b;this.isFormMounted()&&(this.setFormSubmitting(!1),(a=r.onSubmitError)==null||a.call(r,i,s,o,this._formApi,new R),(l=r.onSubmitComplete)==null||l.call(r,i,s,n,this._formApi,new R),(u=(d=this._formProps)==null?void 0:d.onSubmitError)==null||u.call(d,i,s,o,this._formApi,new R),(b=(f=this._formProps)==null?void 0:f.onSubmitComplete)==null||b.call(f,i,s,n,this._formApi,new R))})}submitObject(e,n,r={}){var o,a,l,d,u,f,b,_,S,F;const i=this.getValues(),s=this.getFormDataSet();this.setFormSubmitting(!1),(o=e.error)!=null&&o.message?((a=r.onSubmitError)==null||a.call(r,i,s,{message:e.error.message||"",error:e.error.error,code:e.error.code||400},this._formApi,new R),(d=(l=this._formProps)==null?void 0:l.onSubmitError)==null||d.call(l,i,s,{message:e.error.message||"",error:e.error.error,code:e.error.code||400},this._formApi,new R)):((u=r.onSubmitSuccess)==null||u.call(r,i,s,e.data??s,this._formApi,new R),(b=(f=this._formProps)==null?void 0:f.onSubmitSuccess)==null||b.call(f,i,s,e.data??s,this._formApi,new R)),(_=r.onSubmitComplete)==null||_.call(r,i,s,n,this._formApi,new R),(F=(S=this._formProps)==null?void 0:S.onSubmitComplete)==null||F.call(S,i,s,n,this._formApi,new R)}submitBoolean(e,n,r={}){var o,a,l,d,u,f,b,_,S;const i=this.getValues(),s=this.getFormDataSet();this.setFormSubmitting(!1),e?((o=r.onSubmitSuccess)==null||o.call(r,i,s,s,this._formApi,new R),(l=(a=this._formProps)==null?void 0:a.onSubmitSuccess)==null||l.call(a,i,s,s,this._formApi,new R)):((d=r.onSubmitError)==null||d.call(r,i,s,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new R),(f=(u=this._formProps)==null?void 0:u.onSubmitError)==null||f.call(u,i,s,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new R)),(b=r.onSubmitComplete)==null||b.call(r,i,s,n,this._formApi,new R),(S=(_=this._formProps)==null?void 0:_.onSubmitComplete)==null||S.call(_,i,s,n,this._formApi,new R)}submitUndefined(e,n={}){var s,o,a,l,d,u;this.setFormSubmitting(!1);const r=this.getValues(),i=this.getFormDataSet();(s=n.onSubmitSuccess)==null||s.call(n,r,i,i,this._formApi,new R),(a=(o=this._formProps)==null?void 0:o.onSubmitSuccess)==null||a.call(o,r,i,i,this._formApi,new R),(l=n.onSubmitComplete)==null||l.call(n,r,i,e,this._formApi,new R),(u=(d=this._formProps)==null?void 0:d.onSubmitComplete)==null||u.call(d,r,i,e,this._formApi,new R)}getSubmitCount(){return this._submitCount}incrementSubmitCount(){this._submitCount++}subscribeRenderForm(e){return this._formRenderListeners=[...this._formRenderListeners,e],()=>{this._formRenderListeners=this._formRenderListeners.filter(n=>n!==e)}}emitFormRender(){if(this._formRenderSnapshot={},!!this._formRenderListeners)for(const e of this._formRenderListeners)e()}getFormRenderSnapshot(){return this._formRenderSnapshot}}const ii=t=>{const[e]=c.useState({});return()=>e},Vt=(t,e,n)=>{const r=t??"en_US",[i,s]=si(r,e,n);return c.useCallback(o=>i[o]??s[o]??o,[i,s])},si=(t,e,n)=>c.useMemo(()=>{const s={...e[t??"en_US"]??e.en,...n},o={...e.en,...n};return[s,o]},[n,t,e]),oi={ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",confirm:"Confirm",fixError:"Fix errors",confirmChangesQs:"Confirm changes made?",tryAgainQt:"Try again?",error:"Error"},ai={ok:"ОК",cancel:"Отмена",yes:"Да",no:"Нет",confirm:"Подтвердить",fixError:"Необходимо исправить ошибки",confirmChangesQs:"Подтвердить сделанные изменения?",tryAgainQt:"Попробовать снова?",error:"Ошибка"},li={ok:"确定",cancel:"取消",yes:"是",no:"否",confirm:"确认",fixError:"需要修复错误",confirmChangesQs:"确认所做的更改？",tryAgainQt:"再试一次？",error:"错误"},di={en_US:oi,ru_RU:ai,zh_CN:li},ci=t=>Vt(t.language,di,t.translation);/**
 * @useUpdateMessageBoxTheme
 * @description MessageBox uses an Antd Modal static object, which is launched in its own context.
 * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called
 * @version 0.0.0.67
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const ui=()=>{const{modal:t}=In.useApp();be.updateThemedModal(t)},fi=t=>e=>{const n=t.getProps(),r=t.model.validateForm();if(t.getButtonsApi().disabled("ok",Object.keys(r).length>0),Object.keys(r).length===0||!e)return r;const i=N.jsx(Rn,{style:{marginLeft:5},direction:"vertical",size:0,children:Object.keys(r).map(s=>{const o=t.model.getField(s),a=(o==null?void 0:o.getLabel())||s;return N.jsxs(Be.Text,{style:{fontSize:12},type:"secondary",children:[a,": ",r[s]]},s)})});return be.alert({language:n.language,title:t.t("fixError"),content:i,colorType:"danger"}),r},mi=t=>()=>{const e=t.validateForm(!0);if(Object.keys(e).length>0)return;const n=t.model.getFormProps();if(!n.confirmChanges){t.getButtonsApi().loading("ok",!0),t.model.submit();return}const r=be.confirmWaiter({language:n.language,content:n.submitConfirmMessage??t.t("confirmChangesQs"),okText:t.t("yes"),cancelText:t.t("cancel"),onOk:()=>{t.model.submit({onSubmitComplete:i})}}),i=()=>{r.destroy()}},hi=({props:t,setProps:e})=>{var b,_,S,F,E,A,V,C,D;const[n]=c.useState(t.apiRef||{}),r=Pn(t.formId??"dForm-"+Dn());(b=t._overriddenApi)!=null&&b.getId||(n.getId=r);const i=jn(t);(_=t._overriddenApi)!=null&&_.getProps||(n.getProps=i);const s=An(e);(S=t._overriddenApi)!=null&&S.setProps||(n.setProps=s);const o=Vn(t,e);(F=t._overriddenApi)!=null&&F.updateProps||(n.updateProps=o);const a=Tn();(E=t._overriddenApi)!=null&&E.getIsMounted||(n.getIsMounted=a);const l=ci(t);(A=t._overriddenApi)!=null&&A.t||(n.t=l);const d=ii();(V=t._overriddenApi)!=null&&V.getButtonsApi||(n.getButtonsApi=d);const u=fi(n);(C=t._overriddenApi)!=null&&C.validateForm||(n.validateForm=u);const f=mi(n);return(D=t._overriddenApi)!=null&&D.submitForm||(n.submitForm=f),n},pi=({fields:t,subscribe:e,getSnapshot:n,containerStyle:r})=>{e||(e=()=>()=>{}),n||(n=()=>0);const i={height:"100%",display:"flex",flexDirection:"column",...r};return c.useSyncExternalStore(e,n),N.jsx("div",{className:"dform-fields-container",style:i,children:Object.keys(t).map(s=>{const o=t[s],a={},d=o.getProps().autoHeightResize?" auto-height":"";return N.jsxs("div",{className:"dform-field-container"+d,style:a,children:[o.renderField()," "]},"field_"+o.getName())})})},gi={loadingError:"Data loading error",tryAgain:"Try again",tryReload:"Try reloading the page (press F5)"},yi={loadingError:"Ошибка загрузки данных",tryAgain:"Повторить попытку",tryReload:"Попробовать перезагрузить страницу (нажмите F5)"},bi={loadingError:"数据加载错误",tryAgain:"再次尝试",tryReload:"尝试重新加载页面 (按F5)"},Fi={en_US:gi,ru_RU:yi,zh_CN:bi},{Text:Si}=Be,Ci=({errorMessage:t,children:e,retryHandler:n,style:r,language:i})=>{const s=Vt(i,Fi),o=c.useCallback(()=>{n&&n()},[n]);return t?N.jsx(je,{justify:"center",align:"middle",style:{height:"100%",...r},children:N.jsx(ve,{children:N.jsx($t,{message:s("loadingError"),showIcon:!0,icon:N.jsx(Te,{}),description:N.jsxs(N.Fragment,{children:[t,N.jsx(je,{justify:"center",align:"middle",style:{marginTop:16},children:N.jsx(ve,{style:{marginLeft:-24},children:n?N.jsx(Ln,{color:"danger",variant:"solid",onClick:o,children:s("tryAgain")}):N.jsx(Si,{children:s("tryReload")})})})]}),type:"error"})})}):N.jsx(N.Fragment,{children:e})},xi=({isLoading:t,error:e,retryHandler:n,children:r,skeleton:i,notHideContent:s,caption:o,spinStyle:a,errorStyle:l,noFullHeight:d,language:u})=>{const f=o??"Please wait...";return N.jsx(Ci,{errorMessage:e==null?void 0:e.message,retryHandler:n,style:l,language:u,children:N.jsx(qn,{spinning:t,delay:0,tip:f,style:a,wrapperClassName:d?"":"wrapper-full-height-grid-spinner",children:t&&!s?N.jsxs(N.Fragment,{children:[i??null,N.jsx("div",{style:{display:"none"},children:r})]}):N.jsx(N.Fragment,{children:r})})})},_i=({formProps:t,formApi:e,formButtons:n})=>{var o,a;const r=e.model;c.useSyncExternalStore(r.subscribeRenderForm.bind(r),r.getFormRenderSnapshot.bind(r));const i={span:t.layout==="horizontal"?8:24,...t.labelCol};i.style={paddingBottom:2,...(o=t.labelCol)==null?void 0:o.style};const s={span:t.layout==="horizontal"?16:24,...t.wrapperCol};return N.jsx("div",{className:t.containerClassName??"",style:t.containerStyle,children:N.jsx(xi,{isLoading:r.isFormFetching()||r.isFormSubmitting()&&!t.confirmChanges,notHideContent:!0,language:t.language,children:N.jsx(Hn,{children:N.jsxs(se,{colon:!1,className:t.className,name:r.getFormId(),labelCol:i,wrapperCol:s,autoComplete:"off",labelAlign:t.labelAlign,layout:t.layout==="horizontal"?"horizontal":"vertical",requiredMark:t.requiredMark,style:t.formStyle,children:[N.jsx($i,{model:r}),N.jsx(pi,{fields:r.getRootFields(),formProps:t}),!((a=t._overriddenApi)!=null&&a.getButtonsApi)&&N.jsx(Bn,{buttons:n,apiRef:e.getButtonsApi(),color:t.colorType,arrowsSelection:t.arrowsButtonsSelection,style:t.buttonsRowStyle,styles:t.buttonsRowStyles,context:e})]})})})})},$i=({model:t})=>(c.useEffect(()=>{t.onFormInit()},[t]),null),Ei=()=>!0,{Text:ut}=Be,ft=({error:t,extraMessage:e})=>N.jsxs(N.Fragment,{children:[N.jsx(ut,{strong:!0,children:t.message}),e&&N.jsx(ut,{children:e}),t.stack&&Ei()&&N.jsx(Un,{items:[{key:"1",label:"Stack",children:N.jsx("p",{children:t.stack})}]})]}),vi=t=>c.useMemo(()=>({...t,...{onFormReadyChanged:(n,r,i)=>{var s,o,a,l,d;(s=t==null?void 0:t.onFormReadyChanged)==null||s.call(t,n,r,i),!i.isPrevented()&&(n?(a=(o=r.getButtonsApi()).disabled)==null||a.call(o,"ok",!1):(d=(l=r.getButtonsApi()).disabled)==null||d.call(l,"ok",!0))},onFormHasNoErrors:(n,r,i,s)=>{var o,a,l;(o=t==null?void 0:t.onFormHasNoErrors)==null||o.call(t,n,r,i,s),!s.isPrevented()&&((l=(a=i.getButtonsApi()).disabled)==null||l.call(a,"ok",!1))},onDataFetchError:(n,r,i)=>{var o;if((o=t==null?void 0:t.onDataFetchError)==null||o.call(t,n,r,i),i.isPrevented())return;const s=be.confirm({language:t.language,title:r.t("error"),content:N.jsx(ft,{error:n,extraMessage:r.t("tryAgainQt")}),colorType:"danger",buttons:{ok:{onClick:()=>{s.destroy(),r.model.fetchData()}}}})},onSubmit:(n,r,i,s)=>{var a,l,d,u,f;const o=(a=t==null?void 0:t.onSubmit)==null?void 0:a.call(t,n,r,i,s);return s.isPrevented()||((d=(l=i.getButtonsApi()).disabled)==null||d.call(l,"ok",!0),t.confirmChanges||(f=(u=i.getButtonsApi()).loading)==null||f.call(u,"ok",!0)),o},onSubmitError:(n,r,i,s,o)=>{var a;(a=t==null?void 0:t.onSubmitError)==null||a.call(t,n,r,i,s,o),!o.isPrevented()&&be.alert({language:t.language,title:s.t("error"),content:N.jsx(ft,{error:i}),colorType:"danger"})},onSubmitComplete:(n,r,i,s,o)=>{var a,l,d,u,f;(a=t==null?void 0:t.onSubmitComplete)==null||a.call(t,n,r,i,s,o),!o.isPrevented()&&((d=(l=s.getButtonsApi()).disabled)==null||d.call(l,"ok",!1),(f=(u=s.getButtonsApi()).loading)==null||f.call(u,"ok",!1))}}}),[t]),wi=(t,e)=>c.useMemo(()=>{if(t.buttons===null)return{};const n={ok:{position:"left",active:!0,title:e.t("confirm"),disabled:!0,hotKeys:[{key:"Enter",ctrl:!0},{key:"S",ctrl:!0},{key:"Ы",ctrl:!0}],onClick:()=>{e.submitForm()}}};return Wn(n,t.buttons)},[t.buttons,e]),Ti=t=>{ui();const e=Mi(t),[n,r]=zn(e),i=vi(n),s=hi({props:i,setProps:r});Ni(s,i);const o=wi(i,s);return Ii(s),Oi(s),N.jsx(_i,{formProps:i,formApi:s,formButtons:o})},Mi=t=>{var n;const e=c.useRef(!0);return e.current?((n=t==null?void 0:t.onFirstRender)==null?void 0:n.call(t,t))??t:(e.current=!1,t)},Ni=(t,e)=>{const n=c.useRef(null);return c.useMemo(()=>{var r;return n.current||(n.current=new ri(t)),(r=e._overriddenApi)!=null&&r.model||(t.model=n.current),n.current.initModel(e),n.current},[t,e])},Oi=t=>{c.useEffect(()=>(t.model.setFormMounted(!0),()=>{t.model.setFormMounted(!1)}))},Ii=t=>{c.useEffect(()=>{t.model.onInitialFetch()},[t])};export{Qr as B,Ne as C,Ti as D,ft as E,pi as F,ni as I,xi as L,qr as a,ii as b,Ei as c,nt as d,oi as e,R as f,ui as g,ar as h,ai as r,zr as t,Vt as u,li as z};
