const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cz0v0Rp9.js","assets/default-highlight-CrA-MuiQ.js","assets/index-DKsnjJVp.js"])))=>i.map(i=>d[i]);
import{r,d as te,u as ne,e as oe,f as N,h as H,i as ae,k as W,R as q,C as U,F as re,l as se,m as X,T as le,W as ie,o as ce,n as A,j as d,S as ue,a as de,_ as me,D as he}from"./index-DKsnjJVp.js";import{B as J,D as pe,I as z}from"./dForm-RzxzTjHO.js";import{I as T}from"./inputField-E9h4FWeh.js";import{u as K}from"./defaultButtonsProps-Bo_d-5AQ.js";import{P as be}from"./passwordField-D9paVcUu.js";import{N as ve}from"./numberField-CSMOH_1r.js";import{T as xe}from"./treeSelectField-GZfiUGts.js";import{S as ge}from"./selectField-Dr_PLi7R.js";import{P as Fe,C as Ce,d as ke,c as fe}from"./darcula-CbhncTMN.js";import"./modal-s_O7aRct.js";import"./index-CSyocx7G.js";import"./index-Cr9wBgfG.js";import"./SearchOutlined-K0l7o9jX.js";import"./dFormModal-BxobeehR.js";import"./modal-sKRn3jmz.js";import"./useShowArrow-42klRCfV.js";import"./useIcons-CWHa1yEa.js";import"./useApiIsNodeSelected-DVBYhN5o.js";var ye=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],_e=r.forwardRef(function(t,e){var l=t.prefixCls,a=l===void 0?"rc-checkbox":l,i=t.className,g=t.style,o=t.checked,n=t.disabled,S=t.defaultChecked,k=S===void 0?!1:S,p=t.type,f=p===void 0?"checkbox":p,D=t.title,u=t.onChange,I=te(t,ye),F=r.useRef(null),b=r.useRef(null),s=ne(k,{value:o}),w=oe(s,2),E=w[0],y=w[1];r.useImperativeHandle(e,function(){return{focus:function(h){var x;(x=F.current)===null||x===void 0||x.focus(h)},blur:function(){var h;(h=F.current)===null||h===void 0||h.blur()},input:F.current,nativeElement:b.current}});var v=N(a,i,H(H({},"".concat(a,"-checked"),E),"".concat(a,"-disabled"),n)),m=function(h){n||("checked"in t||y(h.target.checked),u==null||u({target:W(W({},t),{},{type:f,checked:h.target.checked}),stopPropagation:function(){h.stopPropagation()},preventDefault:function(){h.preventDefault()},nativeEvent:h.nativeEvent}))};return r.createElement("span",{className:v,title:D,style:g,ref:b},r.createElement("input",ae({},I,{className:"".concat(a,"-input"),ref:F,onChange:m,disabled:n,checked:!!E,type:f})),r.createElement("span",{className:"".concat(a,"-inner")}))});const Q=q.createContext(null);var Se=function(t,e){var l={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(l[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(l[a[i]]=t[a[i]]);return l};const Ie=(t,e)=>{var l;const{prefixCls:a,className:i,rootClassName:g,children:o,indeterminate:n=!1,style:S,onMouseEnter:k,onMouseLeave:p,skipGroup:f=!1,disabled:D}=t,u=Se(t,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:I,direction:F,checkbox:b}=r.useContext(U),s=r.useContext(Q),{isFormItemInput:w}=r.useContext(re),E=r.useContext(se),y=(l=(s==null?void 0:s.disabled)||D)!==null&&l!==void 0?l:E,v=r.useRef(u.value);r.useEffect(()=>{s==null||s.registerValue(u.value)},[]),r.useEffect(()=>{if(!f)return u.value!==v.current&&(s==null||s.cancelValue(v.current),s==null||s.registerValue(u.value),v.current=u.value),()=>s==null?void 0:s.cancelValue(u.value)},[u.value]);const m=I("checkbox",a),C=X(m),[h,x,M]=K(m,C),_=Object.assign({},u);s&&!f&&(_.onChange=function(){u.onChange&&u.onChange.apply(u,arguments),s.toggleOption&&s.toggleOption({label:o,value:u.value})},_.name=s.name,_.checked=s.value.includes(u.value));const R=N(`${m}-wrapper`,{[`${m}-rtl`]:F==="rtl",[`${m}-wrapper-checked`]:_.checked,[`${m}-wrapper-disabled`]:y,[`${m}-wrapper-in-form-item`]:w},b==null?void 0:b.className,i,g,M,C,x),V=N({[`${m}-indeterminate`]:n},le,x),G=n?"mixed":void 0;return h(r.createElement(ie,{component:"Checkbox",disabled:y},r.createElement("label",{className:R,style:Object.assign(Object.assign({},b==null?void 0:b.style),S),onMouseEnter:k,onMouseLeave:p},r.createElement(_e,Object.assign({"aria-checked":G},_,{prefixCls:m,className:V,disabled:y,ref:e})),o!==void 0&&r.createElement("span",null,o))))},Y=r.forwardRef(Ie);var we=function(t,e){var l={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(l[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(l[a[i]]=t[a[i]]);return l};const Ee=r.forwardRef((t,e)=>{const{defaultValue:l,children:a,options:i=[],prefixCls:g,className:o,rootClassName:n,style:S,onChange:k}=t,p=we(t,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:f,direction:D}=r.useContext(U),[u,I]=r.useState(p.value||l||[]),[F,b]=r.useState([]);r.useEffect(()=>{"value"in p&&I(p.value||[])},[p.value]);const s=r.useMemo(()=>i.map(c=>typeof c=="string"||typeof c=="number"?{label:c,value:c}:c),[i]),w=c=>{b(O=>O.filter(j=>j!==c))},E=c=>{b(O=>[].concat(A(O),[c]))},y=c=>{const O=u.indexOf(c.value),j=A(u);O===-1?j.push(c.value):j.splice(O,1),"value"in p||I(j),k==null||k(j.filter(L=>F.includes(L)).sort((L,Z)=>{const P=s.findIndex($=>$.value===L),ee=s.findIndex($=>$.value===Z);return P-ee}))},v=f("checkbox",g),m=`${v}-group`,C=X(v),[h,x,M]=K(v,C),_=ce(p,["value","disabled"]),R=i.length?s.map(c=>r.createElement(Y,{prefixCls:v,key:c.value.toString(),disabled:"disabled"in c?c.disabled:p.disabled,value:c.value,checked:u.includes(c.value),onChange:c.onChange,className:`${m}-item`,style:c.style,title:c.title,id:c.id,required:c.required},c.label)):a,V={toggleOption:y,value:u,disabled:p.disabled,name:p.name,registerValue:E,cancelValue:w},G=N(m,{[`${m}-rtl`]:D==="rtl"},o,n,M,C,x);return h(r.createElement("div",Object.assign({className:G,style:S},_,{ref:e}),r.createElement(Q.Provider,{value:V},R)))}),B=Y;B.Group=Ee;B.__ANT_CHECKBOX=!0;const Oe=({field:t})=>{r.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const e=t.getName(),l=t.getProps(),a=t.getValue(),i=r.useCallback(n=>{t.isReady()&&(t.setValue(n.target.checked||!1),t.setTouched(!0),t.setDirty(!0))},[t]);r.useEffect(()=>{t.setReady(!0)},[t,e]);const o={...{width:t.getWidth()},...l.style};return d.jsx(B,{checked:a,disabled:t.isDisabled()||t.isReadOnly(),onChange:i,autoFocus:l.autoFocus,indeterminate:l.indeterminate,style:o})};class je extends J{noGrowWidth(){return!0}render(){return d.jsx(Oe,{field:this})}}const De=({field:t})=>{r.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const e=t.getProps(),l=t.getValue(),a=r.useCallback(o=>{var n;t.setTouched(!0),(n=e==null?void 0:e.onClick)==null||n.call(e,o,t)},[t,e]);r.useEffect(()=>{t.setReady(!0)},[t]);const g={...{width:t.getWidth()??"100%"},...e.style};return d.jsx("a",{href:e.href,target:e.target,style:g,onClick:o=>a(o),onContextMenu:o=>{var n;return(n=e==null?void 0:e.onContextMenu)==null?void 0:n.call(e,o,t)},onDoubleClick:o=>{var n;return(n=e==null?void 0:e.onDoubleClick)==null?void 0:n.call(e,o,t)},onDrag:o=>{var n;return(n=e==null?void 0:e.onDrag)==null?void 0:n.call(e,o,t)},onDragEnd:o=>{var n;return(n=e==null?void 0:e.onDragEnd)==null?void 0:n.call(e,o,t)},onDragEnter:o=>{var n;return(n=e==null?void 0:e.onDragEnter)==null?void 0:n.call(e,o,t)},onDragExit:o=>{var n;return(n=e==null?void 0:e.onDragExit)==null?void 0:n.call(e,o,t)},onDragLeave:o=>{var n;return(n=e==null?void 0:e.onDragLeave)==null?void 0:n.call(e,o,t)},onDragOver:o=>{var n;return(n=e==null?void 0:e.onDragOver)==null?void 0:n.call(e,o,t)},onDragStart:o=>{var n;return(n=e==null?void 0:e.onDragStart)==null?void 0:n.call(e,o,t)},onMouseDown:o=>{var n;return(n=e==null?void 0:e.onMouseDown)==null?void 0:n.call(e,o,t)},onMouseEnter:o=>{var n;return(n=e==null?void 0:e.onMouseEnter)==null?void 0:n.call(e,o,t)},onMouseLeave:o=>{var n;return(n=e==null?void 0:e.onMouseLeave)==null?void 0:n.call(e,o,t)},onMouseMove:o=>{var n;return(n=e==null?void 0:e.onMouseMove)==null?void 0:n.call(e,o,t)},onMouseOut:o=>{var n;return(n=e==null?void 0:e.onMouseOut)==null?void 0:n.call(e,o,t)},onMouseOver:o=>{var n;return(n=e==null?void 0:e.onMouseOver)==null?void 0:n.call(e,o,t)},onBlur:o=>{var n;return(n=e==null?void 0:e.onBlur)==null?void 0:n.call(e,o,t)},onFocus:o=>{var n;return(n=e==null?void 0:e.onFocus)==null?void 0:n.call(e,o,t)},onMouseUp:o=>{var n;return(n=e==null?void 0:e.onMouseUp)==null?void 0:n.call(e,o,t)},children:l})};class Ne extends J{render(){return d.jsx(De,{field:this})}}const Me=()=>{const[t,e]=q.useState(!1),l=Re(t);return d.jsxs("div",{children:[d.jsx("h1",{children:"Form example with inline fields"}),d.jsxs("div",{style:{maxWidth:1e3,border:"1px solid gray",padding:5},children:[d.jsx(ue,{style:{marginBottom:30},children:d.jsx(de,{checkedChildren:"Horizontal",unCheckedChildren:"Vertical",onChange:()=>e(a=>!a)})}),d.jsx(pe,{...l})]})]})},Re=t=>({layout:t?"horizontal":"vertical",fieldsProps:{inline1:{component:z,fieldsProps:{field1_1:{component:T,label:"Field1_1",placeholder:"200px",width:200},field1_2:{component:be,label:"Field1_2",placeholder:"auto (not set)",autoFocus:!0},field1_3:{component:ve,label:"Field1_3",placeholder:"100px",width:100}}},inline2:{component:z,fieldsProps:{field2_1:{component:xe,label:"Field2_1",placeholder:"50%",width:"50%"},field2_2:{component:ge,label:"Field2_2",placeholder:"auto (not set)"},field2_3:{component:Ne,label:"Field2_3",href:"https://test.ru/link",value:"https://test.ru/link",placeholder:"20%",width:"20%"}}},inline3:{component:z,fieldsProps:{field3_1:{component:T,label:"Field3_1",placeholder:"auto (not set)"},field3_2:{component:T,label:"Field3_2",placeholder:"100px",width:"100px"},field3_3:{component:je,label:"Field3_3",width:50}}}},buttons:{ok:{position:"right"}}}),Ve=r.lazy(()=>me(()=>import("./index-Cz0v0Rp9.js").then(t=>t.ds),__vite__mapDeps([0,1,2])).then(t=>({default:t.Prism}))),et=t=>d.jsxs(Fe,{children:[d.jsx("div",{children:d.jsx(Me,{})}),d.jsx(he,{}),d.jsx("div",{children:d.jsx(Ce,{items:[{key:1,label:"Show source",children:d.jsx(r.Suspense,{fallback:d.jsx("div",{children:"Loading source..."}),children:d.jsx(Ve,{language:"tsx",style:t.darkMode?ke:fe,showLineNumbers:!0,children:`
import React from 'react';
import {DForm, IDFormProps} from @krinopotam/ui-kit/dForm';
import {IInputFieldProps, InputField} from @krinopotam/ui-kit/dForm/fields/input/inputField';
import {Space, Switch} from 'antd';
import {IInlineGroupFieldProps, InlineGroupField} from @krinopotam/ui-kit/dForm/fields/inlineGroup';
import {CheckboxField, ICheckboxFieldProps} from @krinopotam/ui-kit/dForm/fields/checkbox";
import {IPasswordFieldProps, PasswordField} from @krinopotam/ui-kit/dForm/fields/password";
import {INumberFieldProps, NumberField} from @krinopotam/ui-kit/dForm/fields/number";
import {ITreeSelectFieldProps, TreeSelectField} from @krinopotam/ui-kit/dForm/fields/treeSelect";
import {ISelectFieldProps, SelectField} from @krinopotam/ui-kit/dForm/fields/select";
import {ILinkFieldProps, LinkField} from @krinopotam/ui-kit/dForm/fields/link";
export const Example = (): React.JSX.Element => {
    const [horizontal, setHorizontal] = React.useState(false);
    const formProps = useFormProps(horizontal);
    return (
        <div>
            <div style={{maxWidth: 1000, border: '1px solid gray', padding: 5}}>
                <Space style={{marginBottom: 30}}>
                    <Switch checkedChildren={'Horizontal'} unCheckedChildren={'Vertical'} onChange={() => setHorizontal(cur => !cur)} />
                </Space>
                <DForm {...formProps} />
            </div>
        </div>
    );
};
const useFormProps = (horizontal: boolean) => {
    return {
        layout: horizontal ? 'horizontal' : 'vertical',
        fieldsProps: {
            inline1: {
                component: InlineGroupField,
                fieldsProps: {
                    field1_1: {component: InputField, label: 'Field1_1', placeholder: '200px', width: 200} satisfies IInputFieldProps,
                    field1_2: {component: PasswordField, label: 'Field1_2', placeholder: 'auto (not set)', autoFocus: true} satisfies IPasswordFieldProps,
                    field1_3: {component: NumberField, label: 'Field1_3', placeholder: '100px', width: 100} satisfies INumberFieldProps,
                },
            } satisfies IInlineGroupFieldProps,
            inline2: {
                component: InlineGroupField,
                fieldsProps: {
                    field2_1: {component: TreeSelectField, label: 'Field2_1', placeholder: '50%', width: '50%'} satisfies ITreeSelectFieldProps,
                    field2_2: {component: SelectField, label: 'Field2_2', placeholder: 'auto (not set)'} satisfies ISelectFieldProps,
                    field2_3: {component: LinkField, label: 'Field2_3', href: 'https://test.ru/link', value:'https://test.ru/link', placeholder: '20%', width: '20%'} satisfies ILinkFieldProps,
                },
            } satisfies IInlineGroupFieldProps,
            inline3: {
                component: InlineGroupField,
                fieldsProps: {
                    field3_1: {component: InputField, label: 'Field3_1', placeholder: 'auto (not set)'} satisfies IInputFieldProps,
                    field3_2: {component: InputField, label: 'Field3_2', placeholder: '100px', width: '100px'} satisfies IInputFieldProps,
                    field3_3: {component: CheckboxField, label: 'Field3_3', width:50} satisfies ICheckboxFieldProps,
                },
            } satisfies IInlineGroupFieldProps,
        },
        buttons: {ok: {position: 'right'}},
    } satisfies IDFormProps;
};
`})})}]})})]});export{et as Pagef5c61ce7958f4a13bdd8638f0c9e1bc7,et as default};
