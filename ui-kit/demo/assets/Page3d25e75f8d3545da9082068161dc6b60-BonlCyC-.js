const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-s3JYYcml.js","assets/default-highlight-CgZf-mKA.js","assets/index-BifVs3yP.js"])))=>i.map(i=>d[i]);
import{j as e,D as t,r as i,_ as r}from"./index-BifVs3yP.js";import{D as l}from"./isArray-DZpirPjN.js";import"./useApiGetGroupsOnly-CQWS2_z-.js";import{d as o}from"./dFormModal-_hZTfvWc.js";import{T as n}from"./treeSelectField-D3MWssfy.js";import{P as s,C as d}from"./pageLayout-CQ75ho6N.js";import{d as c,c as m}from"./darcula-BqMdvqtY.js";import"./buttonsRow-B_xoywMk.js";import"./messageBox-2IfVYj0o.js";import"./index-CWHT4hGv.js";import"./defaultButtonsProps-De9HXyKM.js";import"./PlusOutlined-CQ-Ipige.js";import"./index-CTMli26P.js";import"./modal-CZTSSsuL.js";import"./baseField-BOZdNZcm.js";import"./useShowArrow-DvkZZZK_.js";import"./useIcons-a6tgTMJf.js";import"./SearchOutlined-8SOsLCzA.js";const a=[{id:"01",title:"Департамент аналитики данных",children:[{id:"01-01",title:"Управление аналитики продаж",children:[{id:"01-01-01",title:"Отдел продаж север"},{id:"01-01-02",title:"Отдел продаж юг"},{id:"01-01-03",title:"Отдел продаж запад"}]},{id:"01-02",title:"Управление аналитики закупок",children:[{id:"01-02-01",title:"Отдел закупок север"},{id:"01-02-02",title:"Отдел закупок юг"},{id:"01-02-03",title:"Отдел закупок запад"}]},{id:"01-03",title:"Управление аналитики производства",children:[{id:"01-03-01",title:"Отдел производства север"},{id:"01-03-02",title:"Отдел производства юг"},{id:"01-03-03",title:"Отдел производства запад"}]}]},{id:"02",title:"Департамент инженерных работ",children:[{id:"02-01",title:"Управление строительства",children:[{id:"02-01-01",title:"Отдел строительства север"},{id:"02-01-02",title:"Отдел строительства юг"},{id:"02-01-03",title:"Отдел строительства запад"}]},{id:"02-02",title:"Управление демонтажа",children:[{id:"02-02-01",title:"Отдел демонтажа север"},{id:"02-02-02",title:"Отдел демонтажа юг"},{id:"02-02-03",title:"Отдел демонтажа запад"}]},{id:"02-03",title:"Управление реконструкции",children:[{id:"02-03-01",title:"Отдел реконструкции север"},{id:"02-03-02",title:"Отдел реконструкции юг"},{id:"02-03-03",title:"Отдел реконструкции запад"}]}]},{id:"03",title:"Департамент проектных работ",children:[{id:"03-01",title:"Управление проектирования",children:[{id:"03-01-01",title:"Отдел проектирования север"},{id:"03-01-02",title:"Отдел проектирования юг"},{id:"03-01-03",title:"Отдел проектирования запад"}]},{id:"03-02",title:"Управление согласования",children:[{id:"03-02-01",title:"Отдел согласования север"},{id:"03-02-02",title:"Отдел согласования юг"},{id:"03-02-03",title:"Отдел согласования запад"}]},{id:"03-03",title:"Управление анализа проектов",children:[{id:"03-03-01",title:"Отдел анализа север"},{id:"03-03-02",title:"Отдел анализа юг"},{id:"03-03-03",title:"Отдел анализа запад"}]}]}],h=(e,t)=>{const i=[];let r=[];for(const l of e){const e=o(l);if(l.children&&l.children.length>0&&(r=h(l.children,t)),r.length>0){e.children=r,i.push(e);continue}l.title.toLowerCase().indexOf(t.toLowerCase())>=0&&i.push(e)}return i},p={formId:"Test form",confirmChanges:!0,fieldsProps:{departments:{component:n,label:"Подразделения",fetchMode:"onUse",noCacheFetchedData:!0,minSearchLength:1,onDataFetch:e=>(e=>new Promise((t=>{setTimeout((()=>{const i=h(a,e);t({data:i})}),1e3)})))(e)}},buttons:null},u=()=>e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Пример асинхронного поиска в TreeSelect"}),e.jsx("div",{style:{maxWidth:500},children:e.jsx(l,{...p})})]}),j=i.lazy((()=>r((()=>import("./index-s3JYYcml.js").then((e=>e.dw))),__vite__mapDeps([0,1,2])).then((e=>({default:e.Prism}))))),f=r=>e.jsxs(s,{children:[e.jsx(u,{}),e.jsx(t,{}),e.jsx("div",{children:e.jsx(d,{items:[{key:1,label:"Show source",children:e.jsx(i.Suspense,{fallback:e.jsx("div",{children:"Loading source..."}),children:e.jsx(j,{language:"tsx",style:r.darkMode?c:m,showLineNumbers:!0,children:"\nimport React from 'react';\nimport {DForm, IDFormProps} from @krinopotam/ui-kit/dForm';\nimport {ITreeSelectSourcePromise} from @krinopotam/ui-kit/treeSelect'\nimport {CloneObject} from \"@krinopotam/js-helpers\";\nimport {ITreeSelectFieldProps, TreeSelectField} from @krinopotam/ui-kit/dForm/fields/treeSelect/treeSelectField\";\nconst formProps: IDFormProps = {\n    formId: 'Test form',\n    confirmChanges: true,\n    fieldsProps: {\n        departments: {\n            component: TreeSelectField, label: 'Подразделения', fetchMode: 'onUse', noCacheFetchedData: true, minSearchLength: 1, onDataFetch: (search:string) => {\n                return asyncFetch(search) as ITreeSelectSourcePromise;\n            }\n        } satisfies ITreeSelectFieldProps,\n    },\n    buttons: null,\n};\nexport const TreeSelectAsyncSearch = (): React.JSX.Element => {\n    return (\n        <>\n            <div style={{maxWidth: 500}}>\n                <DForm {...formProps} />\n            </div>\n        </>\n    );\n};\n"})})}]})})]});export{f as Page3d25e75f8d3545da9082068161dc6b60,f as default};
