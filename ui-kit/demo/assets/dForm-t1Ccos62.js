var Ht=Object.defineProperty;var Bt=(t,e,n)=>e in t?Ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L=(t,e,n)=>Bt(t,typeof e!="symbol"?e+"":e,n);import{x as pt,B as Ve,z as te,r as u,C as Me,f as ne,s as Wt,p as gt,U as yt,ai as zt,aj as kt,ak as bt,al as qt,am as He,an as vt,ao as Qe,ap as Gt,aq as Kt,ar as Ut,as as Yt,at as Xt,g as Qt,c as Jt,A as Zt,au as Ft,y as en,av as Be,m as We,J as Je,n as re,aw as tn,ax as nn,ay as rn,l as on,G as sn,az as an,aA as ln,aB as cn,aC as un,aD as St,aE as ce,aF as dn,q as fn,F as Ee,Q as Ze,aG as mn,aH as hn,ah as pn,aI as gn,aJ as yn,aK as bn,aL as vn,o as Fn,aM as _t,aN as Sn,aO as _n,aP as Cn,aQ as $n,V as En,I as wn,a7 as xn,aR as Mn,aS as On,R as le,aT as Pn,j as x,aU as An,S as In}from"./index-Cpuh8Ebd.js";import{C as we,R as Le,u as Rn,t as Nn,c as Dn,d as jn,e as Tn,f as Ln,b as Vn,B as Hn,m as Bn,P as Wn}from"./buttonsRow-MpDC2SN8.js";import{R as zn,m as be,S as kn,B as qn}from"./modal-g5li7x1J.js";import{T as ze}from"./index-DNdv76Wr.js";import{C as Gn}from"./darcula-hcLbMwDB.js";const Se=(t,e,n,r,i)=>({background:t,border:`${te(r.lineWidth)} ${r.lineType} ${e}`,[`${i}-icon`]:{color:n}}),Kn=t=>{const{componentCls:e,motionDurationSlow:n,marginXS:r,marginSM:i,fontSize:o,fontSizeLG:s,lineHeight:a,borderRadiusLG:l,motionEaseInOutCirc:c,withDescriptionIconSize:f,colorText:d,colorTextHeading:g,withDescriptionPadding:F,defaultPadding:b}=t;return{[e]:Object.assign(Object.assign({},Ve(t)),{position:"relative",display:"flex",alignItems:"center",padding:b,wordWrap:"break-word",borderRadius:l,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:o,lineHeight:a},"&-message":{color:g},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${c}, opacity ${n} ${c},
        padding-top ${n} ${c}, padding-bottom ${n} ${c},
        margin-bottom ${n} ${c}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",padding:F,[`${e}-icon`]:{marginInlineEnd:i,fontSize:f,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:r,color:g,fontSize:s},[`${e}-description`]:{display:"block",color:d}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Un=t=>{const{componentCls:e,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:o,colorWarningBorder:s,colorWarningBg:a,colorError:l,colorErrorBorder:c,colorErrorBg:f,colorInfo:d,colorInfoBorder:g,colorInfoBg:F}=t;return{[e]:{"&-success":Se(i,r,n,t,e),"&-info":Se(F,g,d,t,e),"&-warning":Se(a,s,o,t,e),"&-error":Object.assign(Object.assign({},Se(f,c,l,t,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},Yn=t=>{const{componentCls:e,iconCls:n,motionDurationMid:r,marginXS:i,fontSizeIcon:o,colorIcon:s,colorIconHover:a}=t;return{[e]:{"&-action":{marginInlineStart:i},[`${e}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:o,lineHeight:te(o),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:s,transition:`color ${r}`,"&:hover":{color:a}}},"&-close-text":{color:s,transition:`color ${r}`,"&:hover":{color:a}}}}},Xn=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),Qn=pt("Alert",t=>[Kn(t),Un(t),Yn(t)],Xn);var et=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Jn={success:bt,info:qt,error:He,warning:vt},Zn=t=>{const{icon:e,prefixCls:n,type:r}=t,i=Jn[r]||null;return e?zt(e,u.createElement("span",{className:`${n}-icon`},e),()=>({className:ne(`${n}-icon`,{[e.props.className]:e.props.className})})):u.createElement(i,{className:`${n}-icon`})},er=t=>{const{isClosable:e,prefixCls:n,closeIcon:r,handleClose:i,ariaProps:o}=t,s=r===!0||r===void 0?u.createElement(kt,null):r;return e?u.createElement("button",Object.assign({type:"button",onClick:i,className:`${n}-close-icon`,tabIndex:0},o),s):null},Ct=u.forwardRef((t,e)=>{const{description:n,prefixCls:r,message:i,banner:o,className:s,rootClassName:a,style:l,onMouseEnter:c,onMouseLeave:f,onClick:d,afterClose:g,showIcon:F,closable:b,closeText:v,closeIcon:I,action:D,id:N}=t,_=et(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[T,V]=u.useState(!1),H=u.useRef(null);u.useImperativeHandle(e,()=>({nativeElement:H.current}));const{getPrefixCls:U,direction:z,alert:$}=u.useContext(Me),w=U("alert",r),[O,J,q]=Qn(w),S=P=>{var j;V(!0),(j=t.onClose)===null||j===void 0||j.call(t,P)},p=u.useMemo(()=>t.type!==void 0?t.type:o?"warning":"info",[t.type,o]),h=u.useMemo(()=>typeof b=="object"&&b.closeIcon||v?!0:typeof b=="boolean"?b:I!==!1&&I!==null&&I!==void 0?!0:!!($!=null&&$.closable),[v,I,b,$==null?void 0:$.closable]),m=o&&F===void 0?!0:F,y=ne(w,`${w}-${p}`,{[`${w}-with-description`]:!!n,[`${w}-no-icon`]:!m,[`${w}-banner`]:!!o,[`${w}-rtl`]:z==="rtl"},$==null?void 0:$.className,s,a,q,J),C=Wt(_,{aria:!0,data:!0}),E=u.useMemo(()=>{var P,j;return typeof b=="object"&&b.closeIcon?b.closeIcon:v||(I!==void 0?I:typeof($==null?void 0:$.closable)=="object"&&(!((P=$==null?void 0:$.closable)===null||P===void 0)&&P.closeIcon)?(j=$==null?void 0:$.closable)===null||j===void 0?void 0:j.closeIcon:$==null?void 0:$.closeIcon)},[I,b,v,$==null?void 0:$.closeIcon]),R=u.useMemo(()=>{const P=b??($==null?void 0:$.closable);return typeof P=="object"?et(P,["closeIcon"]):{}},[b,$==null?void 0:$.closable]);return O(u.createElement(gt,{visible:!T,motionName:`${w}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:P=>({maxHeight:P.offsetHeight}),onLeaveEnd:g},(P,j)=>{let{className:G,style:K}=P;return u.createElement("div",Object.assign({id:N,ref:yt(H,j),"data-show":!T,className:ne(y,G),style:Object.assign(Object.assign(Object.assign({},$==null?void 0:$.style),l),K),onMouseEnter:c,onMouseLeave:f,onClick:d,role:"alert"},C),m?u.createElement(Zn,{description:n,icon:t.icon,prefixCls:w,type:p}):null,u.createElement("div",{className:`${w}-content`},i?u.createElement("div",{className:`${w}-message`},i):null,n?u.createElement("div",{className:`${w}-description`},n):null),D?u.createElement("div",{className:`${w}-action`},D):null,u.createElement(er,{isClosable:h,prefixCls:w,closeIcon:E,handleClose:S,ariaProps:R}))}))});function tr(t,e,n){return e=Qe(e),Gt(t,Kt()?Reflect.construct(e,n||[],Qe(t).constructor):e.apply(t,n))}let nr=function(t){function e(){var n;return Xt(this,e),n=tr(this,e,arguments),n.state={error:void 0,info:{componentStack:""}},n}return Ut(e,t),Yt(e,[{key:"componentDidCatch",value:function(r,i){this.setState({error:r,info:i})}},{key:"render",value:function(){const{message:r,description:i,id:o,children:s}=this.props,{error:a,info:l}=this.state,c=(l==null?void 0:l.componentStack)||null,f=typeof r>"u"?(a||"").toString():r,d=typeof i>"u"?c:i;return a?u.createElement(Ct,{id:o,type:"error",message:f,description:u.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},d)}):s}}])}(u.Component);const $t=Ct;$t.ErrorBoundary=nr;const tt=t=>typeof t=="object"&&t!=null&&t.nodeType===1,nt=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",Re=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return nt(n.overflowY,e)||nt(n.overflowX,e)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},_e=(t,e,n,r,i,o,s,a)=>o<t&&s>e||o>t&&s<e?0:o<=t&&a<=n||s>=e&&a>=n?o-t-r:s>e&&a<n||o<t&&a>n?s-e+i:0,rr=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},rt=(t,e)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:c,skipOverflowHiddenElements:f}=e,d=typeof c=="function"?c:h=>h!==c;if(!tt(t))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,F=[];let b=t;for(;tt(b)&&d(b);){if(b=rr(b),b===g){F.push(b);break}b!=null&&b===document.body&&Re(b)&&!Re(document.documentElement)||b!=null&&Re(b,f)&&F.push(b)}const v=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,I=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:D,scrollY:N}=window,{height:_,width:T,top:V,right:H,bottom:U,left:z}=t.getBoundingClientRect(),{top:$,right:w,bottom:O,left:J}=(h=>{const m=window.getComputedStyle(h);return{top:parseFloat(m.scrollMarginTop)||0,right:parseFloat(m.scrollMarginRight)||0,bottom:parseFloat(m.scrollMarginBottom)||0,left:parseFloat(m.scrollMarginLeft)||0}})(t);let q=a==="start"||a==="nearest"?V-$:a==="end"?U+O:V+_/2-$+O,S=l==="center"?z+T/2-J+w:l==="end"?H+w:z-J;const p=[];for(let h=0;h<F.length;h++){const m=F[h],{height:y,width:C,top:E,right:R,bottom:P,left:j}=m.getBoundingClientRect();if(s==="if-needed"&&V>=0&&z>=0&&U<=I&&H<=v&&V>=E&&U<=P&&z>=j&&H<=R)return p;const G=getComputedStyle(m),K=parseInt(G.borderLeftWidth,10),Q=parseInt(G.borderTopWidth,10),A=parseInt(G.borderRightWidth,10),k=parseInt(G.borderBottomWidth,10);let B=0,W=0;const Y="offsetWidth"in m?m.offsetWidth-m.clientWidth-K-A:0,Z="offsetHeight"in m?m.offsetHeight-m.clientHeight-Q-k:0,ee="offsetWidth"in m?m.offsetWidth===0?0:C/m.offsetWidth:0,ae="offsetHeight"in m?m.offsetHeight===0?0:y/m.offsetHeight:0;if(g===m)B=a==="start"?q:a==="end"?q-I:a==="nearest"?_e(N,N+I,I,Q,k,N+q,N+q+_,_):q-I/2,W=l==="start"?S:l==="center"?S-v/2:l==="end"?S-v:_e(D,D+v,v,K,A,D+S,D+S+T,T),B=Math.max(0,B+N),W=Math.max(0,W+D);else{B=a==="start"?q-E-Q:a==="end"?q-P+k+Z:a==="nearest"?_e(E,P,y,Q,k+Z,q,q+_,_):q-(E+y/2)+Z/2,W=l==="start"?S-j-K:l==="center"?S-(j+C/2)+Y/2:l==="end"?S-R+A+Y:_e(j,R,C,K,A+Y,S,S+T,T);const{scrollLeft:X,scrollTop:se}=m;B=ae===0?0:Math.max(0,Math.min(se+B/ae,m.scrollHeight-y/ae+Z)),W=ee===0?0:Math.max(0,Math.min(X+W/ee,m.scrollWidth-C/ee+Y)),q+=se-B,S+=X-W}p.push({el:m,top:B,left:W})}return p},ir=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function or(t,e){if(!t.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(rt(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:o,left:s}of rt(t,ir(e))){const a=o-n.top+n.bottom,l=s-n.left+n.right;i.scroll({top:a,left:l,behavior:r})}}var Et={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Jt,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",f="week",d="month",g="quarter",F="year",b="date",v="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,N={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var p=["th","st","nd","rd"],h=S%100;return"["+S+(p[(h-20)%10]||p[h]||p[0])+"]"}},_=function(S,p,h){var m=String(S);return!m||m.length>=p?S:""+Array(p+1-m.length).join(h)+S},T={s:_,z:function(S){var p=-S.utcOffset(),h=Math.abs(p),m=Math.floor(h/60),y=h%60;return(p<=0?"+":"-")+_(m,2,"0")+":"+_(y,2,"0")},m:function S(p,h){if(p.date()<h.date())return-S(h,p);var m=12*(h.year()-p.year())+(h.month()-p.month()),y=p.clone().add(m,d),C=h-y<0,E=p.clone().add(m+(C?-1:1),d);return+(-(m+(h-y)/(C?y-E:E-y))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:d,y:F,w:f,d:c,D:b,h:l,m:a,s,ms:o,Q:g}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},V="en",H={};H[V]=N;var U="$isDayjsObject",z=function(S){return S instanceof J||!(!S||!S[U])},$=function S(p,h,m){var y;if(!p)return V;if(typeof p=="string"){var C=p.toLowerCase();H[C]&&(y=C),h&&(H[C]=h,y=C);var E=p.split("-");if(!y&&E.length>1)return S(E[0])}else{var R=p.name;H[R]=p,y=R}return!m&&y&&(V=y),y||!m&&V},w=function(S,p){if(z(S))return S.clone();var h=typeof p=="object"?p:{};return h.date=S,h.args=arguments,new J(h)},O=T;O.l=$,O.i=z,O.w=function(S,p){return w(S,{locale:p.$L,utc:p.$u,x:p.$x,$offset:p.$offset})};var J=function(){function S(h){this.$L=$(h.locale,null,!0),this.parse(h),this.$x=this.$x||h.x||{},this[U]=!0}var p=S.prototype;return p.parse=function(h){this.$d=function(m){var y=m.date,C=m.utc;if(y===null)return new Date(NaN);if(O.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var E=y.match(I);if(E){var R=E[2]-1||0,P=(E[7]||"0").substring(0,3);return C?new Date(Date.UTC(E[1],R,E[3]||1,E[4]||0,E[5]||0,E[6]||0,P)):new Date(E[1],R,E[3]||1,E[4]||0,E[5]||0,E[6]||0,P)}}return new Date(y)}(h),this.init()},p.init=function(){var h=this.$d;this.$y=h.getFullYear(),this.$M=h.getMonth(),this.$D=h.getDate(),this.$W=h.getDay(),this.$H=h.getHours(),this.$m=h.getMinutes(),this.$s=h.getSeconds(),this.$ms=h.getMilliseconds()},p.$utils=function(){return O},p.isValid=function(){return this.$d.toString()!==v},p.isSame=function(h,m){var y=w(h);return this.startOf(m)<=y&&y<=this.endOf(m)},p.isAfter=function(h,m){return w(h)<this.startOf(m)},p.isBefore=function(h,m){return this.endOf(m)<w(h)},p.$g=function(h,m,y){return O.u(h)?this[m]:this.set(y,h)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(h,m){var y=this,C=!!O.u(m)||m,E=O.p(h),R=function(B,W){var Y=O.w(y.$u?Date.UTC(y.$y,W,B):new Date(y.$y,W,B),y);return C?Y:Y.endOf(c)},P=function(B,W){return O.w(y.toDate()[B].apply(y.toDate("s"),(C?[0,0,0,0]:[23,59,59,999]).slice(W)),y)},j=this.$W,G=this.$M,K=this.$D,Q="set"+(this.$u?"UTC":"");switch(E){case F:return C?R(1,0):R(31,11);case d:return C?R(1,G):R(0,G+1);case f:var A=this.$locale().weekStart||0,k=(j<A?j+7:j)-A;return R(C?K-k:K+(6-k),G);case c:case b:return P(Q+"Hours",0);case l:return P(Q+"Minutes",1);case a:return P(Q+"Seconds",2);case s:return P(Q+"Milliseconds",3);default:return this.clone()}},p.endOf=function(h){return this.startOf(h,!1)},p.$set=function(h,m){var y,C=O.p(h),E="set"+(this.$u?"UTC":""),R=(y={},y[c]=E+"Date",y[b]=E+"Date",y[d]=E+"Month",y[F]=E+"FullYear",y[l]=E+"Hours",y[a]=E+"Minutes",y[s]=E+"Seconds",y[o]=E+"Milliseconds",y)[C],P=C===c?this.$D+(m-this.$W):m;if(C===d||C===F){var j=this.clone().set(b,1);j.$d[R](P),j.init(),this.$d=j.set(b,Math.min(this.$D,j.daysInMonth())).$d}else R&&this.$d[R](P);return this.init(),this},p.set=function(h,m){return this.clone().$set(h,m)},p.get=function(h){return this[O.p(h)]()},p.add=function(h,m){var y,C=this;h=Number(h);var E=O.p(m),R=function(G){var K=w(C);return O.w(K.date(K.date()+Math.round(G*h)),C)};if(E===d)return this.set(d,this.$M+h);if(E===F)return this.set(F,this.$y+h);if(E===c)return R(1);if(E===f)return R(7);var P=(y={},y[a]=r,y[l]=i,y[s]=n,y)[E]||1,j=this.$d.getTime()+h*P;return O.w(j,this)},p.subtract=function(h,m){return this.add(-1*h,m)},p.format=function(h){var m=this,y=this.$locale();if(!this.isValid())return y.invalidDate||v;var C=h||"YYYY-MM-DDTHH:mm:ssZ",E=O.z(this),R=this.$H,P=this.$m,j=this.$M,G=y.weekdays,K=y.months,Q=y.meridiem,A=function(W,Y,Z,ee){return W&&(W[Y]||W(m,C))||Z[Y].slice(0,ee)},k=function(W){return O.s(R%12||12,W,"0")},B=Q||function(W,Y,Z){var ee=W<12?"AM":"PM";return Z?ee.toLowerCase():ee};return C.replace(D,function(W,Y){return Y||function(Z){switch(Z){case"YY":return String(m.$y).slice(-2);case"YYYY":return O.s(m.$y,4,"0");case"M":return j+1;case"MM":return O.s(j+1,2,"0");case"MMM":return A(y.monthsShort,j,K,3);case"MMMM":return A(K,j);case"D":return m.$D;case"DD":return O.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return A(y.weekdaysMin,m.$W,G,2);case"ddd":return A(y.weekdaysShort,m.$W,G,3);case"dddd":return G[m.$W];case"H":return String(R);case"HH":return O.s(R,2,"0");case"h":return k(1);case"hh":return k(2);case"a":return B(R,P,!0);case"A":return B(R,P,!1);case"m":return String(P);case"mm":return O.s(P,2,"0");case"s":return String(m.$s);case"ss":return O.s(m.$s,2,"0");case"SSS":return O.s(m.$ms,3,"0");case"Z":return E}return null}(W)||E.replace(":","")})},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(h,m,y){var C,E=this,R=O.p(m),P=w(h),j=(P.utcOffset()-this.utcOffset())*r,G=this-P,K=function(){return O.m(E,P)};switch(R){case F:C=K()/12;break;case d:C=K();break;case g:C=K()/3;break;case f:C=(G-j)/6048e5;break;case c:C=(G-j)/864e5;break;case l:C=G/i;break;case a:C=G/r;break;case s:C=G/n;break;default:C=G}return y?C:O.a(C)},p.daysInMonth=function(){return this.endOf(d).$D},p.$locale=function(){return H[this.$L]},p.locale=function(h,m){if(!h)return this.$L;var y=this.clone(),C=$(h,m,!0);return C&&(y.$L=C),y},p.clone=function(){return O.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},S}(),q=J.prototype;return w.prototype=q,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",d],["$y",F],["$D",b]].forEach(function(S){q[S[1]]=function(p){return this.$g(p,S[0],S[1])}}),w.extend=function(S,p){return S.$i||(S(p,J,w),S.$i=!0),w},w.locale=$,w.isDayjs=z,w.unix=function(S){return w(1e3*S)},w.en=H[V],w.Ls=H,w.p={},w})})(Et);var sr=Et.exports;const it=Qt(sr);function xe(t){const[e,n]=u.useState(t);return u.useEffect(()=>{const r=setTimeout(()=>{n(t)},t.length?0:10);return()=>{clearTimeout(r)}},[t]),e}const ar=t=>{const{componentCls:e}=t,n=`${e}-show-help`,r=`${e}-show-help-item`;return{[n]:{transition:`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${t.motionDurationSlow} ${t.motionEaseInOut},
                     opacity ${t.motionDurationSlow} ${t.motionEaseInOut},
                     transform ${t.motionDurationSlow} ${t.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},lr=t=>({legend:{display:"block",width:"100%",marginBottom:t.marginLG,padding:0,color:t.colorTextDescription,fontSize:t.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${te(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${te(t.controlOutlineWidth)} ${t.controlOutline}`},output:{display:"block",paddingTop:15,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight}}),ot=(t,e)=>{const{formItemCls:n}=t;return{[n]:{[`${n}-label > label`]:{height:e},[`${n}-control-input`]:{minHeight:e}}}},cr=t=>{const{componentCls:e}=t;return{[t.componentCls]:Object.assign(Object.assign(Object.assign({},Ve(t)),lr(t)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:t.paddingSM},"&-small":Object.assign({},ot(t,t.controlHeightSM)),"&-large":Object.assign({},ot(t,t.controlHeightLG))})}},ur=t=>{const{formItemCls:e,iconCls:n,componentCls:r,rootPrefixCls:i,antCls:o,labelRequiredMarkColor:s,labelColor:a,labelFontSize:l,labelHeight:c,labelColonMarginInlineStart:f,labelColonMarginInlineEnd:d,itemMarginBottom:g}=t;return{[e]:Object.assign(Object.assign({},Ve(t)),{marginBottom:g,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${o}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:t.colorError}},"&-has-error":{[`${e}-split`]:{color:t.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:t.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:c,color:a,fontSize:l,[`> ${n}`]:{fontSize:t.fontSize,verticalAlign:"top"},[`&${e}-required:not(${e}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:t.marginXXS,color:s,fontSize:t.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${r}-hide-required-mark &`]:{display:"none"}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:t.marginXXS,color:t.colorTextDescription,[`${r}-hide-required-mark &`]:{display:"none"}},[`${e}-tooltip`]:{color:t.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:t.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:f,marginInlineEnd:d},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${i}-col-'"]):not([class*="' ${i}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:t.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[e]:{"&-explain, &-extra":{clear:"both",color:t.colorTextDescription,fontSize:t.fontSize,lineHeight:t.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:t.controlHeightSM,transition:`color ${t.motionDurationMid} ${t.motionEaseOut}`},"&-explain":{"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:t.fontSize,textAlign:"center",visibility:"visible",animationName:Ft,animationDuration:t.motionDurationMid,animationTimingFunction:t.motionEaseOutBack,pointerEvents:"none","&-success":{color:t.colorSuccess},"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning},"&-validating":{color:t.colorPrimary}}})}},st=(t,e)=>{const{formItemCls:n}=t;return{[`${e}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},dr=t=>{const{componentCls:e,formItemCls:n,inlineItemMarginBottom:r}=t;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:t.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},ie=t=>({padding:t.verticalLabelPadding,margin:t.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),wt=t=>{const{componentCls:e,formItemCls:n,rootPrefixCls:r}=t;return{[`${n} ${n}-label`]:ie(t),[`${e}:not(${e}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},fr=t=>{const{componentCls:e,formItemCls:n,antCls:r}=t;return{[`${e}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:ie(t)}},[`@media (max-width: ${te(t.screenXSMax)})`]:[wt(t),{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:ie(t)}}}],[`@media (max-width: ${te(t.screenSMMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:ie(t)}}},[`@media (max-width: ${te(t.screenMDMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:ie(t)}}},[`@media (max-width: ${te(t.screenLGMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:ie(t)}}}}},mr=t=>{const{formItemCls:e,antCls:n}=t;return{[`${e}-vertical`]:{[`${e}-row`]:{flexDirection:"column"},[`${e}-label > label`]:{height:"auto"},[`${e}-control`]:{width:"100%"}},[`${e}-vertical ${e}-label,
      ${n}-col-24${e}-label,
      ${n}-col-xl-24${e}-label`]:ie(t),[`@media (max-width: ${te(t.screenXSMax)})`]:[wt(t),{[e]:{[`${n}-col-xs-24${e}-label`]:ie(t)}}],[`@media (max-width: ${te(t.screenSMMax)})`]:{[e]:{[`${n}-col-sm-24${e}-label`]:ie(t)}},[`@media (max-width: ${te(t.screenMDMax)})`]:{[e]:{[`${n}-col-md-24${e}-label`]:ie(t)}},[`@media (max-width: ${te(t.screenLGMax)})`]:{[e]:{[`${n}-col-lg-24${e}-label`]:ie(t)}}}},hr=t=>({labelRequiredMarkColor:t.colorError,labelColor:t.colorTextHeading,labelFontSize:t.fontSize,labelHeight:t.controlHeight,labelColonMarginInlineStart:t.marginXXS/2,labelColonMarginInlineEnd:t.marginXS,itemMarginBottom:t.marginLG,verticalLabelPadding:`0 0 ${t.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),xt=(t,e)=>en(t,{formItemCls:`${t.componentCls}-item`,rootPrefixCls:e}),ke=pt("Form",(t,e)=>{let{rootPrefixCls:n}=e;const r=xt(t,n);return[cr(r),ur(r),ar(r),st(r,r.componentCls),st(r,r.formItemCls),dr(r),fr(r),mr(r),Zt(r),Ft]},hr,{order:-1e3}),at=[];function Ne(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof t=="string"?t:`${e}-${r}`,error:t,errorStatus:n}}const Mt=t=>{let{help:e,helpStatus:n,errors:r=at,warnings:i=at,className:o,fieldId:s,onVisibleChanged:a}=t;const{prefixCls:l}=u.useContext(Be),c=`${l}-item-explain`,f=We(l),[d,g,F]=ke(l,f),b=u.useMemo(()=>Je(l),[l]),v=xe(r),I=xe(i),D=u.useMemo(()=>e!=null?[Ne(e,"help",n)]:[].concat(re(v.map((_,T)=>Ne(_,"error","error",T))),re(I.map((_,T)=>Ne(_,"warning","warning",T)))),[e,n,v,I]),N={};return s&&(N.id=`${s}_help`),d(u.createElement(gt,{motionDeadline:b.motionDeadline,motionName:`${l}-show-help`,visible:!!D.length,onVisibleChanged:a},_=>{const{className:T,style:V}=_;return u.createElement("div",Object.assign({},N,{className:ne(c,T,F,f,o,g),style:V,role:"alert"}),u.createElement(tn,Object.assign({keys:D},Je(l),{motionName:`${l}-show-help-item`,component:!1}),H=>{const{key:U,error:z,errorStatus:$,className:w,style:O}=H;return u.createElement("div",{key:U,className:ne(w,{[`${c}-${$}`]:$}),style:O},z)}))}))},pr=["parentNode"],gr="form_item";function pe(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function Ot(t,e){if(!t.length)return;const n=t.join("_");return e?`${e}_${n}`:pr.includes(n)?`${gr}_${n}`:n}function Pt(t,e,n,r,i,o){let s=r;return o!==void 0?s=o:n.validating?s="validating":t.length?s="error":e.length?s="warning":(n.touched||i&&n.validated)&&(s="success"),s}function lt(t){return pe(t).join("_")}function yr(t,e){const n=e.getFieldInstance(t),r=rn(n);if(r)return r;const i=Ot(pe(t),e.__INTERNAL__.name);if(i)return document.getElementById(i)}function At(t){const[e]=nn(),n=u.useRef({}),r=u.useMemo(()=>t??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:i=>o=>{const s=lt(i);o?n.current[s]=o:delete n.current[s]}},scrollToField:function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=yr(i,r);s&&or(s,Object.assign({scrollMode:"if-needed",block:"nearest"},o))},getFieldInstance:i=>{const o=lt(i);return n.current[o]}}),[t,e]);return[r]}var br=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const vr=(t,e)=>{const n=u.useContext(on),{getPrefixCls:r,direction:i,form:o}=u.useContext(Me),{prefixCls:s,className:a,rootClassName:l,size:c,disabled:f=n,form:d,colon:g,labelAlign:F,labelWrap:b,labelCol:v,wrapperCol:I,hideRequiredMark:D,layout:N="horizontal",scrollToFirstError:_,requiredMark:T,onFinishFailed:V,name:H,style:U,feedbackIcons:z,variant:$}=t,w=br(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),O=sn(c),J=u.useContext(an),q=u.useMemo(()=>T!==void 0?T:D?!1:o&&o.requiredMark!==void 0?o.requiredMark:!0,[D,T,o]),S=g??(o==null?void 0:o.colon),p=r("form",s),h=We(p),[m,y,C]=ke(p,h),E=ne(p,`${p}-${N}`,{[`${p}-hide-required-mark`]:q===!1,[`${p}-rtl`]:i==="rtl",[`${p}-${O}`]:O},C,h,y,o==null?void 0:o.className,a,l),[R]=At(d),{__INTERNAL__:P}=R;P.name=H;const j=u.useMemo(()=>({name:H,labelAlign:F,labelCol:v,labelWrap:b,wrapperCol:I,vertical:N==="vertical",colon:S,requiredMark:q,itemRef:P.itemRef,form:R,feedbackIcons:z}),[H,F,v,I,N,S,q,R,z]),G=u.useRef(null);u.useImperativeHandle(e,()=>{var A;return Object.assign(Object.assign({},R),{nativeElement:(A=G.current)===null||A===void 0?void 0:A.nativeElement})});const K=(A,k)=>{if(A){let B={block:"nearest"};typeof A=="object"&&(B=A),R.scrollToField(k,B)}},Q=A=>{if(V==null||V(A),A.errorFields.length){const k=A.errorFields[0].name;if(_!==void 0){K(_,k);return}o&&o.scrollToFirstError!==void 0&&K(o.scrollToFirstError,k)}};return m(u.createElement(ln.Provider,{value:$},u.createElement(cn,{disabled:f},u.createElement(un.Provider,{value:O},u.createElement(St,{validateMessages:J},u.createElement(ce.Provider,{value:j},u.createElement(dn,Object.assign({id:H},w,{name:H,onFinishFailed:Q,form:R,ref:G,style:Object.assign(Object.assign({},o==null?void 0:o.style),U),className:E}))))))))},Fr=u.forwardRef(vr);function Sr(t){if(typeof t=="function")return t;const e=fn(t);return e.length<=1?e[0]:e}const It=()=>{const{status:t,errors:e=[],warnings:n=[]}=u.useContext(Ee);return{status:t,errors:e,warnings:n}};It.Context=Ee;function _r(t){const[e,n]=u.useState(t),r=u.useRef(null),i=u.useRef([]),o=u.useRef(!1);u.useEffect(()=>(o.current=!1,()=>{o.current=!0,Ze.cancel(r.current),r.current=null}),[]);function s(a){o.current||(r.current===null&&(i.current=[],r.current=Ze(()=>{r.current=null,n(l=>{let c=l;return i.current.forEach(f=>{c=f(c)}),c})})),i.current.push(a))}return[e,s]}function Cr(){const{itemRef:t}=u.useContext(ce),e=u.useRef({});function n(r,i){const o=i&&typeof i=="object"&&i.ref,s=r.join("_");return(e.current.name!==s||e.current.originRef!==o)&&(e.current.name=s,e.current.originRef=o,e.current.ref=yt(t(r),o)),e.current.ref}return n}const $r=t=>{const{formItemCls:e}=t;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},Er=mn(["Form","item-item"],(t,e)=>{let{rootPrefixCls:n}=e;const r=xt(t,n);return[$r(r)]}),wr=t=>{const{prefixCls:e,status:n,wrapperCol:r,children:i,errors:o,warnings:s,_internalItemRender:a,extra:l,help:c,fieldId:f,marginBottom:d,onErrorVisibleChanged:g}=t,F=`${e}-item`,b=u.useContext(ce),v=r||b.wrapperCol||{},I=ne(`${F}-control`,v.className),D=u.useMemo(()=>Object.assign({},b),[b]);delete D.labelCol,delete D.wrapperCol;const N=u.createElement("div",{className:`${F}-control-input`},u.createElement("div",{className:`${F}-control-input-content`},i)),_=u.useMemo(()=>({prefixCls:e,status:n}),[e,n]),T=d!==null||o.length||s.length?u.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},u.createElement(Be.Provider,{value:_},u.createElement(Mt,{fieldId:f,errors:o,warnings:s,help:c,helpStatus:n,className:`${F}-explain-connected`,onVisibleChanged:g})),!!d&&u.createElement("div",{style:{width:0,height:d}})):null,V={};f&&(V.id=`${f}_extra`);const H=l?u.createElement("div",Object.assign({},V,{className:`${F}-extra`}),l):null,U=a&&a.mark==="pro_table_render"&&a.render?a.render(t,{input:N,errorList:T,extra:H}):u.createElement(u.Fragment,null,N,T,H);return u.createElement(ce.Provider,{value:D},u.createElement(we,Object.assign({},v,{className:I}),U),u.createElement(Er,{prefixCls:e}))};var xr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Mr(t){return t?typeof t=="object"&&!u.isValidElement(t)?t:{title:t}:null}const Or=t=>{let{prefixCls:e,label:n,htmlFor:r,labelCol:i,labelAlign:o,colon:s,required:a,requiredMark:l,tooltip:c,vertical:f}=t;var d;const[g]=hn("Form"),{labelAlign:F,labelCol:b,labelWrap:v,colon:I}=u.useContext(ce);if(!n)return null;const D=i||b||{},N=o||F,_=`${e}-item-label`,T=ne(_,N==="left"&&`${_}-left`,D.className,{[`${_}-wrap`]:!!v});let V=n;const H=s===!0||I!==!1&&s!==!1;H&&!f&&typeof n=="string"&&n.trim()&&(V=n.replace(/[:|：]\s*$/,""));const z=Mr(c);if(z){const{icon:J=u.createElement(zn,null)}=z,q=xr(z,["icon"]),S=u.createElement(pn,Object.assign({},q),u.cloneElement(J,{className:`${e}-item-tooltip`,title:"",onClick:p=>{p.preventDefault()},tabIndex:null}));V=u.createElement(u.Fragment,null,V,S)}const $=l==="optional",w=typeof l=="function";w?V=l(V,{required:!!a}):$&&!a&&(V=u.createElement(u.Fragment,null,V,u.createElement("span",{className:`${e}-item-optional`,title:""},(g==null?void 0:g.optional)||((d=gn.Form)===null||d===void 0?void 0:d.optional))));const O=ne({[`${e}-item-required`]:a,[`${e}-item-required-mark-optional`]:$||w,[`${e}-item-no-colon`]:!H});return u.createElement(we,Object.assign({},D,{className:T}),u.createElement("label",{htmlFor:r,className:O,title:typeof n=="string"?n:""},V))},Pr={success:bt,warning:vt,error:He,validating:yn};function Rt(t){let{children:e,errors:n,warnings:r,hasFeedback:i,validateStatus:o,prefixCls:s,meta:a,noStyle:l}=t;const c=`${s}-item`,{feedbackIcons:f}=u.useContext(ce),d=Pt(n,r,a,null,!!i,o),{isFormItemInput:g,status:F,hasFeedback:b,feedbackIcon:v}=u.useContext(Ee),I=u.useMemo(()=>{var D;let N;if(i){const T=i!==!0&&i.icons||f,V=d&&((D=T==null?void 0:T({status:d,errors:n,warnings:r}))===null||D===void 0?void 0:D[d]),H=d&&Pr[d];N=V!==!1&&H?u.createElement("span",{className:ne(`${c}-feedback-icon`,`${c}-feedback-icon-${d}`)},V||u.createElement(H,null)):null}const _={status:d||"",errors:n,warnings:r,hasFeedback:!!i,feedbackIcon:N,isFormItemInput:!0};return l&&(_.status=(d??F)||"",_.isFormItemInput=g,_.hasFeedback=!!(i??b),_.feedbackIcon=i!==void 0?_.feedbackIcon:v),_},[d,i,l,g,F]);return u.createElement(Ee.Provider,{value:I},e)}var Ar=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ir(t){const{prefixCls:e,className:n,rootClassName:r,style:i,help:o,errors:s,warnings:a,validateStatus:l,meta:c,hasFeedback:f,hidden:d,children:g,fieldId:F,required:b,isRequired:v,onSubItemMetaChange:I,layout:D}=t,N=Ar(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),_=`${e}-item`,{requiredMark:T,vertical:V}=u.useContext(ce),H=V||D==="vertical",U=u.useRef(null),z=xe(s),$=xe(a),w=o!=null,O=!!(w||s.length||a.length),J=!!U.current&&bn(U.current),[q,S]=u.useState(null);vn(()=>{if(O&&U.current){const C=getComputedStyle(U.current);S(parseInt(C.marginBottom,10))}},[O,J]);const p=C=>{C||S(null)},m=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const E=C?z:c.errors,R=C?$:c.warnings;return Pt(E,R,c,"",!!f,l)}(),y=ne(_,n,r,{[`${_}-with-help`]:w||z.length||$.length,[`${_}-has-feedback`]:m&&f,[`${_}-has-success`]:m==="success",[`${_}-has-warning`]:m==="warning",[`${_}-has-error`]:m==="error",[`${_}-is-validating`]:m==="validating",[`${_}-hidden`]:d,[`${_}-${D}`]:D});return u.createElement("div",{className:y,style:i,ref:U},u.createElement(Le,Object.assign({className:`${_}-row`},Fn(N,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),u.createElement(Or,Object.assign({htmlFor:F},t,{requiredMark:T,required:b??v,prefixCls:e,vertical:H})),u.createElement(wr,Object.assign({},t,c,{errors:z,warnings:$,prefixCls:e,status:m,help:o,marginBottom:q,onErrorVisibleChanged:p}),u.createElement(_t.Provider,{value:I},u.createElement(Rt,{prefixCls:e,meta:c,errors:c.errors,warnings:c.warnings,hasFeedback:f,validateStatus:m},g)))),!!q&&u.createElement("div",{className:`${_}-margin-offset`,style:{marginBottom:-q}}))}const Rr="__SPLIT__";function Nr(t,e){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>{const o=t[i],s=e[i];return o===s||typeof o=="function"||typeof s=="function"})}const Dr=u.memo(t=>{let{children:e}=t;return e},(t,e)=>Nr(t.control,e.control)&&t.update===e.update&&t.childProps.length===e.childProps.length&&t.childProps.every((n,r)=>n===e.childProps[r]));function ct(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function jr(t){const{name:e,noStyle:n,className:r,dependencies:i,prefixCls:o,shouldUpdate:s,rules:a,children:l,required:c,label:f,messageVariables:d,trigger:g="onChange",validateTrigger:F,hidden:b,help:v,layout:I}=t,{getPrefixCls:D}=u.useContext(Me),{name:N}=u.useContext(ce),_=Sr(l),T=typeof _=="function",V=u.useContext(_t),{validateTrigger:H}=u.useContext(Sn),U=F!==void 0?F:H,z=e!=null,$=D("form",o),w=We($),[O,J,q]=ke($,w);xn();const S=u.useContext(_n),p=u.useRef(),[h,m]=_r({}),[y,C]=Cn(()=>ct()),E=A=>{const k=S==null?void 0:S.getKey(A.name);if(C(A.destroy?ct():A,!0),n&&v!==!1&&V){let B=A.name;if(A.destroy)B=p.current||B;else if(k!==void 0){const[W,Y]=k;B=[W].concat(re(Y)),p.current=B}V(A,B)}},R=(A,k)=>{m(B=>{const W=Object.assign({},B),Z=[].concat(re(A.name.slice(0,-1)),re(k)).join(Rr);return A.destroy?delete W[Z]:W[Z]=A,W})},[P,j]=u.useMemo(()=>{const A=re(y.errors),k=re(y.warnings);return Object.values(h).forEach(B=>{A.push.apply(A,re(B.errors||[])),k.push.apply(k,re(B.warnings||[]))}),[A,k]},[h,y.errors,y.warnings]),G=Cr();function K(A,k,B){return n&&!b?u.createElement(Rt,{prefixCls:$,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:y,errors:P,warnings:j,noStyle:!0},A):u.createElement(Ir,Object.assign({key:"row"},t,{className:ne(r,q,w,J),prefixCls:$,fieldId:k,isRequired:B,errors:P,warnings:j,meta:y,onSubItemMetaChange:R,layout:I}),A)}if(!z&&!T&&!i)return O(K(_));let Q={};return typeof f=="string"?Q.label=f:e&&(Q.label=String(e)),d&&(Q=Object.assign(Object.assign({},Q),d)),O(u.createElement($n,Object.assign({},t,{messageVariables:Q,trigger:g,validateTrigger:U,onMetaChange:E}),(A,k,B)=>{const W=pe(e).length&&k?k.name:[],Y=Ot(W,N),Z=c!==void 0?c:!!(a!=null&&a.some(X=>{if(X&&typeof X=="object"&&X.required&&!X.warningOnly)return!0;if(typeof X=="function"){const se=X(B);return(se==null?void 0:se.required)&&!(se!=null&&se.warningOnly)}return!1})),ee=Object.assign({},A);let ae=null;if(Array.isArray(_)&&z)ae=_;else if(!(T&&(!(s||i)||z))){if(!(i&&!T&&!z))if(u.isValidElement(_)){const X=Object.assign(Object.assign({},_.props),ee);if(X.id||(X.id=Y),v||P.length>0||j.length>0||t.extra){const ue=[];(v||P.length>0)&&ue.push(`${Y}_help`),t.extra&&ue.push(`${Y}_extra`),X["aria-describedby"]=ue.join(" ")}P.length>0&&(X["aria-invalid"]="true"),Z&&(X["aria-required"]="true"),En(_)&&(X.ref=G(W,_)),new Set([].concat(re(pe(g)),re(pe(U)))).forEach(ue=>{X[ue]=function(){for(var Ke,Ue,Pe,Ye,Ae,Xe=arguments.length,Ie=new Array(Xe),Fe=0;Fe<Xe;Fe++)Ie[Fe]=arguments[Fe];(Pe=ee[ue])===null||Pe===void 0||(Ke=Pe).call.apply(Ke,[ee].concat(Ie)),(Ae=(Ye=_.props)[ue])===null||Ae===void 0||(Ue=Ae).call.apply(Ue,[Ye].concat(Ie))}});const Vt=[X["aria-required"],X["aria-invalid"],X["aria-describedby"]];ae=u.createElement(Dr,{control:ee,update:_,childProps:Vt},wn(_,X))}else T&&(s||i)&&!z?ae=_(B):ae=_}return K(ae,Y,Z)}))}const Nt=jr;Nt.useStatus=It;var Tr=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Lr=t=>{var{prefixCls:e,children:n}=t,r=Tr(t,["prefixCls","children"]);const{getPrefixCls:i}=u.useContext(Me),o=i("form",e),s=u.useMemo(()=>({prefixCls:o,status:"error"}),[o]);return u.createElement(Mn,Object.assign({},r),(a,l,c)=>u.createElement(Be.Provider,{value:s},n(a.map(f=>Object.assign(Object.assign({},f),{fieldKey:f.key})),l,{errors:c.errors,warnings:c.warnings})))};function Vr(){const{form:t}=u.useContext(ce);return t}const oe=Fr;oe.Item=Nt;oe.List=Lr;oe.ErrorList=Mt;oe.useForm=At;oe.useFormInstance=Vr;oe.useWatch=On;oe.Provider=St;oe.create=()=>{};const Hr=()=>!1,Br=t=>!!t&&(t instanceof Promise||t.constructor===Promise||Object.prototype.toString.call(t)==="[object Promise]"||typeof t.then=="function");/**
 * @BaseValidator
 * @version 0.0.28.14
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class Wr{validate(e,n,r,i){const o={};if(!e||!r)return o;for(const s in r){if(i!=null&&i[s])continue;const a=e[s]?e[s]:null,l=this.validateValue(a,n,r[s]);l&&(o[s]=l)}return o}validateValue(e,n,r){if(!r)return"";for(const i of r)if(i.type==="string"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateString(e,i))return i.message}else if(i.type==="file"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateFile(e,i))return i.message}else if(i.type==="number"){if(e&&typeof e=="object")return"Неподходящий тип данных";if(!this.validateNumber(e,i))return i.message}else if(i.type==="date"){if(!this.validateDate(e,i))return i.message}else if(i.type==="object"){if(e&&typeof e!="object")return"Неподходящий тип данных";if(!this.validateRowObject(e,i))return i.message}else if(i.type==="custom"&&typeof i.callback=="function")return i.callback(e,n);return""}validateString(e,n){const r=typeof n.parameter=="function"?n.parameter(e):n.parameter;if(e=e||"",e){if(n.rule==="not-empty")return e.length>0;if(n.rule==="max-length")return e.length<=r;if(n.rule==="min-length")return e.length>=r;if(n.rule==="=")return e.length===r;if(n.rule==="!=")return e.length!==r;if(n.rule==="is-uuid"||n.rule==="is-uuid-or-empty")return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e);if(n.rule==="is-email"||n.rule==="is-email-or-empty")return/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(e)}else{if(n.rule==="not-empty")return!1;if(n.rule==="max-length")return!0;if(n.rule==="min-length"||n.rule==="=")return!r;if(n.rule==="!=")return!!r;if(n.rule==="is-uuid")return!1;if(n.rule==="is-uuid-or-empty")return!0;if(n.rule==="is-email")return!1;if(n.rule==="is-email-or-empty")return!0}return!1}validateFile(e,n){const r=typeof n.parameter=="function"?n.parameter(e):n.parameter;if(e){if(n.rule==="not-empty")return e.length>0;if(n.rule==="extension"){const i=e.substring(e.lastIndexOf("."));return r.indexOf(i)>=0}}else if(n.rule==="not-empty"||n.rule==="extension")return!1;return!1}validateNumber(e,n){if(!e&&(e="",n.rule!=="not-empty"))return!0;if(n.rule==="not-empty")return this.isNumeric(e);if(n.rule==="number-or-empty")return!e||this.isNumeric(e);const r=typeof n.parameter=="function"?n.parameter(e):n.parameter,i=+e,o=+r;return isNaN(i)||isNaN(o)?!1:n.rule==="="?!e&&!r||i===o:n.rule==="!="?i!==o:n.rule===">"?i>o:n.rule===">="?i>=o:n.rule==="<"?i<o:n.rule==="<="?i<=o:!1}validateDate(e,n){if(!e&&(e="",n.rule!=="not-empty"))return!0;const r=it(e,"DD.MM.YYYY"),i=typeof n.parameter=="function"?n.parameter(e):n.parameter,o=it(i,"DD.MM.YYYY");return n.rule==="date-or-empty"?!e||r.isValid()&&e.length<=10:n.rule==="not-empty"?r.isValid()&&e.length<=10:!r.isValid()||!o.isValid()||e.length>10?!1:n.rule==="="?r===o:n.rule==="!="?r!==o:n.rule===">"?r>o:n.rule===">="?r>=o:n.rule==="<"?r<o:n.rule==="<="?r<=o:!1}validateRowObject(e,n){var i;if(n.rule==="null")return e===null||typeof e>"u";if(!e)return!1;const r=typeof n.parameter=="function"?n.parameter(e):n.parameter;if(n.rule==="not-empty")return e instanceof Array?e.length>0?!!((i=e[0])!=null&&i.id):!1:!!(e!=null&&e.id);if(n.rule==="=")if(e instanceof Array){if(e.length>0)return e[0].id===r}else return e.id===r;if(n.rule==="!=")if(e instanceof Array){if(e.length>0)return e[0].id!==r}else return e.id!==r;return n.rule==="contains"?e instanceof Array?e.filter(function(o){return o.id===r}):e.id===r:n.rule==="not-contains"?e instanceof Array?!e.filter(function(o){return o.id===r}):e.id!==r:!1}isNumeric(e){const n=parseFloat(e);return!isNaN(n)&&isFinite(n)}}const zr=t=>Array.isArray(t);class M{constructor(){L(this,"_preventOriginal",!1)}preventOriginal(){this._preventOriginal=!0}isPrevented(){return this._preventOriginal}}var kr=function(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");return typeof n.componentWillReceiveProps!="function"||!le.Profiler||(n.UNSAFE_componentWillReceiveProps=n.componentWillReceiveProps,delete n.componentWillReceiveProps),e};function ge(t){var e=[];return le.Children.forEach(t,function(n){e.push(n)}),e}function de(t,e){var n=null;return t&&t.forEach(function(r){n||r&&r.key===e&&(n=r)}),n}function De(t,e,n){var r=null;return t&&t.forEach(function(i){if(i&&i.key===e&&i.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=i}}),r}function qr(t,e,n){var r=t.length===e.length;return r&&t.forEach(function(i,o){var s=e[o];i&&s&&(i&&!s||!i&&s||i.key!==s.key||n&&i.props[n]!==s.props[n])&&(r=!1)}),r}function Gr(t,e){var n=[],r={},i=[];return t.forEach(function(o){o&&de(e,o.key)?i.length&&(r[o.key]=i,i=[]):i.push(o)}),e.forEach(function(o){o&&Object.prototype.hasOwnProperty.call(r,o.key)&&(n=n.concat(r[o.key])),n.push(o)}),n=n.concat(i),n}var je={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},Te={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},fe=[],me=[];function Kr(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||(delete je.animationstart.animation,delete Te.animationend.animation),"TransitionEvent"in window||(delete je.transitionstart.transition,delete Te.transitionend.transition);function n(r,i){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];for(var a in s)if(a in e){i.push(s[a]);break}}}n(je,fe),n(Te,me)}typeof window<"u"&&typeof document<"u"&&Kr();function ut(t,e,n){t.addEventListener(e,n,!1)}function dt(t,e,n){t.removeEventListener(e,n,!1)}var ve={startEvents:fe,addStartEventListener:function(e,n){if(fe.length===0){window.setTimeout(n,0);return}fe.forEach(function(r){ut(e,r,n)})},removeStartEventListener:function(e,n){fe.length!==0&&fe.forEach(function(r){dt(e,r,n)})},endEvents:me,addEndEventListener:function(e,n){if(me.length===0){window.setTimeout(n,0);return}me.forEach(function(r){ut(e,r,n)})},removeEndEventListener:function(e,n){me.length!==0&&me.forEach(function(r){dt(e,r,n)})}},Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe=ve.endEvents.length!==0,Yr=["Webkit","Moz","O","ms"],ft=["-webkit-","-moz-","-o-","ms-",""];function Ce(t,e){for(var n=window.getComputedStyle(t,null),r="",i=0;i<ft.length&&(r=n.getPropertyValue(ft[i]+e),!r);i++);return r}function Dt(t){if(qe){var e=parseFloat(Ce(t,"transition-delay"))||0,n=parseFloat(Ce(t,"transition-duration"))||0,r=parseFloat(Ce(t,"animation-delay"))||0,i=parseFloat(Ce(t,"animation-duration"))||0,o=Math.max(n+e,i+r);t.rcEndAnimTimeout=setTimeout(function(){t.rcEndAnimTimeout=null,t.rcEndListener&&t.rcEndListener()},o*1e3+200)}}function jt(t){t.rcEndAnimTimeout&&(clearTimeout(t.rcEndAnimTimeout),t.rcEndAnimTimeout=null)}var Oe=function(e,n,r){var i=(typeof n>"u"?"undefined":Ur(n))==="object",o=i?n.name:n,s=i?n.active:n+"-active",a=r,l=void 0,c=void 0;return r&&Object.prototype.toString.call(r)==="[object Object]"&&(a=r.end,l=r.start,c=r.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(f){f&&f.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),jt(e),e.classList.remove(o),e.classList.remove(s),ve.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,a&&a())},ve.addEndEventListener(e,e.rcEndListener),l&&l(),e.classList.add(o),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,e.classList.add(s),c&&c(),Dt(e)},0),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};Oe.style=function(t,e,n){t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(r){r&&r.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),jt(t),ve.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,n&&n())},ve.addEndEventListener(t,t.rcEndListener),t.rcAnimTimeout=setTimeout(function(){for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r]);t.rcAnimTimeout=null,Dt(t)},0)};Oe.setTransition=function(t,e,n){var r=e,i=n;n===void 0&&(i=r,r=""),r=r||"",Yr.forEach(function(o){t.style[o+"Transition"+r]=i})};Oe.isCssAnimationSupported=qe;var he={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},Xr=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ei={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},ti=function(t){Zr(e,t);function e(){return Qr(this,e),Jr(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Xr(e,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(r){he.isEnterSupported(this.props)?this.transition("enter",r):r()}},{key:"componentWillAppear",value:function(r){he.isAppearSupported(this.props)?this.transition("appear",r):r()}},{key:"componentWillLeave",value:function(r){he.isLeaveSupported(this.props)?this.transition("leave",r):r()}},{key:"transition",value:function(r,i){var o=this,s=Pn.findDOMNode(this),a=this.props,l=a.transitionName,c=typeof l=="object";this.stop();var f=function(){o.stopper=null,i()};if((qe||!a.animation[r])&&l&&a[ei[r]]){var d=c?l[r]:l+"-"+r,g=d+"-active";c&&l[r+"Active"]&&(g=l[r+"Active"]),this.stopper=Oe(s,{name:d,active:g},f)}else this.stopper=a.animation[r](s,f)}},{key:"stop",value:function(){var r=this.stopper;r&&(this.stopper=null,r.stop())}},{key:"render",value:function(){return this.props.children}}]),e}(le.Component),ni=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ri=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function ii(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function si(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ai(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var li="rc_animate_"+Date.now();function ye(t){var e=t.children;return le.isValidElement(e)&&!e.key?le.cloneElement(e,{key:li}):e}function $e(){}var Ge=function(t){ai(e,t);function e(n){oi(this,e);var r=si(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return ci.call(r),r.currentlyAnimatingKeys={},r.keysToEnter=[],r.keysToLeave=[],r.state={children:ge(ye(n))},r.childrenRefs={},r}return ri(e,[{key:"componentDidMount",value:function(){var r=this,i=this.props.showProp,o=this.state.children;i&&(o=o.filter(function(s){return!!s.props[i]})),o.forEach(function(s){s&&r.performAppear(s.key)})}},{key:"componentWillReceiveProps",value:function(r){var i=this;this.nextProps=r;var o=ge(ye(r)),s=this.props;s.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(d){i.stop(d)});var a=s.showProp,l=this.currentlyAnimatingKeys,c=s.exclusive?ge(ye(s)):this.state.children,f=[];a?(c.forEach(function(d){var g=d&&de(o,d.key),F=void 0;(!g||!g.props[a])&&d.props[a]?F=le.cloneElement(g||d,ii({},a,!0)):F=g,F&&f.push(F)}),o.forEach(function(d){(!d||!de(c,d.key))&&f.push(d)})):f=Gr(c,o),this.setState({children:f}),o.forEach(function(d){var g=d&&d.key;if(!(d&&l[g])){var F=d&&de(c,g);if(a){var b=d.props[a];if(F){var v=De(c,g,a);!v&&b&&i.keysToEnter.push(g)}else b&&i.keysToEnter.push(g)}else F||i.keysToEnter.push(g)}}),c.forEach(function(d){var g=d&&d.key;if(!(d&&l[g])){var F=d&&de(o,g);if(a){var b=d.props[a];if(F){var v=De(o,g,a);!v&&b&&i.keysToLeave.push(g)}else b&&i.keysToLeave.push(g)}else F||i.keysToLeave.push(g)}})}},{key:"componentDidUpdate",value:function(){var r=this.keysToEnter;this.keysToEnter=[],r.forEach(this.performEnter);var i=this.keysToLeave;this.keysToLeave=[],i.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(r,i){var o=this.props.showProp;return o?De(r,i,o):de(r,i)}},{key:"stop",value:function(r){delete this.currentlyAnimatingKeys[r];var i=this.childrenRefs[r];i&&i.stop()}},{key:"render",value:function(){var r=this,i=this.props;this.nextProps=i;var o=this.state.children,s=null;o&&(s=o.map(function(c){if(c==null)return c;if(!c.key)throw new Error("must set key for <rc-animate> children");return le.createElement(ti,{key:c.key,ref:function(d){r.childrenRefs[c.key]=d},animation:i.animation,transitionName:i.transitionName,transitionEnter:i.transitionEnter,transitionAppear:i.transitionAppear,transitionLeave:i.transitionLeave},c)}));var a=i.component;if(a){var l=i;return typeof a=="string"&&(l=ni({className:i.className,style:i.style},i.componentProps)),le.createElement(a,l,s)}return s[0]||null}}]),e}(le.Component);Ge.isAnimate=!0;Ge.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:$e,onEnter:$e,onLeave:$e,onAppear:$e};var ci=function(){var e=this;this.performEnter=function(n){e.childrenRefs[n]&&(e.currentlyAnimatingKeys[n]=!0,e.childrenRefs[n].componentWillEnter(e.handleDoneAdding.bind(e,n,"enter")))},this.performAppear=function(n){e.childrenRefs[n]&&(e.currentlyAnimatingKeys[n]=!0,e.childrenRefs[n].componentWillAppear(e.handleDoneAdding.bind(e,n,"appear")))},this.handleDoneAdding=function(n,r){var i=e.props;if(delete e.currentlyAnimatingKeys[n],!(i.exclusive&&i!==e.nextProps)){var o=ge(ye(i));e.isValidChildByKey(o,n)?r==="appear"?he.allowAppearCallback(i)&&(i.onAppear(n),i.onEnd(n,!0)):he.allowEnterCallback(i)&&(i.onEnter(n),i.onEnd(n,!0)):e.performLeave(n)}},this.performLeave=function(n){e.childrenRefs[n]&&(e.currentlyAnimatingKeys[n]=!0,e.childrenRefs[n].componentWillLeave(e.handleDoneLeaving.bind(e,n)))},this.handleDoneLeaving=function(n){var r=e.props;if(delete e.currentlyAnimatingKeys[n],!(r.exclusive&&r!==e.nextProps)){var i=ge(ye(r));if(e.isValidChildByKey(i,n))e.performEnter(n);else{var o=function(){he.allowLeaveCallback(r)&&(r.onLeave(n),r.onEnd(n,!1))};qr(e.state.children,i,r.showProp)?o():e.setState({children:i},o)}}}};const Tt=kr(Ge),ui=({field:t,altLabel:e,children:n})=>{const r=t.getProps(),i=t.getFormProps();u.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t));const o=t.getError(),s=t.isHidden(),a={height:"100%",...r.rowStyle};let l;i.layout==="horizontal"&&(l=" ");const c=typeof e<"u"?e:r.label??l;return x.jsx(Tt,{component:"",transitionName:"zoom",children:s?null:x.jsx(oe.Item,{label:c,help:o||void 0,validateStatus:o?"error":void 0,required:!!r.requiredMark,tooltip:r.tooltip,style:a,children:n})})};class di{constructor(e,n,r,i){L(this,"fieldProps");L(this,"fieldName");L(this,"model");L(this,"parent");L(this,"listeners",[]);L(this,"renderSnapshot",{});L(this,"fieldsMap",{});L(this,"rootFields",{});this.fieldName=e,this.fieldProps=n,this.model=r,this.parent=i}initChildrenFields(){return[{},{}]}getProps(){return this.fieldProps}setProps(e,n){this.fieldProps=e,n||this.emitRender()}noGrowWidth(){return!1}managesChildWidth(){return!1}getWidth(){var e;if(!((e=this.parent)!=null&&e.managesChildWidth()))return this.fieldProps.width}updateProps(e,n){const r=this.getProps()??{};this.setProps({...r,...e},n)}getName(){return this.fieldName}getFormProps(){return this.model.getFormProps()}getModel(){return this.model}getParent(){return this.parent}getLabel(){return this.model.getLabels()[this.fieldName]}setLabel(e,n,r){var o,s;const i=this.getLabel();i!==e&&(this.model.getLabels()[this.fieldName]=e,n||(s=(o=this.getProps())==null?void 0:o.onLabelChanged)==null||s.call(o,e,i,this),r||this.emitRender())}getValue(){return this.model.getValues()[this.fieldName]}setValue(e,n,r){var s,a,l,c;const i=this.getValue();if(i===e)return;const o=this.model.getValues();o[this.fieldName]=e,n||((a=(s=this.getProps())==null?void 0:s.onValueChanged)==null||a.call(s,e,i,this),(c=(l=this.model.getFormProps()).onFormValuesChanged)==null||c.call(l,this.fieldName,o,this.model.getFormApi(),new M),this.validate(n,r)),r||this.emitRender(),this.model.lockDependedFields(this,n,r)}isEmptyValue(){const e=this.getValue();return e===null||zr(e)&&e.length===0||typeof e=="object"&&Object.keys(e).length===0?!0:e!==0&&!e}isTouched(){return this.model.getTouchedFields()[this.fieldName]??!1}setTouched(e,n){var i,o;this.isTouched()!==e&&(this.model.getTouchedFields()[this.fieldName]=e,n||(o=(i=this.getProps())==null?void 0:i.onTouchedStateChanged)==null||o.call(i,e,this))}isDirty(){return this.model.getDirtyFields()[this.fieldName]??!1}setDirty(e,n){var o,s;if(this.isDirty()===e)return;this.model.getDirtyFields()[this.fieldName]=e,n||(s=(o=this.getProps())==null?void 0:o.onDirtyStateChanged)==null||s.call(o,e,this);let i=e;if(!e){for(const a in this.model.getDirtyFields())if(this.model.getDirtyFields()[a]){i=!0;break}}this.model.setFormDirty(i,n)}isDisabled(){return this.model.isFormDisabled()?!0:this.model.getDisabledFields()[this.fieldName]??!1}setDisabled(e,n,r){var o,s;this.isDisabled()!==e&&(this.model.getDisabledFields()[this.fieldName]=e,n||(s=(o=this.getProps())==null?void 0:o.onDisabledStateChanged)==null||s.call(o,e,this),r||this.model.emitFormRender())}isReadOnly(){return this.model.isFormReadOnly()||this.getProps().nonEditable&&this.model.getFormMode()==="update"?!0:this.model.getReadOnlyFields()[this.fieldName]??!1}setReadOnly(e,n,r){var o,s;this.model.getReadOnlyFields()[this.fieldName]!==e&&(this.model.getReadOnlyFields()[this.fieldName]=e,n||(s=(o=this.getProps())==null?void 0:o.onReadOnlyStateChanged)==null||s.call(o,e,this),r||this.emitRender())}isHidden(){return this.model.getHiddenFields()[this.fieldName]??!1}setHidden(e,n,r){var o,s;this.isHidden()!==e&&(this.model.getHiddenFields()[this.fieldName]=e,this.model.lockDependedFields(this,n,r),e&&(this.setError("",n,r),this.setReady(!1,!0)),n||(s=(o=this.getProps())==null?void 0:o.onHiddenStateChanged)==null||s.call(o,e,this),r||this.model.emitFormRender())}isReady(){return this.model.isFormFetching()||this.model.isFormFetchingFailed()||this.model.getFetchingFields()[this.fieldName]?!1:this.model.getReadyFields()[this.fieldName]??!1}setReady(e,n){var i,o;this.isReady()!==e&&(this.model.getReadyFields()[this.fieldName]=e,n||(o=(i=this.getProps())==null?void 0:i.onReadyStateChanged)==null||o.call(i,e,this),this.model.checkFormReadyState())}getError(){return this.model.getErrors()[this.fieldName]??""}setError(e,n,r){var s,a,l;if(this.getError()===e)return;const o=this.model.getErrors();if(e?o[this.fieldName]=e:delete o[this.fieldName],!n){const c=this.getProps();(s=c==null?void 0:c.onErrorChanged)==null||s.call(c,e,this);const f=this.model.getFormProps(),d=this.model.getValues(),g=this.model.getFormDataSet();this.model.isFormHasError()?(a=f.onFormHasErrors)==null||a.call(f,d,g,o,this.model.getFormApi(),new M):(l=f.onFormHasNoErrors)==null||l.call(f,d,g,this.model.getFormApi(),new M)}r||this.emitRender()}validate(e,n){var s,a,l;const r=this.getProps().rules??[],i=((s=this.getFormProps().validationRules)==null?void 0:s[this.fieldName])??[],o=this.isHidden()?"":this.model.getValidator().validateValue(this.getValue(),this.model,r.concat(i));return this.setError(o,e),!e&&!this.isHidden()&&((l=(a=this.getProps())==null?void 0:a.onValidated)==null||l.call(a,this.getValue(),o,this.model.isFormSubmitting(),this)),n||this.emitRender(),o}onInitialFetch(){this.fetchData()}isFetching(){return this.model.getFetchingFields()[this.fieldName]===1}isFetchingFailed(){return this.model.getFetchingFields()[this.fieldName]===-1}fetchData(){var r,i;const e=(i=(r=this.fieldProps).onFieldDataFetch)==null?void 0:i.call(r,this);if(!e)return;const n=this.model.getFetchingFields();n[this.fieldName]=1,this.model.checkFormReadyState(),this.emitRender(),e.then(o=>{var a,l;if(!this.model.isFormMounted())return;n[this.fieldName]=0,(l=(a=this.fieldProps).onFieldDataFetchSuccess)==null||l.call(a,o,this);const s=o.data;this.model.setValues(s),this.model.checkFormReadyState(),this.emitRender()},o=>{var s,a;this.model.isFormMounted()&&(n[this.fieldName]=-1,(a=(s=this.fieldProps).onFieldDataFetchError)==null||a.call(s,o,this),this.model.checkFormReadyState(),this.emitRender())})}getFieldsMap(){return this.fieldsMap}getRootFields(){return this.rootFields}isContainer(){return Object.keys(this.rootFields).length>0}hasVisibleChildren(){for(const e in this.rootFields){const n=this.rootFields[e];if(!n.isContainer()&&!n.isHidden()||n.hasVisibleChildren())return!0}return!1}render(){return null}renderField(e){return this.renderFieldWrapper(this.render(),e)}renderFieldWrapper(e,n){return x.jsx(ui,{field:this,altLabel:n,children:e},this.getName())}canHaveValue(){return!0}subscribe(e){return this.listeners=[...this.listeners,e],()=>{this.listeners=this.listeners.filter(n=>n!==e)}}getSnapshot(){return this.renderSnapshot}emitRender(){this.renderSnapshot={};for(const e of this.listeners)e()}}const fi=({field:t})=>{if(u.useSyncExternalStore(t.subscribe.bind(t),t.getSnapshot.bind(t)),u.useEffect(()=>{t.setReady(!0)},[t]),!t.hasVisibleChildren())return x.jsx(x.Fragment,{children:" "});const n=t.getModel().getFormProps(),r=t.getProps(),i=t.getRootFields();let o;for(const b in i){const v=i[b];if(!v.isHidden()){o=v;break}}const s=t.isHidden()||!o,a=t.getLabel();let l="";n.layout==="horizontal"&&(l=a??(o==null?void 0:o.getLabel()));const c={width:t.getWidth(),margin:0,marginBottom:0};r.autoHeightResize&&(c.height="100%");const f={...c,...r.style},d=24,g={display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:d+"px",alignItems:"top",width:"100%"};r.autoHeightResize&&(g.height="100%");const F=mi(i,d);return x.jsx(Tt,{component:"",transitionName:"zoom",children:s?null:x.jsx(oe.Item,{label:l,style:f,children:x.jsx("div",{style:g,children:Object.keys(i).map(b=>{const v=i[b],I=v.getProps();if(v.isHidden())return null;const D={flex:I.width||v.noGrowWidth()?"0 0 auto":"1 1 auto",width:hi(v,F)},N=n.layout==="horizontal"&&v===o?null:void 0;return x.jsx("div",{style:D,children:v.renderField(N)},"item_"+v.getName())})})})})},mi=(t,e)=>{const n=Object.keys(t).length;return n>0?(n-1)*e/n:0},hi=(t,e)=>{const n=t.getProps();if(n.width)return pi(n.width)?n.width+"px":`calc(${n.width} - ${e}px)`},pi=t=>typeof t=="number"?!0:t.length>0&&!isNaN(Number(t[t.length-1]));class gi extends di{initChildrenFields(){const e=this.getProps(),n=e.fieldsProps;return e.fieldsProps?([this.fieldsMap,this.rootFields]=this.getModel().prepareFieldCollection(n,this),[this.fieldsMap,this.rootFields]):[{},{}]}render(){return x.jsx(fi,{field:this})}renderField(){return this.render()}getFieldsMap(){return this.fieldsMap}getRootFields(){return this.rootFields}getValue(){}setValue(){}canHaveValue(){return!1}managesChildWidth(){return!0}setDisabled(e,n,r){if(this.isDisabled()!==e){for(const o in this.rootFields)this.rootFields[o].setDisabled(e,n,!0);super.setDisabled(e,n,r)}}setReadOnly(e,n,r){if(this.isReadOnly()!==e){for(const o in this.rootFields)this.rootFields[o].setReadOnly(e,n,!0);super.setReadOnly(e,n,r)}}}/**
 * @DynamicFormModel
 * @version 0.0.38.17
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */class yi{constructor(e){L(this,"_formApi");L(this,"_formProps",{});L(this,"_fieldsMap",{});L(this,"_rootFields",{});L(this,"_dataSet");L(this,"_labels",{});L(this,"_values",{});L(this,"_touched",{});L(this,"_dirty",{});L(this,"_errors",{});L(this,"_hidden",{});L(this,"_readOnly",{});L(this,"_disabled",{});L(this,"_ready",{});L(this,"_fetching",{});L(this,"_formDisabled",!1);L(this,"_formReadOnly",!1);L(this,"_formDirty",!1);L(this,"_formReadyState");L(this,"_isFormMounted",!1);L(this,"_formMode","create");L(this,"_submitCount",0);L(this,"_isSubmitting",!1);L(this,"_isFetching",!1);L(this,"_isFetchingFailed",!1);L(this,"_validator");L(this,"_formRenderListeners",[]);L(this,"_formRenderSnapshot",{});L(this,"_readyTimeout");this._validator=new Wr,this._formApi=e}initModel(e){var i,o;if(this._formProps===e)return;this._formProps=e,this._formMode=e.formMode??"create",this._formReadOnly=!!e.readOnly,this._formDisabled=!!e.disabled;const n=this._fieldsMap;[this._fieldsMap,this._rootFields]=this.prepareFieldCollection(e.fieldsProps);const r=this._dataSet;[this._labels,this._values,this._hidden,this._readOnly,this._disabled]=this.initFieldsParameters({fieldsMap:this._fieldsMap,prevFieldsMap:n,curValues:this._values,curDisabled:this._disabled,curReadOnly:this._readOnly,curHidden:this._hidden,dataSet:r!==e.dataSet?e.dataSet:void 0,mode:e.formMode??"create"}),this._dataSet=e.dataSet,e.disableDepended?this._disabled=this.calculateLockedFields():this._hidden=this.calculateLockedFields(),(o=(i=this._formProps).onFormModelInitialized)==null||o.call(i,this._formApi,new M)}prepareFieldCollection(e,n){const r={},i={};if(!e)return[r,i];const o=this.modifyFieldsProps(e);for(const s in o){const a=o[s];r[s]&&console.error(`The form contains duplicate field names  "${s}"!`);const l=new a.component(s,a,this,n);r[s]=l,i[s]=l;const[c]=l.initChildrenFields();for(const f in c)r[f]&&console.error(`The form contains duplicate field names  "${f}"!`),r[f]=c[f]}return[r,i]}modifyFieldsProps(e){const n={};let r=0;for(const o in e){r++;const s={...e[o]};let a="";s.inlineGroup?(a=s.inlineGroup,s.inlineGroup=void 0):a="[__group__]-"+r,n[a]||(n[a]={}),n[a][o]=s}const i={};for(const o in n){const s=n[o];if(Object.keys(s).length>1)i[o]={component:gi,fieldsProps:s};else{const a=Object.keys(s)[0];i[a]=s[a]}}return i}initFieldsParameters({fieldsMap:e,prevFieldsMap:n,curValues:r,curDisabled:i,curReadOnly:o,curHidden:s,dataSet:a,mode:l}){var b;const c={},f={},d={},g={},F={};for(const v in e){const I=e[v],D=n[v],N=I.getProps();if(F[v]=N.label,D&&I.constructor.name===D.constructor.name){c[v]=r[v],f[v]=typeof s[v]=="boolean"?s[v]:N.hidden,g[v]=typeof i[v]=="boolean"?i[v]:N.disabled,d[v]=typeof o[v]=="boolean"?o[v]:N.readOnly;continue}if(f[v]=!!N.hidden,g[v]=!!N.disabled,d[v]=!!N.readOnly,!I.canHaveValue())continue;let _;l==="create"?_=N.defaultValue??((b=this._formProps.defaultValues)==null?void 0:b[v]):_=a==null?void 0:a[v],c[v]=_}return[F,c,f,d,g]}calculateLockedFields(){const e={};for(const n in this._fieldsMap)e[n]=this.isFieldMustBeLocked(this._fieldsMap[n]);return e}lockDependedFields(e,n,r){const i=this._formProps.disableDepended,o=e.getName();for(const s in this._fieldsMap){const a=this._fieldsMap[s],l=a.getProps();if(!(l!=null&&l.dependsOn)||l.dependsOn.indexOf(o)<0)continue;const c=this.isFieldMustBeLocked(a);i?a.setDisabled(c,n,r):a.setHidden(c,n,r)}}isFieldMustBeLocked(e){var r;const n=e.getProps();if(!((r=n.dependsOn)!=null&&r.length))return e.isHidden();for(const i of n.dependsOn){const o=this._fieldsMap[i];if(!o)continue;if(o.getProps().hidden||o.isHidden()||o.canHaveValue()&&o.isEmptyValue()||this.isFieldMustBeLocked(o))return!0}return!1}getFieldsMap(){return this._fieldsMap}getRootFields(){return this._rootFields}getField(e){return this._fieldsMap[e]}getFormId(){return this._formApi.getId()}getFormProps(){return this._formProps}getLabels(){return this._labels}getFormDataSet(){const e=this.getValues();return{...this._dataSet,...e}}getValues(){return this._values}setValues(e,n,r){var o,s;const i=n?e:((s=(o=this._formProps).onDataSetChange)==null?void 0:s.call(o,e,this._formApi,new M))??e;this._dataSet=i;for(const a in this._fieldsMap){const l=this._fieldsMap[a];!i||!(a in i)||l.setValue(i[a],n,r)}}getTouchedFields(){return this._touched}getDirtyFields(){return this._dirty}getDisabledFields(){return this._disabled}getReadOnlyFields(){return this._readOnly}getHiddenFields(){return this._hidden}getReadyFields(){return this._ready}getErrors(){return this._errors}getValidator(){return this._validator}getFetchingFields(){return this._fetching}getFormApi(){return this._formApi}isFormDirty(){return this._formDirty}setFormDirty(e,n){var i,o;const r=this.isFormDirty();this._formDirty=e,!n&&r!==e&&((o=(i=this._formProps)==null?void 0:i.onFormDirtyStateChanged)==null||o.call(i,e,this._formApi,new M))}isFormDisabled(){return this._formDisabled}setFormDisabled(e,n,r){var o,s;const i=this.isFormDisabled();this._formDisabled=e,i!==e&&(n||(s=(o=this._formProps)==null?void 0:o.onFormDisabledStateChanged)==null||s.call(o,e,this._formApi,new M),r||this.emitFormRender())}isFormReadOnly(){return this.getFormMode()==="view"||this._formReadOnly}setFormReadOnly(e,n,r){var o,s;const i=this.isFormReadOnly();this._formReadOnly=e,i!==e&&(n||(s=(o=this._formProps)==null?void 0:o.onFormReadOnlyStateChanged)==null||s.call(o,e,this._formApi,new M),r||this.emitFormRender())}onFormInit(){var e,n;(n=(e=this._formProps)==null?void 0:e.onFormInit)==null||n.call(e,this._formApi,new M)}isFormReady(){return!!this._formReadyState}checkFormReadyState(){typeof this._readyTimeout<"u"&&clearTimeout(this._readyTimeout),this._readyTimeout=setTimeout(()=>{var n,r;this._readyTimeout=void 0;let e=!0;if(this.isFormFetching()||this.isFormFetchingFailed())e=!1;else for(const i in this._fieldsMap){const o=this._fieldsMap[i];o.isHidden()||o.isReady()||(e=!1)}e!==this._formReadyState&&(this._formReadyState=e,(r=(n=this._formProps)==null?void 0:n.onFormReadyChanged)==null||r.call(n,e,this._formApi,new M))},100)}validateForm(e,n){var r,i;for(const o in this._fieldsMap)this._fieldsMap[o].validate(e,n);return this.emitFormRender(),(i=(r=this._formProps).onFormValidated)==null||i.call(r,this.getValues(),this.getFormDataSet(),this.getErrors(),this.isFormSubmitting(),this._formApi,new M),this.getErrors()}isFormSubmitting(){return this._isSubmitting}setFormSubmitting(e){const n=this.isFormSubmitting();this._isSubmitting=e,n!==e&&this.emitFormRender()}isFormFetching(){return this._isFetching}setFormFetching(e){const n=this.isFormFetching();this._isFetching=e,n!==e&&this.emitFormRender()}setFormFetchingFailed(e){this._isFetchingFailed=e}isFormFetchingFailed(){return this._isFetchingFailed}isFormHasError(){const e=this.getErrors();for(const n in e)if(e[n])return!0;return!1}isFormMounted(){return this._isFormMounted}setFormMounted(e){this._isFormMounted=e}getFormMode(){return this._formMode}onInitialFetch(){const e=this._formProps,n=this._formMode;if(!(!e.fetchOnCreate&&n!=="update"&&n!=="clone"&&n!=="view")){this.fetchData();for(const r in this._fieldsMap)this._fieldsMap[r].onInitialFetch()}}fetchData(){var n,r;const e=(r=(n=this._formProps).onDataFetch)==null?void 0:r.call(n,this._formApi,new M);e&&(this.setFormFetching(!0),this.setFormFetchingFailed(!1),this.checkFormReadyState(),e.then(i=>{var s,a,l,c;if(!this.isFormMounted())return;this.setFormFetching(!1),this.setFormFetchingFailed(!1),(a=(s=this._formProps).onDataFetchSuccess)==null||a.call(s,i,this._formApi,new M),(c=(l=this._formProps).onDataFetchComplete)==null||c.call(l,this._formApi,new M);const o=i.data;this.setValues(o),this.checkFormReadyState()},i=>{var o,s,a,l;this.isFormMounted()&&(this.setFormFetching(!1),this.setFormFetchingFailed(!0),(s=(o=this._formProps).onDataFetchError)==null||s.call(o,i,this._formApi,new M),(l=(a=this._formProps).onDataFetchComplete)==null||l.call(a,this._formApi,new M),this.checkFormReadyState())}))}submit(e={}){var s,a,l,c,f,d,g,F,b,v,I;if(this.isFormSubmitting())return;this.incrementSubmitCount(),this.setFormSubmitting(!0);const n=this.getValues(),r=this.getFormDataSet();this._formMode==="clone"&&((s=this._formProps.assignExtraValues)!=null&&s.clone)&&(r[this._formProps.assignExtraValues.clone]=r.id),this._formMode==="update"&&((a=this._formProps.assignExtraValues)!=null&&a.update)&&(r[this._formProps.assignExtraValues.update]=!0),(this._formMode==="create"||this._formMode==="clone")&&((l=this._formProps.assignExtraValues)!=null&&l.create&&(r[this._formProps.assignExtraValues.create]=!0),delete r.id);const i=this.validateForm();if((f=(c=this._formProps)==null?void 0:c.onSubmitValidation)==null||f.call(c,n,r,i,this._formApi,new M),this.isFormHasError()){this.setFormSubmitting(!1),(d=e.onValidationFailed)==null||d.call(e,i),(g=e.onSubmitComplete)==null||g.call(e,n,r,i,this._formApi,new M),(b=(F=this._formProps)==null?void 0:F.onSubmitComplete)==null||b.call(F,n,r,i,this._formApi,new M);return}if(!((v=this._formProps)!=null&&v.onSubmit))return this.submitUnhandled(i,e);const o=(I=this._formProps)==null?void 0:I.onSubmit(n,r,this._formApi,new M);Br(o)?this.submitPromise(o,i,e):typeof o=="object"?this.submitObject(o,i,e):typeof o=="boolean"?this.submitBoolean(o,i,e):typeof o>"u"&&this.submitUndefined(i,e)}submitUnhandled(e,n={}){var o,s,a,l,c,f;const r=this.getValues(),i=this.getFormDataSet();this.setFormSubmitting(!1),(o=n.onSubmitError)==null||o.call(n,r,i,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new M),(s=n.onSubmitComplete)==null||s.call(n,r,i,e,this._formApi,new M),(l=(a=this._formProps)==null?void 0:a.onSubmitError)==null||l.call(a,r,i,{message:"The onSubmit callback not specified",error:"ERR_SUBMIT_NOT_SPECIFIED",code:405,stack:Error().stack},this._formApi,new M),(f=(c=this._formProps)==null?void 0:c.onSubmitComplete)==null||f.call(c,r,i,e,this._formApi,new M)}submitPromise(e,n,r={}){const i=this.getValues(),o=this.getFormDataSet();e.then(s=>{var a,l,c,f,d,g;this.isFormMounted()&&(this.setFormSubmitting(!1),(a=r.onSubmitSuccess)==null||a.call(r,i,o,(s==null?void 0:s.data)||o,this._formApi,new M),(l=r.onSubmitComplete)==null||l.call(r,i,o,n,this._formApi,new M),(f=(c=this._formProps)==null?void 0:c.onSubmitSuccess)==null||f.call(c,i,o,(s==null?void 0:s.data)||o,this._formApi,new M),(g=(d=this._formProps)==null?void 0:d.onSubmitComplete)==null||g.call(d,i,o,n,this._formApi,new M))}).catch(s=>{var a,l,c,f,d,g;this.isFormMounted()&&(this.setFormSubmitting(!1),(a=r.onSubmitError)==null||a.call(r,i,o,s,this._formApi,new M),(l=r.onSubmitComplete)==null||l.call(r,i,o,n,this._formApi,new M),(f=(c=this._formProps)==null?void 0:c.onSubmitError)==null||f.call(c,i,o,s,this._formApi,new M),(g=(d=this._formProps)==null?void 0:d.onSubmitComplete)==null||g.call(d,i,o,n,this._formApi,new M))})}submitObject(e,n,r={}){var s,a,l,c,f,d,g,F,b,v;const i=this.getValues(),o=this.getFormDataSet();this.setFormSubmitting(!1),(s=e.error)!=null&&s.message?((a=r.onSubmitError)==null||a.call(r,i,o,{message:e.error.message||"",error:e.error.error,code:e.error.code||400},this._formApi,new M),(c=(l=this._formProps)==null?void 0:l.onSubmitError)==null||c.call(l,i,o,{message:e.error.message||"",error:e.error.error,code:e.error.code||400},this._formApi,new M)):((f=r.onSubmitSuccess)==null||f.call(r,i,o,e.data??o,this._formApi,new M),(g=(d=this._formProps)==null?void 0:d.onSubmitSuccess)==null||g.call(d,i,o,e.data??o,this._formApi,new M)),(F=r.onSubmitComplete)==null||F.call(r,i,o,n,this._formApi,new M),(v=(b=this._formProps)==null?void 0:b.onSubmitComplete)==null||v.call(b,i,o,n,this._formApi,new M)}submitBoolean(e,n,r={}){var s,a,l,c,f,d,g,F,b;const i=this.getValues(),o=this.getFormDataSet();this.setFormSubmitting(!1),e?((s=r.onSubmitSuccess)==null||s.call(r,i,o,o,this._formApi,new M),(l=(a=this._formProps)==null?void 0:a.onSubmitSuccess)==null||l.call(a,i,o,o,this._formApi,new M)):((c=r.onSubmitError)==null||c.call(r,i,o,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new M),(d=(f=this._formProps)==null?void 0:f.onSubmitError)==null||d.call(f,i,o,{message:"Unknown error",error:"ERR_UNKNOWN",code:520,stack:Error().stack},this._formApi,new M)),(g=r.onSubmitComplete)==null||g.call(r,i,o,n,this._formApi,new M),(b=(F=this._formProps)==null?void 0:F.onSubmitComplete)==null||b.call(F,i,o,n,this._formApi,new M)}submitUndefined(e,n={}){var o,s,a,l,c,f;this.setFormSubmitting(!1);const r=this.getValues(),i=this.getFormDataSet();(o=n.onSubmitSuccess)==null||o.call(n,r,i,i,this._formApi,new M),(a=(s=this._formProps)==null?void 0:s.onSubmitSuccess)==null||a.call(s,r,i,i,this._formApi,new M),(l=n.onSubmitComplete)==null||l.call(n,r,i,e,this._formApi,new M),(f=(c=this._formProps)==null?void 0:c.onSubmitComplete)==null||f.call(c,r,i,e,this._formApi,new M)}getSubmitCount(){return this._submitCount}incrementSubmitCount(){this._submitCount++}subscribeRenderForm(e){return this._formRenderListeners=[...this._formRenderListeners,e],()=>{this._formRenderListeners=this._formRenderListeners.filter(n=>n!==e)}}emitFormRender(){if(this._formRenderSnapshot={},!!this._formRenderListeners)for(const e of this._formRenderListeners)e()}getFormRenderSnapshot(){return this._formRenderSnapshot}}const bi=t=>{const[e]=u.useState({});return()=>e},Lt=(t,e,n)=>{const r=t??"en",[i,o]=vi(r,e,n);return u.useCallback(s=>i[s]??o[s]??s,[i,o])},vi=(t,e,n)=>u.useMemo(()=>{const o={...e[t??"en"]??e.en,...n},s={...e.en,...n};return[o,s]},[n,t,e]),Fi={ok:"ОК",cancel:"Отмена",yes:"Да",no:"Нет",confirm:"Подтвердить",fixError:"Необходимо исправить ошибки",confirmChangesQs:"Подтвердить сделанные изменения?",tryAgainQt:"Попробовать снова?",error:"Ошибка"},Si={ok:"OK",cancel:"Cancel",yes:"Yes",no:"No",confirm:"Confirm",fixError:"Fix errors",confirmChangesQs:"Confirm changes made?",tryAgainQt:"Try again?",error:"Error"},_i={ok:"确定",cancel:"取消",yes:"是",no:"否",confirm:"确认",fixError:"需要修复错误",confirmChangesQs:"确认所做的更改？",tryAgainQt:"再试一次？",error:"错误"},Ci={ru:Fi,en:Si,cn:_i},$i=t=>Lt(t.language,Ci,t.translation);/**
 * @useUpdateMessageBoxTheme
 * @description MessageBox uses an Antd Modal static object, which is launched in its own context.
 * In order to use the context (i.e. a theme) of the component in which MessageBox will be used, this hook must be called
 * @version 0.0.0.67
 * @link omegatester@gmail.com
 * @author Maksim Zaytsev
 * @license MIT
 */const Ei=()=>{const{modal:t}=An.useApp();be.updateThemedModal(t)},wi=t=>e=>{const n=t.getProps(),r=t.model.validateForm();if(t.getButtonsApi().disabled("ok",Object.keys(r).length>0),Object.keys(r).length===0||!e)return r;const i=x.jsx(In,{style:{marginLeft:5},direction:"vertical",size:0,children:Object.keys(r).map(o=>{const s=t.model.getField(o),a=(s==null?void 0:s.getLabel())||o;return x.jsxs(ze.Text,{style:{fontSize:12},type:"secondary",children:[a,": ",r[o]]},o)})});return be.alert({language:n.language,title:t.t("fixError"),content:i,colorType:"danger"}),r},xi=t=>()=>{const e=t.validateForm(!0);if(Object.keys(e).length>0)return;const n=t.model.getFormProps();if(!n.confirmChanges){t.getButtonsApi().loading("ok",!0),t.model.submit();return}const r=be.confirmWaiter({language:n.language,content:n.submitConfirmMessage??t.t("confirmChangesQs"),okText:t.t("yes"),cancelText:t.t("cancel"),onOk:()=>{t.model.submit({onSubmitComplete:i})}}),i=()=>{r.destroy()}},Mi=({props:t,setProps:e})=>{var g,F,b,v,I,D,N,_,T;const[n]=u.useState(t.apiRef||{}),r=Rn(t.formId??"dForm-"+Nn());(g=t._overriddenApi)!=null&&g.getId||(n.getId=r);const i=jn(t);(F=t._overriddenApi)!=null&&F.getProps||(n.getProps=i);const o=Tn(e);(b=t._overriddenApi)!=null&&b.setProps||(n.setProps=o);const s=Ln(t,e);(v=t._overriddenApi)!=null&&v.updateProps||(n.updateProps=s);const a=Dn();(I=t._overriddenApi)!=null&&I.getIsMounted||(n.getIsMounted=a);const l=$i(t);(D=t._overriddenApi)!=null&&D.t||(n.t=l);const c=bi();(N=t._overriddenApi)!=null&&N.getButtonsApi||(n.getButtonsApi=c);const f=wi(n);(_=t._overriddenApi)!=null&&_.validateForm||(n.validateForm=f);const d=xi(n);return(T=t._overriddenApi)!=null&&T.submitForm||(n.submitForm=d),n},Oi=({fields:t,subscribe:e,getSnapshot:n,containerStyle:r})=>{e||(e=()=>()=>{}),n||(n=()=>0);const i={height:"100%",display:"flex",flexDirection:"column",...r};return u.useSyncExternalStore(e,n),x.jsx("div",{className:"dform-fields-container",style:i,children:Object.keys(t).map(o=>{const s=t[o],a={},c=s.getProps().autoHeightResize?" auto-height":"";return x.jsxs("div",{className:"dform-field-container"+c,style:a,children:[s.renderField()," "]},"field_"+s.getName())})})},Pi={loadingError:"数据加载错误",tryAgain:"再次尝试",tryReload:"尝试重新加载页面 (按F5)"},Ai={loadingError:"Data loading error",tryAgain:"Try again",tryReload:"Try reloading the page (press F5)"},Ii={loadingError:"Ошибка загрузки данных",tryAgain:"Повторить попытку",tryReload:"Попробовать перезагрузить страницу (нажмите F5)"},Ri={ru:Ii,en:Ai,cn:Pi},{Text:Ni}=ze,Di=({errorMessage:t,children:e,retryHandler:n,style:r,language:i})=>{const o=Lt(i,Ri),s=u.useCallback(()=>{n&&n()},[n]);return t?x.jsx(Le,{justify:"center",align:"middle",style:{height:"100%",...r},children:x.jsx(we,{children:x.jsx($t,{message:o("loadingError"),showIcon:!0,icon:x.jsx(He,{}),description:x.jsxs(x.Fragment,{children:[t,x.jsx(Le,{justify:"center",align:"middle",style:{marginTop:16},children:x.jsx(we,{style:{marginLeft:-24},children:n?x.jsx(Vn,{color:"danger",variant:"solid",onClick:s,children:o("tryAgain")}):x.jsx(Ni,{children:o("tryReload")})})})]}),type:"error"})})}):x.jsx(x.Fragment,{children:e})},ji=({isLoading:t,error:e,retryHandler:n,children:r,skeleton:i,notHideContent:o,caption:s,spinStyle:a,errorStyle:l,noFullHeight:c,language:f})=>{const d=s??"Please wait...";return x.jsx(Di,{errorMessage:e==null?void 0:e.message,retryHandler:n,style:l,language:f,children:x.jsx(kn,{spinning:t,delay:0,tip:d,style:a,wrapperClassName:c?"":"wrapper-full-height-grid-spinner",children:t&&!o?x.jsxs(x.Fragment,{children:[i??null,x.jsx("div",{style:{display:"none"},children:r})]}):x.jsx(x.Fragment,{children:r})})})},Ti=({formProps:t,formApi:e,formButtons:n})=>{var s;const r=e.model;u.useSyncExternalStore(r.subscribeRenderForm.bind(r),r.getFormRenderSnapshot.bind(r));const i={span:t.layout==="horizontal"?8:24,...t.labelCol};i.style={paddingBottom:2,...(s=t.labelCol)==null?void 0:s.style};const o={span:t.layout==="horizontal"?16:24,...t.wrapperCol};return x.jsx("div",{className:t.containerClassName??"",style:t.containerStyle,children:x.jsx(ji,{isLoading:r.isFormFetching()||r.isFormSubmitting()&&!t.confirmChanges,notHideContent:!0,language:t.language,children:x.jsx(Hn,{children:x.jsxs(oe,{colon:!1,className:t.className,name:r.getFormId(),labelCol:i,wrapperCol:o,autoComplete:"off",labelAlign:t.labelAlign,layout:t.layout==="horizontal"?"horizontal":"vertical",requiredMark:t.requiredMark,style:t.formStyle,children:[x.jsx(Li,{model:r}),x.jsx(Oi,{fields:r.getRootFields(),formProps:t}),x.jsx(qn,{buttons:n,colorType:t.colorType,buttonsApi:e.getButtonsApi(),arrowsSelection:t.arrowsButtonsSelection,context:e})]})})})})},Li=({model:t})=>(u.useEffect(()=>{t.onFormInit()},[t]),null),{Text:mt}=ze,ht=({error:t,extraMessage:e})=>x.jsxs(x.Fragment,{children:[x.jsx(mt,{strong:!0,children:t.message}),e&&x.jsx(mt,{children:e}),t.stack&&Hr()&&x.jsx(Gn,{items:[{key:"1",label:"Stack",children:x.jsx("p",{children:t.stack})}]})]}),Vi=t=>u.useMemo(()=>({...t,...{onFormReadyChanged:(n,r,i)=>{var o,s,a,l,c;(o=t==null?void 0:t.onFormReadyChanged)==null||o.call(t,n,r,i),!i.isPrevented()&&(n?(a=(s=r.getButtonsApi()).disabled)==null||a.call(s,"ok",!1):(c=(l=r.getButtonsApi()).disabled)==null||c.call(l,"ok",!0))},onFormHasNoErrors:(n,r,i,o)=>{var s,a,l;(s=t==null?void 0:t.onFormHasNoErrors)==null||s.call(t,n,r,i,o),!o.isPrevented()&&((l=(a=i.getButtonsApi()).disabled)==null||l.call(a,"ok",!1))},onDataFetchError:(n,r,i)=>{var s;if((s=t==null?void 0:t.onDataFetchError)==null||s.call(t,n,r,i),i.isPrevented())return;const o=be.confirm({language:t.language,title:r.t("error"),content:x.jsx(ht,{error:n,extraMessage:r.t("tryAgainQt")}),colorType:"danger",buttons:{ok:{onClick:()=>{o.destroy(),r.model.fetchData()}}}})},onSubmit:(n,r,i,o)=>{var a,l,c,f,d;const s=(a=t==null?void 0:t.onSubmit)==null?void 0:a.call(t,n,r,i,o);return o.isPrevented()||((c=(l=i.getButtonsApi()).disabled)==null||c.call(l,"ok",!0),t.confirmChanges||(d=(f=i.getButtonsApi()).loading)==null||d.call(f,"ok",!0)),s},onSubmitError:(n,r,i,o,s)=>{var a;(a=t==null?void 0:t.onSubmitError)==null||a.call(t,n,r,i,o,s),!s.isPrevented()&&be.alert({language:t.language,title:o.t("error"),content:x.jsx(ht,{error:i}),colorType:"danger"})},onSubmitComplete:(n,r,i,o,s)=>{var a,l,c,f,d;(a=t==null?void 0:t.onSubmitComplete)==null||a.call(t,n,r,i,o,s),!s.isPrevented()&&((c=(l=o.getButtonsApi()).disabled)==null||c.call(l,"ok",!1),(d=(f=o.getButtonsApi()).loading)==null||d.call(f,"ok",!1))}}}),[t]),Hi=(t,e)=>u.useMemo(()=>{if(t.buttons===null)return{};const n={ok:{position:"left",active:!0,title:e.t("confirm"),disabled:!0,hotKeys:[{key:"Enter",ctrl:!0},{key:"S",ctrl:!0},{key:"Ы",ctrl:!0}],onClick:()=>{e.submitForm()}}};return Bn(n,t.buttons)},[t.buttons,e]),Qi=t=>{Ei();const e=Bi(t),[n,r]=Wn(e),i=Vi(n),o=Mi({props:i,setProps:r});Wi(o,i);const s=Hi(i,o);return ki(o),zi(o),x.jsx(Ti,{formProps:i,formApi:o,formButtons:s})},Bi=t=>{var n;const e=u.useRef(!0);return e.current?((n=t==null?void 0:t.onFirstRender)==null?void 0:n.call(t,t))??t:(e.current=!1,t)},Wi=(t,e)=>{const n=u.useRef();return u.useMemo(()=>{var r;return n.current||(n.current=new yi(t)),(r=e._overriddenApi)!=null&&r.model||(t.model=n.current),n.current.initModel(e),n.current},[t,e])},zi=t=>{u.useEffect(()=>(t.model.setFormMounted(!0),()=>{t.model.setFormMounted(!1)}))},ki=t=>{u.useEffect(()=>{t.model.onInitialFetch()},[t])};export{Tt as A,di as B,M as C,Qi as D,ht as E,Oi as F,gi as I,ji as L,zr as a,bi as b,Si as c,it as d,Hr as e,_i as f,Ei as g,sr as h,Fi as r,Br as t,Lt as u};
