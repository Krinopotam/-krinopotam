import{J as Ft,I as Ot,_ as B,Q as jt,G as T,U as bt,H as de,a as wt}from"./useToken-268f632d.js";import{K as qt,M as It,v as Dt,x as Tt,P as ut,t as Gt,Q as Ct,s as _e,c as tr,k as Lt,n as Ut,R as pt,S as lt,T as Kt,w as Mt,U as ft,_ as Jt}from"./compact-item-e0eb0d02.js";import{a as Qt,P as Wt}from"./useZIndex-9f7c196b.js";import{_ as mt}from"./isNativeReflectConstruct-2f1897fe.js";import{r as i,a as Zt}from"./index-5819ae2c.js";var vt=i.createContext(null);function Yt(e){var t=e.children,r=e.onBatchResize,n=i.useRef(0),a=i.useRef([]),o=i.useContext(vt),u=i.useCallback(function(f,l,v){n.current+=1;var C=n.current;a.current.push({size:f,element:l,data:v}),Promise.resolve().then(function(){C===n.current&&(r==null||r(a.current),a.current=[])}),o==null||o(f,l,v)},[r,o]);return i.createElement(vt.Provider,{value:u},t)}var Nt=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(a,o){return a[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},t.prototype.set=function(r,n){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,a=e(n,r);~a&&n.splice(a,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,o=this.__entries__;a<o.length;a++){var u=o[a];r.call(n,u[1],u[0])}},t}()}(),dt=typeof window<"u"&&typeof document<"u"&&window.document===document,Vr=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Xt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Vr):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),en=2;function rn(e,t){var r=!1,n=!1,a=0;function o(){r&&(r=!1,e()),n&&f()}function u(){Xt(o)}function f(){var l=Date.now();if(r){if(l-a<en)return;n=!0}else r=!0,n=!1,setTimeout(u,t);a=l}return f}var tn=20,nn=["top","right","bottom","left","width","height","size","weight"],an=typeof MutationObserver<"u",on=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=rn(this.refresh.bind(this),tn)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!dt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),an?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!dt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,a=nn.some(function(o){return!!~n.indexOf(o)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ht=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},nr=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Vr},At=Or(0,0,0,0);function Fr(e){return parseFloat(e)||0}function _t(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,a){var o=e["border-"+a+"-width"];return n+Fr(o)},0)}function sn(e){for(var t=["top","right","bottom","left"],r={},n=0,a=t;n<a.length;n++){var o=a[n],u=e["padding-"+o];r[o]=Fr(u)}return r}function un(e){var t=e.getBBox();return Or(0,0,t.width,t.height)}function cn(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return At;var n=nr(e).getComputedStyle(e),a=sn(n),o=a.left+a.right,u=a.top+a.bottom,f=Fr(n.width),l=Fr(n.height);if(n.boxSizing==="border-box"&&(Math.round(f+o)!==t&&(f-=_t(n,"left","right")+o),Math.round(l+u)!==r&&(l-=_t(n,"top","bottom")+u)),!fn(e)){var v=Math.round(f+o)-t,C=Math.round(l+u)-r;Math.abs(v)!==1&&(f-=v),Math.abs(C)!==1&&(l-=C)}return Or(a.left,a.top,f,l)}var ln=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof nr(e).SVGGraphicsElement}:function(e){return e instanceof nr(e).SVGElement&&typeof e.getBBox=="function"}}();function fn(e){return e===nr(e).document.documentElement}function vn(e){return dt?ln(e)?un(e):cn(e):At}function dn(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return Ht(u,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),u}function Or(e,t,r,n){return{x:e,y:t,width:r,height:n}}var hn=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Or(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=vn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),mn=function(){function e(t,r){var n=dn(r);Ht(this,{target:t,contentRect:n})}return e}(),gn=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new Nt,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof nr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new hn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof nr(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new mn(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$t=typeof WeakMap<"u"?new WeakMap:new Nt,Bt=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=on.getInstance(),n=new gn(t,r,this);$t.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Bt.prototype[e]=function(){var t;return(t=$t.get(this))[e].apply(t,arguments)}});var yn=function(){return typeof Vr.ResizeObserver<"u"?Vr.ResizeObserver:Bt}(),De=new Map;function bn(e){e.forEach(function(t){var r,n=t.target;(r=De.get(n))===null||r===void 0||r.forEach(function(a){return a(n)})})}var Vt=new yn(bn);function wn(e,t){De.has(e)||(De.set(e,new Set),Vt.observe(e)),De.get(e).add(t)}function Cn(e,t){De.has(e)&&(De.get(e).delete(t),De.get(e).size||(Vt.unobserve(e),De.delete(e)))}var Mn=function(e){qt(r,e);var t=It(r);function r(){return Ft(this,r),t.apply(this,arguments)}return Ot(r,[{key:"render",value:function(){return this.props.children}}]),r}(i.Component);function _n(e,t){var r=e.children,n=e.disabled,a=i.useRef(null),o=i.useRef(null),u=i.useContext(vt),f=typeof r=="function",l=f?r(a):r,v=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),C=!f&&i.isValidElement(l)&&Dt(l),m=C?l.ref:null,k=Tt(m,a),h=function(){var M;return ut(a.current)||(a.current&&jt(a.current)==="object"?ut((M=a.current)===null||M===void 0?void 0:M.nativeElement):null)||ut(o.current)};i.useImperativeHandle(t,function(){return h()});var R=i.useRef(e);R.current=e;var S=i.useCallback(function(y){var M=R.current,_=M.onResize,g=M.data,c=y.getBoundingClientRect(),A=c.width,F=c.height,V=y.offsetWidth,O=y.offsetHeight,Y=Math.floor(A),j=Math.floor(F);if(v.current.width!==Y||v.current.height!==j||v.current.offsetWidth!==V||v.current.offsetHeight!==O){var I={width:Y,height:j,offsetWidth:V,offsetHeight:O};v.current=I;var re=V===Math.round(A)?A:V,te=O===Math.round(F)?F:O,p=B(B({},I),{},{offsetWidth:re,offsetHeight:te});u==null||u(p,y,g),_&&Promise.resolve().then(function(){_(p,y)})}},[]);return i.useEffect(function(){var y=h();return y&&!n&&wn(y,S),function(){return Cn(y,S)}},[a.current,n]),i.createElement(Mn,{ref:o},C?i.cloneElement(l,{ref:k}):l)}var Rn=i.forwardRef(_n),En="rc-observer-key";function Sn(e,t){var r=e.children,n=typeof r=="function"?[r]:Gt(r);return n.map(function(a,o){var u=(a==null?void 0:a.key)||"".concat(En,"-").concat(o);return i.createElement(Rn,mt({},e,{key:u,ref:o===0?t:void 0}),a)})}var gt=i.forwardRef(Sn);gt.Collection=Yt;function ct(e){return e!==void 0}function Gn(e,t){var r=t||{},n=r.defaultValue,a=r.value,o=r.onChange,u=r.postState,f=Ct(function(){return ct(a)?a:ct(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),l=T(f,2),v=l[0],C=l[1],m=a!==void 0?a:v,k=u?u(m):m,h=_e(o),R=Ct([m]),S=T(R,2),y=S[0],M=S[1];bt(function(){var g=y[0];v!==g&&h(v,g)},[y]),bt(function(){ct(a)||C(a)},[a]);var _=_e(function(g,c){C(g,c),M([m],c)});return[k,_]}const kn=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function Pn(e){var t=e.prefixCls,r=e.align,n=e.arrow,a=e.arrowPos,o=n||{},u=o.className,f=o.content,l=a.x,v=l===void 0?0:l,C=a.y,m=C===void 0?0:C,k=i.useRef();if(!r||!r.points)return null;var h={position:"absolute"};if(r.autoArrow!==!1){var R=r.points[0],S=r.points[1],y=R[0],M=R[1],_=S[0],g=S[1];y===_||!["t","b"].includes(y)?h.top=m:y==="t"?h.top=0:h.bottom=0,M===g||!["l","r"].includes(M)?h.left=v:M==="l"?h.left=0:h.right=0}return i.createElement("div",{ref:k,className:tr("".concat(t,"-arrow"),u),style:h},f)}function zn(e){var t=e.prefixCls,r=e.open,n=e.zIndex,a=e.mask,o=e.motion;return a?i.createElement(Lt,mt({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(u){var f=u.className;return i.createElement("div",{style:{zIndex:n},className:tr("".concat(t,"-mask"),f)})}):null}var xn=i.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Dn=i.forwardRef(function(e,t){var r=e.popup,n=e.className,a=e.prefixCls,o=e.style,u=e.target,f=e.onVisibleChanged,l=e.open,v=e.keepDom,C=e.fresh,m=e.onClick,k=e.mask,h=e.arrow,R=e.arrowPos,S=e.align,y=e.motion,M=e.maskMotion,_=e.forceRender,g=e.getPopupContainer,c=e.autoDestroy,A=e.portal,F=e.zIndex,V=e.onMouseEnter,O=e.onMouseLeave,Y=e.onPointerEnter,j=e.ready,I=e.offsetX,re=e.offsetY,te=e.offsetR,p=e.offsetB,G=e.onAlign,L=e.onPrepare,b=e.stretch,K=e.targetWidth,E=e.targetHeight,J=typeof r=="function"?r():r,ar=l||v,ne=(g==null?void 0:g.length)>0,ir=i.useState(!g||!ne),Oe=T(ir,2),le=Oe[0],je=Oe[1];if(de(function(){!le&&ne&&u&&je(!0)},[le,ne,u]),!le)return null;var q="auto",H={left:"-1000vw",top:"-1000vh",right:q,bottom:q};if(j||!l){var ae,fe=S.points,qe=S.dynamicInset||((ae=S._experimental)===null||ae===void 0?void 0:ae.dynamicInset),Ie=qe&&fe[0][1]==="r",he=qe&&fe[0][0]==="b";Ie?(H.right=te,H.left=q):(H.left=I,H.right=q),he?(H.bottom=p,H.top=q):(H.top=re,H.bottom=q)}var Q={};return b&&(b.includes("height")&&E?Q.height=E:b.includes("minHeight")&&E&&(Q.minHeight=E),b.includes("width")&&K?Q.width=K:b.includes("minWidth")&&K&&(Q.minWidth=K)),l||(Q.pointerEvents="none"),i.createElement(A,{open:_||ar,getContainer:g&&function(){return g(u)},autoDestroy:c},i.createElement(zn,{prefixCls:a,open:l,zIndex:F,mask:k,motion:M}),i.createElement(gt,{onResize:G,disabled:!l},function(Ge){return i.createElement(Lt,mt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:_,leavedClassName:"".concat(a,"-hidden")},y,{onAppearPrepare:L,onEnterPrepare:L,visible:l,onVisibleChanged:function(me){var w;y==null||(w=y.onVisibleChanged)===null||w===void 0||w.call(y,me),f(me)}}),function(ie,me){var w=ie.className,Ue=ie.style,ge=tr(a,w,n);return i.createElement("div",{ref:Ut(Ge,t,me),className:ge,style:B(B(B(B({"--arrow-x":"".concat(R.x||0,"px"),"--arrow-y":"".concat(R.y||0,"px")},H),Q),Ue),{},{boxSizing:"border-box",zIndex:F},o),onMouseEnter:V,onMouseLeave:O,onPointerEnter:Y,onClick:m},h&&i.createElement(Pn,{prefixCls:a,arrow:h,arrowPos:R,align:S}),i.createElement(xn,{cache:!l&&!C},J))})}))}),Tn=i.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,a=Dt(r),o=i.useCallback(function(f){pt(t,n?n(f):f)},[n]),u=Tt(o,r.ref);return a?i.cloneElement(r,{ref:u}):r}),Rt=i.createContext(null);function Et(e){return e?Array.isArray(e)?e:[e]:[]}function Ln(e,t,r,n){return i.useMemo(function(){var a=Et(r??t),o=Et(n??t),u=new Set(a),f=new Set(o);return e&&(u.has("hover")&&(u.delete("hover"),u.add("click")),f.has("hover")&&(f.delete("hover"),f.add("click"))),[u,f]},[e,t,r,n])}function Wn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Nn(e,t,r,n){for(var a=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var f,l=o[u];if(Wn((f=e[l])===null||f===void 0?void 0:f.points,a,n))return"".concat(t,"-placement-").concat(l)}return""}function St(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function gr(e){return e.ownerDocument.defaultView}function ht(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=gr(r).getComputedStyle(r),o=a.overflowX,u=a.overflowY,f=a.overflow;[o,u,f].some(function(l){return n.includes(l)})&&t.push(r),r=r.parentElement}return t}function mr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function hr(e){return mr(parseFloat(e),0)}function kt(e,t){var r=B({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=gr(n).getComputedStyle(n),o=a.overflow,u=a.overflowClipMargin,f=a.borderTopWidth,l=a.borderBottomWidth,v=a.borderLeftWidth,C=a.borderRightWidth,m=n.getBoundingClientRect(),k=n.offsetHeight,h=n.clientHeight,R=n.offsetWidth,S=n.clientWidth,y=hr(f),M=hr(l),_=hr(v),g=hr(C),c=mr(Math.round(m.width/R*1e3)/1e3),A=mr(Math.round(m.height/k*1e3)/1e3),F=(R-S-_-g)*c,V=(k-h-y-M)*A,O=y*A,Y=M*A,j=_*c,I=g*c,re=0,te=0;if(o==="clip"){var p=hr(u);re=p*c,te=p*A}var G=m.x+j-re,L=m.y+O-te,b=G+m.width+2*re-j-I-F,K=L+m.height+2*te-O-Y-V;r.left=Math.max(r.left,G),r.top=Math.max(r.top,L),r.right=Math.min(r.right,b),r.bottom=Math.min(r.bottom,K)}}),r}function Pt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function zt(e,t){var r=t||[],n=T(r,2),a=n[0],o=n[1];return[Pt(e.width,a),Pt(e.height,o)]}function xt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function rr(e,t){var r=t[0],n=t[1],a,o;return r==="t"?o=e.y:r==="b"?o=e.y+e.height:o=e.y+e.height/2,n==="l"?a=e.x:n==="r"?a=e.x+e.width:a=e.x+e.width/2,{x:a,y:o}}function xe(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,a){return a===t?r[n]||"c":n}).join("")}function Hn(e,t,r,n,a,o,u){var f=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),l=T(f,2),v=l[0],C=l[1],m=i.useRef(0),k=i.useMemo(function(){return t?ht(t):[]},[t]),h=i.useRef({}),R=function(){h.current={}};e||R();var S=_e(function(){if(t&&r&&e){let ee=function(Me,Fe){var Xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ue,er=E.x+Me,vr=E.y+Fe,dr=er+H,Ar=vr+q,nt=Math.max(er,Xe.left),at=Math.max(vr,Xe.top),it=Math.min(dr,Xe.right),ot=Math.min(Ar,Xe.bottom);return Math.max(0,(it-nt)*(ot-at))},Hr=function(){Se=E.y+x,ke=Se+q,Pe=E.x+W,Je=Pe+H};var _,g,c=t,A=c.ownerDocument,F=gr(c),V=F.getComputedStyle(c),O=V.width,Y=V.height,j=V.position,I=c.style.left,re=c.style.top,te=c.style.right,p=c.style.bottom,G=B(B({},a[n]),o),L=A.createElement("div");(_=c.parentElement)===null||_===void 0||_.appendChild(L),L.style.left="".concat(c.offsetLeft,"px"),L.style.top="".concat(c.offsetTop,"px"),L.style.position=j,L.style.height="".concat(c.offsetHeight,"px"),L.style.width="".concat(c.offsetWidth,"px"),c.style.left="0",c.style.top="0",c.style.right="auto",c.style.bottom="auto";var b;if(Array.isArray(r))b={x:r[0],y:r[1],width:0,height:0};else{var K=r.getBoundingClientRect();b={x:K.x,y:K.y,width:K.width,height:K.height}}var E=c.getBoundingClientRect(),J=A.documentElement,ar=J.clientWidth,ne=J.clientHeight,ir=J.scrollWidth,Oe=J.scrollHeight,le=J.scrollTop,je=J.scrollLeft,q=E.height,H=E.width,ae=b.height,fe=b.width,qe={left:0,top:0,right:ar,bottom:ne},Ie={left:-je,top:-le,right:ir-je,bottom:Oe-le},he=G.htmlRegion,Q="visible",Ge="visibleFirst";he!=="scroll"&&he!==Ge&&(he=Q);var ie=he===Ge,me=kt(Ie,k),w=kt(qe,k),Ue=he===Q?w:me,ge=ie?w:Ue;c.style.left="auto",c.style.top="auto",c.style.right="0",c.style.bottom="0";var ve=c.getBoundingClientRect();c.style.left=I,c.style.top=re,c.style.right=te,c.style.bottom=p,(g=c.parentElement)===null||g===void 0||g.removeChild(L);var Te=mr(Math.round(H/parseFloat(O)*1e3)/1e3),Le=mr(Math.round(q/parseFloat(Y)*1e3)/1e3);if(Te===0||Le===0||lt(r)&&!Kt(r))return;var jr=G.offset,yr=G.targetOffset,oe=zt(E,jr),br=T(oe,2),se=br[0],ue=br[1],wr=zt(b,yr),ce=T(wr,2),qr=ce[0],Cr=ce[1];b.x-=qr,b.y-=Cr;var Ir=G.points||[],We=T(Ir,2),X=We[0],Re=We[1],ye=xt(Re),Z=xt(X),Mr=rr(b,ye),_r=rr(E,Z),be=B({},G),W=Mr.x-_r.x+se,x=Mr.y-_r.y+ue,D=ee(W,x),pe=ee(W,x,w),Ee=rr(b,["t","l"]),or=rr(E,["t","l"]),sr=rr(b,["b","r"]),ur=rr(E,["b","r"]),U=G.overflow||{},Gr=U.adjustX,Rr=U.adjustY,Ke=U.shiftX,cr=U.shiftY,Er=function(Fe){return typeof Fe=="boolean"?Fe:Fe>=0},Se,ke,Pe,Je;Hr();var lr=Er(Rr),fr=Z[0]===ye[0];if(lr&&Z[0]==="t"&&(ke>ge.bottom||h.current.bt)){var Ne=x;fr?Ne-=q-ae:Ne=Ee.y-ur.y-ue;var He=ee(W,Ne),Ur=ee(W,Ne,w);He>D||He===D&&(!ie||Ur>=pe)?(h.current.bt=!0,x=Ne,ue=-ue,be.points=[xe(Z,0),xe(ye,0)]):h.current.bt=!1}if(lr&&Z[0]==="b"&&(Se<ge.top||h.current.tb)){var $=x;fr?$+=q-ae:$=sr.y-or.y-ue;var Sr=ee(W,$),pr=ee(W,$,w);Sr>D||Sr===D&&(!ie||pr>=pe)?(h.current.tb=!0,x=$,ue=-ue,be.points=[xe(Z,0),xe(ye,0)]):h.current.tb=!1}var kr=Er(Gr),Pr=Z[1]===ye[1];if(kr&&Z[1]==="l"&&(Je>ge.right||h.current.rl)){var Ae=W;Pr?Ae-=H-fe:Ae=Ee.x-ur.x-se;var zr=ee(Ae,x),Kr=ee(Ae,x,w);zr>D||zr===D&&(!ie||Kr>=pe)?(h.current.rl=!0,W=Ae,se=-se,be.points=[xe(Z,1),xe(ye,1)]):h.current.rl=!1}if(kr&&Z[1]==="r"&&(Pe<ge.left||h.current.lr)){var $e=W;Pr?$e+=H-fe:$e=sr.x-or.x-se;var xr=ee($e,x),Qe=ee($e,x,w);xr>D||xr===D&&(!ie||Qe>=pe)?(h.current.lr=!0,W=$e,se=-se,be.points=[xe(Z,1),xe(ye,1)]):h.current.lr=!1}Hr();var we=Ke===!0?0:Ke;typeof we=="number"&&(Pe<w.left&&(W-=Pe-w.left-se,b.x+fe<w.left+we&&(W+=b.x-w.left+fe-we)),Je>w.right&&(W-=Je-w.right-se,b.x>w.right-we&&(W+=b.x-w.right+we)));var Be=cr===!0?0:cr;typeof Be=="number"&&(Se<w.top&&(x-=Se-w.top-ue,b.y+ae<w.top+Be&&(x+=b.y-w.top+ae-Be)),ke>w.bottom&&(x-=ke-w.bottom-ue,b.y>w.bottom-Be&&(x+=b.y-w.bottom+Be)));var Ze=E.x+W,Ye=Ze+H,Ce=E.y+x,Dr=Ce+q,Ve=b.x,ze=Ve+fe,Tr=b.y,Jr=Tr+ae,Qr=Math.max(Ze,Ve),Lr=Math.min(Ye,ze),Zr=(Qr+Lr)/2,Yr=Zr-Ze,Xr=Math.max(Ce,Tr),Wr=Math.min(Dr,Jr),et=(Xr+Wr)/2,rt=et-Ce;u==null||u(t,be);var Nr=ve.right-E.x-(W+E.width),tt=ve.bottom-E.y-(x+E.height);C({ready:!0,offsetX:W/Te,offsetY:x/Le,offsetR:Nr/Te,offsetB:tt/Le,arrowX:Yr/Te,arrowY:rt/Le,scaleX:Te,scaleY:Le,align:be})}}),y=function(){m.current+=1;var g=m.current;Promise.resolve().then(function(){m.current===g&&S()})},M=function(){C(function(g){return B(B({},g),{},{ready:!1})})};return de(M,[n]),de(function(){e||M()},[e]),[v.ready,v.offsetX,v.offsetY,v.offsetR,v.offsetB,v.arrowX,v.arrowY,v.scaleX,v.scaleY,v.align,y]}function An(e,t,r,n,a){de(function(){if(e&&t&&r){let m=function(){n(),a()};var o=t,u=r,f=ht(o),l=ht(u),v=gr(u),C=new Set([v].concat(wt(f),wt(l)));return C.forEach(function(k){k.addEventListener("scroll",m,{passive:!0})}),v.addEventListener("resize",m,{passive:!0}),n(),function(){C.forEach(function(k){k.removeEventListener("scroll",m),v.removeEventListener("resize",m)})}}},[e,t,r])}function $n(e,t,r,n,a,o,u,f){var l=i.useRef(e),v=i.useRef(!1);l.current!==e&&(v.current=!0,l.current=e),i.useEffect(function(){var C=Mt(function(){v.current=!1});return function(){Mt.cancel(C)}},[e]),i.useEffect(function(){if(t&&n&&(!a||o)){var C=function(){var F=!1,V=function(j){var I=j.target;F=u(I)},O=function(j){var I=j.target;!v.current&&l.current&&!F&&!u(I)&&f(!1)};return[V,O]},m=C(),k=T(m,2),h=k[0],R=k[1],S=C(),y=T(S,2),M=y[0],_=y[1],g=gr(n);g.addEventListener("mousedown",h,!0),g.addEventListener("click",R,!0),g.addEventListener("contextmenu",R,!0);var c=ft(r);return c&&(c.addEventListener("mousedown",M,!0),c.addEventListener("click",_,!0),c.addEventListener("contextmenu",_,!0)),function(){g.removeEventListener("mousedown",h,!0),g.removeEventListener("click",R,!0),g.removeEventListener("contextmenu",R,!0),c&&(c.removeEventListener("mousedown",M,!0),c.removeEventListener("click",_,!0),c.removeEventListener("contextmenu",_,!0))}}},[t,r,n,a,o])}var Bn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Vn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wt,t=i.forwardRef(function(r,n){var a=r.prefixCls,o=a===void 0?"rc-trigger-popup":a,u=r.children,f=r.action,l=f===void 0?"hover":f,v=r.showAction,C=r.hideAction,m=r.popupVisible,k=r.defaultPopupVisible,h=r.onPopupVisibleChange,R=r.afterPopupVisibleChange,S=r.mouseEnterDelay,y=r.mouseLeaveDelay,M=y===void 0?.1:y,_=r.focusDelay,g=r.blurDelay,c=r.mask,A=r.maskClosable,F=A===void 0?!0:A,V=r.getPopupContainer,O=r.forceRender,Y=r.autoDestroy,j=r.destroyPopupOnHide,I=r.popup,re=r.popupClassName,te=r.popupStyle,p=r.popupPlacement,G=r.builtinPlacements,L=G===void 0?{}:G,b=r.popupAlign,K=r.zIndex,E=r.stretch,J=r.getPopupClassNameFromAlign,ar=r.fresh,ne=r.alignPoint,ir=r.onPopupClick,Oe=r.onPopupAlign,le=r.arrow,je=r.popupMotion,q=r.maskMotion,H=r.popupTransitionName,ae=r.popupAnimation,fe=r.maskTransitionName,qe=r.maskAnimation,Ie=r.className,he=r.getTriggerDOMNode,Q=Jt(r,Bn),Ge=Y||j||!1,ie=i.useState(!1),me=T(ie,2),w=me[0],Ue=me[1];de(function(){Ue(kn())},[]);var ge=i.useRef({}),ve=i.useContext(Rt),Te=i.useMemo(function(){return{registerSubPopup:function(d,P){ge.current[d]=P,ve==null||ve.registerSubPopup(d,P)}}},[ve]),Le=Qt(),jr=i.useState(null),yr=T(jr,2),oe=yr[0],br=yr[1],se=_e(function(s){lt(s)&&oe!==s&&br(s),ve==null||ve.registerSubPopup(Le,s)}),ue=i.useState(null),wr=T(ue,2),ce=wr[0],qr=wr[1],Cr=i.useRef(null),Ir=_e(function(s){lt(s)&&ce!==s&&(qr(s),Cr.current=s)}),We=i.Children.only(u),X=(We==null?void 0:We.props)||{},Re={},ye=_e(function(s){var d,P,N=ce;return(N==null?void 0:N.contains(s))||((d=ft(N))===null||d===void 0?void 0:d.host)===s||s===N||(oe==null?void 0:oe.contains(s))||((P=ft(oe))===null||P===void 0?void 0:P.host)===s||s===oe||Object.values(ge.current).some(function(z){return(z==null?void 0:z.contains(s))||s===z})}),Z=St(o,je,ae,H),Mr=St(o,q,qe,fe),_r=i.useState(k||!1),be=T(_r,2),W=be[0],x=be[1],D=m??W,pe=_e(function(s){m===void 0&&x(s)});de(function(){x(m||!1)},[m]);var Ee=i.useRef(D);Ee.current=D;var or=_e(function(s){Zt.flushSync(function(){D!==s&&(pe(s),h==null||h(s))})}),sr=i.useRef(),ur=function(){clearTimeout(sr.current)},U=function(d){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ur(),P===0?or(d):sr.current=setTimeout(function(){or(d)},P*1e3)};i.useEffect(function(){return ur},[]);var Gr=i.useState(!1),Rr=T(Gr,2),Ke=Rr[0],cr=Rr[1];de(function(s){(!s||D)&&cr(!0)},[D]);var Er=i.useState(null),Se=T(Er,2),ke=Se[0],Pe=Se[1],Je=i.useState([0,0]),lr=T(Je,2),fr=lr[0],Ne=lr[1],He=function(d){Ne([d.clientX,d.clientY])},Ur=Hn(D,oe,ne?fr:ce,p,L,b,Oe),$=T(Ur,11),Sr=$[0],pr=$[1],kr=$[2],Pr=$[3],Ae=$[4],zr=$[5],Kr=$[6],$e=$[7],xr=$[8],Qe=$[9],we=$[10],Be=Ln(w,l,v,C),Ze=T(Be,2),Ye=Ze[0],Ce=Ze[1],Dr=Ye.has("click"),Ve=Ce.has("click")||Ce.has("contextMenu"),ze=_e(function(){Ke||we()}),Tr=function(){Ee.current&&ne&&Ve&&U(!1)};An(D,ce,oe,ze,Tr),de(function(){ze()},[fr,p]),de(function(){D&&!(L!=null&&L[p])&&ze()},[JSON.stringify(b)]);var Jr=i.useMemo(function(){var s=Nn(L,o,Qe,ne);return tr(s,J==null?void 0:J(Qe))},[Qe,J,L,o,ne]);i.useImperativeHandle(n,function(){return{nativeElement:Cr.current,forceAlign:ze}});var Qr=i.useState(0),Lr=T(Qr,2),Zr=Lr[0],Yr=Lr[1],Xr=i.useState(0),Wr=T(Xr,2),et=Wr[0],rt=Wr[1],Nr=function(){if(E&&ce){var d=ce.getBoundingClientRect();Yr(d.width),rt(d.height)}},tt=function(){Nr(),ze()},ee=function(d){cr(!1),we(),R==null||R(d)},Hr=function(){return new Promise(function(d){Nr(),Pe(function(){return d})})};de(function(){ke&&(we(),ke(),Pe(null))},[ke]);function Me(s,d,P,N){Re[s]=function(z){var $r;N==null||N(z),U(d,P);for(var st=arguments.length,yt=new Array(st>1?st-1:0),Br=1;Br<st;Br++)yt[Br-1]=arguments[Br];($r=X[s])===null||$r===void 0||$r.call.apply($r,[X,z].concat(yt))}}(Dr||Ve)&&(Re.onClick=function(s){var d;Ee.current&&Ve?U(!1):!Ee.current&&Dr&&(He(s),U(!0));for(var P=arguments.length,N=new Array(P>1?P-1:0),z=1;z<P;z++)N[z-1]=arguments[z];(d=X.onClick)===null||d===void 0||d.call.apply(d,[X,s].concat(N))}),$n(D,Ve,ce,oe,c,F,ye,U);var Fe=Ye.has("hover"),Xe=Ce.has("hover"),er,vr;Fe&&(Me("onMouseEnter",!0,S,function(s){He(s)}),Me("onPointerEnter",!0,S,function(s){He(s)}),er=function(){(D||Ke)&&U(!0,S)},ne&&(Re.onMouseMove=function(s){var d;(d=X.onMouseMove)===null||d===void 0||d.call(X,s)})),Xe&&(Me("onMouseLeave",!1,M),Me("onPointerLeave",!1,M),vr=function(){U(!1,M)}),Ye.has("focus")&&Me("onFocus",!0,_),Ce.has("focus")&&Me("onBlur",!1,g),Ye.has("contextMenu")&&(Re.onContextMenu=function(s){var d;Ee.current&&Ce.has("contextMenu")?U(!1):(He(s),U(!0)),s.preventDefault();for(var P=arguments.length,N=new Array(P>1?P-1:0),z=1;z<P;z++)N[z-1]=arguments[z];(d=X.onContextMenu)===null||d===void 0||d.call.apply(d,[X,s].concat(N))}),Ie&&(Re.className=tr(X.className,Ie));var dr=B(B({},X),Re),Ar={},nt=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];nt.forEach(function(s){Q[s]&&(Ar[s]=function(){for(var d,P=arguments.length,N=new Array(P),z=0;z<P;z++)N[z]=arguments[z];(d=dr[s])===null||d===void 0||d.call.apply(d,[dr].concat(N)),Q[s].apply(Q,N)})});var at=i.cloneElement(We,B(B({},dr),Ar)),it={x:zr,y:Kr},ot=le?B({},le!==!0?le:{}):null;return i.createElement(i.Fragment,null,i.createElement(gt,{disabled:!D,ref:Ir,onResize:tt},i.createElement(Tn,{getTriggerDOMNode:he},at)),i.createElement(Rt.Provider,{value:Te},i.createElement(Dn,{portal:e,ref:se,prefixCls:o,popup:I,className:tr(re,Jr),style:te,target:ce,onMouseEnter:er,onMouseLeave:vr,onPointerEnter:er,zIndex:K,open:D,keepDom:Ke,fresh:ar,onClick:ir,mask:c,motion:Z,maskMotion:Mr,onVisibleChanged:ee,onPrepare:Hr,forceRender:O,autoDestroy:Ge,getPopupContainer:V,align:Qe,arrow:ot,arrowPos:it,ready:Sr,offsetX:pr,offsetY:kr,offsetR:Pr,offsetB:Ae,onAlign:ze,stretch:E,targetWidth:Zr/$e,targetHeight:et/xr})))});return t}const Un=Vn(Wt);export{gt as R,Un as T,kn as i,Gn as u};
//# sourceMappingURL=index-53e6b65f.js.map
